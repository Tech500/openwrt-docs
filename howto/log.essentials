<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>Basic Log Support [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="doc,howto,log.essentials"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="log.essentials?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=doc:howto"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/doc/howto/log.essentials"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/doc/howto/log.essentials"/>
<link rel="canonical" href="log.essentials"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='doc:howto';var JSINFO = {"id":"doc:howto:log.essentials","namespace":"doc:howto"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432269089 166.182.3.51';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="log.essentials#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="log.essentials?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="log.essentials?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="doc:howto:log.essentials" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="log.essentials?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="log.essentials?do=media&amp;ns=doc%253Ahowto"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="log.essentials?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="doc:start">Documentation</a></bdi> » <bdi><a href="start" class="wikilink1" title="doc:howto:start">HOWTOs</a></bdi> » <bdi><span class="curid"><a href="log.essentials" class="wikilink1" title="doc:howto:log.essentials">Basic Log Support</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/doc/howto/log.essentials" class="media" title="cz:doc:howto:log.essentials"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/doc/howto/log.essentials" class="media" title="de:doc:howto:log.essentials"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="log.essentials" class="media" title="doc:howto:log.essentials"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/doc/howto/log.essentials" class="media" title="es:doc:howto:log.essentials"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/doc/howto/log.essentials" class="media" title="fr:doc:howto:log.essentials"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/doc/howto/log.essentials" class="media" title="hu:doc:howto:log.essentials"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/doc/howto/log.essentials" class="media" title="jp:doc:howto:log.essentials"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/doc/howto/log.essentials" class="media" title="pl:doc:howto:log.essentials"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/doc/howto/log.essentials" class="media" title="pt-br:doc:howto:log.essentials"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/doc/howto/log.essentials" class="media" title="ru:doc:howto:log.essentials"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/doc/howto/log.essentials" class="media" title="tr:doc:howto:log.essentials"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/doc/howto/log.essentials" class="media" title="zh-cn:doc:howto:log.essentials"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/doc/howto/log.essentials" class="media" title="zh-tw:doc:howto:log.essentials"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>doc:howto:log.essentials</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="log.essentials#output">Output</a></div></li>
<li class="level1"><div class="li"><a href="log.essentials#aufbau_einer_syslog-meldung_max_1024_bytes">Aufbau einer Syslog-Meldung (max 1024 bytes)</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="log.essentials#the_header_byte">The Header (?? Byte)</a></div></li>
<li class="level2"><div class="li"><a href="log.essentials#the_priority_selektor_1_byte">The Priority Selektor (1 Byte)</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="log.essentials#facility_5_bits">Facility (5 Bits)</a></div></li>
<li class="level3"><div class="li"><a href="log.essentials#severity_3_bits">Severity (3 Bits)</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="log.essentials#message">MESSAGE</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="log.essentials#dropbear">dropbear</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="log.essentials#notes">Notes</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="basic_log_support">Basic Log Support</h1>
<div class="level1">

<p>
So far the vanilla firmwares offered on OpenWrt utilize the <code>busybox-syslogd</code>. Usually you can configure the syslog in <code>/etc/syslogd.conf</code> but this busybox ignores this. <a href="log.overview" class="wikilink1" title="doc:howto:log.overview">log.overview</a>
</p>
<div class="table sectionedit2"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 centeralign">  Name            </th><th class="col1 centeralign">   Size  </th><th class="col2 centeralign">  Description  </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> busybox klogd    </td><td class="col1 rightalign">  242620 </td><td class="col2 leftalign"> Kernel logger   </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> busybox syslogd  </td><td class="col1 rightalign">  242620 </td><td class="col2 leftalign"> System logging utility  </td>
	</tr>
</table></div>

<p>
<pre class="code"> klogd
           klogd [-c n] [-n]

           Kernel logger.  Options:

                   -c n    Sets the default log level of console messages to n
                   -n      Run as a foreground process</pre>

</p>

<p>
<pre class="code">syslogd
    syslogd [OPTIONS]
    System logging utility. Note that this version of syslogd ignores /etc/syslog.conf.
    Options:
            -n              Run in foreground
            -O FILE         Log to given file (default:/var/log/messages)
            -l n            Set local log level
            -S              Smaller logging output
            -s SIZE         Max size (KB) before rotate (default:200KB, 0=off)
            -b NUM          Number of rotated logs to keep (default:1, max=99, 0=purge)
            -R HOST[:PORT]  Log to IP or hostname on PORT (default PORT=514/UDP)
            -L              Log locally and via network (default is network only if -R)
            -D              Drop duplicates
            -C[size(KiB)]   Log to shared mem buffer (read it using logread)</pre>

</p>

<p>
The &quot;shared mem buffer&quot; or ringbuffer is not a file on a tmpfs partition but just data in RAM. To read it, you have to use <code>logread</code>.
you probably have syslogd running <code>ps aux | grep syslog</code>:
</p>

<p>
<code>  381 root      1356 S    syslogd -C16</code>
</p>

<p>
16KB is a busybox default value. To change it, set <code>log_size</code> option in <code>/etc/config/system</code> (remember that the number must be in KB, <strong>not</strong> bytes). The buffer size must be at least 4KB, otherwise <code>syslogd</code> fails to start.
</p>

<p>
Who logs? The syslogd acts as the server and any program can act as the client and send log messages to it. For example <code>logger</code> can be used to manually write messages to the system log. Some scripts in <code>/etc/init.d/</code> actually use this.
</p>

<p>
Any program can act as the client and the syslogd acts as the server. Communication is prone to the <em>syslog communications protocol</em>.
</p>

</div>

<h2 class="sectionedit3" id="output">Output</h2>
<div class="level2">

<p>
Syslogd writes the log messages it receives into a file or into the RAM ringbuffer (option <code>-C</code>). The file is a file, it can be accessed with <code>cat</code>, <code>less</code>, <code>vi</code>, etc. The data in the RAM ringbuffer should be accessed with <code>logread</code>. You can of course use pipes, like <code>logread -f | nc 192.168.1.1 514</code> or <code>logread -f » /mnt/share/logfile</code> (reasonable on non-flash media, see <a href="usb.storage" class="wikilink1" title="doc:howto:usb.storage">usb.storage</a> or <a href="nfs.client" class="wikilink1" title="doc:howto:nfs.client">nfs.client</a>) or pretty much whatever you want.
</p>

<p>
A log entry is maximal 1024 Bytes long and looks like this:
</p>
<div class="table sectionedit4"><table class="inline">
	<tr class="row0">
		<td class="col0"><pre class="code">Feb 28 23:12:57 router user.notice kernel: the barmaid is the most beautiful woman in earth 
Month Day Time hostname facility.severity MESSAGE</pre>
</td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit5" id="aufbau_einer_syslog-meldung_max_1024_bytes">Aufbau einer Syslog-Meldung (max 1024 bytes)</h2>
<div class="level2">

</div>

<h3 class="sectionedit6" id="the_header_byte">The Header (?? Byte)</h3>
<div class="level3">

<p>
The header contains a <a href="http://en.wikipedia.org/wiki/timestamp" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/timestamp">timestamp</a> and a hostname (max 64 Byte) or an ip address.
</p>

<p>
The timestamp is set by the receiver of the log-message, the syslogd, not by the sender (for example <code>logger</code>) and marks the <em>Empfangszeitpunkt</em>.
The hostname or the ip address belong to the sender of the message.
</p>

</div>

<h3 class="sectionedit7" id="the_priority_selektor_1_byte">The Priority Selektor (1 Byte)</h3>
<div class="level3">

</div>

<h4 id="facility_5_bits">Facility (5 Bits)</h4>
<div class="level4">

<p>
The first 24 values are predefined in <a href="http://tools.ietf.org/html/rfc3164" class="urlextern" title="http://tools.ietf.org/html/rfc3164"  rel="nofollow">RFC3164</a>:
</p>
<div class="table sectionedit8"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0" colspan="2"> Priority </th><th class="col2 leftalign"> Meaning  </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> 0   </td><td class="col1 leftalign"> kernel messages  </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> 1   </td><td class="col1 leftalign"> user-level messages  </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> 2   </td><td class="col1 leftalign"> mail system  </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> 3   </td><td class="col1 leftalign"> system daemons  </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> 4   </td><td class="col1 leftalign"> security/authorization messages  </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> 5   </td><td class="col1 leftalign"> messages generated internally by syslogd  </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> 6   </td><td class="col1 leftalign"> line printer subsystem  </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> 7   </td><td class="col1 leftalign"> network news subsystem  </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> 8   </td><td class="col1 leftalign"> UUCP subsystem  </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign"> 9   </td><td class="col1 leftalign"> clock daemon  </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row11">
		<td class="col0 leftalign"> 10  </td><td class="col1 leftalign"> security/authorization messages  </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row12">
		<td class="col0 leftalign"> 11  </td><td class="col1 leftalign"> <abbr title="File Transfer Protocol">FTP</abbr> daemon  </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row13">
		<td class="col0 leftalign"> 12  </td><td class="col1 leftalign"> NTP subsystem  </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row14">
		<td class="col0 leftalign"> 13  </td><td class="col1 leftalign"> log audit  </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row15">
		<td class="col0 leftalign"> 14  </td><td class="col1 leftalign"> log alert  </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row16">
		<td class="col0 leftalign"> 15  </td><td class="col1 leftalign"> clock daemon  </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row17">
		<td class="col0 leftalign"> 16  </td><td class="col1 leftalign"> local0  </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row18">
		<td class="col0 leftalign"> 17  </td><td class="col1 leftalign"> local1  </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row19">
		<td class="col0 leftalign"> 18  </td><td class="col1 leftalign"> local2  </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row20">
		<td class="col0 leftalign"> 19  </td><td class="col1 leftalign"> local3  </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row21">
		<td class="col0 leftalign"> 20  </td><td class="col1 leftalign"> local4  </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row22">
		<td class="col0 leftalign"> 21  </td><td class="col1 leftalign"> local5  </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row23">
		<td class="col0 leftalign"> 22  </td><td class="col1 leftalign"> local6  </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row24">
		<td class="col0 leftalign"> 23  </td><td class="col1 leftalign"> local7  </td><td class="col2 leftalign">  </td>
	</tr>
</table></div>

<p>
The remaining 6 may be used to your liking.
</p>

</div>

<h4 id="severity_3_bits">Severity (3 Bits)</h4>
<div class="level4">
<div class="table sectionedit9"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0" colspan="2"> Priority </th><th class="col2 leftalign"> Meaning  </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> 0  </td><td class="col1 leftalign"> Emergency     </td><td class="col2 leftalign">    </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> 1  </td><td class="col1 leftalign"> Alert         </td><td class="col2 leftalign">    </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> 2  </td><td class="col1 leftalign"> Critical      </td><td class="col2 leftalign">    </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> 3  </td><td class="col1 leftalign"> Error         </td><td class="col2 leftalign">    </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> 4  </td><td class="col1 leftalign"> Warning       </td><td class="col2 leftalign">    </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> 5  </td><td class="col1 leftalign"> Notice        </td><td class="col2 leftalign">    </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> 6  </td><td class="col1"> Informational </td><td class="col2 leftalign">    </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> 7  </td><td class="col1 leftalign"> Debug         </td><td class="col2 leftalign"> Such messages are usually not written to the log, turn them on   </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit10" id="message">MESSAGE</h3>
<div class="level3">

<p>
Let&#039;s have a look at the MESSAGES different program produces: on OpenWrt they all start with the name of the program that send the message plus his PID.
</p>

<p>
<a href="log.messages" class="wikilink1" title="doc:howto:log.messages">log.messages</a>
</p>

</div>

<h4 id="dropbear">dropbear</h4>
<div class="level4">

<p>
<pre class="code">Feb  4 21:45:43 openwrt user.info dropbear[9815]: Child connection from 192.168.1.1:46247
Feb  4 21:45:43 openwrt user.notice dropbear[9815]: password auth succeeded for &#039;username&#039; from 192.168.1.1:46247
Feb  5 00:03:34 openwrt user.info dropbear[9815]: exit after auth (username): Exited normally
Feb  5 03:13:39 openwrt user.warn dropbear[10221]: bad password attempt for &#039;root&#039; from 192.168.1.1:51570
Feb  5 03:13:40 openwrt user.warn dropbear[10221]: bad password attempt for &#039;root&#039; from 192.168.1.1:51570
Feb  5 03:13:42 openwrt user.warn dropbear[10221]: bad password attempt for &#039;root&#039; from 192.168.1.1:51570
Feb  5 03:13:43 openwrt user.warn dropbear[10221]: bad password attempt for &#039;root&#039; from 192.168.1.1:51570
Feb  5 03:13:45 openwrt user.warn dropbear[10221]: bad password attempt for &#039;root&#039; from 192.168.1.1:51570
Feb  5 03:13:48 openwrt user.info dropbear[10221]: exit before auth (user &#039;root&#039;, 5 fails): Disconnect received</pre>

</p>
<ul>
<li class="level1"><div class="li"> dropbear[PID]: dropbear with the PID 999 is running all the time. This instance (PID=9815) has been spawn for this ssh session.</div>
</li>
<li class="level1"><div class="li"> password auth succeeded for &#039;username&#039; from 192.168.1.1:46247: \\this is going to spawn an ash instance with the PID 9687</div>
</li>
</ul>

<p>
As you see, it is possible to try many many passwords. You can put an end to this by configuring dropbear or with netfilter.
You can (and should) read your logs regularly, but of course you can also initiate thing with logs.
</p>
<ul>
<li class="level1"><div class="li"> When you debug, you should create a lot of logs.</div>
</li>
<li class="level1"><div class="li"> During normal service, you should create logs </div>
<ul>
<li class="level2"><div class="li"> to WARN you  <em>read them regularly</em></div>
</li>
<li class="level2"><div class="li"> LOGs in order to be able to reconstruct things. <em>read them when need it</em></div>
</li>
</ul>
</li>
</ul>

<p>
Yes, when you have any service running 24/7, you are responsible for it. &quot;I didn&#039;t know&quot; doesn&#039;t really count in court. It is your responsibility to keep yourself informed!
</p>

</div>

<h2 class="sectionedit11" id="notes">Notes</h2>
<div class="level2">

<p>
In the Debian repositories you will find
</p>
<ul>
<li class="level1"><div class="li"> <code>busybox</code></div>
</li>
<li class="level1"><div class="li"> <code>sys<strong>k</strong>logd</code> instead of now obsolete syslogd and klogd</div>
</li>
<li class="level1"><div class="li"> <code>rsyslog</code></div>
</li>
<li class="level1"><div class="li"> <code>syslogd-ng</code></div>
</li>
</ul>

<p>
<a href="log.overview" class="wikilink1" title="doc:howto:log.overview">log.overview</a>
</p>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>doc/howto/log.essentials.txt</bdi> · Last modified: 2014/01/22 10:53 by <bdi>libra</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="log.essentials?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="log.essentials?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="log.essentials?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="log.essentials#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=doc%253Ahowto%253Alog.essentials&amp;1432269089" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
