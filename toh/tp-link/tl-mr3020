<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>TP-Link TL-MR3020 [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="2011dec,fastethernet,1nic,1wnic,no switch,1ant,usb2.0,1usb,serial,integrated,802.11bgn,ar9331,ath9k,32ram,4flash,mips,mips32,24kc,ar7241,ap121,portable router"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="tl-mr3020?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:tp-link"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/tp-link/tl-mr3020"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/tp-link/tl-mr3020"/>
<link rel="canonical" href="tl-mr3020"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:tp-link';var JSINFO = {"id":"toh:tp-link:tl-mr3020","namespace":"toh:tp-link"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432268147 166.182.3.13';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="tl-mr3020#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="tl-mr3020?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="tl-mr3020?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:tp-link:tl-mr3020" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="tl-mr3020?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="tl-mr3020?do=media&amp;ns=toh%253Atp-link"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="tl-mr3020?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:tp-link:start">TP-Link</a></bdi> » <bdi><span class="curid"><a href="tl-mr3020" class="wikilink1" title="toh:tp-link:tl-mr3020">TP-Link TL-MR3020</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/tp-link/tl-mr3020" class="media" title="cz:toh:tp-link:tl-mr3020"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/tp-link/tl-mr3020" class="media" title="de:toh:tp-link:tl-mr3020"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="tl-mr3020" class="media" title="toh:tp-link:tl-mr3020"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/tp-link/tl-mr3020" class="media" title="es:toh:tp-link:tl-mr3020"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/tp-link/tl-mr3020" class="media" title="fr:toh:tp-link:tl-mr3020"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/tp-link/tl-mr3020" class="media" title="hu:toh:tp-link:tl-mr3020"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/tp-link/tl-mr3020" class="media" title="jp:toh:tp-link:tl-mr3020"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/tp-link/tl-mr3020" class="media" title="pl:toh:tp-link:tl-mr3020"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/tp-link/tl-mr3020" class="media" title="pt-br:toh:tp-link:tl-mr3020"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <a href="../../ru/toh/tp-link/tl-mr3020" class="media" title="ru:toh:tp-link:tl-mr3020"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/tp-link/tl-mr3020" class="media" title="tr:toh:tp-link:tl-mr3020"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/tp-link/tl-mr3020" class="media" title="zh-cn:toh:tp-link:tl-mr3020"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/tp-link/tl-mr3020" class="media" title="zh-tw:toh:tp-link:tl-mr3020"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:tp-link:tl-mr3020</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="tl-mr3020#supported_versions">Supported Versions</a></div></li>
<li class="level1"><div class="li"><a href="tl-mr3020#features">Features</a></div>
<ul class="toc">
<li class="clear">
<ul class="toc">
<li class="level3"><div class="li"><a href="tl-mr3020#power_consumption">Power consumption</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-mr3020#installation">Installation</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-mr3020#method_using_web_gui_recommended">Method Using Web GUI (Recommended)</a></div></li>
<li class="level2"><div class="li"><a href="tl-mr3020#manual_method_using_serial_console_and_tftp_experts">Manual Method Using Serial Console and TFTP (Experts)</a></div></li>
<li class="level2"><div class="li"><a href="tl-mr3020#oem_mass_flashing">OEM Mass Flashing</a></div></li>
<li class="level2"><div class="li"><a href="tl-mr3020#install_snapshot_image">Install Snapshot Image</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-mr3020#failsafe_mode">Failsafe Mode</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-mr3020#downgrade_attitute_adjustment_from_trunk">Downgrade Attitute Adjustment from Trunk</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-mr3020#restoring_original_firmware">Restoring Original Firmware</a></div></li>
<li class="level1"><div class="li"><a href="tl-mr3020#basic_configuration">Basic Configuration</a></div></li>
<li class="level1"><div class="li"><a href="tl-mr3020#original_flash_layout">Original Flash Layout</a></div></li>
<li class="level1"><div class="li"><a href="tl-mr3020#hardware">Hardware</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-mr3020#opening_the_case">Opening the Case</a></div></li>
<li class="level2"><div class="li"><a href="tl-mr3020#internal_pictures">Internal Pictures</a></div></li>
<li class="level2"><div class="li"><a href="tl-mr3020#hardware_summary">Hardware summary</a></div></li>
<li class="level2"><div class="li"><a href="tl-mr3020#serial_console">Serial Console</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="tl-mr3020#u-boot_bootloader_console">U-Boot Bootloader Console</a></div></li>
<li class="level3"><div class="li"><a href="tl-mr3020#linux_console">Linux Console</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="tl-mr3020#gpios">GPIOs</a></div></li>
<li class="level2"><div class="li"><a href="tl-mr3020#leds">LEDs</a></div></li>
<li class="level2"><div class="li"><a href="tl-mr3020#buttons">Buttons</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-mr3020#bootloader_mods">Bootloader Mods</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-mr3020#u-boot_114_modification_for_routers">U-Boot 1.1.4 modification for routers</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-mr3020#hardware_hacks">Hardware Hacks</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-mr3020#external_antenna_hack">External Antenna Hack</a></div></li>
<li class="level2"><div class="li"><a href="tl-mr3020#adding_i2c_bus">Adding I2C Bus</a></div></li>
<li class="level2"><div class="li"><a href="tl-mr3020#usb_hub_hack">USB Hub Hack</a></div></li>
<li class="level2"><div class="li"><a href="tl-mr3020#gpio_pinout">GPIO Pinout</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-mr3020#usb_port_and_monitoring_serial_console_via_usb-serial">USB port and monitoring Serial Console via USB-Serial</a></div></li>
<li class="level1"><div class="li"><a href="tl-mr3020#boot_log">Boot log</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-mr3020#factory_boot_log">Factory Boot Log</a></div></li>
<li class="level2"><div class="li"><a href="tl-mr3020#openwrt_boot_log_and_info">OpenWrt Boot Log and Info</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-mr3020#link_dump">Link Dump</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-mr3020#relevant_forum_links">Relevant Forum Links</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-mr3020#custom_openwrt_image_with_luci_integrated">Custom OpenWrt image with LuCi integrated</a></div></li>
<li class="level1"><div class="li"><a href="tl-mr3020#technical_data">Technical data</a></div></li>
<li class="level1"><div class="li"><a href="tl-mr3020#tags">Tags</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="tp-link_tl-mr3020">TP-Link TL-MR3020</h1>
<div class="level1">

<p>
See also <a href="tl-mr3040" class="wikilink1" title="toh:tp-link:tl-mr3040">TL-MR3040</a> and <a href="tl-wr703n" class="wikilink1" title="toh:tp-link:tl-wr703n">TL-WR703N</a> or <a href="tl-mr10u" class="wikilink1" title="toh:tp-link:tl-mr10u">TP-Link TL-MR10U</a>, <a href="tl-mr11u" class="wikilink1" title="toh:tp-link:tl-mr11u">TP-Link TL-MR11U</a>, <a href="tl-mr12u" class="wikilink1" title="toh:tp-link:tl-mr12u">TP-Link TL-MR12U</a> and <a href="tl-mr13u" class="wikilink1" title="toh:tp-link:tl-mr13u">TP-Link TL-MR13U</a><br/>
<strong><code>Note:</code></strong> Many of these routers are marketed as a <em>&quot;3G travel router&quot;</em> but  <strong>none actually include a 3G modem</strong> - the marketing term rather means that the OEM firmware supports a certain range of 3G/4G modems to be externally connected to USB because it contains drivers for those USB modems! Ignore that, because with OpenWrt ANY router with USB supports 3G/4G hardware … <img src="../../lib/images/smileys/icon_wink.gif" class="icon" alt=";-)" />
</p>

<p>
<a href="../../_detail/media/toh/tp-link/tl-mr3020/tl-mr3020-02.jpg?id=toh%253Atp-link%253Atl-mr3020" class="media" title="media:toh:tp-link:tl-mr3020:tl-mr3020-02.jpg"><img src="../../_media/media/toh/tp-link/tl-mr3020/tl-mr3020-02.jpg?w=400&amp;tok=544e4f" class="media" title="TP-Link TL-MR3020" alt="TP-Link TL-MR3020" width="400" /></a>
</p>

<p>
The router is powered through a mini-USB socket stub (5V) and comes with a USB power adapter.
</p>

</div>

<h2 class="sectionedit2" id="supported_versions">Supported Versions</h2>
<div class="level2">
<div class="table sectionedit3"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Model Version </th><th class="col1"> Launch Date </th><th class="col2"> OpenWrt Version Supported </th><th class="col3"> Model Specific Notes </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> v1.0 </td><td class="col1"> 2011-12 </td><td class="col2"> Trunk (<a href="https://dev.openwrt.org/changeset/29651" class="urlextern" title="https://dev.openwrt.org/changeset/29651"  rel="nofollow">r29651</a>) </td><td class="col3"> AR9331 chipset </td>
	</tr>
	<tr class="row2">
		<td class="col0"> v1.4 </td><td class="col1"> 2012-01 </td><td class="col2"> Trunk  (<a href="https://dev.openwrt.org/changeset/29763" class="urlextern" title="https://dev.openwrt.org/changeset/29763"  rel="nofollow">r29763</a>, probably earlier) </td><td class="col3"> AR9331 chipset </td>
	</tr>
	<tr class="row3">
		<td class="col0"> v1.6 </td><td class="col1"> 2012-03 </td><td class="col2"> Trunk  (<a href="https://dev.openwrt.org/changeset/30753" class="urlextern" title="https://dev.openwrt.org/changeset/30753"  rel="nofollow">r30753</a>, probably earlier) </td><td class="col3"> AR9331 chipset </td>
	</tr>
	<tr class="row4">
		<td class="col0"> v1.7 </td><td class="col1"> 2012-05 </td><td class="col2"> 12.09-RC1, Trunk  (<a href="https://dev.openwrt.org/changeset/32786" class="urlextern" title="https://dev.openwrt.org/changeset/32786"  rel="nofollow">r32786</a>) </td><td class="col3"> AR9331 chipset </td>
	</tr>
	<tr class="row5">
		<td class="col0"> v1.8 </td><td class="col1 leftalign"> ??      </td><td class="col2"> 12.09-RC1 (tested), Trunk (tested) </td><td class="col3"> AR9331-AL1A; internal serial port has no pins, only solder-pads (P1 clearly visible) </td>
	</tr>
	<tr class="row6">
		<td class="col0"> v1.9 </td><td class="col1 leftalign"> ??      </td><td class="col2 leftalign"> 12.09 (tested)      </td><td class="col3"> AR9331-AL3A </td>
	</tr>
</table></div>

<p>
The current release
OEM source code available at: <a href="http://www.tp-link.com/resources/gpl/150Router.rar" class="urlextern" title="http://www.tp-link.com/resources/gpl/150Router.rar"  rel="nofollow">http://www.tp-link.com/resources/gpl/150Router.rar</a>
</p>

</div>

<h2 class="sectionedit4" id="features">Features</h2>
<div class="level2">
<div class="table sectionedit5"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> CPU </th><th class="col1"> Ram </th><th class="col2"> Flash </th><th class="col3"> Network </th><th class="col4"> USB </th><th class="col5"> Serial </th><th class="col6"> JTag </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Atheros AR7240@400MHz </td><td class="col1"> 32MiB </td><td class="col2"> 4MiB </td><td class="col3"> 1 x 100MBit </td><td class="col4"> 1 x 2.0 </td><td class="col5"> Yes </td><td class="col6"> No </td>
	</tr>
</table></div>
<ul>
<li class="level1"><div class="li"> SoC: Atheros AR9330 rev 1</div>
</li>
<li class="level1"><div class="li"> 802.11 b/g/n 150 Mbps</div>
</li>
<li class="level1"><div class="li"> Powered via USB B-Mini (5 Volts)</div>
</li>
<li class="level1"><div class="li"> Tiny form factor</div>
<ul>
<li class="level2"><div class="li"> 5.7 cm x 5.7 cm PCB </div>
</li>
<li class="level2"><div class="li"> 6.7 cm x 7.4 cm x 2.2 cm case </div>
</li>
</ul>
</li>
</ul>

</div>

<h4 id="power_consumption">Power consumption</h4>
<div class="level4">

<p>
Input voltage: The router will function correctly when powered with voltages as low as 3.3 Volts (determined experimentally) instead of 5V USB-Power. Thus, it can be powered directly from one single Li-Ion battery (which usually starts fully charged at 4.2V and has a nominal voltage of 3.7) without the need for an external 5V adapter.
</p>

<p>
This router is standardly powered via USB at 5V. The voltage regulators&#039; input voltage should be at least between 3.7V - 5.5V, but not over 5.5V. The device will get damaged at too high voltages*. Maximum current draw at 5V is 255mA (Active Download + <abbr title="Local Area Network">LAN</abbr> + WLAN + USBboot), average current draw with WiFi is 125mA, idle is 68mA. Hence the average router power consumption is 0.6W, which is incredibly low.
</p>

<p>
Power consumption will be higher if a USB device is attached to its USB port! 
More information and a rough diagram here <a href="https://apollo.open-resource.org/lab:argus" class="urlextern" title="https://apollo.open-resource.org/lab:argus"  rel="nofollow">Interesting webpage with more data about power consumption and so on</a>
</p>

</div>

<h2 class="sectionedit6" id="installation">Installation</h2>
<div class="level2">

<p>
TL-MR3020 is supported from Attitude Adjustment onwards.
</p>
<ul>
<li class="level1"><div class="li"> Download the latest Barrier Breaker factory image from <a href="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-tl-mr3020-v1-squashfs-factory.bin" class="urlextern" title="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-tl-mr3020-v1-squashfs-factory.bin"  rel="nofollow">here</a> (recommended)</div>
</li>
<li class="level1"><div class="li"> Download the latest Attitude Adjustment factory image from <a href="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-mr3020-v1-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-mr3020-v1-squashfs-factory.bin"  rel="nofollow">here</a></div>
</li>
<li class="level1"><div class="li"> Download the lastest trunk snapshot <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-mr3020-v1-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-mr3020-v1-squashfs-factory.bin"  rel="nofollow">here</a> (risky)</div>
</li>
</ul>

<p>
<img src="../../_media/meta/icons/tango/48px-dialog-warning.svg.png" class="media" alt="" /> <strong>WARNING</strong>: Snapshot images are always risky. Check the forum discussion for latest opinions on available images.
</p>

</div>

<h3 class="sectionedit7" id="method_using_web_gui_recommended">Method Using Web GUI (Recommended)</h3>
<div class="level3">

<p>
Connect to the TL-MR3020 router via Ethernet cable at IP address <strong>192.168.0.254</strong>, log in to the router&#039;s web <abbr title="Graphical User Interface">GUI</abbr> (default login/password: <strong>admin</strong> / <strong>admin</strong>) and overwrite the factory firmware by installing the <strong>openwrt-ar71xx-generic-tl-mr3020-v1-squashfs-factory.bin</strong> firmware image like a regular firmware update.
</p>

<p>
Wait for the progress bar to finish twice (the device will reset itself in the process), and <span class="curid"><a href="tl-mr3020#basic_configuration" class="wikilink1" title="toh:tp-link:tl-mr3020">proceed with basic configuration</a></span> as with any fresh OpenWRT install.
</p>

<p>
Web <abbr title="Graphical User Interface">GUI</abbr> upload has been confirmed to work with v1.0, v1.4, v1.6, v1.7, v1.8 and 1.9 hardware revisions and requires no serial access unless something goes wrong.
</p>

<p>
See <a href="https://forum.openwrt.org/viewtopic.php?pid=154203#p154203" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=154203#p154203"  rel="nofollow">forum</a> if you encounter problems.
</p>

</div>

<h3 class="sectionedit8" id="manual_method_using_serial_console_and_tftp_experts">Manual Method Using Serial Console and TFTP (Experts)</h3>
<div class="level3">

<p>
To install OpenWrt from the U-Boot console, you need to install a TFTP server on your computer (<strong>tftp-hpa</strong> is recommended).
</p>

<p>
Then download OpenWrt factory image to /srv/tftp (for example), and execute the TFTP server by typing <strong>tftpd -l -s /srv/tftp</strong>.
</p>

<p>
Connect the TL-MR3020 using a serial console and power up the TL-MR3020.
</p>

<p>
After a 1-2 seconds it shows <strong>Autobooting in 1 seconds</strong>, when displaying this enter <strong>tpl</strong> immediately.
</p>

<p>
<pre class="code">Using default environment

In:    serial
Out:   serial
Err:   serial
Net:   ag7240_enet_initialize...
No valid address in Flash. Using fixed address
No valid address in Flash. Using fixed address
: cfg1 0x5 cfg2 0x7114
eth0: 00:03:7f:09:0b:ad
ag7240_phy_setup
eth0 up
: cfg1 0xf cfg2 0x7214
eth1: 00:03:7f:09:0b:ad
athrs26_reg_init_lan
ATHRS26: resetting s26
ATHRS26: s26 reset done
ag7240_phy_setup
eth1 up
eth0, eth1
Autobooting in 1 seconds
[type tpl here]</pre>

</p>

<p>
You will get a U-Boot-console, it shows as <strong>hornet&gt;</strong>, and you must enter the following commands:
</p>

<p>
<pre class="code">hornet&gt; setenv ipaddr &lt;device-ip, eg. 192.168.1.111&gt;
hornet&gt; setenv serverip &lt;server-ip, eg. 192.168.1.100&gt;
hornet&gt; tftpboot 0x80000000 openwrt-ar71xx-generic-tl-mr3020-v1-squashfs-factory.bin
eth1 link down
dup 1 speed 100
Using eth0 device
TFTP from server 192.168.1.100; our IP address is 192.168.1.111
Filename &#039;openwrt-ar71xx-generic-tl-mr3020-v1-squashfs-factory.bin&#039;.
Load address: 0x80000000
Loading: #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         ######################################################
done
Bytes transferred = 3932160 (3c0000 hex)
hornet&gt; erase 0x9f020000 +0x3c0000

First 0x2 last 0x3d sector size 0x10000                                                                                                        61
Erased 60 sectors
hornet&gt; cp.b 0x80000000 0x9f020000 0x3c0000
Copy to Flash... write addr: 9f020000

done
hornet&gt; bootm 9f020000</pre>

</p>

</div>

<h3 class="sectionedit9" id="oem_mass_flashing">OEM Mass Flashing</h3>
<div class="level3">

<p>
Flashing hundreds of devices using the web interface can be a real pain. You can use this shell script to automate it:
<pre class="code">#!/bin/bash

# Pass the firmware file to be flashed as the first parameter.
#
# The second curl call will time out, but it&#039;s expected. Once the
# script exits you can unplug the ethernet cable and proceed to the
# next router, but KEEP each router ON POWER until the new image is
# fully written! When flashing is done the router automatically
# reboots (as shown by all the leds flashing once).

curl \
  --user admin:admin \
  --user-agent &#039;Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:12.0) Gecko/20100101 Firefox/12.0&#039; \
  --referer &#039;http://192.168.0.254/userRpm/SoftwareUpgradeRpm.htm&#039; \
  --form &quot;Filename=@$1&quot; -F &#039;Upgrade=Upgrade&#039; \
  http://192.168.0.254/incoming/Firmware.htm  &gt; ans.html
# &gt; /dev/null

sleep 1

session_id=$(sed -n &#039;s/var session_id = \&quot;\(.*\)\&quot;.*/\1/p&#039; ans.html)

curl \
  --max-time 2 \
  --user admin:admin \
  --user-agent &#039;Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:12.0) Gecko/20100101 Firefox/12.0&#039; \
  --referer &#039;http://192.168.0.254/incoming/Firmware.htm&#039; \
  http://192.168.0.254/userRpm/FirmwareUpdateTemp.htm?session_id=$session_id  &gt;  /dev/null</pre>

</p>

</div>

<h3 class="sectionedit10" id="install_snapshot_image">Install Snapshot Image</h3>
<div class="level3">

<p>
If you install openwrt from trunk, the firmware image doesn&#039;t include LuCi. You need configure wireless network from telnet to install Luci. You will need already working internet access.
</p>

<p>
For this example:
</p>

<p>
Main router:
</p>
<pre class="code">Ip:         &#039;192.168.2.1&#039;
Ssid:       &#039;Example-network&#039;
Bssid:      &#039;11:11:11:11:11:11&#039;
Encryption: &#039;WPA2 - PSK&#039;
Key:        &#039;PaSSworD&#039;
Channel:    &#039;9&#039;</pre>

<p>
( You need fill these by your network properities )
</p>

<p>
Terminal program:
</p>
<pre class="code">Putty</pre>

<p>
After install trunk image wait few minutes then recycle power router and set your computer ip address to:
</p>

<p>
<pre class="code">ip:      192.168.1.2
subnet:  255.255.255.0
gateway: 192.168.1.1</pre>

</p>

<p>
Start your terminal and connect 192.168.1.1 via telnet ( port 23 ). Right now <abbr title="Local Area Network">LAN</abbr> INTERFACE include wireless too. We need to set wireless to WAN interface. Change wireless configuration below example.
</p>

<p>
<pre class="code">vi /etc/config/wireless

config wifi-device  radio0
        option type     mac80211
        option channel  9
        option hwmode   11ng
        option path     &#039;platform/ar933x_wmac&#039;
        option htmode   HT20
        list ht_capab   SHORT-GI-20
        list ht_capab   SHORT-GI-40
        list ht_capab   RX-STBC1
        list ht_capab   DSSS_CCK-40
        option disabled 0
        option txpower 27

config wifi-iface
        option device      radio0
        option network     wan
        option mode        sta
        option ssid        Example-network
        option encryption  psk2
        option bssid       11:11:11:11:11:11
        option key         PaSSworD</pre>

</p>

<p>
Wireless setup completed now we need to get ip WAN interface via main router dhcp server. Set your network config like below example.
</p>

<p>
<pre class="code">vi /etc/config/network

config interface &#039;loopback&#039;
        option ifname &#039;lo&#039;
        option proto &#039;static&#039;
        option ipaddr &#039;127.0.0.1&#039;
        option netmask &#039;255.0.0.0&#039;

config globals &#039;globals&#039;
        option ula_prefix &#039;fd48:931d:0f42::/48&#039;

config interface &#039;lan&#039;
        option ifname &#039;eth0&#039;
        option type &#039;bridge&#039;
        option proto &#039;static&#039;
        option ipaddr &#039;192.168.1.1&#039;
        option netmask &#039;255.255.255.0&#039;
        option ip6assign &#039;60&#039;

config interface &#039;wan&#039;
        option proto    &#039;dhcp&#039;
        option _orig_ifname radio0
        option _orig_bridge false</pre>

</p>

<p>
Reboot your router
</p>

<p>
<pre class="code">reboot</pre>

</p>

<p>
Your terminal session will be closed. You need reconnect to router.
</p>

<p>
Test your router: If your router is properly connected to the internet you should get something like the below lines:
</p>

<p>
<pre class="code">ping -c3 www.google.com
PING www.google.com (xxx.xxx.xxx.xxx): 56 data bytes
64 bytes from xxx.xxx.xxx.xxx: seq=0 ttl=52 time=88.295 ms
64 bytes from xxx.xxx.xxx.xxx: seq=1 ttl=52 time=87.783 ms
64 bytes from xxx.xxx.xxx.xxx: seq=2 ttl=52 time=87.503 ms

--- www.google.com ping statistics ---
3 packets transmitted, 3 packets received, 0% packet loss
round-trip min/avg/max = 87.503/87.860/88.295 ms</pre>

</p>

<p>
Now you can install Luci and enable it by below commands:
</p>

<p>
<pre class="code">opkg update
opkg install luci
/etc/init.d/uhttpd enable
/etc/init.d/uhttpd start</pre>

</p>

<p>
Now you can access LuCi interface by 192.168.1.1 with your browser.
</p>

</div>

<h2 class="sectionedit11" id="failsafe_mode">Failsafe Mode</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Set your computer&#039;s IP to 192.168.1.2, subnet 255.255.255.0</div>
</li>
<li class="level1"><div class="li"> Connect the TL-MR3020 to your computer via ethernet</div>
</li>
<li class="level1"><div class="li"> Power on the TL-MR3020</div>
</li>
<li class="level1"><div class="li"> When the WPS button starts to blink:</div>
<ul>
<li class="level2"><div class="li"> on AA (Attitude Adjustment / 12.09) push the WPS button;</div>
</li>
<li class="level2"><div class="li"> on BB (Breaking Barrier / trunk) move the sliding switch quickly from one side to the other.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Do this until the WPS button starts blinking faster.</div>
</li>
<li class="level1"><div class="li"> The device is now in Failsafe-Mode</div>
</li>
<li class="level1"><div class="li"> You may access it by using <strong>telnet 192.168.1.1</strong></div>
</li>
</ul>

<p>
Info on resetting to OpenWrt defaults can be found at: <a href="../../doc/howto/generic.failsafe#in.failsafe.mode" class="urlextern" title="http://wiki.openwrt.org/doc/howto/generic.failsafe#in.failsafe.mode"  rel="nofollow">generic.failsafe</a>
</p>

</div>

<h3 class="sectionedit12" id="downgrade_attitute_adjustment_from_trunk">Downgrade Attitute Adjustment from Trunk</h3>
<div class="level3">

<p>
Downgraded wrong image ( jff2 instead of squashfs ) cause cant get ip or connect to luci. Failsafe mode still working but firstboot command wont work because it is already on working. You can upload correct firmware and write it with mtd command but failsafe mode can&#039;t connect internet. You need to local tftp server to get firmware.
</p>

<p>
Set your pc ip 192.168.1.10/24 and gateway 192.168.1.1. Download <a href="http://code.google.com/p/mongoose/" class="urlextern" title="http://code.google.com/p/mongoose/"  rel="nofollow">mongoose http server</a> and correct firmware same folder and start mongoose. It will host all files in his path ( if you start it from downloads folder it will host all files in downloads folder )
</p>

<p>
now we can get firmware via failsafe telnet:
</p>

<p>
<pre class="code">wget http://192.168.1.10:8080/openwrt-ar71xx-generic-tl-mr3020-v1-squashfs-factory.bin
mtd -r write /tmp/openwrt-ar71xx-generic-tl-mr3020-v1-squashfs-factory.bin firmware
Writing from /tmp/openwrt-ar71xx-generic-tl-mr3020-v1-squashfs-factory.bin to firmware ...
Rebooting ...
/bin/sh: /sbin/reboot: Input/output error</pre>

</p>

<p>
DONT DO ANYTHING. Just wait and router reboot itself. wait few minutes and you will able to reach Luci via 192.168.1.1.
</p>

</div>

<h2 class="sectionedit13" id="restoring_original_firmware">Restoring Original Firmware</h2>
<div class="level2">

<p>
→ <a href="../../doc/howto/generic.uninstall" class="wikilink1" title="doc:howto:generic.uninstall">generic.uninstall</a>
</p>

</div>
<div class="plugin_include_content plugin_include__meta:infobox:dangerous" id="plugin_include__meta__infobox__dangerous">
<div class="level2">

<p>

<table class="inline" style="width:70%; margin-left:15%">
  <tr>
    <td style="border-left:6px solid #cd0505; vertical-align:middle">
      <img src="../../_media/meta/icons/tango/48px-dialog-warning.svg.png" alt="" style="float:left; margin-right:0.5em" />
      <strong>Warning!</strong><br />
      This section describes actions that might damage your device or firmware. Proceed with care!
    </td>
  </tr>
</table>

</p>

</div>
</div>
<div class="level2">

<p>
With the TL-MR3020 router, there is a catch: the stock firmware is obtained from the OEM: <a href="http://www.tplink.com/en/support/download/?model=TL-MR3020" class="urlextern" title="http://www.tplink.com/en/support/download/?model=TL-MR3020"  rel="nofollow">http://www.tplink.com/en/support/download/?model=TL-MR3020</a>
</p>
<ul>
<li class="level1"><div class="li"> in case the file name of this firmware file does not contain the word <strong><em>&quot;boot&quot;</em></strong> in it, you can simply revert back to original firmware</div>
</li>
<li class="level1"><div class="li"> in case the file name of this firmware file does contain the word <strong><em>&quot;boot&quot;</em></strong> in it, you need to cut off parts of the image file <em>before</em> flashing it:</div>
</li>
</ul>

<p>
An example of an image file with the word &quot;boot&quot; in it is <code>mr3020nv1_en_3_17_2_up_boot(140408).bin</code>.
</p>

<p>
Cut the first 0x20200 (that is 131,584 = 257*512) Bytes from original firmware:
<pre class="code">dd if=orig.bin of=tplink.bin skip=257 bs=512</pre>

</p>

<p>
You should transfer the firmeware image to the /tmp folder and revert back to original firmware (if availlable you can flash the firmware via the webinterface as well):
</p>

<p>
Via the safer method using sysupgrade:
<pre class="code">sysupgrade /tmp/tplink.bin</pre>

</p>

<p>
Or you use the mtd method:
<pre class="code">mtd -r write /tmp/tplink.bin firmware</pre>

</p>

<p>
It is also possible to revert to the stock firmware using the method with tftp described in &quot;Manual Method Using Serial Console and TFTP (Experts)&quot;. (you still need the firmware images without the boot part).
</p>

<p>
OEM TP-Link firmware for the TL-MR3020 with the <strong><em>boot part removed</em></strong> to revert to the original OEM firmware:
</p>
<ul>
<li class="level1"><div class="li"> TL-MR3020 <strong><em>V1</em></strong> <a href="http://q.gs/6giYF" class="urlextern" title="http://q.gs/6giYF"  rel="nofollow">TL-MR3020-V1-stripped.zip</a></div>
</li>
</ul>

</div>

<h2 class="sectionedit16" id="basic_configuration">Basic Configuration</h2>
<div class="level2">

<p>
Since this part is identical to the one recommended for generic devices, see <a href="../../doc/howto/configuration" class="wikilink1" title="doc:howto:basic.config">Basic configuration</a>.
</p>

</div>

<h2 class="sectionedit17" id="original_flash_layout">Original Flash Layout</h2>
<div class="level2">

<p>
Please read the article <a href="../../doc/techref/flash.layout" class="wikilink1" title="doc:techref:flash.layout">Flash.Layout</a> for a better understanding. It contains a couple of explanations. Then let&#039;s have a quick view at flash layout of this particular device:
</p>
<div class="table sectionedit18"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 centeralign" colspan="6">   TP-Link MR3020  Flash Layout stock firmware           </th>
	</tr>
	</thead>
	<tr class="row1">
		<th class="col0 leftalign"> Layer0       </th><td class="col1 centeralign" colspan="5">                        spi0.0:            4096KiB          </td>
	</tr>
	<tr class="row2">
		<th class="col0 leftalign"> Layer1       </th><td class="col1 centeralign">  mtd0            </td><td class="col2 centeralign">  mtd1              </td><td class="col3 centeralign">    mtd2           </td><td class="col4 centeralign">  mtd3            </td><td class="col5 centeralign">  mtd4         </td>
	</tr>
	<tr class="row3">
		<th class="col0 leftalign"> Size in KiB  </th><td class="col1 centeralign">  128KiB          </td><td class="col2 centeralign">  1024KiB           </td><td class="col3 centeralign">   2816 KiB        </td><td class="col4 centeralign">  64KiB           </td><td class="col5 centeralign">  64KiB        </td>
	</tr>
	<tr class="row4">
		<th class="col0 leftalign"> Name         </th><td class="col1 centeralign">  <strong><em>u-boot</em></strong>  </td><td class="col2 centeralign">  <strong><em>kernel</em></strong>    </td><td class="col3 centeralign">  <strong><em>rootfs</em></strong>   </td><td class="col4 centeralign">  <strong><em>config</em></strong>  </td><td class="col5 centeralign">  <strong><em>art</em></strong>  </td>
	</tr>
	<tr class="row5">
		<th class="col0 leftalign"> mountpoint   </th><td class="col1 centeralign">  none            </td><td class="col2 centeralign">  none              </td><td class="col3 leftalign"> /                 </td><td class="col4 centeralign">  none            </td><td class="col5 centeralign">  none         </td>
	</tr>
	<tr class="row6">
		<th class="col0 leftalign"> filesystem   </th><td class="col1 centeralign">  none            </td><td class="col2 centeralign">  none              </td><td class="col3 leftalign"> SquashFS          </td><td class="col4 centeralign">  none            </td><td class="col5 centeralign">  none         </td>
	</tr>
</table></div>

<p>
ART = Atheros Radio Test - it contains RF calibration data for the wifi. If it is missing or corrupt, wireless won&#039;t come up anymore.<br/>

</p>

</div>

<h2 class="sectionedit19" id="hardware">Hardware</h2>
<div class="level2">

</div>

<h3 class="sectionedit20" id="opening_the_case">Opening the Case</h3>
<div class="level3">

<p>
The case consists of two parts: a white base and a gray lid. The lid has two snap hinges, one right above the mini USB connector and one on the opposite side about 10 mm left of the &quot;TP-LINK&quot; logo. The lid is additionally glued in place on the underside on all four sides. You can try to pry it open with a thin but very stable blade tool. Start above the ethernet port where the case is not glued, and work your way around the glued corner towards the &quot;3G USB&quot; port (no glue there) until you reach the logo side. You should now be able to peek inside the case on the lose corner.
</p>

<p>
Next proceed along to the LED side, but beware of the fragile light conductors running straight down beneath the clear plastic. They easily bend or break when you push-in your tool too far. Once three sides are open, you can steadily lift the lid until the remaining side breaks lose and neatly frees the second hinge in the process. If you work carefully and manage not to break either one of the two hinges, the gray lid should snap neatly back into place after some manual cleaning with a cutter knife.
</p>

<p>

<table class="inline" style="width:100%">
  <tr>
    <td style="border-left:6px solid #cd0505; vertical-align:middle">
      <img src="../../_media/meta/icons/tango/48px-dialog-warning.svg.png" alt="" style="float:left; width:48px; margin-right:7px" />
      <div style="margin-left:55px">
        <strong>Warning!</strong><br />
        <strong>Be careful not to scratch PCB traces if you use a flat screwdriver to open the case.</strong><br />
        Don't apply downwards pressure on the PCB itself with the tip of the screwdriver. Always point the tip of the screwdriver upwards, practicing a pressure from bottom to top.<br />
        <strong>I just managed to practically kill an MR3020 because I scratched the ethernet port trace!</strong>
      </div>
    </td>
  </tr>
</table>

</p>

</div>

<h3 class="sectionedit21" id="internal_pictures">Internal Pictures</h3>
<div class="level3">

<p>
<a href="../../_detail/media/tp-link_mr3020_top-pcb.jpg?id=toh%253Atp-link%253Atl-mr3020" class="media" title="media:tp-link_mr3020_top-pcb.jpg"><img src="../../_media/media/tp-link_mr3020_top-pcb.jpg?w=450&amp;tok=7c4711" class="media" title="tp-link_mr3020_top-pcb.jpg" alt="tp-link_mr3020_top-pcb.jpg" width="450" /></a>
<a href="../../_detail/media/tp-link_mr3020_bottom-pcb.jpg?id=toh%253Atp-link%253Atl-mr3020" class="media" title="media:tp-link_mr3020_bottom-pcb.jpg"><img src="../../_media/media/tp-link_mr3020_bottom-pcb.jpg?w=450&amp;tok=bcb989" class="media" title="tp-link_mr3020_bottom-pcb.jpg" alt="tp-link_mr3020_bottom-pcb.jpg" width="450" /></a>
<a href="../../_detail/toh/tp-link/img_20121015_170949.jpg?id=toh%253Atp-link%253Atl-mr3020" class="media" title="toh:tp-link:img_20121015_170949.jpg"><img src="../../_media/toh/tp-link/img_20121015_170949.jpg?w=450&amp;tok=c4dd6d" class="media" title="img_20121015_170949.jpg" alt="img_20121015_170949.jpg" width="450" /></a>
</p>

</div>

<h3 class="sectionedit22" id="hardware_summary">Hardware summary</h3>
<div class="level3">
<div class="table sectionedit23"><table class="inline">
	<thead>
	<tr class="row0">
		<td class="col0 leftalign">                            </td><th class="col1 centeralign">  IC  </th><th class="col2 centeralign">  Info  </th><th class="col3 centeralign">  Datasheet  </th>
	</tr>
	</thead>
	<tr class="row1">
		<th class="col0 rightalign">                  Processor </th><td class="col1"> AR7240 </td><td class="col2 leftalign">  </td><td class="col3 leftalign"> <a href="../../_media/toh/tp-link/atheros.ar7240.pdf" class="media mediafile mf_pdf" title="toh:tp-link:atheros.ar7240.pdf (914.5 KB)">Click</a>  </td>
	</tr>
	<tr class="row2">
		<th class="col0 rightalign">                   Flash ROM</th><td class="col1"> Spansion S25FL032P </td><td class="col2 leftalign">  </td><td class="col3 leftalign"> <a href="http://www.spansion.com/Support/Datasheets/S25FL032P_00.pdf" class="urlextern" title="http://www.spansion.com/Support/Datasheets/S25FL032P_00.pdf"  rel="nofollow">http://www.spansion.com/Support/Datasheets/S25FL032P_00.pdf</a>  </td>
	</tr>
	<tr class="row3">
		<th class="col0 rightalign">                       SDRAM</th><td class="col1"> Windbond W9425G6JH </td><td class="col2 leftalign">  </td><td class="col3"> <a href="http://www.winbond.com/NR/rdonlyres/11505884-F632-41F9-9438-A3EC025FEAED/0/W9425G6JH.pdf" class="urlextern" title="http://www.winbond.com/NR/rdonlyres/11505884-F632-41F9-9438-A3EC025FEAED/0/W9425G6JH.pdf"  rel="nofollow">http://www.winbond.com/NR/rdonlyres/11505884-F632-41F9-9438-A3EC025FEAED/0/W9425G6JH.pdf</a> </td>
	</tr>
	<tr class="row4">
		<th class="col0 leftalign">                            </th><td class="col1"> Zentel A3S56D40FTP-G5 </td><td class="col2 leftalign">  </td><td class="col3 leftalign">  </td>
	</tr>
	<tr class="row5">
		<th class="col0 rightalign">         Chipset (Wi-Fi controller)</th><td class="col1"> AR9331 </td><td class="col2"> 1x1 </td><td class="col3"> <a href="http://see.sl088.com/w/images/6/69/AR9331.pdf" class="urlextern" title="http://see.sl088.com/w/images/6/69/AR9331.pdf"  rel="nofollow">http://see.sl088.com/w/images/6/69/AR9331.pdf</a> </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit24" id="serial_console">Serial Console</h3>
<div class="level3">

</div>

<h5 id="pinout">Pinout</h5>
<div class="level5">
<div class="table sectionedit25"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0">1 </th><th class="col1">2 </th><th class="col2">3 </th><th class="col3">4</th><td class="col4"></td><td class="col5"></td>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0">TX</td><td class="col1">RX</td><td class="col2">GND</td><td class="col3">VCC</td><td class="col4"> </td><td class="col5">SJ1</td>
	</tr>
</table></div>

<p>
Pin 1 is clearly marked on the board.
</p>

<p>
To get a reliable serial connection, <strong>you might have to connect a 10k pullup resistor</strong> between TX and VCC. This is because the TX pin is connected to a voltage divider (2x5.6k) and a capacitor is put between the real pin and the TX connector. Some serial adaptors might work without the pullup resistor (confirmed for one ST3232-based adaptor), but others definitely require it (confirmed for a FTDI FT232RL-based model). 
</p>

<p>
If you need a serial adaptor, you can build a <a href="http://buffalo.nas-central.org/index.php/Use_a_Nokia_Serial_Cable_on_an_ARM9_Linkstation#Preparing_the_Cable" class="urlextern" title="http://buffalo.nas-central.org/index.php/Use_a_Nokia_Serial_Cable_on_an_ARM9_Linkstation#Preparing_the_Cable"  rel="nofollow">serial hack adapter</a> (DKU-5, CA-42). Relatively cheap, off-the-shelf and known-to-work alternatives would be SparkFun&#039;s <a href="http://www.sparkfun.com/products/9873" class="urlextern" title="http://www.sparkfun.com/products/9873"  rel="nofollow">FTDI Basic Breakout 3.3V</a> and <a href="http://www.sparkfun.com/products/9717" class="urlextern" title="http://www.sparkfun.com/products/9717"  rel="nofollow">FTDI Serial Cable 3.3V</a> (the resistor is not needed with this specific cable).
</p>

<p>
The right settings for accessing the serial console are as follows:
</p>

<p>
Bits per second: <strong>115200</strong><br/>

Data bits: <strong>8</strong><br/>

Stop bits: <strong>1</strong><br/>

Parity: <strong>None</strong><br/>

Flow control: <strong>None</strong><br/>

</p>

<p>
If you are using a Linux or Mac system, the easiest way to connect to the serial console would be the <strong>screen</strong> command. It comes pre-installed on <abbr title="Operating System">OS</abbr> X, but must usually be installed on Linux systems. When installed, just type in a terminal:
<pre class="code">screen /dev/[device name] 115200</pre>

</p>

<p>
where [device name] is the name of your serial adaptor, usually tty.usbserial* on Mac and ttyUSB* on Linux. To quit screen, press CTRL-a, followed by CTRL-k, followed by y.
</p>

</div>

<h4 id="u-boot_bootloader_console">U-Boot Bootloader Console</h4>
<div class="level4">

<p>
The password to get the U-Boot prompt is <strong>tpl</strong>. You must type it quickly while the serial console is displaying:
<pre class="code">[...]
ag7240_phy_setup 
eth1 up
eth0, eth1
Autobooting in 1 seconds
[type tpl here]</pre>

</p>

<p>
U-Boot accepts several commands. Type <strong>help</strong> to display the list of available commands.
</p>

<p>
<pre class="code">hornet&gt; help
?       - alias for &#039;help&#039;
bootm   - boot application image from memory
cp      - memory copy
erase   - erase FLASH memory
help    - print online help
md      - memory display
mm      - memory modify (auto-incrementing)
mtest   - simple RAM test
mw      - memory write (fill)
nm      - memory modify (constant address)
printenv- print environment variables
progmac - Set ethernet MAC addresses
reset   - Perform RESET of the CPU
setenv  - set environment variables
tftpboot- boot image via network using TFTP protocol
version - print monitor version</pre>

</p>

</div>

<h4 id="linux_console">Linux Console</h4>
<div class="level4">

<p>
Once the original firmware has booted up completely, you can press <strong>return</strong> to activate the Linux login prompt.
</p>

<p>
The password to get a root Shell access is <strong>5up</strong>:
</p>

<p>
<pre class="code">TL-MR3020 mips #185 Fri Oct 21 16:26:50 CST 2011 (none)
TL-MR3020 login: root
password: 5up</pre>

</p>

</div>

<h3 class="sectionedit26" id="gpios">GPIOs</h3>
<div class="level3">

<p>
→ <a href="../../doc/hardware/port.gpio" class="wikilink1" title="doc:hardware:port.gpio">port.GPIO</a>
The AR933x platform provides 30 GPIOs. Some of them are used by the router for status LEDs, buttons and other stuff. The table below shows the results of some investigation:
</p>
<div class="table sectionedit27"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign">        </th><th class="col1 leftalign">               </th><th class="col2 leftalign">            </th><th class="col3 centeralign" colspan="2">  Voltage level at GPIO in output-mode  </th><th class="col5 rightalign" colspan="3">  gpioX/value in input-mode when GPIO is: </th>
	</tr>
	<tr class="row1">
		<th class="col0 centeralign">  GPIO  </th><th class="col1 centeralign">  Common Name  </th><th class="col2 centeralign">  PCB Name  </th><th class="col3 centeralign">  gpioX/value=1  </th><th class="col4 leftalign"> gpioX/value=0         </th><th class="col5 centeralign">  Floating  </th><th class="col6 centeralign">  Pulled to GND  </th><th class="col7 centeralign">  Pulled to Vcc  </th>
	</tr>
	</thead>
	<tr class="row2">
		<td class="col0 rightalign">      0 </td><td class="col1 centeralign">  WLAN LED     </td><td class="col2 centeralign">  LED4      </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row3">
		<td class="col0 rightalign">      1 </td><td class="col1 leftalign">               </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row4">
		<td class="col0 rightalign">      2 </td><td class="col1 leftalign">               </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row5">
		<td class="col0 rightalign">      3 </td><td class="col1 leftalign">               </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row6">
		<td class="col0 rightalign">      4 </td><td class="col1 leftalign">               </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row7">
		<td class="col0 rightalign">      5 </td><td class="col1 leftalign">               </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row8">
		<td class="col0 rightalign">      6 </td><td class="col1 leftalign">               </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row9">
		<td class="col0 rightalign">      7 </td><td class="col1 centeralign">  unused Pulled to ground             </td><td class="col2 centeralign">   R15         </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row10">
		<td class="col0 rightalign">      8 </td><td class="col1 centeralign">  USB power  </td><td class="col2 leftalign"> R112           </td><td class="col3 leftalign"> 2.8V                </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row11">
		<td class="col0 rightalign">      9 </td><td class="col1 leftalign">               </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row12">
		<td class="col0 rightalign">     10 </td><td class="col1 leftalign">               </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row13">
		<td class="col0 rightalign">     11 </td><td class="col1 centeralign">  WPS button   </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row14">
		<td class="col0 rightalign">     12 </td><td class="col1 leftalign">               </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row15">
		<td class="col0 rightalign">     13 </td><td class="col1 leftalign">               </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row16">
		<td class="col0 rightalign">     14 </td><td class="col1 leftalign">               </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row17">
		<td class="col0 rightalign">     15 </td><td class="col1 leftalign">               </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row18">
		<td class="col0 rightalign">     16 </td><td class="col1 leftalign">               </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row19">
		<td class="col0 rightalign">     17 </td><td class="col1 rightalign">  Ethernet LED </td><td class="col2 centeralign">   LED5     </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row20">
		<td class="col0 rightalign">     18 </td><td class="col1 centeralign">  Sliding Sw.  </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row21">
		<td class="col0 rightalign">     19 </td><td class="col1 leftalign">               </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row22">
		<td class="col0 rightalign">     20 </td><td class="col1 centeralign">  Sliding Sw.  </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row23">
		<td class="col0 rightalign">     21 </td><td class="col1 leftalign">               </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row24">
		<td class="col0 rightalign">     22 </td><td class="col1 leftalign">               </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row25">
		<td class="col0 rightalign">     23 </td><td class="col1 leftalign">               </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row26">
		<td class="col0 rightalign">     24 </td><td class="col1 leftalign">               </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row27">
		<td class="col0 rightalign">     25 </td><td class="col1 leftalign">               </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row28">
		<td class="col0 rightalign">     26 </td><td class="col1 centeralign">  WPS LED      </td><td class="col2 centeralign">   LED2     </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row29">
		<td class="col0 rightalign">     27 </td><td class="col1 rightalign">  Internet LED </td><td class="col2 centeralign">   LED3     </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row30">
		<td class="col0 rightalign">     28 </td><td class="col1 leftalign">               </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row31">
		<td class="col0 rightalign">     29 </td><td class="col1 centeralign">  unused Pulled to ground             </td><td class="col2 centeralign">     R17       </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
</table></div>

<p>
To make the GPIOs available via sysfs, the required ones have to be exported to userspace, as it is explained on a page of the <a href="http://squidge.sourceforge.net/gpio/" class="urlextern" title="http://squidge.sourceforge.net/gpio/"  rel="nofollow">Squidge-Project</a>. Kernel modules occupying that resource need to be removed before (e.g. &quot;leds-gpio&quot; and &quot;gpio-buttons&quot;). In output-mode, voltage levels of the GPIOs were measured against GND, after the value 1 or 0 had been written to /sys/class/gpio/gpioX/value. In input-mode, the value of the file /sys/class/gpio/gpioX/value was read when the GPIO was floating (initial state), pulled to GND or pulled to Vcc. 
</p>

<p>
The sliding switch has the following truth table:
</p>
<div class="table sectionedit28"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Mode Switch </th><th class="col1"> GPIO18 </th><th class="col2"> GPIO20 </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> 3G          </td><td class="col1 centeralign">    1   </td><td class="col2 centeralign">    0   </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> WISP        </td><td class="col1 centeralign">    0   </td><td class="col2 centeralign">    1   </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> AP          </td><td class="col1 centeralign">    1   </td><td class="col2 centeralign">    1   </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit29" id="leds">LEDs</h3>
<div class="level3">

<p>
How to configure LEDs in general, see the LED section in the <a href="../../doc/uci/system" class="wikilink1" title="doc:uci:system">system</a>.
</p>

<p>
The TL-MR3020 has 5 LEDs:
</p>
<div class="table sectionedit30"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> LED name </th><th class="col1"> LED print </th><th class="col2"> Internal name </th><th class="col3"> Trigger </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Power </td><td class="col1"> Power symbol </td><td class="col2"> N/A (fixed supply) </td><td class="col3"> N/A </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> 3G    </td><td class="col1 leftalign"> Internet symbol  </td><td class="col2"> tl-mr3020:green:3g</td><td class="col3"> <code>USB:1-1</code> </td>
	</tr>
	<tr class="row3">
		<td class="col0"> Wireless <abbr title="Local Area Network">LAN</abbr> </td><td class="col1"> WLAN symbol </td><td class="col2"> tl-mr3020:green:wlan </td><td class="col3"> <code>phy0tpt</code> </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <abbr title="Local Area Network">LAN</abbr> </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> symbol</td><td class="col2"> tl-mr3020:green:lan </td><td class="col3"> <code>netdev:eth0</code> </td>
	</tr>
	<tr class="row5">
		<td class="col0"> WPS </td><td class="col1"> WPS </td><td class="col2"> tl-mr3020:green:wps </td><td class="col3"> User preference </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit31" id="buttons">Buttons</h3>
<div class="level3">

<p>
→ <a href="../../doc/howto/hardware.button" class="wikilink1" title="doc:howto:hardware.button">hardware.button</a>
The TP-Link TL-MR3020 has one button and one sliding switch with three positions:
</p>
<div class="table sectionedit32"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> BUTTON </th><th class="col1"> Event </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Sliding Switch </td><td class="col1"> BTN_0 and BTN_1 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> WPS Button </td><td class="col1"> WPS </td>
	</tr>
</table></div>

<p>
The WPS button is located at the top (illuminated by the WPS LED) and can be easily pressed with a finger. The sliding switch is located at the side and has three positions: 3G, WISP, AP.
</p>

<p>
Sample scripts to read the sliding switch: <a href="https://forum.openwrt.org/viewtopic.php?pid=172111#p172111" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=172111#p172111"  rel="nofollow">on boot</a>, <a href="https://forum.openwrt.org/viewtopic.php?pid=172110#p172110" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=172110#p172110"  rel="nofollow">on switch change</a>, <a href="https://gist.github.com/jefferyto/8010733" class="urlextern" title="https://gist.github.com/jefferyto/8010733"  rel="nofollow">to change network configurations</a>
</p>

</div>

<h2 class="sectionedit33" id="bootloader_mods">Bootloader Mods</h2>
<div class="level2">

<p>
Information about <a href="../../doc/techref/bootloader.1" class="wikilink1" title="doc:techref:bootloader">bootloader</a> in general and <a href="../../doc/techref/bootloader/uboot" class="wikilink1" title="doc:techref:bootloader:uboot">Das U-Boot</a> in particular.
</p>

</div>

<h3 class="sectionedit34" id="u-boot_114_modification_for_routers">U-Boot 1.1.4 modification for routers</h3>
<div class="level3">

<p>
Forum member <a href="https://forum.openwrt.org/profile.php?id=72549" class="urlextern" title="https://forum.openwrt.org/profile.php?id=72549"  rel="nofollow">pepe2k</a> made a modification of <strong>U-Boot 1.1.4</strong> for <strong>Qualcomm Atheros</strong> SoCs based devices (the project is still being developed, so new devices and SoCs will be supported in the future).
</p>

<p>
This modification started from <a href="http://code.google.com/p/wr703n-uboot-with-web-failsafe/" class="urlextern" title="http://code.google.com/p/wr703n-uboot-with-web-failsafe/"  rel="nofollow">wr703n-uboot-with-web-failsafe</a> project, but supports more devices, all modern web browsers, has a lot of improvements and other modifications (like U-Boot NetConsole, custom commands, overclocking possibilities etc.).
</p>

<p>
More information:
</p>
<ul>
<li class="level1"><div class="li"> Official repository on GitHub: <a href="https://github.com/pepe2k/u-boot_mod" class="urlextern" title="https://github.com/pepe2k/u-boot_mod"  rel="nofollow">U-Boot 1.1.4 modification for routers</a></div>
</li>
<li class="level1"><div class="li"> Discussion about this project on <a href="https://forum.openwrt.org/viewtopic.php?id=43237" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=43237"  rel="nofollow">OpenWrt forum</a></div>
</li>
<li class="level1"><div class="li"> An article (in Polish) about one of the first version of this project on <a href="http://www.tech-blog.pl/2013/03/29/zmodyfikowany-u-boot-dla-routerow-tp-link-z-atheros-ar9331-z-trybem-aktualizacji-oprogramowania-przez-www-i-konsola-sieciowa-netconsole/" class="urlextern" title="http://www.tech-blog.pl/2013/03/29/zmodyfikowany-u-boot-dla-routerow-tp-link-z-atheros-ar9331-z-trybem-aktualizacji-oprogramowania-przez-www-i-konsola-sieciowa-netconsole/"  rel="nofollow">www.tech-blog.pl</a></div>
</li>
</ul>

</div>

<h2 class="sectionedit35" id="hardware_hacks">Hardware Hacks</h2>
<div class="level2">

</div>

<h3 class="sectionedit36" id="external_antenna_hack">External Antenna Hack</h3>
<div class="level3">

<p>
<a href="../../_detail/media/mr3020-antenna-rpsmamod.jpg?id=toh%253Atp-link%253Atl-mr3020" class="media" title="media:mr3020-antenna-rpsmamod.jpg"><img src="../../_media/media/mr3020-antenna-rpsmamod.jpg?w=450&amp;tok=95f4c7" class="media" title="mr3020-antenna-rpsmamod.jpg" alt="mr3020-antenna-rpsmamod.jpg" width="450" /></a>
<a href="../../_detail/media/mr3020-antenna-pigtailmod.jpg?id=toh%253Atp-link%253Atl-mr3020" class="media" title="media:mr3020-antenna-pigtailmod.jpg"><img src="../../_media/media/mr3020-antenna-pigtailmod.jpg?w=450&amp;tok=a7fe67" class="media" title="mr3020-antenna-pigtailmod.jpg" alt="mr3020-antenna-pigtailmod.jpg" width="450" /></a>
</p>

<p>
If you want to add an external antenna connector or would like to know more about the MR3020 power consumption in different op-states you can find more info <a href="https://apollo.open-resource.org/lab:argus#modifications" class="urlextern" title="https://apollo.open-resource.org/lab:argus#modifications"  rel="nofollow">Apollo-NG MR3020 External Antenna Hack</a>
</p>

</div>

<h3 class="sectionedit37" id="adding_i2c_bus">Adding I2C Bus</h3>
<div class="level3">

<p>
If you want to add I2C bus to your MR3020, you can use GPIO 7 and 29. Remove R15 and R17, then add pullup between 3.3v and gpio pin.
</p>

<p>
<a href="../../_detail/toh/tp-link/img_0229.jpg?id=toh%253Atp-link%253Atl-mr3020" class="media" title="toh:tp-link:img_0229.jpg"><img src="../../_media/toh/tp-link/img_0229.jpg?w=600&amp;tok=777e72" class="media" title="MR3020 i2C hack" alt="MR3020 i2C hack" width="600" /></a>
</p>

<p>
<a href="../../_detail/toh/tp-link/img_0231.jpg?id=toh%253Atp-link%253Atl-mr3020" class="media" title="toh:tp-link:img_0231.jpg"><img src="../../_media/toh/tp-link/img_0231.jpg?w=600&amp;tok=25399c" class="media" title="img_0231.jpg" alt="img_0231.jpg" width="600" /></a>
</p>

<p>
Next step, add this line
<pre class="code">i2c-gpio-custom bus0=0,7,29</pre>

to /etc/modules.d/99-i2c
</p>

<p>
and load i2c-gpio-custom
</p>

<p>
You can find more info in french here <a href="http://www.equinoxefr.org/post/2012/11/12/mr3020-et-i2c-avec-les-gpio/" class="urlextern" title="http://www.equinoxefr.org/post/2012/11/12/mr3020-et-i2c-avec-les-gpio/"  rel="nofollow">http://www.equinoxefr.org/post/2012/11/12/mr3020-et-i2c-avec-les-gpio/</a>
</p>

</div>

<h3 class="sectionedit38" id="usb_hub_hack">USB Hub Hack</h3>
<div class="level3">

<p>
You can embedded usb hub to add more peripheral to your best router.
</p>

<p>
I hack a 3$ STOREX usb hub, a 2$ µSD card reader and a 10$ webcam to build a robot with my MR3020.
</p>

<p>
<a href="../../_detail/toh/tp-link/img_0221.jpg?id=toh%253Atp-link%253Atl-mr3020" class="media" title="toh:tp-link:img_0221.jpg"><img src="../../_media/toh/tp-link/img_0221.jpg?w=600&amp;tok=0d7a4f" class="media" title="MR3020 usb hub" alt="MR3020 usb hub" width="600" /></a>
</p>

<p>
More info in french on <a href="http://www.equinoxefr.org/post/2012/11/05/projet-de-robot-wifi-torture-dun-routeur-tplink-mr3020/" class="urlextern" title="http://www.equinoxefr.org/post/2012/11/05/projet-de-robot-wifi-torture-dun-routeur-tplink-mr3020/"  rel="nofollow">http://www.equinoxefr.org/post/2012/11/05/projet-de-robot-wifi-torture-dun-routeur-tplink-mr3020/</a>
</p>

</div>

<h3 class="sectionedit39" id="gpio_pinout">GPIO Pinout</h3>
<div class="level3">

<p>
<a href="../../_detail/media/tp-link_mr3020_top-pcb-gpio-pins.jpg?id=toh%253Atp-link%253Atl-mr3020" class="media" title="media:tp-link_mr3020_top-pcb-gpio-pins.jpg"><img src="../../_media/media/tp-link_mr3020_top-pcb-gpio-pins.jpg?w=400&amp;tok=cd51d1" class="media" alt="" width="400" /></a>
</p>

</div>

<h2 class="sectionedit40" id="usb_port_and_monitoring_serial_console_via_usb-serial">USB port and monitoring Serial Console via USB-Serial</h2>
<div class="level2">

<p>
The USB port on the TL-MR3020 is not compatible with USB devices that use low-speed (1.5Mbps) and only works properly with USB devices that use fast-speed (12Mbps) or high-speed (480Mbps). You can however plug a USB-Serial adapter as long as you plug that through a &lt;$10 USB 2.0 hub that reports itself in dmesg as using high-speed (480Mbps); USB hubs that use fast-speed (even if they are marketed as USB 2.0) do not work in the TL-MR3020 when a low-speed device is connected in one of its ports. While you&#039;re at it, use another port of the USB hub to plug in a USB thumb drive and write data there (like serial console logs) so as not to wear out the built-in flash.
</p>

<p>
You can check if your device is using low, fast or high speed with dmesg command.
</p>

<p>
See this page for more tips and how to create a serial console server out of your TL-MR3020:
<a href="http://marc.merlins.org/perso/linux/post_2012-12-05_Serial-Console-With-WR703N.html" class="urlextern" title="http://marc.merlins.org/perso/linux/post_2012-12-05_Serial-Console-With-WR703N.html"  rel="nofollow">http://marc.merlins.org/perso/linux/post_2012-12-05_Serial-Console-With-WR703N.html</a>
</p>

<p>
See this forum thread for more info about why the USB port does not work with low speed devices:
<a href="https://forum.openwrt.org/viewtopic.php?id=39956" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=39956"  rel="nofollow">https://forum.openwrt.org/viewtopic.php?id=39956</a>
</p>

</div>

<h2 class="sectionedit41" id="boot_log">Boot log</h2>
<div class="level2">

</div>

<h3 class="sectionedit42" id="factory_boot_log">Factory Boot Log</h3>
<div class="level3">

<p>
<pre class="code">U-Boot 1.1.4 (Aug 17 2011 - 09:25:09)

AP121-2MB (ar9330) U-boot

DRAM:  32 MB
led turning on for 1s...
id read 0x100000ff
flash size 4194304, sector count = 64
Flash:  4 MB
Using default environment

In:    serial
Out:   serial
Err:   serial
Net:   ag7240_enet_initialize...
No valid address in Flash. Using fixed address
No valid address in Flash. Using fixed address
: cfg1 0x5 cfg2 0x7114
eth0: 00:03:7f:09:0b:ad
ag7240_phy_setup
eth0 up
: cfg1 0xf cfg2 0x7214
eth1: 00:03:7f:09:0b:ad
athrs26_reg_init_lan
ATHRS26: resetting s26
ATHRS26: s26 reset done
ag7240_phy_setup
eth1 up
eth0, eth1
Autobooting in 1 seconds
## Booting image at 9f020000 ...
   Uncompressing Kernel Image ... OK

Starting kernel ...

Booting AR9330(Hornet)...
Linux version 2.6.31--LSDK-9.2.0.312 (root@bogon) (gcc version 4.3.3 (GCC) ) #185 Fri Oct 21 16:26:50 CST 2011
flash_size passed from bootloader = 4
CPU revision is: 00019374 (MIPS 24Kc)
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
User-defined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Zone PFN ranges:
  Normal   0x00000000 -&gt; 0x00002000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -&gt; 0x00002000
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
Kernel command line: console=ttyS0,115200 root=31:02 rootfstype=squashfs init=/sbin/init mtdparts=ar7240-nor0:128k(u-boot),1024k(kernel),2816(rootfs),64k(config),64k(ART) mem=32M
PID hash table entries: 128 (order: 7, 512 bytes)
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
Writing ErrCtl register=00000000
Readback ErrCtl register=00000000
Memory: 29864k/32768k available (1889k kernel code, 2904k reserved, 524k data, 116k init, 0k highmem)
Hierarchical RCU implementation.
NR_IRQS:128
plat_time_init: plat time init done
Calibrating delay loop... 266.24 BogoMIPS (lpj=532480)
Mount-cache hash table entries: 512
NET: Registered protocol family 16
===== ar7240_platform_init: 0


Whoops! This kernel is for product mr3020 v1.0!

bio: create slab &lt;bio-0&gt; at 0
SCSI subsystem initialized
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
NET: Registered protocol family 1
AR7240 GPIOC major 0
squashfs: version 4.0 (2009/01/31) Phillip Lougher
NTFS driver 2.1.29 [Flags: R/O].
msgmni has been set to 58
alg: No test for lzma (lzma-generic)
alg: No test for stdrng (krng)
io scheduler noop registered
io scheduler anticipatory registered
io scheduler deadline registered
io scheduler cfq registered (default)
Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled
ttyS0: detected caps 00000000 should be 00000100
serial8250.0: ttyS0 at MMIO 0xb8020000 (irq = 19) is a 16550A
console [ttyS0] enabled
PPP generic driver version 2.4.2
NET: Registered protocol family 24
cmdlinepart partition parsing not available
set partition boot
set partition kernel
set partition rootfs
set partition config
set partition art
set partition ÿ
Searching for RedBoot partition table
5 RedBoot partitions found on MTD device ar7240-nor0
Creating 5 MTD partitions on &quot;ar7240-nor0&quot;:
0x000000000000-0x000000020000 : &quot;boot&quot;
0x000000020000-0x000000120000 : &quot;kernel&quot;
0x000000120000-0x0000003e0000 : &quot;rootfs&quot;
0x0000003e0000-0x0000003f0000 : &quot;config&quot;
0x0000003f0000-0x000000400000 : &quot;art&quot;
-&gt;Oops: flash id 0x10215 .
ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
Port Status 1c000004
ar7240-ehci ar7240-ehci.0: ATH EHCI
ar7240-ehci ar7240-ehci.0: new USB bus registered, assigned bus number 1
ehci_reset Intialize USB CONTROLLER in host mode: 3
ehci_reset Port Status 1c000000
ar7240-ehci ar7240-ehci.0: irq 3, io mem 0x1b000000
ehci_reset Intialize USB CONTROLLER in host mode: 3
ehci_reset Port Status 1c000000
ar7240-ehci ar7240-ehci.0: USB 2.0 started, EHCI 1.00
usb usb1: configuration #1 chosen from 1 choice
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 1 port detected
TCP cubic registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
ar7240wdt_init: Registering WDT success
VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
Freeing unused kernel memory: 116k freed
init started:  BusyBox v1.01 (2011.04.01-07:49+0000) multi-call binary
This Board use 2.6.31
xt_time: kernel timezone is -0000
nf_conntrack version 0.5.0 (512 buckets, 5120 max)
ip_tables: (C) 2000-2006 Netfilter Core Team
insmod: cannot open module `/lib/modules/2.6.31/kernel/iptable_raw.ko&#039;: No such file or directory
insmod: cannot open module `/lib/modules/2.6.31/kernel/flashid.ko&#039;: No such file or directory
PPPoL2TP kernel driver, V1.0
PPTP driver version 0.8.3
insmod: cannot open module `/lib/modules/2.6.31/kernel/harmony.ko&#039;: No such file or directory

 (none) mips #185 Now flash open!
Fri Oct 21 16:26:50 CST 2011 (none)
(none) login: Now flash open!
ATHR_GMAC: Length per segment 1536
ATHR_GMAC: fifo cfg 3 01f00140
ATHR_GMAC: Mac address for unit 1:bf1f0006
ATHR_GMAC: 6e:09:80:e4:67:1b
ATHR_GMAC: Max segments per packet :   1
ATHR_GMAC: Max tx descriptor count :   40
ATHR_GMAC: Max rx descriptor count :   96
ATHR_GMAC: Mac capability flags    :   4D83
ATHR_GMAC: Mac address for unit 0:bf1f0000
ATHR_GMAC: 12:03:cb:60:38:f7
ATHR_GMAC: Max segments per packet :   1
ATHR_GMAC: Max tx descriptor count :   40
ATHR_GMAC: Max rx descriptor count :   252
ATHR_GMAC: Mac capability flags    :   4403
athr_gmac_ring_alloc Allocated 640 at 0x81e79800
athr_gmac_ring_alloc Allocated 4032 at 0x81d63000
Setting Drop CRC Errors, Pause Frames and Length Error frames
Setting PHY...mac 0
athr_gmac_ring_alloc Allocated 640 at 0x81e79400
athr_gmac_ring_alloc Allocated 1536 at 0x81f22000
athr_gmac_mii_setup: MDC check failed
Setting Drop CRC Errors, Pause Frames and Length Error frames
ATHRS26: resetting s26
ATHRS26: s26 reset done
Setting PHY...mac 1
device eth0 entered promiscuous mode
Now flash open!
nf_conntrack_rtsp v0.6.21 loading
nf_nat_rtsp v0.6.21 loading
asf: module license &#039;Proprietary&#039; taints kernel.
Disabling lock debugging due to kernel taint
ath_hal: 0.9.17.1 (AR9380, DEBUG, REGOPS_FUNC, WRITE_EEPROM, 11D)
ath_rate_atheros: Copyright (c) 2001-2005 Atheros Communications, Inc, All Rights Reserved
ath_dev: Copyright (c) 2001-2007 Atheros Communications, Inc, All Rights Reserved
ath_ahb: 9.2.0_U5.508 (Atheros/multi-bss)
Boostrap clock 25MHz
ar9300RadioAttach: Need analog access recipe!!
Restoring Cal data from Flash
ath_get_caps[4735] rx chainmask mismatch actual 1 sc_chainmak 0
ath_get_caps[4710] tx chainmask mismatch actual 1 sc_chainmak 0
wifi0: Atheros 9380: mem=0xb8100000, irq=2
wlan_vap_create : enter. devhandle=0x80c042c0, opmode=IEEE80211_M_HOSTAP, flags=0x1
wlan_vap_create : exit. devhandle=0x80c042c0, opmode=IEEE80211_M_HOSTAP, flags=0x1.
VAP device ath0 created

 DES SSID SET=TP-LINK_POCKET_3020_3ABB7A
ieee80211_scan_unregister_event_handler: Failed to unregister evhandler=c0a048a0 arg=81e9e2c0
wlan_vap_delete : enter. vaphandle=0x81e9c000
wlan_vap_delete : exit. vaphandle=0x81e9c000
wlan_vap_create : enter. devhandle=0x80c042c0, opmode=IEEE80211_M_HOSTAP, flags=0x1
wlan_vap_create : exit. devhandle=0x80c042c0, opmode=IEEE80211_M_HOSTAP, flags=0x1.
VAP device ath0 created

 DES SSID SET=TP-LINK_POCKET_3020_3ABB7A
 ieee80211_ioctl_siwmode: imr.ifm_active=393856, new mode=3, valid=1
WARNING: Fragmentation with HT mode NOT ALLOWED!!
device ath0 entered promiscuous mode
br0: port 2(ath0) entering forwarding state
 ieee80211_ioctl_siwmode: imr.ifm_active=1442432, new mode=3, valid=1
br0: port 2(ath0) entering disabled state

 DES SSID SET=TP-LINK_POCKET_3020_3ABB7A
br0: port 2(ath0) entering forwarding state
gpio_tricolor_led_write 699
green_led_onoff = 1

 TL-MR3020 mips #185 Fri Oct 21 16:26:50 CST 2011 (none)
TL-MR3020 login:</pre>

</p>

</div>

<h3 class="sectionedit43" id="openwrt_boot_log_and_info">OpenWrt Boot Log and Info</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> <a href="https://gist.github.com/2059480#file_dmesg" class="urlextern" title="https://gist.github.com/2059480#file_dmesg"  rel="nofollow">dmesg TP-Link TL-MR3020</a></div>
</li>
</ul>

</div>

<h2 class="sectionedit44" id="link_dump">Link Dump</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Product web-page : <a href="http://www.tp-link.com/en/products/details/?model=TL-MR3020#fea" class="urlextern" title="http://www.tp-link.com/en/products/details/?model=TL-MR3020#fea"  rel="nofollow">TL-MR3020</a></div>
</li>
<li class="level1"><div class="li"> The latest official firmware is available <a href="http://www.tp-link.com/en/support/download/?model=TL-MR3020" class="urlextern" title="http://www.tp-link.com/en/support/download/?model=TL-MR3020"  rel="nofollow">here</a></div>
</li>
<li class="level1"><div class="li"> The official <abbr title="GNU General Public License">GPL</abbr> code is available <a href="http://www.tp-link.com/resources/gpl/150Router.tar" class="urlextern" title="http://www.tp-link.com/resources/gpl/150Router.tar"  rel="nofollow">here</a>.</div>
</li>
<li class="level1"><div class="li"> A backup of the whole original SPI flash content is available from <a href="http://db.tt/Cp4F1EtX" class="urlextern" title="http://db.tt/Cp4F1EtX"  rel="nofollow">here</a>.</div>
</li>
<li class="level1"><div class="li"> <a href="http://www.heise.de/netze/artikel/Taschenrouter-als-IPv6-Verteiler-1440851.html" class="urlextern" title="http://www.heise.de/netze/artikel/Taschenrouter-als-IPv6-Verteiler-1440851.html"  rel="nofollow">Taschenrouter als IPv6-Verteiler (auf Deutsch)</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://apollo.open-resource.org/lab:argus" class="urlextern" title="https://apollo.open-resource.org/lab:argus"  rel="nofollow">Interesting webpage with more data about power consumption and so on</a></div>
</li>
</ul>

</div>

<h3 class="sectionedit45" id="relevant_forum_links">Relevant Forum Links</h3>
<div class="level3">

<p>
<a href="https://forum.openwrt.org/viewtopic.php?id=33429" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=33429"  rel="nofollow">TP-Link TL-MR3020 Support</a>
</p>

</div>

<h2 class="sectionedit46" id="custom_openwrt_image_with_luci_integrated">Custom OpenWrt image with LuCi integrated</h2>
<div class="level2">

<p>
<a href="http://www.superwrt.eu/en/firmware/tp-link-mr3020/" class="urlextern" title="http://www.superwrt.eu/en/firmware/tp-link-mr3020/"  rel="nofollow">http://www.superwrt.eu/en/firmware/tp-link-mr3020/</a>
</p>

</div>

<h2 class="sectionedit47" id="technical_data">Technical data</h2>
<div class="level2">
<div class="inline dataplugin_entry  sectionedit48"><dl><dt class="brand">BRAND<span class="sep">: </span></dt><dd class="brand">TP-Link</dd><dt class="model">MODEL<span class="sep">: </span></dt><dd class="model">MR-3020</dd><dt class="status">STATUS<span class="sep">: </span></dt><dd class="status">suppported</dd><dt class="openwrt_version">OpenWRT Version<span class="sep">: </span></dt><dd class="openwrt_version">14.07</dd><dt class="platform">PLATFORM<span class="sep">: </span></dt><dd class="platform">Atheros AR7240</dd><dt class="cpu_mhz">CPU MHZ<span class="sep">: </span></dt><dd class="cpu_mhz">400</dd><dt class="ram_mb">RAM MB<span class="sep">: </span></dt><dd class="ram_mb">32</dd><dt class="flash_mb">FLASH MB<span class="sep">: </span></dt><dd class="flash_mb">4</dd><dt class="wlan_hardware">WLAN HARDWARE<span class="sep">: </span></dt><dd class="wlan_hardware">AR9330 (integrated)</dd><dt class="wlan_std">WLAN STD<span class="sep">: </span></dt><dd class="wlan_std">b/g/n</dd><dt class="wired_ports">WIRED PORTS<span class="sep">: </span></dt><dd class="wired_ports">1x 100</dd><dt class="usb">USB<span class="sep">: </span></dt><dd class="usb">1x 2.0</dd><dt class="fw_factory">FW factory<span class="sep">: </span></dt><dd class="fw_factory"><a href="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-tl-mr3020-v1-squashfs-factory.bin" class="urlextern" title="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-tl-mr3020-v1-squashfs-factory.bin"  rel="nofollow">factory</a></dd><dt class="fw_sysupgrade">FW sysupgrade<span class="sep">: </span></dt><dd class="fw_sysupgrade"><a href="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-tl-mr3020-v1-squashfs-sysupgrade.bin" class="urlextern" title="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-tl-mr3020-v1-squashfs-sysupgrade.bin"  rel="nofollow">sysupgrade</a></dd><dt class="devicepage">devicepage<span class="sep">: </span></dt><dd class="devicepage"><a href='tl-mr3020' class='urlextern' rel="nofollow">http://wiki.openwrt.org/toh/tp-link/tl-mr3020</a></dd></dl></div>
</div>

<h2 class="sectionedit49" id="tags">Tags</h2>
<div class="level2">
<hr />
<div class="tags"><span>
	<a href="../../tag/2011dec?do=showtag&amp;tag=2011Dec" class="wikilink1" title="tag:2011dec" rel="tag">2011Dec</a>,
	<a href="../../tag/fastethernet?do=showtag&amp;tag=FastEthernet" class="wikilink1" title="tag:fastethernet" rel="tag">FastEthernet</a>,
	<a href="../../tag/1nic?do=showtag&amp;tag=1NIC" class="wikilink1" title="tag:1nic" rel="tag">1NIC</a>,
	<a href="../../tag/1wnic?do=showtag&amp;tag=1WNIC" class="wikilink1" title="tag:1wnic" rel="tag">1WNIC</a>,
	<a href="../../tag/no_switch?do=showtag&amp;tag=no_switch" class="wikilink1" title="tag:no_switch" rel="tag">no switch</a>,
	<a href="../../tag/1ant?do=showtag&amp;tag=1Ant" class="wikilink1" title="tag:1ant" rel="tag">1Ant</a>,
	<a href="../../tag/usb2.0?do=showtag&amp;tag=USB2.0" class="wikilink1" title="tag:usb2.0" rel="tag">USB2.0</a>,
	<a href="../../tag/1usb?do=showtag&amp;tag=1USB" class="wikilink1" title="tag:1usb" rel="tag">1USB</a>,
	<a href="../../tag/serial?do=showtag&amp;tag=Serial" class="wikilink1" title="tag:serial" rel="tag">Serial</a>,
	<a href="../../tag/integrated?do=showtag&amp;tag=integrated" class="wikilink1" title="tag:integrated" rel="tag">integrated</a>,
	<a href="../../tag/802.11bgn?do=showtag&amp;tag=802.11bgn" class="wikilink1" title="tag:802.11bgn" rel="tag">802.11bgn</a>,
	<a href="../../tag/ar9331?do=showtag&amp;tag=AR9331" class="wikilink1" title="tag:ar9331" rel="tag">AR9331</a>,
	<a href="../../tag/ath9k?do=showtag&amp;tag=ath9k" class="wikilink1" title="tag:ath9k" rel="tag">ath9k</a>,
	<a href="../../tag/32ram?do=showtag&amp;tag=32RAM" class="wikilink1" title="tag:32ram" rel="tag">32RAM</a>,
	<a href="../../tag/4flash?do=showtag&amp;tag=4Flash" class="wikilink1" title="tag:4flash" rel="tag">4Flash</a>,
	<a href="../../tag/mips?do=showtag&amp;tag=MIPS" class="wikilink1" title="tag:mips" rel="tag">MIPS</a>,
	<a href="../../tag/mips32?do=showtag&amp;tag=MIPS32" class="wikilink1" title="tag:mips32" rel="tag">MIPS32</a>,
	<a href="../../tag/24kc?do=showtag&amp;tag=24Kc" class="wikilink1" title="tag:24kc" rel="tag">24Kc</a>,
	<a href="../../tag/ar7241?do=showtag&amp;tag=AR7241" class="wikilink1" title="tag:ar7241" rel="tag">AR7241</a>,
	<a href="../../tag/ap121?do=showtag&amp;tag=AP121" class="wikilink1" title="tag:ap121" rel="tag">AP121</a>,
	<a href="../../tag/portable_router?do=showtag&amp;tag=portable_router" class="wikilink1" title="tag:portable_router" rel="tag">portable router</a>
</span></div>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/tp-link/tl-mr3020.txt</bdi> · Last modified: 2015/05/20 21:54 by <bdi>tmomas</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="tl-mr3020?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="tl-mr3020?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="tl-mr3020?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="tl-mr3020#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Atp-link%253Atl-mr3020&amp;1432268147" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
