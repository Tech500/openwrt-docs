<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>TP-Link TL-WR941ND [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="fastethernet,1nic,1wnic,ath9k"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="tl-wr941nd?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:tp-link"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/tp-link/tl-wr941nd"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/tp-link/tl-wr941nd"/>
<link rel="canonical" href="tl-wr941nd"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:tp-link';var JSINFO = {"id":"toh:tp-link:tl-wr941nd","namespace":"toh:tp-link"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432266258 166.182.3.99';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="tl-wr941nd#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="tl-wr941nd?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="tl-wr941nd?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:tp-link:tl-wr941nd" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="tl-wr941nd?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="tl-wr941nd?do=media&amp;ns=toh%253Atp-link"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="tl-wr941nd?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:tp-link:start">TP-Link</a></bdi> » <bdi><span class="curid"><a href="tl-wr941nd" class="wikilink1" title="toh:tp-link:tl-wr941nd">TP-Link TL-WR941ND</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/tp-link/tl-wr941nd" class="media" title="cz:toh:tp-link:tl-wr941nd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/tp-link/tl-wr941nd" class="media" title="de:toh:tp-link:tl-wr941nd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="tl-wr941nd" class="media" title="toh:tp-link:tl-wr941nd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/tp-link/tl-wr941nd" class="media" title="es:toh:tp-link:tl-wr941nd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/tp-link/tl-wr941nd" class="media" title="fr:toh:tp-link:tl-wr941nd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <a href="../../hu/toh/tp-link/tl-wr941nd" class="media" title="hu:toh:tp-link:tl-wr941nd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/tp-link/tl-wr941nd" class="media" title="jp:toh:tp-link:tl-wr941nd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/tp-link/tl-wr941nd" class="media" title="pl:toh:tp-link:tl-wr941nd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/tp-link/tl-wr941nd" class="media" title="pt-br:toh:tp-link:tl-wr941nd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/tp-link/tl-wr941nd" class="media" title="ru:toh:tp-link:tl-wr941nd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/tp-link/tl-wr941nd" class="media" title="tr:toh:tp-link:tl-wr941nd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/tp-link/tl-wr941nd" class="media" title="zh-cn:toh:tp-link:tl-wr941nd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/tp-link/tl-wr941nd" class="media" title="zh-tw:toh:tp-link:tl-wr941nd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:tp-link:tl-wr941nd</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="tl-wr941nd#clones">Clones</a></div></li>
<li class="level1"><div class="li"><a href="tl-wr941nd#hardware_highlights">Hardware Highlights</a></div></li>
<li class="level1"><div class="li"><a href="tl-wr941nd#supported_versions">Supported Versions</a></div></li>
<li class="level1"><div class="li"><a href="tl-wr941nd#installation">Installation</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-wr941nd#oem_easy_installation">OEM easy installation</a></div></li>
<li class="level2"><div class="li"><a href="tl-wr941nd#upgrading_openwrt_via_command_line_otherwise_just_use_luci">Upgrading OpenWrt via command line (otherwise just use Luci)</a></div></li>
<li class="level2"><div class="li"><a href="tl-wr941nd#flashing_via_uboot">Flashing via UBoot</a></div></li>
<li class="level2"><div class="li"><a href="tl-wr941nd#revert_to_original_firmware">Revert to original firmware</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-wr941nd#failsafe_mode">Failsafe mode</a></div></li>
<li class="level1"><div class="li"><a href="tl-wr941nd#hardware">Hardware</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-wr941nd#info">Info</a></div></li>
<li class="level2"><div class="li"><a href="tl-wr941nd#photos">Photos</a></div></li>
<li class="level2"><div class="li"><a href="tl-wr941nd#opening_the_case">Opening the case</a></div></li>
<li class="level2"><div class="li"><a href="tl-wr941nd#serial">Serial</a></div></li>
<li class="level2"><div class="li"><a href="tl-wr941nd#jtag">JTAG</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-wr941nd#specific_configuration">Specific configuration</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-wr941nd#vlan_config">VLAN Config</a></div></li>
<li class="level2"><div class="li"><a href="tl-wr941nd#buttons">Buttons</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-wr941nd#basic_configuration">Basic configuration</a></div></li>
<li class="level1"><div class="li"><a href="tl-wr941nd#connect_stuff_to_the_usb_port">Connect stuff to the USB port</a></div></li>
<li class="level1"><div class="li"><a href="tl-wr941nd#hardware_mods">Hardware mods</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-wr941nd#usb">USB</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-wr941nd#tags">Tags</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="tp-link_tl-wr941nd">TP-Link TL-WR941ND</h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> Unpopulated serial and USB headers</div>
</li>
</ul>

</div>

<h2 class="sectionedit2" id="clones">Clones</h2>
<div class="level2">

<p>
Known clone of this device: Mercury MWR300T+.
</p>

</div>

<h2 class="sectionedit3" id="hardware_highlights">Hardware Highlights</h2>
<div class="level2">
<div class="table sectionedit4"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Ver </th><th class="col1"> CPU </th><th class="col2"> RAM </th><th class="col3"> Flash </th><th class="col4"> Network </th><th class="col5"> Wireless </th><th class="col6"> USB </th><th class="col7"> Serial </th><th class="col8"> JTag </th><th class="col9"> Wiki </th><th class="col10"> FCC </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> v1 </td><td class="col1"> Atheros AR9132 400MHz </td><td class="col2"> 32MB </td><td class="col3"> 8MB </td><td class="col4"> 1 WAN + 4x <abbr title="Local Area Network">LAN</abbr> (100 Mbit) </td><td class="col5"> AR9132 [bgn 3x3:2] + AR9103 [bgn 3x3:2] </td><td class="col6"> No </td><td class="col7"> Yes </td><td class="col8"> N/A </td><td class="col9"> <a href="https://wikidevi.com/wiki/TP-LINK_TL-WR941ND_v1.0" class="urlextern" title="https://wikidevi.com/wiki/TP-LINK_TL-WR941ND_v1.0"  rel="nofollow">Link</a> </td><td class="col10"> <a href="https://fcc.io/TE7/WR941NX" class="urlextern" title="https://fcc.io/TE7/WR941NX"  rel="nofollow">FCC ID TE7WR941NX</a> </td>
	</tr>
	<tr class="row2">
		<td class="col0"> v2 </td><td class="col1"> Atheros AR9132 400MHz </td><td class="col2"> 32MB </td><td class="col3"> 4MB </td><td class="col4"> 1 WAN + 4x <abbr title="Local Area Network">LAN</abbr> (100 Mbit) </td><td class="col5"> AR9132 [bgn 3x3:2] + AR9103 [bgn 3x3:2] </td><td class="col6"> No </td><td class="col7"> Yes </td><td class="col8"> N/A </td><td class="col9"> <a href="https://wikidevi.com/wiki/TP-LINK_TL-WR941ND_v2.x" class="urlextern" title="https://wikidevi.com/wiki/TP-LINK_TL-WR941ND_v2.x"  rel="nofollow">Link</a> </td><td class="col10 leftalign">  </td>
	</tr>
	<tr class="row3">
		<td class="col0"> v3 </td><td class="col1"> Atheros AR9132 400MHz </td><td class="col2"> 32MB </td><td class="col3"> 4MB </td><td class="col4"> 1 WAN + 4x <abbr title="Local Area Network">LAN</abbr> (100 Mbit) </td><td class="col5"> AR9132 [bgn 3x3:2] + AR9103 [bgn 3x3:2] </td><td class="col6"> No </td><td class="col7"> Yes </td><td class="col8"> N/A </td><td class="col9"> <a href="https://wikidevi.com/wiki/TP-LINK_TL-WR941ND_v3.x" class="urlextern" title="https://wikidevi.com/wiki/TP-LINK_TL-WR941ND_v3.x"  rel="nofollow">Link</a> </td><td class="col10 leftalign">  </td>
	</tr>
	<tr class="row4">
		<td class="col0"> v4 </td><td class="col1"> Atheros AR7240 400MHz </td><td class="col2"> 32MB </td><td class="col3"> 4MB </td><td class="col4"> 1 WAN + 4x <abbr title="Local Area Network">LAN</abbr> (100 Mbit) </td><td class="col5 leftalign">  </td><td class="col6"> No </td><td class="col7"> Yes </td><td class="col8"> N/A </td><td class="col9"> </td><td class="col10"> </td>
	</tr>
	<tr class="row5">
		<td class="col0"> v5.x </td><td class="col1"> Atheros AR9341 535MHz </td><td class="col2"> 32MB </td><td class="col3"> 4MB </td><td class="col4"> 1 WAN + 4x <abbr title="Local Area Network">LAN</abbr> (100 Mbit) </td><td class="col5"> AR9341 [bgn 2x2:2] </td><td class="col6"> No </td><td class="col7"> Yes </td><td class="col8"> N/A </td><td class="col9"><a href="https://wikidevi.com/wiki/TP-LINK_TL-WR941ND_v5.x" class="urlextern" title="https://wikidevi.com/wiki/TP-LINK_TL-WR941ND_v5.x"  rel="nofollow">Link</a> </td><td class="col10"> <a href="https://fcc.io/TE7/WR941NXV5" class="urlextern" title="https://fcc.io/TE7/WR941NXV5"  rel="nofollow">FCC ID TE7WR941NXV5</a> </td>
	</tr>
	<tr class="row6">
		<td class="col0"> v6 </td><td class="col1"> Atheros AR9344 560MHz </td><td class="col2"> 64MB </td><td class="col3"> 4MB </td><td class="col4"> 1 WAN + 4x <abbr title="Local Area Network">LAN</abbr> (100 Mbit) </td><td class="col5 leftalign">  </td><td class="col6"> No </td><td class="col7"> Yes </td><td class="col8"> N/A </td><td class="col9"> </td><td class="col10"> </td>
	</tr>
</table></div>

<p>
<img src="../../_media/meta/icons/tango/48px-emblem-important.svg.png" class="medialeft" title="Important!" alt="Important!" /> The above <abbr title="specification">spec</abbr> for v5.x is valid only if the FCC ID of your device is TE7WR941NXV5. If the FCC ID of your device is not TE7WR941NXV5 but the hardware version is v5.x, then the above <abbr title="specification">spec</abbr> doesn&#039;t apply to your device and you should proceed with caution.
</p>

</div>

<h2 class="sectionedit5" id="supported_versions">Supported Versions</h2>
<div class="level2">
<div class="table sectionedit6"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Ver </th><th class="col1"> S/N </th><th class="col2"> OpenWrt Version Supported </th><th class="col3"> Model Specific Notes </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> v1   </td><td class="col1"> - </td><td class="col2"> Backfire 10.03 </td><td class="col3 leftalign"> N/A  </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> v2   </td><td class="col1"> - </td><td class="col2"> Backfire 10.03 </td><td class="col3"> Similar to v1 </td>
	</tr>
	<tr class="row3">
		<td class="col0"> v3.x </td><td class="col1"> - </td><td class="col2"> Backfire 10.03.1 </td><td class="col3"> Similar to v2 </td>
	</tr>
	<tr class="row4">
		<td class="col0"> v3.8 </td><td class="col1"> - </td><td class="col2"> Attitude Adjustment 12.09 </td><td class="col3"> Same as v3, BUT DIFFERENT FLASH CHIP, Backfire will BRICK! See <a href="https://forum.openwrt.org/viewtopic.php?id=45922" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=45922"  rel="nofollow">forum post</a>. </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> v4   </td><td class="col1"> - </td><td class="col2"> Backfire 10.03 </td><td class="col3"> Similar to <a href="tl-wr741nd" class="wikilink1" title="toh:tp-link:tl-wr741nd">TL-WR741ND</a>. </td>
	</tr>
	<tr class="row6">
		<td class="col0"> v5.0 </td><td class="col1"> - </td><td class="col2"> Attitude Adjustment 12.09 </td><td class="col3"> Similar to <a href="tl-wr841nd" class="wikilink1" title="toh:tp-link:tl-wr841nd">TL-WR841ND</a> v8, see <a href="https://forum.openwrt.org/viewtopic.php?pid=206667#p206667" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=206667#p206667"  rel="nofollow">forum post</a>. </td>
	</tr>
	<tr class="row7">
		<td class="col0"> v5.1 </td><td class="col1"> - </td><td class="col2"> Attitude Adjustment 12.09 </td><td class="col3"> Similar to <a href="tl-wr841nd" class="wikilink1" title="toh:tp-link:tl-wr841nd">TL-WR841ND</a> v8, see <a href="https://forum.openwrt.org/viewtopic.php?pid=206667#p206667" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=206667#p206667"  rel="nofollow">this forum post</a> and <a href="https://forum.openwrt.org/viewtopic.php?pid=220561#p220561" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=220561#p220561"  rel="nofollow">this forum post</a>. </td>
	</tr>
	<tr class="row8">
		<td class="col0"> v6 </td><td class="col1"> - </td><td class="col2"> Barrier Breaker 14.07 </td><td class="col3"> Similar to <a href="tl-wdr3500" class="wikilink1" title="toh:tp-link:tl-wdr3500">TL-WDR3500</a>. </td>
	</tr>
</table></div>

<p>
<strong>WARNING</strong><img src="../../lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /> (2013-08-04): ATTITUDE ADJUSTMENT 12.09 Final r36088 still works, but BARRIER BREAKER Bleeding Edge r37660 has a problem where it thinks the failsafe button is always pressed (on a v3.x) Unless if you know how to make a serial console and do TFTP, best to stay away from trunk for a while. <a href="https://forum.openwrt.org/viewtopic.php?id=44924" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=44924"  rel="nofollow">Internet search hints</a> this may be true for more TP-Link models.
</p>

</div>

<h2 class="sectionedit7" id="installation">Installation</h2>
<div class="level2">

<p>
OpenWrt firmware can be flahsed via the OEM WebInterface.
</p>
<ul>
<li class="level1"><div class="li"> You could log in to the OEM firmware as root using <code>5up</code> as password.</div>
</li>
<li class="level1"><div class="li"> You can get into U-Boot typing <code>tpl</code> at the 1s pause at the beginning of the boot process.</div>
</li>
</ul>

</div>

<h3 class="sectionedit8" id="oem_easy_installation">OEM easy installation</h3>
<div class="level3">

<p>
These instructions use as example a v3 model, browse the <a href="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/" class="urlextern" title="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/"  rel="nofollow">Barrier Breaker 14.07 repository</a> for the binary that matches your hardware version. Pay also attention that we can find for each model version two similar files, one the <em>-factory</em> and the other one <em>-sysupgrade</em>, on this section we will use the <strong>-factory</strong> one.
</p>
<ol>
<li class="level1"><div class="li"> Download the firmware binary from <a href="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-tl-wr941nd-v3-squashfs-factory.bin" class="urlextern" title="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-tl-wr941nd-v3-squashfs-factory.bin"  rel="nofollow">here</a>.</div>
</li>
<li class="level1"><div class="li"> Login to the default WebGUI and flash the router.</div>
</li>
<li class="level1"><div class="li"> Wait for the router to reboot, SYS LED will stop flashing and become static.</div>
</li>
<li class="level1"><div class="li"> Browse or telnet to 192.168.1.1, set a root password and enjoy.</div>
</li>
</ol>

</div>

<h3 class="sectionedit9" id="upgrading_openwrt_via_command_line_otherwise_just_use_luci">Upgrading OpenWrt via command line (otherwise just use Luci)</h3>
<div class="level3">

<p>
If you have already installed OpenWrt and like to reflash for e.g. upgrading to a new OpenWrt version you can upgrade using the console/terminal. It is important that you put the firmware image into the ramdisk (/tmp) before you start flashing otherwise crazy things can happen.
</p>

<p>
We will use the <strong>-sysupgrade</strong> firmware file, for more information about this read the <em>OEM Easy Installation</em> section. To start the upgrade process login to your router using SSH and make sure you&#039;ve Internet access in order to download the new firmware file.
</p>

<p>
<pre class="code"># cd /tmp
# wget https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-tl-wr941nd-v3-squashfs-sysupgrade.bin
# sysupgrade -v /tmp/openwrt-ar71xx-generic-tl-wr941nd-v3-squashfs-sysupgrade.bin</pre>

</p>

</div>

<h3 class="sectionedit10" id="flashing_via_uboot">Flashing via UBoot</h3>
<div class="level3">

</div>
<div class="plugin_include_content plugin_include__meta:infobox:dangerous" id="plugin_include__meta__infobox__dangerous">
<div class="level3">

<p>

<table class="inline" style="width:70%; margin-left:15%">
  <tr>
    <td style="border-left:6px solid #cd0505; vertical-align:middle">
      <img src="../../_media/meta/icons/tango/48px-dialog-warning.svg.png" alt="" style="float:left; margin-right:0.5em" />
      <strong>Warning!</strong><br />
      This section describes actions that might damage your device or firmware. Proceed with care!
    </td>
  </tr>
</table>

</p>

</div>
</div>
<div class="level3">

<p>
A 3.3v TTL serial connection is required ! (<a href="https://forum.openwrt.org/viewtopic.php?pid=83476#p83476" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=83476#p83476"  rel="nofollow">Forum post</a>)
Do not try this method unless you&#039;re really sure what you&#039;re doing.
</p>

<p>
During UBOOT &quot;1-second&quot; message, quickly key sequence: tpl 
to stop UBOOT from loading the kernel and go into uboot mode proper.
</p>

<p>
<pre class="code">ar7100&gt; setenv serverip 192.168.1.254; setenv ipaddr 192.168.1.1
ar7100&gt; tftp 0x80800000 openwrt-ar71xx-tl-wr941ndv2-squashfs.sysupgrade.bin
ar7100&gt; erase.b 0xbf020000 +0x3c0000
ar7100&gt; cp.b 0x80800000 0xbf020000 0x3c0000
ar7100&gt; reset</pre>

</p>

<p>
<span style="color: red;"><strong>Note #1:</strong></span> <em>0x3c0000</em> is the size of the firmware, be aware that you may have a different size thus bricking your router.
</p>

<p>
<span style="color: red;"><strong>Note #2:</strong></span> <em>0xbf020000</em> is the from addr, for your device version you can get it by issuing the command: &quot;<em>printenv bootcmd</em>&quot;, not doing so will turn your router into a brick.
</p>

</div>

<h3 class="sectionedit13" id="revert_to_original_firmware">Revert to original firmware</h3>
<div class="level3">

</div>
<div class="plugin_include_content plugin_include__meta:infobox:dangerous">
<div class="level3">

<p>

<table class="inline" style="width:70%; margin-left:15%">
  <tr>
    <td style="border-left:6px solid #cd0505; vertical-align:middle">
      <img src="../../_media/meta/icons/tango/48px-dialog-warning.svg.png" alt="" style="float:left; margin-right:0.5em" />
      <strong>Warning!</strong><br />
      This section describes actions that might damage your device or firmware. Proceed with care!
    </td>
  </tr>
</table>

</p>

</div>
</div>
<div class="level3">

<p>
You can download the original firmware from the TP-LINK support section and flash it without modification.
</p>
<div class="table sectionedit16"><table class="inline">
	<tr class="row0">
		<td class="col0"> Only perform the dd action below if your original firmware has the word &quot;<strong>boot</strong>&quot; in it, for example, &quot;<em>wr941nv4_en_3_9_17_up_boot(091118).bin</em>&quot;. <strong>DO NOT</strong> dd your original firmware if it has no &quot;<strong>boot</strong>&quot; in its name, for example, &quot;<em>wr941nv4_en_3_11_5_up(100427).bin</em>&quot;, because if you do, <strong>you will brick your router</strong> ! This was confirmed by supertom64 in wr1043nd. </td>
	</tr>
	<tr class="row1">
		<td class="col0"> Cut first 0x20200 bytes from original firmware containing <strong>boot</strong> in the filename: </td>
	</tr>
</table></div>

<p>
<pre class="code">dd if=orig.bin of=tplink_boot.bin skip=257 bs=512</pre>

</p>

<p>
Flash via uboot or mtd, you <strong>cannot</strong> flash via WebGUI otherwise you will turn your router into brick.
</p>

<p>
First you need to get the firmware file onto your box. If you are able to connect to your OpenWrt console and you have your network configured properly, you can use wget or scp to copy the firmware binary into the /tmp folder.
</p>

<p>
To start flashing via mtd you have to call (<em>wr.bin</em> is the file containing the firmware you previously downloaded):
</p>

<p>
<pre class="code">root@OpenWrt:/tmp# mtd -r write wr.bin firmware
Unlocking firmware ...

Writing from wr.bin to firmware ...
Rebooting ...
Terminated</pre>

</p>

</div>

<h2 class="sectionedit17" id="failsafe_mode">Failsafe mode</h2>
<div class="level2">

<p>
→<a href="../../doc/howto/generic.failsafe" class="wikilink1" title="doc:howto:generic.failsafe">generic.failsafe</a>
</p>

<p>
<em class="u"><strong>NETWORKING IN FAILSAFE MODE IS CURRENTLY BROKEN</strong></em> - See <a href="https://dev.openwrt.org/ticket/10436" class="urlextern" title="https://dev.openwrt.org/ticket/10436"  rel="nofollow">https://dev.openwrt.org/ticket/10436</a>
</p>
<ul>
<li class="level1"><div class="li"> While the SYS LED is on immediately press the QSS button.</div>
</li>
<li class="level1"><div class="li"> If done right the SYS LED will start flashing very quickly.</div>
</li>
</ul>

</div>

<h2 class="sectionedit18" id="hardware">Hardware</h2>
<div class="level2">

</div>

<h3 class="sectionedit19" id="info">Info</h3>
<div class="level3">
<div class="table sectionedit20"><table class="inline">
	<tr class="row0">
		<td class="col0"> <strong>Instruction set:</strong> MIPS </td>
	</tr>
	<tr class="row1">
		<td class="col0"> <strong>Vendor:</strong> Atheros </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <strong>Bootloader:</strong> uboot </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <strong>System-On-Chip:</strong> AP81 </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <strong>CPU Speed:</strong> 400 Mhz </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <strong>Flash-Chip:</strong> S25FL032P (HW Ver 3.6) </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <strong>Flash size:</strong> 4 MiB </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <strong>RAM:</strong> 32 MiB </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <strong>Wireless:</strong> Atheros AR9103 802.11n </td>
	</tr>
	<tr class="row9">
		<td class="col0"> <strong>Ethernet:</strong> Switch part of SoC </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <strong>USB:</strong> No, but USB port header has been discovered on the board </td>
	</tr>
	<tr class="row11">
		<td class="col0"> <strong>Serial:</strong> <a href="http://wiki.openwrt.org/inbox#serial" class="wikilink2" title="inbox" rel="nofollow">Yes</a> </td>
	</tr>
	<tr class="row12">
		<td class="col0"> <strong>JTAG:</strong> <a href="http://wiki.openwrt.org/inbox#jtag" class="wikilink2" title="inbox" rel="nofollow">N/A</a> </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit21" id="photos">Photos</h3>
<div class="level3">

<p>
TODO.
</p>

</div>

<h3 class="sectionedit22" id="opening_the_case">Opening the case</h3>
<div class="level3">

<p>
<strong>Note:</strong> This will void your warranty! These instructions are not very good! (yet…)
</p>
<ol>
<li class="level1"><div class="li"> There are two screws underneath the rubber feet at the back (were the RJ45 jacks are) of the device. Remove those.</div>
</li>
<li class="level1"><div class="li"> Remove the front plastic piece.</div>
</li>
<li class="level1"><div class="li"> Try to open the white plastic cover at the top only a little bit.</div>
</li>
<li class="level1"><div class="li"> Unhinge the plastic cover at the front.</div>
</li>
</ol>

<p>
There is also an easy way to do it
</p>
<ol>
<li class="level1"><div class="li"> Remove those two screws underneath the rubber feet at the back</div>
</li>
<li class="level3"><div class="li"> Get your nails in the grooves underneath the router and lift the panel</div>
</li>
<li class="level3"><div class="li"> Use your nails and slowly go around the case to Unhinge the plastic cover at the front</div>
</li>
</ol>

<p>
<em>Main PCB (not V3.2)</em>
</p>

<p>
<a href="../../_detail/inbox/tl-wr941nd-board.jpg?id=toh%253Atp-link%253Atl-wr941nd" class="media" title="inbox:tl-wr941nd-board.jpg"><img src="../../_media/inbox/tl-wr941nd-board.jpg?w=400&amp;tok=2428c1" class="media" alt="" width="400" /></a>
</p>

<p>
serial pin ver: 5.1
</p>

<p>
<a href="../../_detail/toh/tp-link/tl-wr941nd.v5.1.jpg?id=toh%253Atp-link%253Atl-wr941nd" class="media" title="toh:tp-link:tl-wr941nd.v5.1.jpg"><img src="../../_media/toh/tp-link/tl-wr941nd.v5.1.jpg?w=400&amp;tok=bcb654" class="media" alt="" width="400" /></a>
</p>

</div>

<h3 class="sectionedit23" id="serial">Serial</h3>
<div class="level3">

<p>
Look at the PCB picture. Serial port is located were the 4 wires are soldered to the board. The left one (green) is soldered to the pad labeled &quot;P1&quot;.<br/>

Pinout of the port is : |TX|RX|GND|VCC(3.3)| (direction as seen in PCB picture below; Pad &quot;P1&quot; is TX)<br/>

Before you can use the serial port you have to bridge R356. (A smd pad right underneath the serial port pad &quot;P1&quot;).
</p>

<p>
It is not possible to directly connect the serial port to one of your computer (voltage mismatch). You have to use a converter (i.e. a Nokia CA-42 cable, serial to USB converter or something similar. An Arduino MEGA with a simple serial bridge also works). 
</p>

<p>
On the ver3 board, there is a 4.7k pull-down resistor on the RX pin. To interface with 5V devices (such as the Arduino MEGA), use a 2k2 resistor in series with the RX pin (Arduino&#039;s TX pin). Arduino&#039;s RX pin can be connected directly with the router&#039;s TX pin.
</p>

<p>
<a href="../../_detail/toh/tp-link/serial_if.jpg?id=toh%253Atp-link%253Atl-wr941nd" class="media" title="toh:tp-link:serial_if.jpg"><img src="../../_media/toh/tp-link/serial_if.jpg?w=400&amp;tok=a147aa" class="media" alt="" width="400" /></a>
</p>

<p>
<strong>PCB WR941ND Ver: 3</strong>
</p>

<p>
<a href="../../_detail/media/qq20130527-2.png?id=toh%253Atp-link%253Atl-wr941nd" class="media" title="media:qq20130527-2.png"><img src="../../_media/media/qq20130527-2.png?w=400&amp;tok=fcb512" class="media" alt="" width="400" /></a>
</p>

<p>
<strong>PCB WR941ND Ver: 6</strong>
</p>

<p>
Once the original firmware has booted up completely, you can press <strong>return</strong> to activate the Linux login prompt.
</p>

<p>
The password to get a root Shell access is <strong>5up</strong>:
<pre class="code">TL-WR941N mips #32 Wed Oct 17 18:08:12 PDT 2012
TL-WR941N login: root
password: 5up</pre>

</p>

</div>

<h3 class="sectionedit24" id="jtag">JTAG</h3>
<div class="level3">

<p>
TODO
</p>

</div>

<h2 class="sectionedit25" id="specific_configuration">Specific configuration</h2>
<div class="level2">

</div>

<h3 class="sectionedit26" id="vlan_config">VLAN Config</h3>
<div class="level3">

<p>
Setting up VLAN is a bit different from other devices:
</p>

<p>
First, you have to edit /etc/rc.local (sample config for VLAN 100 and 200 on trunk port lan4):
<code>
# Put your custom commands here that should be executed once
# the system init finished. By default this file does nothing.
vconfig add lan4 100
vconfig add lan4 200
ifconfig lan4.100 up
ifconfig lan4.200 up
exit 0
</code>
</p>

<p>
Then, you have to edit /etc/config/network and reboot the device (that /etc/rc.local is executed):
<code>
config interface vlan100
        option ifname   &quot;lan1 lan2 lan3 lan4.100&quot;
        #[…]
config interface vlan200
        option ifname &quot;lan4.200&quot;

</code>
</p>

</div>

<h3 class="sectionedit27" id="buttons">Buttons</h3>
<div class="level3">

<p>
The device has 2 buttons:
</p>
<ul>
<li class="level1"><div class="li"> the reset button at the back</div>
</li>
<li class="level1"><div class="li"> the &quot;QSS&quot; labeled button at the front</div>
</li>
</ul>

</div>

<h2 class="sectionedit28" id="basic_configuration">Basic configuration</h2>
<div class="level2">

<p>
Since this part is identical for all devices, see <a href="../../doc/howto/configuration" class="wikilink1" title="doc:howto:basic.config">Basic configuration</a>.
</p>

</div>

<h2 class="sectionedit29" id="connect_stuff_to_the_usb_port">Connect stuff to the USB port</h2>
<div class="level2">

<p>
If you have an USB port, please see <a href="../../doc/howto/usb.overview" class="wikilink1" title="doc:howto:usb.overview">Connect stuff to the USB port</a>.
</p>

</div>

<h2 class="sectionedit30" id="hardware_mods">Hardware mods</h2>
<div class="level2">

</div>

<h3 class="sectionedit31" id="usb">USB</h3>
<div class="level3">

<p>
WR941n Ver.5.1
</p>

<p>
<a href="../../_detail/toh/tp-link/usb.wr941n.ver.5.1.jpg?id=toh%253Atp-link%253Atl-wr941nd" class="media" title="toh:tp-link:usb.wr941n.ver.5.1.jpg"><img src="../../_media/toh/tp-link/usb.wr941n.ver.5.1.jpg" class="media" alt="" /></a>
</p>

<p>
<a href="https://forum.openwrt.org/viewtopic.php?id=18354" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=18354"  rel="nofollow">Unpowered USB header on board</a>
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://download.lark.net.cn/wr941n/hack/" class="urlextern" title="http://download.lark.net.cn/wr941n/hack/"  rel="nofollow">lark´s wr941nd files</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://forum.openwrt.org/viewtopic.php?id=18354" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=18354"  rel="nofollow">https://forum.openwrt.org/viewtopic.php?id=18354</a></div>
</li>
</ul>

</div>

<h2 class="sectionedit32" id="tags">Tags</h2>
<div class="level2">
<div class="tags"><span>
	<a href="../../tag/fastethernet?do=showtag&amp;tag=FastEthernet" class="wikilink1" title="tag:fastethernet" rel="tag">FastEthernet</a>,
	<a href="../../tag/1nic?do=showtag&amp;tag=1NIC" class="wikilink1" title="tag:1nic" rel="tag">1NIC</a>,
	<a href="../../tag/1wnic?do=showtag&amp;tag=1WNIC" class="wikilink1" title="tag:1wnic" rel="tag">1WNIC</a>,
	<a href="../../tag/ath9k?do=showtag&amp;tag=ath9k" class="wikilink1" title="tag:ath9k" rel="tag">ath9k</a>
</span></div>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/tp-link/tl-wr941nd.txt</bdi> · Last modified: 2015/05/10 22:20 by <bdi>aczlan</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="tl-wr941nd?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="tl-wr941nd?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="tl-wr941nd?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="tl-wr941nd#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Atp-link%253Atl-wr941nd&amp;1432266258" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
