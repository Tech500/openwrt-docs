<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>Pinout of AR9331-AL1A in TP-Link TL-WR703N/TL-MR-3020 [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="pinout,sdram,ethernet,usb,wlan,gpios,fastethernet,1nic,1wnic,no switch,serial,integrated,802.11bgn,ar9331,ath9k,1ant,32ram,4flash,mips,mips32,24k,ap121"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../../index.html"/>
<link rel="contents" href="http://wiki.openwrt.org/toh/tp-link/tl-wr703n/ar9331_pinout?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="http://wiki.openwrt.org/feed.php?mode=list&amp;ns=toh:tp-link:tl-wr703n"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="http://wiki.openwrt.org/_export/xhtml/toh/tp-link/tl-wr703n/ar9331_pinout"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="http://wiki.openwrt.org/_export/raw/toh/tp-link/tl-wr703n/ar9331_pinout"/>
<link rel="canonical" href="ar9331_pinout"/>
<link rel="stylesheet" type="text/css" href="../../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:tp-link:tl-wr703n';var JSINFO = {"id":"toh:tp-link:tl-wr703n:ar9331_pinout","namespace":"toh:tp-link:tl-wr703n"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432279583 166.182.3.204';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="ar9331_pinout#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../../start"  accesskey="h" title="[H]"><img src="../../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr703n/ar9331_pinout?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr703n/ar9331_pinout?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:tp-link:tl-wr703n:ar9331_pinout" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr703n/ar9331_pinout?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr703n/ar9331_pinout?do=media&amp;ns=toh%3Atp-link%3Atl-wr703n"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr703n/ar9331_pinout?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="../start" class="wikilink1" title="toh:tp-link:start">TP-Link</a></bdi> » <bdi><a href="../tl-wr703n" class="wikilink1" title="toh:tp-link:tl-wr703n">TP-Link TL-WR703N</a></bdi> » <bdi><span class="curid"><a href="ar9331_pinout" class="wikilink1" title="toh:tp-link:tl-wr703n:ar9331_pinout">Pinout of AR9331-AL1A in TP-Link TL-WR703N/TL-MR-3020</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/tp-link/tl-wr703n/ar9331_pinout" class="media" title="cz:toh:tp-link:tl-wr703n:ar9331_pinout"><img src="../../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/tp-link/tl-wr703n/ar9331_pinout" class="media" title="de:toh:tp-link:tl-wr703n:ar9331_pinout"><img src="../../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="ar9331_pinout" class="media" title="toh:tp-link:tl-wr703n:ar9331_pinout"><img src="../../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/tp-link/tl-wr703n/ar9331_pinout" class="media" title="es:toh:tp-link:tl-wr703n:ar9331_pinout"><img src="../../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/tp-link/tl-wr703n/ar9331_pinout" class="media" title="fr:toh:tp-link:tl-wr703n:ar9331_pinout"><img src="../../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/tp-link/tl-wr703n/ar9331_pinout" class="media" title="hu:toh:tp-link:tl-wr703n:ar9331_pinout"><img src="../../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/tp-link/tl-wr703n/ar9331_pinout" class="media" title="jp:toh:tp-link:tl-wr703n:ar9331_pinout"><img src="../../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/tp-link/tl-wr703n/ar9331_pinout" class="media" title="pl:toh:tp-link:tl-wr703n:ar9331_pinout"><img src="../../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/tp-link/tl-wr703n/ar9331_pinout" class="media" title="pt-br:toh:tp-link:tl-wr703n:ar9331_pinout"><img src="../../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/tp-link/tl-wr703n/ar9331_pinout" class="media" title="ru:toh:tp-link:tl-wr703n:ar9331_pinout"><img src="../../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/tp-link/tl-wr703n/ar9331_pinout" class="media" title="tr:toh:tp-link:tl-wr703n:ar9331_pinout"><img src="../../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/tp-link/tl-wr703n/ar9331_pinout" class="media" title="zh-cn:toh:tp-link:tl-wr703n:ar9331_pinout"><img src="../../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/tp-link/tl-wr703n/ar9331_pinout" class="media" title="zh-tw:toh:tp-link:tl-wr703n:ar9331_pinout"><img src="../../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:tp-link:tl-wr703n:ar9331_pinout</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="ar9331_pinout#how_was_this_pinout_obtained">How was this pinout obtained?</a></div></li>
<li class="level1"><div class="li"><a href="ar9331_pinout#dual_row_microleadframe_package">Dual Row MicroLeadFrame Package</a></div></li>
<li class="level1"><div class="li"><a href="ar9331_pinout#unconnected_pins">Unconnected Pins</a></div></li>
<li class="level1"><div class="li"><a href="ar9331_pinout#pins_with_vias">Pins with Vias</a></div></li>
<li class="level1"><div class="li"><a href="ar9331_pinout#interconnected_pins">Interconnected Pins</a></div></li>
<li class="level1"><div class="li"><a href="ar9331_pinout#function_blocks">Function blocks</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="ar9331_pinout#sdram_interface">SDRAM Interface</a></div></li>
<li class="level2"><div class="li"><a href="ar9331_pinout#ethernet_interface">Ethernet Interface</a></div></li>
<li class="level2"><div class="li"><a href="ar9331_pinout#usb_interface">USB Interface</a></div></li>
<li class="level2"><div class="li"><a href="ar9331_pinout#wlan_interface">WLAN Interface</a></div></li>
<li class="level2"><div class="li"><a href="ar9331_pinout#crystal">Crystal</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="ar9331_pinout#gpios">GPIOs</a></div></li>
<li class="level1"><div class="li"><a href="ar9331_pinout#conclusion">Conclusion</a></div></li>
<li class="level1"><div class="li"><a href="ar9331_pinout#tags">Tags</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="pinout_of_ar9331-al1a_in_tp-link_tl-wr703ntl-mr-3020">Pinout of AR9331-AL1A in TP-Link TL-WR703N/TL-MR-3020</h1>
<div class="level1">

<p>
<strong>UPDATE</strong>: Here is a link to the full datasheet: <a href="http://www.scribd.com/doc/132231193/AR9331-datasheet" class="urlextern" title="http://www.scribd.com/doc/132231193/AR9331-datasheet"  rel="nofollow">http://www.scribd.com/doc/132231193/AR9331-datasheet</a> , from which the detailed pinout:
</p>

<p>
<a href="http://wiki.openwrt.org/_detail/media/ar9331.png?id=toh%3Atp-link%3Atl-wr703n%3Aar9331_pinout" class="media" title="media:ar9331.png"><img src="http://wiki.openwrt.org/_media/media/ar9331.png" class="media" alt="" /></a>
</p>

<p>
Here is the currently known pinout of the Atheros AR9331-AL1A chip, as used in the TP-Link TL-WR703N and TL-MR3020 pocket routers:
</p>

<p>
<a href="http://wiki.openwrt.org/_detail/toh/tp-link/ar9331.pinout.bg.png?id=toh%3Atp-link%3Atl-wr703n%3Aar9331_pinout" class="media" title="toh:tp-link:ar9331.pinout.bg.png"><img src="../../../_media/toh/tp-link/ar9331.pinout.bg.png" class="media" alt="" /></a>
</p>

</div>

<h2 class="sectionedit2" id="how_was_this_pinout_obtained">How was this pinout obtained?</h2>
<div class="level2">

<p>
As explained in <a href="https://forum.openwrt.org/viewtopic.php?id=36471&amp;p=1" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=36471&amp;p=1"  rel="nofollow">this OpenWRT Forum thread</a>, unfortunately, the pinout for the Atheros AR9331 chip is not publicly available.
</p>

<p>
So, this pinout was obtained by reverse-engineering some routers from TP-Link containing this chip in different configurations:
</p>
<ul>
<li class="level1"><div class="li"> In the <a href="../tl-wr703n#internalpictures" class="wikilink1" title="toh:tp-link:tl-wr703n">TL-WR703N</a>, as it is the smallest device with the minimum features</div>
</li>
<li class="level1"><div class="li"> In the <a href="../tl-mr3020#internalpictures" class="wikilink1" title="toh:tp-link:tl-mr3020">TL-MR3020</a>, as it is a slightly improved device compared to the TL-WR703, featuring more LEDs/switches and a &quot;diversity&quot; antenna</div>
</li>
<li class="level1"><div class="li"> In the <a href="../tl-wr741nd#photos" class="wikilink1" title="toh:tp-link:tl-wr741nd">TL-WR741ND</a>, as it is a full-fledge 5 port Wifi router/switch</div>
</li>
<li class="level1"><div class="li"> In the <a href="../tl-mr3040#photos" class="wikilink1" title="toh:tp-link:tl-mr3040">TL-MR3040</a>, a portable router with battery although a little different from these but all it´s information is in the page</div>
</li>
</ul>

<p>
In this regard, the picture of a TL-WR703N PCB taken by forum user &quot;<a href="https://forum.openwrt.org/profile.php?id=97516" class="urlextern" title="https://forum.openwrt.org/profile.php?id=97516"  rel="nofollow">NutBolt</a>&quot; with the AR9331 chip removed was invaluable:
</p>

<p>
<a href="http://wiki.openwrt.org/lib/exe/fetch.php?tok=46f601&amp;media=http%3A%2F%2Fnut-bolt.nl%2Fassets%2Fwr703n-soc-removed.jpg" class="media" title="http://nut-bolt.nl/assets/wr703n-soc-removed.jpg"><img src="http://wiki.openwrt.org/lib/exe/fetch.php?w=600&amp;tok=547675&amp;media=http%3A%2F%2Fnut-bolt.nl%2Fassets%2Fwr703n-soc-removed.jpg" class="media" alt="" width="600" /></a>
</p>

<p>
The previous study of <a href="pcb" class="wikilink1" title="toh:tp-link:tl-wr703n:pcb">TL-WR703N PCB details</a> was also very instructive.
</p>

</div>

<h2 class="sectionedit3" id="dual_row_microleadframe_package">Dual Row MicroLeadFrame Package</h2>
<div class="level2">

<p>
The first problem was to identify this strange package with dual row pinout.
</p>

<p>
It turned out that this is a &quot;Dual Row MicroLeadFrame ©&quot; (DRMLF) package from Amkor, described <a href="http://www.practicalcomponents.com/amkor/amkor-drmlf.htm" class="urlextern" title="http://www.practicalcomponents.com/amkor/amkor-drmlf.htm"  rel="nofollow">here</a>, with drawings available <a href="http://www.practicalcomponents.com/component-drawings.php?panel=DualRowMLF" class="urlextern" title="http://www.practicalcomponents.com/component-drawings.php?panel=DualRowMLF"  rel="nofollow">here</a>.
</p>

<p>
An application Note describing the DRMLF footprint is available <a href="http://www.amkor.com/download.cfm?downloadfile=E1A382DF-DE6E-0406-67A2C29846561710&amp;typename=dmFile&amp;fieldname=filename" class="urlextern" title="http://www.amkor.com/download.cfm?downloadfile=E1A382DF-DE6E-0406-67A2C29846561710&amp;typename=dmFile&amp;fieldname=filename"  rel="nofollow">here</a>.
</p>

<p>
The particular Atheros AR9331-AL1A chip is a DRMLF164 164-pin, 0.5 mm pitch, 12x12 mm package, with some missing pins in the corners (2 pins on row &quot;A&quot;, except in NE corner where only 1 row &quot;A&quot; pin is missing, but where a &quot;B pin is missing). These missing pins are filled with white in the pinout picture above. This lefts us with the following available pins numbers:
</p>
<ul>
<li class="level1"><div class="li"> West Side :  A3-A20,  B1-B19</div>
</li>
<li class="level1"><div class="li"> South Side: A25-A42, B20-B38</div>
</li>
<li class="level1"><div class="li"> East Side : A47-A65, B39-B56</div>
</li>
<li class="level1"><div class="li"> North Side: A68-A86, B59-B76</div>
</li>
</ul>

</div>

<h2 class="sectionedit4" id="unconnected_pins">Unconnected Pins</h2>
<div class="level2">

<p>
Once the package identified and as it is an SMT device, it is straightforward to identify the pins that are not connected to anything. These pins have been marked as &quot;NC&quot; in the pinout drawing above.
</p>

</div>

<h2 class="sectionedit5" id="pins_with_vias">Pins with Vias</h2>
<div class="level2">

<p>
The next step is to identify all the pins that are connected directly to a via: most of the time (not always…), these vias are directly connected to ground or to a power supply rail. These pins have been identified using a small &quot;blue pin&quot; in the pinout drawing above.
</p>

</div>

<h2 class="sectionedit6" id="interconnected_pins">Interconnected Pins</h2>
<div class="level2">

<p>
Some pins are inter-connected: this is identified by a green line in the pinout drawing.
</p>

</div>

<h2 class="sectionedit7" id="function_blocks">Function blocks</h2>
<div class="level2">

<p>
Until now, everything was easy. Now is the tough job trying to understand the different available functions on the board:
</p>

</div>

<h3 class="sectionedit8" id="sdram_interface">SDRAM Interface</h3>
<div class="level3">

<p>
From all the PCB pictures, it is pretty obvious that all the pins on the W/NNW sides are related to the SDRAM, as each pin is routed through a series resistor to an SDRAM chip pin. The exact pinout was not established, as this part is not interesting for hacking these routers, and is left as an exercise to the reader!
</p>

<p>
The corresponding pins are however outlined in yellow, as will be all the other identified function blocks.
</p>

</div>

<h3 class="sectionedit9" id="ethernet_interface">Ethernet Interface</h3>
<div class="level3">

<p>
What is striking when looking at the TL-WR741ND PCB picture is the profusion of Ethernet sockets at the bottom of the picture: 5 of them: 1 is blue and probably used for uplink WAN connection, and 4 yellow for <abbr title="Local Area Network">LAN</abbr> connections.
</p>

<p>
Signals going out of these sockets go through the standard Ethernet &quot;magnetic&quot; transformers for both isolation and common-mode noise filtering (2 dual + 1 single device), then through classical R/C Pi networks, before being routed as dual differential pairs (RX-/RX+ and TX-/TX+) to the AR9331 chip itself.
</p>

<p>
From this, it is easy to understand that the AR9331 contains an integrated 5x Ethernet switch, out of which only one Ethernet port is used in the TL-WR703N/TL-MR3020 routers. This is probably related to the low-power supply available in these pocket routers.
</p>

<p>
However, this helps finding some more pins on the AR9331 chip: the 5 Ethernet interfaces are outlined in yellow in the pinout drawing.
</p>

<p>
Sorry, but it seems difficult to add more Ethernet I/F to the TL-WR703N/TL-MR3020 pocket routers <img src="../../../lib/images/smileys/icon_sad.gif" class="icon" alt=":-(" />
</p>

</div>

<h3 class="sectionedit10" id="usb_interface">USB Interface</h3>
<div class="level3">

<p>
As it is routed as a differential signal away from all other disturbing traces and very often features series resistors, the USB interface is easy to locate on all PCB pictures, and the corresponding block is outlined in yellow  in the pinout drawing.
</p>

<p>
Same thing as for Ethernet here: the AR9331 only contains a single USB device/host port <img src="../../../lib/images/smileys/icon_sad.gif" class="icon" alt=":-(" />
</p>

<p>
For those who aren&#039;t lucky to have the pins routed to accesibly pads, and if you can take the risk of DESTROYING YOUR ROUTER this <a href="https://forum.openwrt.org/viewtopic.php?id=33991" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=33991"  rel="nofollow">https://forum.openwrt.org/viewtopic.php?id=33991</a> is an insane mod <img src="../../../lib/images/smileys/icon_smile.gif" class="icon" alt=":-)" />
</p>

</div>

<h3 class="sectionedit11" id="wlan_interface">WLAN Interface</h3>
<div class="level3">

<p>
The TL-WR703N router only contains a single PCB antenna, whereas the TL-MR3020 router has 2, out of which only one seems to be used, based on the configuration of J1/J2/J4 jumpers. The TL-WR741ND has 2 antennas, 1 on the PCB, and 1 external.
</p>

<p>
The RF connections to the AR9331 are straightforward, located around the NE corner of the chip, outlined in yellow in the pinout drawing as usual.
</p>

</div>

<h3 class="sectionedit12" id="crystal">Crystal</h3>
<div class="level3">

<p>
The 25 <abbr title="Megahertz">MHz</abbr> crystal connections to the AR9331 are obvious, also outlined in yellow in the pinout drawing.
</p>

</div>

<h2 class="sectionedit13" id="gpios">GPIOs</h2>
<div class="level2">

<p>
We are left with the possible GPIO pins!
</p>

<p>
<strong>Worry free GPIO pins™:</strong>
If you have some DIY project use GPIO pins 18, 19, 20, 21, 22 and 23 without any worries, these pins are not used during booting. Other GPIO pins are not suitable for use if you don&#039;t know exactly what you are doing because they are used during boot process (bootstrap). 
</p>

<p>
Based on experiments and knowledge acquired in <a href="https://forum.openwrt.org/viewtopic.php?id=36471&amp;p=1" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=36471&amp;p=1"  rel="nofollow">the corresponding OpenWRT Forum thread</a> (thanks to everyone there <img src="../../../lib/images/smileys/icon_smile.gif" class="icon" alt=":-)" />), using the kernel interface to GPIOs and a digital multi-meter, it has been possible to locate most of the GPIO pins.
</p>

<p>
Here are the conventions used in the pinout drawing above:
</p>
<ul>
<li class="level1"><div class="li"> Labels in red depict GPIOs which seems to be used as bootstrap option switches: they are connected either to GND or VCC through a pull-up/pull-down resistor to provide a 0/1 option bit value for different settings. These pins are thus not recommended for usage as GPIOs, only for passive LEDs. Changing their default value requires some experiments, and most of the time, leads to the device not to boot properly. Hopefully, normal behavior can be restored most of the time by setting them back to the correct level. USE AT YOUR OWN RISKS!</div>
</li>
<li class="level1"><div class="li"> Values in brackets depict the default value at bootstrap, fixed by a pull-up/pull-down resistor</div>
</li>
<li class="level1"><div class="li"> Labels is bold face are the known purpose of the corresponding GPIO pin on the TL-WR703N/TL-MR3020 routers</div>
</li>
<li class="level1"><div class="li"> Labels within parenthesis are the known purpose of the corresponding GPIO pin on the TL-MR3020 router, which is not present en the TL-WR703N router</div>
</li>
</ul>

</div>

<h2 class="sectionedit14" id="conclusion">Conclusion</h2>
<div class="level2">

<p>
This pinout is a work in progress, so don&#039;t hesitate to report errors/additions either directly by editing this page or in the OpenWRT forum.
</p>

</div>

<h2 class="sectionedit15" id="tags">Tags</h2>
<div class="level2">
<hr />
<div class="tags"><span>
	<a href="http://wiki.openwrt.org/tag/pinout?do=showtag&amp;tag=PinOut" class="wikilink1" title="tag:pinout" rel="tag">PinOut</a>,
	<a href="http://wiki.openwrt.org/tag/sdram?do=showtag&amp;tag=SDRAM" class="wikilink1" title="tag:sdram" rel="tag">SDRAM</a>,
	<a href="http://wiki.openwrt.org/tag/ethernet?do=showtag&amp;tag=Ethernet" class="wikilink1" title="tag:ethernet" rel="tag">Ethernet</a>,
	<a href="../../../tag/usb?do=showtag&amp;tag=USB" class="wikilink1" title="tag:usb" rel="tag">USB</a>,
	<a href="http://wiki.openwrt.org/tag/wlan?do=showtag&amp;tag=WLAN" class="wikilink1" title="tag:wlan" rel="tag">WLAN</a>,
	<a href="http://wiki.openwrt.org/tag/gpios?do=showtag&amp;tag=GPIOs" class="wikilink1" title="tag:gpios" rel="tag">GPIOs</a>,
	<a href="../../../tag/fastethernet?do=showtag&amp;tag=FastEthernet" class="wikilink1" title="tag:fastethernet" rel="tag">FastEthernet</a>,
	<a href="../../../tag/1nic?do=showtag&amp;tag=1NIC" class="wikilink1" title="tag:1nic" rel="tag">1NIC</a>,
	<a href="../../../tag/1wnic?do=showtag&amp;tag=1WNIC" class="wikilink1" title="tag:1wnic" rel="tag">1WNIC</a>,
	<a href="../../../tag/no_switch?do=showtag&amp;tag=no_switch" class="wikilink1" title="tag:no_switch" rel="tag">no switch</a>,
	<a href="../../../tag/serial?do=showtag&amp;tag=Serial" class="wikilink1" title="tag:serial" rel="tag">Serial</a>,
	<a href="../../../tag/integrated?do=showtag&amp;tag=integrated" class="wikilink1" title="tag:integrated" rel="tag">integrated</a>,
	<a href="../../../tag/802.11bgn?do=showtag&amp;tag=802.11bgn" class="wikilink1" title="tag:802.11bgn" rel="tag">802.11bgn</a>,
	<a href="../../../tag/ar9331?do=showtag&amp;tag=AR9331" class="wikilink1" title="tag:ar9331" rel="tag">AR9331</a>,
	<a href="../../../tag/ath9k?do=showtag&amp;tag=ath9k" class="wikilink1" title="tag:ath9k" rel="tag">ath9k</a>,
	<a href="../../../tag/1ant?do=showtag&amp;tag=1Ant" class="wikilink1" title="tag:1ant" rel="tag">1Ant</a>,
	<a href="../../../tag/32ram?do=showtag&amp;tag=32RAM" class="wikilink1" title="tag:32ram" rel="tag">32RAM</a>,
	<a href="../../../tag/4flash?do=showtag&amp;tag=4Flash" class="wikilink1" title="tag:4flash" rel="tag">4Flash</a>,
	<a href="../../../tag/mips?do=showtag&amp;tag=MIPS" class="wikilink1" title="tag:mips" rel="tag">MIPS</a>,
	<a href="../../../tag/mips32?do=showtag&amp;tag=MIPS32" class="wikilink1" title="tag:mips32" rel="tag">MIPS32</a>,
	<a href="../../../tag/24k?do=showtag&amp;tag=24k" class="wikilink1" title="tag:24k" rel="tag">24k</a>,
	<a href="../../../tag/ap121?do=showtag&amp;tag=AP121" class="wikilink1" title="tag:ap121" rel="tag">AP121</a>
</span></div>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/tp-link/tl-wr703n/ar9331_pinout.txt</bdi> · Last modified: 2014/06/17 23:42 by <bdi>valentt</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr703n/ar9331_pinout?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr703n/ar9331_pinout?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr703n/ar9331_pinout?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="ar9331_pinout#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="http://wiki.openwrt.org/lib/exe/indexer.php?id=toh%3Atp-link%3Atl-wr703n%3Aar9331_pinout&amp;1432279583" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
