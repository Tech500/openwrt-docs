<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>TP-Link TL-MR3420, TL-MR3220, TL-WR841ND v7 &amp; TL-WR842ND [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="2011jan,fastethernet,5port,usb,usb2.0,1usb,serial,integrated,802.11bgn,1wnic,ar9285,ar9287,ath9k,1ant,2ant,detachableantenna,32ram,4flash,mips,mips32,24kc,ar7241"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="tl-mr3420?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:tp-link"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/tp-link/tl-mr3420"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/tp-link/tl-mr3420"/>
<link rel="canonical" href="tl-mr3220"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:tp-link';var JSINFO = {"id":"toh:tp-link:tl-mr3420","namespace":"toh:tp-link"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432268148 166.182.3.13';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="tl-mr3220#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="tl-mr3420?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="tl-mr3420?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:tp-link:tl-mr3420" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="tl-mr3420?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="tl-mr3420?do=media&amp;ns=toh%253Atp-link"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="tl-mr3420?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:tp-link:start">TP-Link</a></bdi> » <bdi><span class="curid"><a href="tl-mr3220" class="wikilink1" title="toh:tp-link:tl-mr3420">TP-Link TL-MR3420, TL-MR3220, TL-WR841ND v7 &amp; TL-WR842ND</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/tp-link/tl-mr3420" class="media" title="cz:toh:tp-link:tl-mr3420"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/tp-link/tl-mr3420" class="media" title="de:toh:tp-link:tl-mr3420"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="tl-mr3220" class="media" title="toh:tp-link:tl-mr3420"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/tp-link/tl-mr3420" class="media" title="es:toh:tp-link:tl-mr3420"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/tp-link/tl-mr3420" class="media" title="fr:toh:tp-link:tl-mr3420"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/tp-link/tl-mr3420" class="media" title="hu:toh:tp-link:tl-mr3420"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/tp-link/tl-mr3420" class="media" title="jp:toh:tp-link:tl-mr3420"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/tp-link/tl-mr3420" class="media" title="pl:toh:tp-link:tl-mr3420"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/tp-link/tl-mr3420" class="media" title="pt-br:toh:tp-link:tl-mr3420"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <a href="../../ru/toh/tp-link/tl-mr3420" class="media" title="ru:toh:tp-link:tl-mr3420"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/tp-link/tl-mr3420" class="media" title="tr:toh:tp-link:tl-mr3420"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/tp-link/tl-mr3420" class="media" title="zh-cn:toh:tp-link:tl-mr3420"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/tp-link/tl-mr3420" class="media" title="zh-tw:toh:tp-link:tl-mr3420"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:tp-link:tl-mr3420</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="tl-mr3220#supported_versions">Supported Versions</a></div></li>
<li class="level1"><div class="li"><a href="tl-mr3220#hardware_highlights">Hardware Highlights</a></div></li>
<li class="level1"><div class="li"><a href="tl-mr3220#installation">Installation</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-mr3220#tp-link_tl-wr741nd">TP-Link TL-WR741ND</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="tl-mr3220#hardware_highlights1">Hardware Highlights</a></div></li>
<li class="level3"><div class="li"><a href="tl-mr3220#supported_versions1">Supported Versions</a></div></li>
<li class="level3"><div class="li"><a href="tl-mr3220#installation1">Installation</a></div></li>
<li class="level3"><div class="li"><a href="tl-mr3220#hardware">Hardware</a></div></li>
<li class="level3"><div class="li"><a href="tl-mr3220#bootloader_mods">Bootloader Mods</a></div></li>
<li class="level3"><div class="li"><a href="tl-mr3220#hardware_mods">Hardware mods</a></div></li>
<li class="level3"><div class="li"><a href="tl-mr3220#software_mods">Software mods</a></div></li>
<li class="level3"><div class="li"><a href="tl-mr3220#specific_configuration">Specific configuration</a></div></li>
<li class="level3"><div class="li"><a href="tl-mr3220#basic_configuration">Basic configuration</a></div></li>
<li class="level3"><div class="li"><a href="tl-mr3220#connect_stuff_to_the_usb_port">Connect stuff to the USB port</a></div></li>
<li class="level3"><div class="li"><a href="tl-mr3220#other_info">Other Info</a></div></li>
<li class="level3"><div class="li"><a href="tl-mr3220#tags">Tags</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="tl-mr3220#flash_via_webinterface">Flash via Webinterface</a></div></li>
<li class="level2"><div class="li"><a href="tl-mr3220#flash_via_tftp">Flash via tftp</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="tl-mr3220#using_a_serial_line">Using a serial line</a></div></li>
<li class="level3"><div class="li"><a href="tl-mr3220#using_a_tftpd_server">Using a tftpd server</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-mr3220#hardware1">Hardware</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-mr3220#info">Info</a></div></li>
<li class="level2"><div class="li"><a href="tl-mr3220#photos1">Photos</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="tl-mr3220#mr3420_v1x">MR3420 v1.x</a></div></li>
<li class="level3"><div class="li"><a href="tl-mr3220#mr3220_v1x">MR3220 v1.x</a></div></li>
<li class="level3"><div class="li"><a href="tl-mr3220#mr3220_v2x">MR3220 v2.x</a></div></li>
<li class="level3"><div class="li"><a href="tl-mr3220#mr3420_v23">MR3420 v2.3</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="tl-mr3220#serial">Serial</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-mr3220#basic_configuration1">Basic configuration</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-mr3220#oem_firmware_features1">OEM firmware features</a></div></li>
<li class="level2"><div class="li"><a href="tl-mr3220#failsafe">Failsafe</a></div></li>
<li class="level2"><div class="li"><a href="tl-mr3220#important">IMPORTANT!</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="tl-mr3220#failed_setting_solution_not_the_failed_flash">FAILED SETTING SOLUTION (NOT THE FAILED FLASH!):</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-mr3220#connect_stuff_to_the_usb_port1">Connect stuff to the USB port</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-mr3220#turn_usb_power_off">Turn USB power off</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-mr3220#custom_openwrt_image_with_luci_integrated">Custom OpenWrt image with LuCi integrated</a></div></li>
<li class="level1"><div class="li"><a href="tl-mr3220#hardware_mods1">Hardware Mods</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-mr3220#deep_mmc_hack">Deep MMC Hack</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-mr3220#tags1">Tags</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="tp-link_tl-mr3420_tl-mr3220_tl-wr841nd_v7_tl-wr842nd">TP-Link TL-MR3420, TL-MR3220, TL-WR841ND v7 &amp; TL-WR842ND</h1>
<div class="level1">

<p>
The TP-Link TL-MR3420 is a Fast Ethernet b/g/n 300M (two 3 dBi omni-antennas) wireless router with USB 2.0.<br/>

The TP-Link TL-MR3220 is a Fast Ethernet b/g/n Lite-N 150M (one 5 dBi omni-antennae) wireless router with USB 2.0.<br/>

The TP-Link TL-WR842ND is a Fast Ethernet b/g/n 300M (two 5 dBi omni-antennas) wireless router with USB 2.0.<br/>

The TP-Link TL-WR841ND v7 is a Fast Ethernet b/g/n 300M (two 3 dBi omni-antennas) wireless router without USB 2.0, but has a header in place.
</p>

</div>

<h2 class="sectionedit2" id="supported_versions">Supported Versions</h2>
<div class="level2">
<div class="table sectionedit3"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Model Version </th><th class="col1"> FCC ID </th><th class="col2"> Supported Since OpenWrt Version </th><th class="col3"> Model Specific Notes </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> MR3220 v1 </td><td class="col1"> <a href="https://fjallfoss.fcc.gov/oetcf/eas/reports/ViewExhibitReport.cfm?mode=Exhibits&amp;RequestTimeout=500&amp;calledFromFrame=N&amp;application_id=580861&amp;fcc_id=%27TE7MR3220%27" class="urlextern" title="https://fjallfoss.fcc.gov/oetcf/eas/reports/ViewExhibitReport.cfm?mode=Exhibits&amp;RequestTimeout=500&amp;calledFromFrame=N&amp;application_id=580861&amp;fcc_id=%27TE7MR3220%27"  rel="nofollow">TE7MR3220</a> </td><td class="col2"> Attitude Adjustment (<a href="https://dev.openwrt.org/changeset/24439" class="urlextern" title="https://dev.openwrt.org/changeset/24439"  rel="nofollow">r24439</a>) </td><td class="col3"> - </td>
	</tr>
	<tr class="row2">
		<td class="col0"> MR3220 v1.2 </td><td class="col1 leftalign">  </td><td class="col2">Attitude Adjustment (<a href="https://dev.openwrt.org/changeset/27340" class="urlextern" title="https://dev.openwrt.org/changeset/27340"  rel="nofollow">r27340</a>) </td><td class="col3"> <a href="https://forum.openwrt.org/viewtopic.php?id=30863" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=30863"  rel="nofollow"> Success </a> <a href="https://forum.openwrt.org/viewtopic.php?id=34156" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=34156"  rel="nofollow"> Success</a> <a href="../../es/doc/howto/3g.mr3220" class="wikilink1" title="es:doc:howto:3g.mr3220">Spanish 3G</a> </td>
	</tr>
	<tr class="row3">
		<td class="col0"> MR3220 v2 </td><td class="col1"> Aug-2012 </td><td class="col2"> WiP </td><td class="col3"> <a href="tl-ap121" class="wikilink1" title="toh:tp-link:tl-ap121">TL-AP121</a> <a href="https://forum.openwrt.org/viewtopic.php?pid=175777" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=175777"  rel="nofollow">Success</a> </td>
	</tr>
	<tr class="row4">
		<td class="col0"> MR3220 v2.1 </td><td class="col1"> <a href="https://apps.fcc.gov/oetcf/eas/reports/ViewExhibitReport.cfm?mode=Exhibits&amp;RequestTimeout=500&amp;calledFromFrame=N&amp;application_id=206193&amp;fcc_id=%27TE7MR3220V2%27" class="urlextern" title="https://apps.fcc.gov/oetcf/eas/reports/ViewExhibitReport.cfm?mode=Exhibits&amp;RequestTimeout=500&amp;calledFromFrame=N&amp;application_id=206193&amp;fcc_id=%27TE7MR3220V2%27"  rel="nofollow"> TE7MR3220V2 </a> </td><td class="col2"> Trunk </td><td class="col3"> <a href="https://forum.openwrt.org/viewtopic.php?id=44471" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=44471"  rel="nofollow"> Success </a> </td>
	</tr>
	<tr class="row5">
		<td class="col0"> MR3220 v2.2 </td><td class="col1 leftalign">  </td><td class="col2"> Trunk </td><td class="col3 leftalign">  </td>
	</tr>
	<tr class="row6">
		<td class="col0"> MR3420 v1.0 </td><td class="col1"> <a href="https://fjallfoss.fcc.gov/oetcf/eas/reports/ViewExhibitReport.cfm?mode=Exhibits&amp;RequestTimeout=500&amp;calledFromFrame=N&amp;application_id=315438&amp;fcc_id=%27TE7MR3420%27" class="urlextern" title="https://fjallfoss.fcc.gov/oetcf/eas/reports/ViewExhibitReport.cfm?mode=Exhibits&amp;RequestTimeout=500&amp;calledFromFrame=N&amp;application_id=315438&amp;fcc_id=%27TE7MR3420%27"  rel="nofollow">TE7MR3420</a> </td><td class="col2"> <img src="../../_media/meta/icons/tango/software-update-urgent.png?w=24&amp;tok=a981dc" class="medialeft" title="No failsafe " alt="No failsafe " width="24" /><del>Backfire 10.03.1</del> (<a href="https://dev.openwrt.org/changeset/23138" class="urlextern" title="https://dev.openwrt.org/changeset/23138"  rel="nofollow">r23138</a>) </td><td class="col3"> - </td>
	</tr>
	<tr class="row7">
		<td class="col0"> MR3420 v1.1 </td><td class="col1 leftalign">  </td><td class="col2"> <img src="../../_media/meta/icons/tango/software-update-urgent.png?w=24&amp;tok=a981dc" class="medialeft" title="No failsafe " alt="No failsafe " width="24" /><del>Backfire 10.03.1</del> (<a href="https://dev.openwrt.org/changeset/23138" class="urlextern" title="https://dev.openwrt.org/changeset/23138"  rel="nofollow">r23138</a>) </td><td class="col3"> <a href="https://forum.openwrt.org/viewtopic.php?id=27869" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=27869"  rel="nofollow"> Success </a> </td>
	</tr>
	<tr class="row8">
		<td class="col0"> MR3420 v1.2 </td><td class="col1 leftalign">  </td><td class="col2"> <img src="../../_media/meta/icons/tango/software-update-urgent.png?w=24&amp;tok=a981dc" class="medialeft" title="No failsafe " alt="No failsafe " width="24" /><del>Backfire 10.03.1</del> (<a href="https://dev.openwrt.org/changeset/23138" class="urlextern" title="https://dev.openwrt.org/changeset/23138"  rel="nofollow">r23138</a>) </td><td class="col3"> <a href="https://forum.openwrt.org/viewtopic.php?id=27869" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=27869"  rel="nofollow"> Success </a> </td>
	</tr>
	<tr class="row9">
		<td class="col0"> MR3420 v2 </td><td class="col1"> Aug-2012 </td><td class="col2"> Barrier Breaker </td><td class="col3"> <a href="tl-ap121" class="wikilink1" title="toh:tp-link:tl-ap121">TL-AP121</a> </td>
	</tr>
	<tr class="row10">
		<td class="col0"> MR3420 v2.1 </td><td class="col1"> Dec-2012 </td><td class="col2"> Barrier Breaker </td><td class="col3"> <strong>Don&#039;t works USB port and USB indicator</strong> </td>
	</tr>
	<tr class="row11">
		<td class="col0"> MR3420 v2.2 </td><td class="col1"> Mar-2014 </td><td class="col2"> Barrier Breaker </td><td class="col3"> Success </td>
	</tr>
	<tr class="row12">
		<td class="col0"> MR3420 v2.3 </td><td class="col1"> Mar-2014 </td><td class="col2"> Barrier Breaker </td><td class="col3"> Success (Did not test USB port) </td>
	</tr>
	<tr class="row13">
		<td class="col0"> WR841ND v7.1 </td><td class="col1"> - </td><td class="col2"> <img src="../../_media/meta/icons/tango/software-update-available.png?w=24&amp;tok=b273bc" class="medialeft" title="Known Bugs " alt="Known Bugs " width="24" /> AA 12.09b (<a href="https://dev.openwrt.org/changeset/23134" class="urlextern" title="https://dev.openwrt.org/changeset/23134"  rel="nofollow">r23134</a>) </td><td class="col3"> <a href="tl-wr841nd" class="wikilink1" title="toh:tp-link:tl-wr841nd">TL-WR841ND</a> </td>
	</tr>
	<tr class="row14">
		<td class="col0"> WR841ND v7.2 </td><td class="col1"> - </td><td class="col2"> <img src="../../_media/meta/icons/tango/software-update-available.png?w=24&amp;tok=b273bc" class="medialeft" title="Known Bugs " alt="Known Bugs " width="24" /> AA 12.09b (<a href="https://dev.openwrt.org/changeset/30310" class="urlextern" title="https://dev.openwrt.org/changeset/30310"  rel="nofollow">r30310</a>) </td><td class="col3"> - </td>
	</tr>
	<tr class="row15">
		<td class="col0"> WR842ND v1.0 </td><td class="col1"> TE7WR842ND </td><td class="col2"> <img src="../../_media/meta/icons/tango/software-update-available.png?w=24&amp;tok=b273bc" class="medialeft" title="Known Bugs " alt="Known Bugs " width="24" /> AA 12.09b (<a href="https://dev.openwrt.org/changeset/30508" class="urlextern" title="https://dev.openwrt.org/changeset/30508"  rel="nofollow">r30508</a>) </td><td class="col3"> <a href="tl-wr842nd" class="wikilink1" title="toh:tp-link:tl-wr842nd">TL-WR842ND</a> </td>
	</tr>
</table></div>

<p>
<img src="../../_media/meta/icons/tango/software-update-urgent.png?w=24&amp;tok=a981dc" class="medialeft" title="No failsafe " alt="No failsafe " width="24" /> The <a href="../../doc/howto/generic.failsafe" class="wikilink1" title="doc:howto:generic.failsafe">failsafe</a> function is not working at launch time, <a href="tl-mr3220#serial" title="toh:tp-link:tl-mr3420 ↵" class="wikilink1">serial</a> is also unfriendly: Stick to trunk. <a href="tl-mr3220#failsafe" title="toh:tp-link:tl-mr3420 ↵" class="wikilink1">More...</a>
</p>

<p>
<img src="../../_media/meta/icons/tango/48px-dialog-warning.svg.png?w=24&amp;tok=0fc4e5" class="medialeft" title="Stability warning " alt="Stability warning " width="24" /> Snapshot images are always risky. Check the forum discussion for latest opinions on available images.
</p>

<p>
<img src="../../_media/meta/icons/tango/software-update-available.png?w=24&amp;tok=b273bc" class="medialeft" title="Known Bugs " alt="Known Bugs " width="24" /> Has known bugs, read carefully: <a href="https://dev.openwrt.org/ticket/12135" class="urlextern" title="https://dev.openwrt.org/ticket/12135"  rel="nofollow">#12135</a>, <a href="https://dev.openwrt.org/ticket/12143" class="urlextern" title="https://dev.openwrt.org/ticket/12143"  rel="nofollow">#12143</a>. 
</p>

<p>
Firmware for <strong>3420 v2.1</strong> with <em class="u">working USB-port</em> (but not indicator) can be found at <a href="https://www.box.com/s/qebaprwq0798dyu19h1c" class="urlextern" title="https://www.box.com/s/qebaprwq0798dyu19h1c"  rel="nofollow">https://www.box.com/s/qebaprwq0798dyu19h1c</a>. Forum: <a href="https://forum.openwrt.org/viewtopic.php?pid=188467#p188467" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=188467#p188467"  rel="nofollow">https://forum.openwrt.org/viewtopic.php?pid=188467#p188467</a>
</p>

</div>

<h2 class="sectionedit4" id="hardware_highlights">Hardware Highlights</h2>
<div class="level2">
<div class="table sectionedit5"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Model </th><th class="col1"> CPU </th><th class="col2"> Ram </th><th class="col3"> Flash </th><th class="col4"> Network </th><th class="col5"> USB </th><th class="col6"> Serial </th><th class="col7"> JTag </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> MR3420 </td><td class="col1"> AP99 Atheros AR7241@400MHz </td><td class="col2"> 32 MiB </td><td class="col3"> 4 MiB </td><td class="col4"> 4 x 1 </td><td class="col5"> 2.0 </td><td class="col6"> Yes </td><td class="col7"> No </td>
	</tr>
	<tr class="row2">
		<td class="col0"> MR3220 </td><td class="col1"> AP99 Atheros AR7241@400MHz </td><td class="col2"> 32 MiB </td><td class="col3"> 4 MiB </td><td class="col4"> 4 x 1 </td><td class="col5"> 2.0 </td><td class="col6"> Yes </td><td class="col7"> No </td>
	</tr>
	<tr class="row3">
		<td class="col0"> WR841ND v7 </td><td class="col1"> AP99 Atheros AR7241@400MHz </td><td class="col2"> 32 MiB </td><td class="col3"> 4 MiB </td><td class="col4"> 4 x 1 </td><td class="col5"> Header </td><td class="col6"> Yes </td><td class="col7"> No </td>
	</tr>
	<tr class="row4">
		<td class="col0"> WR842ND </td><td class="col1"> AP99 Atheros AR7241@400MHz </td><td class="col2"> 32 MiB </td><td class="col3"> 8 MiB </td><td class="col4"> 4 x 1 </td><td class="col5"> 2.0 </td><td class="col6"> Yes </td><td class="col7"> No </td>
	</tr>
</table></div>

<p>
OEM source code available at:
for TL-MR3220 and TL-MR3420 V.1 - <a href="http://www.tp-link.com/resources/GPL/mr3420_3220v1.tar.gz" class="urlextern" title="http://www.tp-link.com/resources/GPL/mr3420_3220v1.tar.gz"  rel="nofollow">http://www.tp-link.com/resources/GPL/mr3420_3220v1.tar.gz</a>, 
for TL-MR3220 V.2 - <a href="http://www.tp-link.com/resources/gpl/150Router.rar" class="urlextern" title="http://www.tp-link.com/resources/gpl/150Router.rar"  rel="nofollow">http://www.tp-link.com/resources/gpl/150Router.rar</a>,
for TL-MR3420 V.2 - <a href="http://www.tp-link.com/resources/gpl/ap123_gpl.tar.gz" class="urlextern" title="http://www.tp-link.com/resources/gpl/ap123_gpl.tar.gz"  rel="nofollow">http://www.tp-link.com/resources/gpl/ap123_gpl.tar.gz</a>
</p>

</div>

<h5 id="wireless">Wireless</h5>
<div class="level5">

<p>
TL-MR3420, <br/>

TL-WR841ND v7 &amp;<br/>

TL-WR842ND: <a href="http://www.atheros.com/technology/technology.php?nav1=47&amp;product=80" class="urlextern" title="http://www.atheros.com/technology/technology.php?nav1=47&amp;product=80"  rel="nofollow">Atheros AR9287</a> wireless chip. Single-band, 2x2 MIMO configuration 
</p>

<p>
TL-MR3220: <a href="http://www.atheros.com/networking/brand.php?brand=3&amp;product=79" class="urlextern" title="http://www.atheros.com/networking/brand.php?brand=3&amp;product=79"  rel="nofollow">Atheros AR9285</a> wireless chip. Single-stream (no MIMO, Lite-N) 
</p>

</div>

<h2 class="sectionedit6" id="installation">Installation</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> <a href="../../doc/howtobuild/tl-mr3420.build" class="wikilink1" title="doc:howtobuild:tl-mr3420.build">TP-Link TL-MR3420 and TL-MR3220 howto build</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../es/doc/howto/3g.mr3220" class="wikilink1" title="es:doc:howto:3g.mr3220">TP-Link TL-MR3420, TL-MR3220 and TL-WR842MD howto 3G</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://ofmodemsandmen.com/downloads.html" class="urlextern" title="http://ofmodemsandmen.com/downloads.html"  rel="nofollow">3G and SMS binaries images</a></div>
</li>
</ul>

<p>
This section details what is required to install and upgrade OpenWrt.  First we link to software that you should download before you start reading the instructions on how to install.
</p>

<p>
<img src="../../_media/meta/icons/tango/48px-emblem-important.svg.png" class="medialeft" title="Important!" alt="Important!" />Please <strong>double-check</strong> if the image revision you are downloading is <strong>newer</strong> than supported by the &quot;Model Version&quot; of your router.
</p>
<ul>
<li class="level1"><div class="li">Download a <em>Install Image</em> from this group if is the first flash from OEM firmware:</div>
</li>
</ul>
<div class="table sectionedit7"><table class="inline">
	<thead>
	<tr class="row0">
		<td class="col0 rightalign" colspan="2">  *-factory.bin </td><th class="col2" colspan="3"> OpenWrt </th><th class="col5"> Gargoyle </th><th class="col6"> eko.one.pl </th><td class="col7"></td>
	</tr>
	<tr class="row1">
		<th class="col0" colspan="2"> Branch: </th><th class="col2"> <span style='color:red; background-color:black;'>Trunk</span><sup><a href="tl-mr3220#fn__1" id="fnt__1" class="fn_top">1)</a></sup> </th><th class="col3"> BB final </th><th class="col4"> AA Final </th><th class="col5" colspan="3"> Backfire </th>
	</tr>
	<tr class="row2">
		<th class="col0" colspan="2"> <span style='color:red; background-color:black;'>Web interface:</span> </th><th class="col2"> <span style='color:red; background-color:black;'>None</span> </th><th class="col3" colspan="3"> LuCI </th><th class="col6"> Gargoyle </th><th class="col7"> <span style='color:red; background-color:black;'>None</span> </th>
	</tr>
	</thead>
	<tr class="row3">
		<th class="col0" colspan="2"> MR3420 </th><td class="col2"> <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-mr3420-v1-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-mr3420-v1-squashfs-factory.bin"  rel="nofollow">r40698</a> </td><td class="col3"> </td><td class="col4"> <a href="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-mr3420-v1-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-mr3420-v1-squashfs-factory.bin"  rel="nofollow">r36088</a> </td><td class="col5"> <a href="http://downloads.openwrt.org/backfire/10.03.1/ar71xx/openwrt-ar71xx-tl-mr3420-v1-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/backfire/10.03.1/ar71xx/openwrt-ar71xx-tl-mr3420-v1-squashfs-factory.bin"  rel="nofollow">r29592</a> </td><td class="col6"> <a href="http://www.gargoyle-router.com/downloads/images/ar71xx/gargoyle_1.5.4-ar71xx-tl-mr3420-v1-squashfs-factory.bin" class="urlextern" title="http://www.gargoyle-router.com/downloads/images/ar71xx/gargoyle_1.5.4-ar71xx-tl-mr3420-v1-squashfs-factory.bin"  rel="nofollow">r30752</a> </td><td class="col7"> <a href="http://ecco.selfip.net/backfire/ar71xx/openwrt-ar71xx-tl-mr3420-v1-squashfs-factory.bin" class="urlextern" title="http://ecco.selfip.net/backfire/ar71xx/openwrt-ar71xx-tl-mr3420-v1-squashfs-factory.bin"  rel="nofollow">r31348
</a> </td>
	</tr>
	<tr class="row4">
		<th class="col0" colspan="2"> MR3420 V2 </th><td class="col2"> <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-mr3420-v2-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-mr3420-v2-squashfs-factory.bin"  rel="nofollow">trunk</a> </td><td class="col3"> </td><td class="col4"> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> </td>
	</tr>
	<tr class="row5">
		<th class="col0" colspan="2"> MR3220 </th><td class="col2"> <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-mr3220-v1-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-mr3220-v1-squashfs-factory.bin"  rel="nofollow">r40698</a> </td><td class="col3"> </td><td class="col4"> <a href="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-mr3220-v1-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-mr3220-v1-squashfs-factory.bin"  rel="nofollow">r36088</a> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> <a href="http://ecco.selfip.net/backfire/ar71xx/openwrt-ar71xx-tl-mr3220-v1-squashfs-factory.bin" class="urlextern" title="http://ecco.selfip.net/backfire/ar71xx/openwrt-ar71xx-tl-mr3220-v1-squashfs-factory.bin"  rel="nofollow">r31348
</a> </td>
	</tr>
	<tr class="row6">
		<th class="col0" colspan="2"> MR3220 V2 </th><td class="col2"> <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-mr3220-v2-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-mr3220-v2-squashfs-factory.bin"  rel="nofollow">trunk</a> </td><td class="col3"> </td><td class="col4"> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> </td>
	</tr>
	<tr class="row7">
		<th class="col0" colspan="2"> WR841N v7 </th><td class="col2"> <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr841nd-v7-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr841nd-v7-squashfs-factory.bin"  rel="nofollow">r40698</a> </td><td class="col3"> </td><td class="col4"> <a href="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-wr841nd-v7-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-wr841nd-v7-squashfs-factory.bin"  rel="nofollow">r36088</a> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> <a href="http://ecco.selfip.net/backfire/ar71xx/openwrt-ar71xx-tl-wr841nd-v7-squashfs-factory.bin" class="urlextern" title="http://ecco.selfip.net/backfire/ar71xx/openwrt-ar71xx-tl-wr841nd-v7-squashfs-factory.bin"  rel="nofollow">r31348
</a> </td>
	</tr>
	<tr class="row8">
		<th class="col0" colspan="2"> WR842ND v1 </th><td class="col2"> <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr842n-v1-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr842n-v1-squashfs-factory.bin"  rel="nofollow">r40698</a> </td><td class="col3"> <a href="http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-tl-wr842n-v1-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-tl-wr842n-v1-squashfs-factory.bin"  rel="nofollow">ga</a> </td><td class="col4"> <a href="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-wr842n-v1-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-wr842n-v1-squashfs-factory.bin"  rel="nofollow">r36088</a> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> </td>
	</tr>
	<tr class="row9">
		<th class="col0" colspan="2"> WR842ND v2</th><td class="col2"> <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr842n-v2-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr842n-v2-squashfs-factory.bin"  rel="nofollow">r40698</a> </td><td class="col3"> </td><td class="col4"> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> </td>
	</tr>
</table></div>
<ul>
<li class="level1"><div class="li">Download a <em>Upgrade Image</em> from this group for already installed OpenWRT systems instead:</div>
</li>
</ul>
<div class="table sectionedit8"><table class="inline">
	<thead>
	<tr class="row0">
		<td class="col0 rightalign" colspan="2">  *-sysupgrade.bin </td><th class="col2" colspan="3"> OpenWrt </th><th class="col5"> Gargoyle </th><th class="col6"> eko.one.pl </th><td class="col7"></td>
	</tr>
	<tr class="row1">
		<th class="col0" colspan="2"> Branch: </th><th class="col2"> <span style='color:red; background-color:black;'>Trunk</span><sup><a href="tl-mr3220#fn__2" id="fnt__2" class="fn_top">2)</a></sup> </th><th class="col3"> BB final </th><th class="col4"> AA Final </th><th class="col5" colspan="3"> Backfire </th>
	</tr>
	<tr class="row2">
		<th class="col0" colspan="2"> <span style='color:red; background-color:black;'>Web interface:</span> </th><th class="col2"> <span style='color:red; background-color:black;'>None</span> </th><th class="col3" colspan="3"> LuCI </th><th class="col6"> Gargoyle </th><th class="col7"> <span style='color:red; background-color:black;'>None</span> </th>
	</tr>
	</thead>
	<tr class="row3">
		<th class="col0" colspan="2"> MR3420 </th><td class="col2"> <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-mr3420-v1-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-mr3420-v1-squashfs-sysupgrade.bin"  rel="nofollow">r40698</a> </td><td class="col3"> </td><td class="col4"> <a href="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-mr3420-v1-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-mr3420-v1-squashfs-sysupgrade.bin"  rel="nofollow">r36088</a> </td><td class="col5"> <a href="http://downloads.openwrt.org/backfire/10.03.1/ar71xx/openwrt-ar71xx-tl-mr3420-v1-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.openwrt.org/backfire/10.03.1/ar71xx/openwrt-ar71xx-tl-mr3420-v1-squashfs-sysupgrade.bin"  rel="nofollow">r29592</a> </td><td class="col6"> <a href="http://www.gargoyle-router.com/downloads/images/ar71xx/gargoyle_1.5.4-ar71xx-tl-mr3420-v1-squashfs-sysupgrade.bin" class="urlextern" title="http://www.gargoyle-router.com/downloads/images/ar71xx/gargoyle_1.5.4-ar71xx-tl-mr3420-v1-squashfs-sysupgrade.bin"  rel="nofollow">r30752</a> </td><td class="col7"> <a href="http://ecco.selfip.net/backfire/ar71xx/openwrt-ar71xx-tl-mr3420-v1-squashfs-sysupgrade.bin" class="urlextern" title="http://ecco.selfip.net/backfire/ar71xx/openwrt-ar71xx-tl-mr3420-v1-squashfs-sysupgrade.bin"  rel="nofollow">r31348
</a> </td>
	</tr>
	<tr class="row4">
		<th class="col0" colspan="2"> MR3420 V2 </th><td class="col2"> <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/generic/openwrt-ar71xx-generic-tl-mr3420-v2-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/generic/openwrt-ar71xx-generic-tl-mr3420-v2-squashfs-sysupgrade.bin"  rel="nofollow">trunk</a> </td><td class="col3"> </td><td class="col4"> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> </td>
	</tr>
	<tr class="row5">
		<th class="col0" colspan="2"> MR3220 </th><td class="col2"> <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-mr3220-v1-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-mr3220-v1-squashfs-sysupgrade.bin"  rel="nofollow">r40698</a> </td><td class="col3"> </td><td class="col4"> <a href="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-mr3220-v1-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-mr3220-v1-squashfs-sysupgrade.bin"  rel="nofollow">r36088</a> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> <a href="http://ecco.selfip.net/backfire/ar71xx/openwrt-ar71xx-tl-mr3220-v1-squashfs-sysupgrade.bin" class="urlextern" title="http://ecco.selfip.net/backfire/ar71xx/openwrt-ar71xx-tl-mr3220-v1-squashfs-sysupgrade.bin"  rel="nofollow">r31348
</a> </td>
	</tr>
	<tr class="row6">
		<th class="col0" colspan="2"> MR3220 V2 </th><td class="col2"> <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-mr3220-v2-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-mr3220-v2-squashfs-sysupgrade.bin"  rel="nofollow">trunk</a> </td><td class="col3"> </td><td class="col4"> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> </td>
	</tr>
	<tr class="row7">
		<th class="col0" colspan="2"> WR841N v7 </th><td class="col2"> <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr841nd-v7-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr841nd-v7-squashfs-sysupgrade.bin"  rel="nofollow">r40698</a> </td><td class="col3"> </td><td class="col4"> <a href="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-wr841nd-v7-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-wr841nd-v7-squashfs-sysupgrade.bin"  rel="nofollow">r36088</a> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> <a href="http://ecco.selfip.net/backfire/ar71xx/openwrt-ar71xx-tl-wr841nd-v7-squashfs-sysupgrade.bin" class="urlextern" title="http://ecco.selfip.net/backfire/ar71xx/openwrt-ar71xx-tl-wr841nd-v7-squashfs-sysupgrade.bin"  rel="nofollow">r31348
</a> </td>
	</tr>
	<tr class="row8">
		<th class="col0" colspan="2"> WR842ND v1 </th><td class="col2"> <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr842n-v1-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr842n-v1-squashfs-sysupgrade.bin"  rel="nofollow">r40698</a> </td><td class="col3"> <a href="http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-tl-wr842n-v1-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-tl-wr842n-v1-squashfs-sysupgrade.bin"  rel="nofollow">ga</a> </td><td class="col4"> <a href="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-wr842n-v1-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-wr842n-v1-squashfs-sysupgrade.bin"  rel="nofollow">r36088</a> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> </td>
	</tr>
	<tr class="row9">
		<th class="col0" colspan="2"> WR842ND v2 </th><td class="col2"> <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr842n-v2-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr842n-v2-squashfs-sysupgrade.bin"  rel="nofollow">r40698</a> </td><td class="col3"> </td><td class="col4"> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> </td>
	</tr>
</table></div>
<ul>
<li class="level1"><div class="li">Download <strong>PuTTY</strong> and <strong>PSCP</strong> <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html" class="urlextern" title="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html"  rel="nofollow">tools for SSH connection</a> even if you don&#039;t know what SSH is.</div>
</li>
<li class="level1"><div class="li">Download latest original firmware for your router <a href="http://www.tp-link.com/en/support/download/?model=TL-MR3420&amp;version=V1" class="urlextern" title="http://www.tp-link.com/en/support/download/?model=TL-MR3420&amp;version=V1"  rel="nofollow">MR3420</a>/<a href="http://www.tp-link.com/en/support/download/?model=TL-MR3220&amp;version=V1" class="urlextern" title="http://www.tp-link.com/en/support/download/?model=TL-MR3220&amp;version=V1"  rel="nofollow">MR3220</a>/<a href="http://www.tp-link.com/en/support/download/?model=TL-WR842ND&amp;version=V1" class="urlextern" title="http://www.tp-link.com/en/support/download/?model=TL-WR842ND&amp;version=V1"  rel="nofollow">WR842ND</a> just in case upgrade goes wrong and need it to recover Internet access.</div>
</li>
</ul>

</div>
<div class="plugin_include_content plugin_include__toh:tp-link:tl-wr741nd">

<h3 class="sectionedit11" id="tp-link_tl-wr741nd">TP-Link TL-WR741ND</h3>
<div class="level3">

<p>
TL-WR741ND is a lowcost (15€/25$) b/g/n wireless router, capable of running OpenWrt.
(v1: tested v10.03 backfire and trunk from May 2010; v2/3/4: trunk)
</p>

</div>

<h4 id="hardware_highlights1">Hardware Highlights</h4>
<div class="level4">
<div class="table sectionedit12"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Ver </th><th class="col1"> CPU </th><th class="col2"> RAM </th><th class="col3"> Flash </th><th class="col4"> Network </th><th class="col5"> Wireless </th><th class="col6">USB </th><th class="col7"> Serial </th><th class="col8"> JTag </th><th class="col9"> Wiki </th><th class="col10"> FCC </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> 1.6 </td><td class="col1"> Atheros AR7240 @ 350 <abbr title="Megahertz">MHz</abbr> </td><td class="col2"> 32 <abbr title="Megabyte">MB</abbr> </td><td class="col3"> 4 <abbr title="Megabyte">MB</abbr> </td><td class="col4"> 1 WAN + 4x <abbr title="Local Area Network">LAN</abbr> (100 Mbit) </td><td class="col5"> AR9285 [bgn 1x1:1] </td><td class="col6"> mod </td><td class="col7"> Yes </td><td class="col8"> No </td><td class="col9"> <a href="https://wikidevi.com/wiki/TP-LINK_TL-WR741ND_v1.6" class="urlextern" title="https://wikidevi.com/wiki/TP-LINK_TL-WR741ND_v1.6"  rel="nofollow">Link</a> </td><td class="col10"> <a href="https://fcc.io/TE7/WR741NX" class="urlextern" title="https://fcc.io/TE7/WR741NX"  rel="nofollow">FCC ID TE7WR741NX</a> </td>
	</tr>
	<tr class="row2">
		<td class="col0"> 1.9 </td><td class="col1"> Atheros AR7240 @ 350 <abbr title="Megahertz">MHz</abbr> </td><td class="col2"> 32 <abbr title="Megabyte">MB</abbr> </td><td class="col3"> 4 <abbr title="Megabyte">MB</abbr> </td><td class="col4"> 1 WAN + 4x <abbr title="Local Area Network">LAN</abbr> (100 Mbit) </td><td class="col5"> AR9285 [bgn 1x1:1] </td><td class="col6"> mod </td><td class="col7"> Yes </td><td class="col8"> No </td><td class="col9"> <a href="https://wikidevi.com/wiki/TP-LINK_TL-WR741ND_v1.9" class="urlextern" title="https://wikidevi.com/wiki/TP-LINK_TL-WR741ND_v1.9"  rel="nofollow">Link</a> </td><td class="col10"> </td>
	</tr>
	<tr class="row3">
		<td class="col0"> 2.4 </td><td class="col1"> Atheros AR7240 @ 350 <abbr title="Megahertz">MHz</abbr> </td><td class="col2"> 32 <abbr title="Megabyte">MB</abbr> </td><td class="col3"> 4 <abbr title="Megabyte">MB</abbr> </td><td class="col4"> 1 WAN + 4x <abbr title="Local Area Network">LAN</abbr> (100 Mbit) </td><td class="col5"> AR9285 [bgn 1x1:1] </td><td class="col6"> mod </td><td class="col7"> Yes </td><td class="col8"> No </td><td class="col9"> <a href="https://wikidevi.com/wiki/TP-LINK_TL-WR741ND_v2.4" class="urlextern" title="https://wikidevi.com/wiki/TP-LINK_TL-WR741ND_v2.4"  rel="nofollow">Link</a> </td><td class="col10"> FCC ID TE7WR741NDV2 </td>
	</tr>
	<tr class="row4">
		<td class="col0"> 3.1 </td><td class="col1"> Atheros AR7240 @ 350 <abbr title="Megahertz">MHz</abbr> </td><td class="col2"> ? </td><td class="col3"> 4 <abbr title="Megabyte">MB</abbr> </td><td class="col4"> 1 WAN + 4x <abbr title="Local Area Network">LAN</abbr> (100 Mbit) </td><td class="col5"> AR9285 [bgn 1x1:1] </td><td class="col6"> ? </td><td class="col7"> Yes </td><td class="col8"> No </td><td class="col9"> <a href="https://wikidevi.com/wiki/TP-LINK_TL-WR741ND_v3.1" class="urlextern" title="https://wikidevi.com/wiki/TP-LINK_TL-WR741ND_v3.1"  rel="nofollow">Link</a> </td><td class="col10"> Presumedly FCC ID TE7WR741ND<strong>V2</strong> as well </td>
	</tr>
	<tr class="row5">
		<td class="col0"> 4.3 </td><td class="col1"> Atheros AR9331 @ 400 <abbr title="Megahertz">MHz</abbr> </td><td class="col2"> 32 <abbr title="Megabyte">MB</abbr> </td><td class="col3"> 4 <abbr title="Megabyte">MB</abbr> </td><td class="col4"> 1 WAN + 4x <abbr title="Local Area Network">LAN</abbr> (100 Mbit) </td><td class="col5"> AR9331 [bgn 1x1:1] </td><td class="col6"> mod </td><td class="col7"> Yes </td><td class="col8"> No </td><td class="col9"> <a href="https://wikidevi.com/wiki/TP-LINK_TL-WR741ND_v4.3" class="urlextern" title="https://wikidevi.com/wiki/TP-LINK_TL-WR741ND_v4.3"  rel="nofollow">Link</a> </td><td class="col10"> FCC ID TE7WR741NDV4 </td>
	</tr>
	<tr class="row6">
		<td class="col0"> 5 </td><td class="col1"> Atheros AR9331 @ 400 <abbr title="Megahertz">MHz</abbr> </td><td class="col2"> 32 <abbr title="Megabyte">MB</abbr> </td><td class="col3"> 4 <abbr title="Megabyte">MB</abbr> </td><td class="col4"> 1 WAN + 4x <abbr title="Local Area Network">LAN</abbr> (100 Mbit) </td><td class="col5"> AR9331 [bgn 1x1:1] </td><td class="col6"> ? </td><td class="col7"> ? </td><td class="col8"> ? </td><td class="col9"> ? </td><td class="col10"> <a href="https://fcc.io/TE7/WR741NX" class="urlextern" title="https://fcc.io/TE7/WR741NX"  rel="nofollow">FCC ID TE7WR741NXV5</a> </td>
	</tr>
</table></div>

<p>
Version 4.x and above utilise the AR9331 chipset (Confirmed on UK v4.3 model). Chinese models may differ - TP-Link appear to have started using vxWorks and reducing the flash to 2MB and RAM to 16MB on some of their newer versions for the Chinese market.
</p>

</div>

<h4 id="supported_versions1">Supported Versions</h4>
<div class="level4">

<p>
<img src="../../_media/meta/48px-question.svg.png?w=24&amp;tok=5d0a8a" class="media" title="Keeping the overview " alt="Keeping the overview " width="24" /> For clarity and ease of use we should consider trimming this list. I have rebooted the <a href="tl-wr741nd#hardware_highlights" class="urlextern" title="http://wiki.openwrt.org/toh/tp-link/tl-wr741nd#hardware_highlights"  rel="nofollow">hardware list</a> which  should help clearing the duplicates. For example, judging from the details available at <a href="https://wikidevi.com/wiki/Main_Page" class="urlextern" title="https://wikidevi.com/wiki/Main_Page"  rel="nofollow">WikiDevi</a>, the v1.6 and v1.9 seem already identical. The fact OpenWrt images only cover major updates (ie v1, v2, v4) should be a further indicator. – Bernini 2015-01-06
</p>
<div class="table sectionedit13"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Model Version </th><th class="col1"> Launch Date </th><th class="col2"> OpenWrt Version Supported </th><th class="col3"> Model Specific Notes </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> v1.x </td><td class="col1"> - </td><td class="col2"> Backfire 10.03.1 </td><td class="col3"> v1.9 has a different flash chip compared to other v1.x models, see <a href="https://dev.openwrt.org/changeset/23712" class="urlextern" title="https://dev.openwrt.org/changeset/23712"  rel="nofollow">SVN r23712</a> and  <a href="https://dev.openwrt.org/ticket/8146" class="urlextern" title="https://dev.openwrt.org/ticket/8146"  rel="nofollow">related ticket</a>. </td>
	</tr>
	<tr class="row2">
		<td class="col0"> v2 </td><td class="col1"> - </td><td class="col2"> Backfire 10.03.1 </td><td class="col3"> Tested with r29614, working correctly. </td>
	</tr>
	<tr class="row3">
		<td class="col0"> v2.1 </td><td class="col1"> - </td><td class="col2"> <img src="../../_media/meta/icons/tango/dialog-error.png?w=24&amp;tok=5fb856" class="medialeft" title=" Test at your own risk " alt=" Test at your own risk " width="24" /> trunk (r27195) </td><td class="col3"> <a href="https://forum.openwrt.org/viewtopic.php?id=30339" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=30339"  rel="nofollow">notes</a> </td>
	</tr>
	<tr class="row4">
		<td class="col0"> v2.3 </td><td class="col1"> - </td><td class="col2"> <img src="../../_media/meta/icons/tango/dialog-error.png?w=24&amp;tok=5fb856" class="medialeft" title=" Test at your own risk " alt=" Test at your own risk " width="24" /> trunk (r28601) </td><td class="col3"> Tested Backfire revision 28601 </td>
	</tr>
	<tr class="row5">
		<td class="col0"> v2.4 </td><td class="col1"> - </td><td class="col2"> Attitude Adjustment 12.09 </td><td class="col3"> Rounded chassis (box branded WR740N). </td>
	</tr>
	<tr class="row6">
		<td class="col0"> v3 </td><td class="col1"> 2011-08 </td><td class="col2"> ? </td><td class="col3"> <a href="https://wikidevi.com/wiki/TP-LINK_TL-WR741ND_v3.1" class="urlextern" title="https://wikidevi.com/wiki/TP-LINK_TL-WR741ND_v3.1"  rel="nofollow">WikiDevi</a> only knows a v3.1, no v3. Confirms OpenWrt support though. </td>
	</tr>
	<tr class="row7">
		<td class="col0"> v3.1 (CN) </td><td class="col1"> - </td><td class="col2"> ? </td><td class="col3"> <a href="https://forum.openwrt.org/viewtopic.php?pid=142541#p142541" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=142541#p142541"  rel="nofollow">This forum thread</a> suggests support, but user hacked a v1 OpenWrt image to test. </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> v4    </td><td class="col1"> 2011-09 </td><td class="col2"> Attitude Adjustment 12.09 </td><td class="col3"> AR9331 chipset. </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> v4.3  </td><td class="col1 leftalign"> -       </td><td class="col2"> Attitude Adjustment 12.09 </td><td class="col3"> Working as of trunk r31249, hardware reports &quot;TP-LINK TL-WR741ND v4&quot;. </td>
	</tr>
	<tr class="row10">
		<td class="col0"> v4.20 </td><td class="col1"> 2012-04 </td><td class="col2"> Attitude Adjustment 12.09 </td><td class="col3"> Working as of trunk r31273, note 4.20 is newer than 4.3. </td>
	</tr>
	<tr class="row11">
		<td class="col0"> v4.21 </td><td class="col1"> - </td><td class="col2"> Attitude Adjustment 12.09 </td><td class="col3 leftalign">  </td>
	</tr>
	<tr class="row12">
		<td class="col0"> v4.22 </td><td class="col1"> - </td><td class="col2"> Attitude Adjustment 12.09 </td><td class="col3 leftalign">  </td>
	</tr>
	<tr class="row13">
		<td class="col0"> v4.23 </td><td class="col1"> - </td><td class="col2"> Attitude Adjustment 12.09 </td><td class="col3 leftalign">  </td>
	</tr>
	<tr class="row14">
		<td class="col0"> v4.27 </td><td class="col1"> - </td><td class="col2"> Attitude Adjustment 12.09 </td><td class="col3 leftalign">  </td>
	</tr>
</table></div>

</div>

<h4 id="installation1">Installation</h4>
<div class="level4">

<p>
This section details what is required to install and upgrade OpenWrt.  First we link to software that you should download before you start reading the instructions on how to install.
</p>

<p>
<img src="../../_media/meta/icons/tango/48px-emblem-important.svg.png" class="medialeft" title="Important!" alt="Important!" />Please <strong>double-check</strong> if the image revision you are downloading is <strong>newer</strong> than supported by the &quot;Model Version&quot; of your router.
</p>
<ul>
<li class="level1"><div class="li">Download a <em>Install Image</em> from this group if is the first flash from OEM firmware:</div>
</li>
</ul>
<div class="table sectionedit14"><table class="inline">
	<thead>
	<tr class="row0">
		<td class="col0 rightalign" colspan="2">  *-factory.bin </td><th class="col2" colspan="3"> Web interface </th><th class="col5" colspan="3"> <a href="http://code.google.com/p/x-wrt/" class="urlextern" title="http://code.google.com/p/x-wrt/"  rel="nofollow">X-Wrt</a> <img src="../../lib/images/smileys/delete.gif" class="icon" alt="DELETEME" /> <sup><a href="tl-mr3220#fn__3" id="fnt__3" class="fn_top">3)</a></sup> </th>
	</tr>
	<tr class="row1">
		<th class="col0"> Version </th><th class="col1"> Branch </th><th class="col2"> None </th><th class="col3"> LuCI </th><th class="col4"> Gargoyle </th><th class="col5"> Default </th><th class="col6"> Extras <sup><a href="tl-mr3220#fn__4" id="fnt__4" class="fn_top">4)</a></sup> </th><th class="col7"> No pppoe </th>
	</tr>
	</thead>
	<tr class="row2">
		<td class="col0"> </td><td class="col1"> Backfire 10.03 <img src="../../lib/images/smileys/delete.gif" class="icon" alt="DELETEME" /> </td><td class="col2"> </td><td class="col3"> <a href="http://downloads.openwrt.org/backfire/10.03/ar71xx/openwrt-ar71xx-tl-wr741nd-v1-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/backfire/10.03/ar71xx/openwrt-ar71xx-tl-wr741nd-v1-squashfs-factory.bin"  rel="nofollow">r20728</a> </td><td class="col4"> </td><td class="col5"> <a href="http://downloads.x-wrt.org/xwrt/backfire/10.03/ar71xx/default/openwrt-ar71xx-tl-wr741nd-v1-squashfs-factory.bin" class="urlextern" title="http://downloads.x-wrt.org/xwrt/backfire/10.03/ar71xx/default/openwrt-ar71xx-tl-wr741nd-v1-squashfs-factory.bin"  rel="nofollow">r20742</a> </td><td class="col6"> <a href="http://downloads.x-wrt.org/xwrt/backfire/10.03/ar71xx/extra/openwrt-ar71xx-tl-wr741nd-v1-squashfs-factory.bin" class="urlextern" title="http://downloads.x-wrt.org/xwrt/backfire/10.03/ar71xx/extra/openwrt-ar71xx-tl-wr741nd-v1-squashfs-factory.bin"  rel="nofollow">r20742</a> </td><td class="col7"> <a href="http://downloads.x-wrt.org/xwrt/backfire/10.03/ar71xx/nopppoe/openwrt-ar71xx-tl-wr741nd-v1-squashfs-factory.bin" class="urlextern" title="http://downloads.x-wrt.org/xwrt/backfire/10.03/ar71xx/nopppoe/openwrt-ar71xx-tl-wr741nd-v1-squashfs-factory.bin"  rel="nofollow">r20742</a> </td>
	</tr>
	<tr class="row3">
		<td class="col0 rightalign">  1.X </td><td class="col1"> Backfire 10.03.1 </td><td class="col2 leftalign">  </td><td class="col3"> <a href="http://downloads.openwrt.org/backfire/10.03.1/ar71xx/openwrt-ar71xx-tl-wr741nd-v1-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/backfire/10.03.1/ar71xx/openwrt-ar71xx-tl-wr741nd-v1-squashfs-factory.bin"  rel="nofollow">r29592</a> </td><td class="col4"> <a href="http://www.gargoyle-router.com/downloads/images/ar71xx/gargoyle_1.4.4-ar71xx-tl-wr741nd-v1-squashfs-factory.bin" class="urlextern" title="http://www.gargoyle-router.com/downloads/images/ar71xx/gargoyle_1.4.4-ar71xx-tl-wr741nd-v1-squashfs-factory.bin"  rel="nofollow">r29342</a> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> </td>
	</tr>
	<tr class="row4">
		<td class="col0 rightalign">  4.21 </td><td class="col1"> Attitude Adjustment 12.09-rc1 </td><td class="col2"> </td><td class="col3"> <a href="http://downloads.openwrt.org/attitude_adjustment/12.09-rc1/ar71xx/generic/openwrt-ar71xx-generic-tl-wr741nd-v4-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09-rc1/ar71xx/generic/openwrt-ar71xx-generic-tl-wr741nd-v4-squashfs-factory.bin"  rel="nofollow">r34185</a> </td><td class="col4"> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> </td>
	</tr>
	<tr class="row5">
		<td class="col0 rightalign">  4.22 </td><td class="col1"> Attitude Adjustment 12.09-rc1 </td><td class="col2"> </td><td class="col3"> <a href="http://downloads.openwrt.org/attitude_adjustment/12.09-rc1/ar71xx/generic/openwrt-ar71xx-generic-tl-wr741nd-v4-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09-rc1/ar71xx/generic/openwrt-ar71xx-generic-tl-wr741nd-v4-squashfs-factory.bin"  rel="nofollow">r34185</a> </td><td class="col4"> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> </td>
	</tr>
	<tr class="row6">
		<td class="col0"> </td><td class="col1 leftalign"> Trunk lastest <sup><a href="tl-mr3220#fn__5" id="fnt__5" class="fn_top">5)</a></sup>  </td><td class="col2"> <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr741nd-v1-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr741nd-v1-squashfs-factory.bin"  rel="nofollow">r29XXX</a> </td><td class="col3"> </td><td class="col4"> </td><td class="col5"> <a href="http://downloads.x-wrt.org/xwrt/kamikaze/snapshots/ar71xx/default/openwrt-ar71xx-generic-tl-wr741nd-v1-squashfs-factory.bin" class="urlextern" title="http://downloads.x-wrt.org/xwrt/kamikaze/snapshots/ar71xx/default/openwrt-ar71xx-generic-tl-wr741nd-v1-squashfs-factory.bin"  rel="nofollow">r23885</a> </td><td class="col6"> </td><td class="col7"> </td>
	</tr>
	<tr class="row7">
		<td class="col0 rightalign">  2.X </td><td class="col1 leftalign"> Trunk lastest <sup><a href="tl-mr3220#fn__6" id="fnt__6" class="fn_top">6)</a></sup>  </td><td class="col2"> <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr741nd-v2-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr741nd-v2-squashfs-factory.bin"  rel="nofollow">r29XXX</a> </td><td class="col3"> </td><td class="col4"> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> </td>
	</tr>
	<tr class="row8">
		<td class="col0 rightalign">  4.X </td><td class="col1 leftalign"> Trunk lastest <sup><a href="tl-mr3220#fn__7" id="fnt__7" class="fn_top">7)</a></sup>  </td><td class="col2"> <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr741nd-v4-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr741nd-v4-squashfs-factory.bin"  rel="nofollow">r29XXX</a> </td><td class="col3"> </td><td class="col4"> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> </td>
	</tr>
</table></div>
<ul>
<li class="level1"><div class="li">Download a <em>Upgrade Image</em> from this group for already installed OpenWRT systems instead:</div>
</li>
</ul>
<div class="table sectionedit15"><table class="inline">
	<thead>
	<tr class="row0">
		<td class="col0 rightalign" colspan="2">  *-sysupgrade.bin </td><th class="col2" colspan="3"> Web interface </th><th class="col5" colspan="3"> <a href="http://code.google.com/p/x-wrt/" class="urlextern" title="http://code.google.com/p/x-wrt/"  rel="nofollow">X-Wrt</a> <img src="../../lib/images/smileys/delete.gif" class="icon" alt="DELETEME" /> <sup><a href="tl-mr3220#fn__8" id="fnt__8" class="fn_top">8)</a></sup> </th>
	</tr>
	<tr class="row1">
		<th class="col0"> Version </th><th class="col1"> Branch </th><th class="col2"> None </th><th class="col3"> LuCI </th><th class="col4"> Gargoyle </th><th class="col5"> Default </th><th class="col6"> Extras <sup><a href="tl-mr3220#fn__9" id="fnt__9" class="fn_top">9)</a></sup> </th><th class="col7"> No pppoe </th>
	</tr>
	</thead>
	<tr class="row2">
		<td class="col0"> </td><td class="col1"> Backfire 10.03 <img src="../../lib/images/smileys/delete.gif" class="icon" alt="DELETEME" /> </td><td class="col2"> </td><td class="col3"> <a href="http://downloads.openwrt.org/backfire/10.03/ar71xx/openwrt-ar71xx-tl-wr741nd-v1-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.openwrt.org/backfire/10.03/ar71xx/openwrt-ar71xx-tl-wr741nd-v1-squashfs-sysupgrade.bin"  rel="nofollow">r20728</a> </td><td class="col4"> </td><td class="col5"> <a href="http://downloads.x-wrt.org/xwrt/backfire/10.03/ar71xx/default/openwrt-ar71xx-tl-wr741nd-v1-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.x-wrt.org/xwrt/backfire/10.03/ar71xx/default/openwrt-ar71xx-tl-wr741nd-v1-squashfs-sysupgrade.bin"  rel="nofollow">r20742</a> </td><td class="col6"> <a href="http://downloads.x-wrt.org/xwrt/backfire/10.03/ar71xx/extra/openwrt-ar71xx-tl-wr741nd-v1-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.x-wrt.org/xwrt/backfire/10.03/ar71xx/extra/openwrt-ar71xx-tl-wr741nd-v1-squashfs-sysupgrade.bin"  rel="nofollow">r20742</a> </td><td class="col7"> <a href="http://downloads.x-wrt.org/xwrt/backfire/10.03/ar71xx/nopppoe/openwrt-ar71xx-tl-wr741nd-v1-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.x-wrt.org/xwrt/backfire/10.03/ar71xx/nopppoe/openwrt-ar71xx-tl-wr741nd-v1-squashfs-sysupgrade.bin"  rel="nofollow">r20742</a> </td>
	</tr>
	<tr class="row3">
		<td class="col0 rightalign">  1.X </td><td class="col1"> Backfire 10.03.1 </td><td class="col2 leftalign">  </td><td class="col3"> <a href="http://downloads.openwrt.org/backfire/10.03.1/ar71xx/openwrt-ar71xx-tl-wr741nd-v1-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.openwrt.org/backfire/10.03.1/ar71xx/openwrt-ar71xx-tl-wr741nd-v1-squashfs-sysupgrade.bin"  rel="nofollow">r29592</a> </td><td class="col4"> <a href="http://www.gargoyle-router.com/downloads/images/ar71xx/gargoyle_1.4.4-ar71xx-tl-wr741nd-v1-squashfs-sysupgrade.bin" class="urlextern" title="http://www.gargoyle-router.com/downloads/images/ar71xx/gargoyle_1.4.4-ar71xx-tl-wr741nd-v1-squashfs-sysupgrade.bin"  rel="nofollow">r29342</a> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> </td>
	</tr>
	<tr class="row4">
		<td class="col0"> </td><td class="col1"> Trunk lastest <sup><a href="tl-mr3220#fn__10" id="fnt__10" class="fn_top">10)</a></sup> </td><td class="col2"> <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr741nd-v1-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr741nd-v1-squashfs-sysupgrade.bin"  rel="nofollow">r29XXX</a> </td><td class="col3"> </td><td class="col4"> </td><td class="col5"> <a href="http://downloads.x-wrt.org/xwrt/kamikaze/snapshots/ar71xx/default/openwrt-ar71xx-generic-tl-wr741nd-v1-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.x-wrt.org/xwrt/kamikaze/snapshots/ar71xx/default/openwrt-ar71xx-generic-tl-wr741nd-v1-squashfs-sysupgrade.bin"  rel="nofollow">r23885</a> </td><td class="col6"> </td><td class="col7"> </td>
	</tr>
	<tr class="row5">
		<td class="col0 rightalign">  2.X </td><td class="col1"> Trunk lastest <sup><a href="tl-mr3220#fn__11" id="fnt__11" class="fn_top">11)</a></sup> </td><td class="col2"> <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr741nd-v2-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr741nd-v2-squashfs-sysupgrade.bin"  rel="nofollow">r29XXX</a> </td><td class="col3"> </td><td class="col4"> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> </td>
	</tr>
	<tr class="row6">
		<td class="col0 rightalign">  4.X </td><td class="col1"> Trunk lastest <sup><a href="tl-mr3220#fn__12" id="fnt__12" class="fn_top">12)</a></sup> </td><td class="col2"> <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/generic/openwrt-ar71xx-generic-tl-wr741nd-v4-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/generic/openwrt-ar71xx-generic-tl-wr741nd-v4-squashfs-sysupgrade.bin"  rel="nofollow">r29XXX</a> </td><td class="col3"> </td><td class="col4"> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> </td>
	</tr>
	<tr class="row7">
		<td class="col0 rightalign">  4.X </td><td class="col1"> Trunk lastest <sup><a href="tl-mr3220#fn__13" id="fnt__13" class="fn_top">13)</a></sup> </td><td class="col2"> <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/generic/openwrt-ar71xx-generic-tl-wr741nd-v4-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/generic/openwrt-ar71xx-generic-tl-wr741nd-v4-squashfs-sysupgrade.bin"  rel="nofollow">r38570</a> </td><td class="col3"> </td><td class="col4"> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> </td>
	</tr>
	<tr class="row8">
		<td class="col0 rightalign">  4.X </td><td class="col1"> Trunk lastest <sup><a href="tl-mr3220#fn__14" id="fnt__14" class="fn_top">14)</a></sup> </td><td class="col2"> <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/generic/openwrt-ar71xx-generic-tl-wr741nd-v4-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/generic/openwrt-ar71xx-generic-tl-wr741nd-v4-squashfs-sysupgrade.bin"  rel="nofollow">r39406</a> </td><td class="col3"> </td><td class="col4"> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> </td>
	</tr>
	<tr class="row9">
		<td class="col0 rightalign">  4.X </td><td class="col1"> Trunk lastest <sup><a href="tl-mr3220#fn__15" id="fnt__15" class="fn_top">15)</a></sup> </td><td class="col2"> <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/generic/openwrt-ar71xx-generic-tl-wr741nd-v4-squashfs-sysupgrade.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/generic/openwrt-ar71xx-generic-tl-wr741nd-v4-squashfs-sysupgrade.bin"  rel="nofollow">r39755</a> </td><td class="col3"> </td><td class="col4"> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> </td>
	</tr>
</table></div>
<ul>
<li class="level1"><div class="li">Download <strong>PuTTY</strong> and <strong>PSCP</strong> <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html" class="urlextern" title="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html"  rel="nofollow">tools for SSH connection</a> even if you don&#039;t know what SSH is.</div>
</li>
<li class="level1"><div class="li">Download <a href="http://www.tp-link.com/support/download.asp?a=1&amp;m=TL-WR741ND&amp;h=V1" class="urlextern" title="http://www.tp-link.com/support/download.asp?a=1&amp;m=TL-WR741ND&amp;h=V1"  rel="nofollow">latest original firmware for your router</a> just in case upgrade goes wrong and need it to recover Internet access.</div>
</li>
</ul>

</div>

<h5 id="oem_easy_installation">OEM easy installation</h5>
<div class="level5">

<p>
This section deals with how you install OpenWrt from a device freshly opened.  Plus the steps required such as reset to factory defaults if the device has already been configured
</p>

<p>
<strong>Note:</strong> Reset router to factory defaults if it has been previously configured.
</p>

<p>
<strong>Note:</strong> Newer TP-Link retail firmwares (confirmed on v2.4 devices, but definitely not on v2.0) include a crude mechanism to prevent you uploading unsuitable firmware. It does this by checking the filename, so you may need to rename the *-factory.bin file to the name of a TP-Link retail firmware file. e.g. wr741nv1_en_3_12_4_up(100910).bin (not necessary with firmware V4_120320)
</p>
<ul>
<li class="level1"><div class="li">Browse to your router at <a href="http://192.168.1.1/" class="urlextern" title="http://192.168.1.1/"  rel="nofollow">http://192.168.1.1/</a> or test with <a href="http://www.tp-link.com/simulator/TL-WR741ND_v1%26v2/index.htm" class="urlextern" title="http://www.tp-link.com/simulator/TL-WR741ND_v1%26v2/index.htm"  rel="nofollow">TP-LINK Simulator</a> first. (Version 4.20 uses <a href="http://192.168.0.1" class="urlextern" title="http://192.168.0.1"  rel="nofollow">http://192.168.0.1</a> out of the box.)</div>
</li>
<li class="level1"><div class="li">Login with user name: <em>admin</em> password: <em>admin</em></div>
</li>
<li class="level1"><div class="li">Use left navigation panel and go to <strong>System Tools</strong></div>
</li>
<li class="level1"><div class="li"><img src="../../_media/meta/icons/tango/48px-emblem-important.svg.png?w=16&amp;tok=d9f44c" class="media" title="Important! " alt="Important! " width="16" /> Navigate to <strong>- Factory Defaults</strong> and click on <em>Restore</em> if it has been previously configured.</div>
<ul>
<li class="level2"><div class="li"> Confirm the pop-up dialog.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li">Then navigate to <strong>- Firmware Upgrade</strong></div>
</li>
<li class="level1"><div class="li">Upload previously chosen <em>-factory.bin</em> file to router</div>
</li>
<li class="level1"><div class="li">Click on <em>Upgrade</em> button and wait for it to reboot</div>
</li>
<li class="level1"><div class="li"><img src="../../_media/meta/icons/tango/48px-emblem-important.svg.png?w=16&amp;tok=d9f44c" class="media" title="Important! " alt="Important! " width="16" /> Do NOT turn off the power during upgrade</div>
</li>
<li class="level1"><div class="li">Wait about 120 seconds to start up, see SYS LED activity.</div>
</li>
<li class="level1"><div class="li">If the router&#039;s IP (192.168.1.1)  doesn&#039;t repond to ping, try clear ARP cache on your machine <pre class="code bash">arp <span class="re5">-d</span></pre>
 </div>
</li>
<li class="level1"><div class="li">Don&#039;t clear your browser cache! Please report <a href="https://forum.openwrt.org/viewtopic.php?pid=127721#p127721" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=127721#p127721"  rel="nofollow">here</a> what you installed, if do <a href="http://192.168.1.1/" class="urlextern" title="http://192.168.1.1/"  rel="nofollow">http://192.168.1.1/</a> work anyway and which <img src="../../_media/meta/48px-question.svg.png?w=16&amp;tok=33028c" class="media" title="Untested" alt="Untested" width="16" /> link let you get in. Successful ones have <img src="../../_media/meta/48px-question.svg.png?w=16&amp;tok=33028c" class="media" title="Untested" alt="Untested" width="16" /> removed. This only happen once, so your input is important.</div>
</li>
</ul>
<div class="table sectionedit16"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> 192.168.1.1 </th><th class="col1" colspan="2"> Alternate links that theoretically should work</th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Gargoyle <img src="../../_media/meta/48px-dialog-error-round.svg.png?w=24&amp;tok=637072" class="mediaright" title="Know to fail" alt="Know to fail" width="24" /></td><td class="col1"> <a href="http://192.168.1.1/login.sh" class="urlextern" title="http://192.168.1.1/login.sh"  rel="nofollow">http://192.168.1.1/login.sh</a><img src="../../_media/meta/48px-question.svg.png?w=16&amp;tok=33028c" class="mediaright" title="Untested" alt="Untested" width="16" /> </td><td class="col2"> <a href="https://192.168.1.1/login.sh" class="urlextern" title="https://192.168.1.1/login.sh"  rel="nofollow">https://192.168.1.1/login.sh</a> </td>
	</tr>
	<tr class="row2">
		<td class="col0"> LuCI <img src="../../_media/meta/48px-question.svg.png?w=24&amp;tok=5d0a8a" class="mediaright" title="Untested" alt="Untested" width="24" /></td><td class="col1"> <a href="http://192.168.1.1/index.html" class="urlextern" title="http://192.168.1.1/index.html"  rel="nofollow">http://192.168.1.1/index.html</a><img src="../../_media/meta/48px-question.svg.png?w=16&amp;tok=33028c" class="mediaright" title="Untested" alt="Untested" width="16" /> </td><td class="col2"> <a href="http://192.168.1.1/cgi-bin/luci" class="urlextern" title="http://192.168.1.1/cgi-bin/luci"  rel="nofollow">http://192.168.1.1/cgi-bin/luci</a><img src="../../_media/meta/48px-question.svg.png?w=16&amp;tok=33028c" class="mediaright" title="Untested" alt="Untested" width="16" /> </td>
	</tr>
	<tr class="row3">
		<td class="col0"> X-Wrt <img src="../../_media/meta/48px-question.svg.png?w=24&amp;tok=5d0a8a" class="mediaright" title="Untested" alt="Untested" width="24" /></td><td class="col1"> <a href="http://192.168.1.1/index.html" class="urlextern" title="http://192.168.1.1/index.html"  rel="nofollow">http://192.168.1.1/index.html</a><img src="../../_media/meta/48px-question.svg.png?w=16&amp;tok=33028c" class="mediaright" title="Untested" alt="Untested" width="16" /> </td><td class="col2"> <a href="http://192.168.1.1/cgi-bin/webif/info.sh" class="urlextern" title="http://192.168.1.1/cgi-bin/webif/info.sh"  rel="nofollow">http://192.168.1.1/cgi-bin/webif/info.sh</a><img src="../../_media/meta/48px-question.svg.png?w=16&amp;tok=33028c" class="mediaright" title="Untested" alt="Untested" width="16" /> </td>
	</tr>
</table></div>
<ul>
<li class="level1"><div class="li"><img src="../../_media/meta/icons/tango/48px-emblem-important.svg.png?w=16&amp;tok=d9f44c" class="media" title="Important! " alt="Important! " width="16" /> Clear your browser cache if you are sure some web interface is installed, but can&#039;t access to <a href="http://192.168.1.1/" class="urlextern" title="http://192.168.1.1/"  rel="nofollow">http://192.168.1.1/</a></div>
</li>
<li class="level1"><div class="li">Set a root password</div>
<ul>
<li class="level2"><div class="li">Browse to <a href="http://192.168.1.1/" class="urlextern" title="http://192.168.1.1/"  rel="nofollow">http://192.168.1.1/</a> if LuCI, X-Wrt or Gargoyle web interface is installed.</div>
<ul>
<li class="level3"><div class="li">Only for Gargoyle login with defaults user name: <em>root</em> password: <em>password</em></div>
</li>
<li class="level3"><div class="li">After password has been setup login with user name: <em>root</em> password: <em>previusly entered</em></div>
</li>
</ul>
</li>
<li class="level2"><div class="li">telnet 192.168.1.1</div>
<ul>
<li class="level3"><div class="li">Type:<pre class="code bash"><span class="kw2">passwd</span> root</pre>
</div>
</li>
<li class="level3"><div class="li">Enter your new password twice.</div>
</li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li">Once password has been setup Telnet is no longer available, use SSH instead to connect.</div>
<ul>
<li class="level3"><div class="li">ssh root@192.168.1.1</div>
</li>
<li class="level3"><div class="li">PuTTY SSH </div>
</li>
</ul>
</li>
</ul>

</div>

<h5 id="oem_installation_tftpboot_rs232">OEM installation TFTPBOOT + RS232</h5>
<div class="level5">

<p>
Using the serial console, new firmware versions can be loaded via TFTP and flashed as follows. This assumes your TFTP server is reachable at 192.168.1.100. You can change IP addresses with:
</p>

<p>
<pre class="code">setenv ipaddr a.b.c.d
setenv serverip e.f.g.h</pre>

</p>

<p>
Type &quot;tpl&quot; to escape automatic boot when &quot;autoboot&quot; appear.
</p>

<p>
Calc Size of firmware:
</p>

<p>
<pre class="code">-rw-r--r-- 1 root root   3350532 Nov  1 01:22 openwrt-ar71xx-tl-wr740n-v1-squashfs-sysupgrade.bin</pre>

</p>

<p>
Dec <strong>3350532</strong> to Hex <strong>0x332004</strong>
</p>

<p>
TFTP loading and flashing is done by issuing:
<pre class="code">tftpboot 0x80000000 openwrt-ar71xx-tl-wr740n-v1-squashfs-sysupgrade.bin
erase 0x9f020000 +0x332004 # 0x332004: size of the firmware (be aware that you may have a different size thus bricking your router)
cp.b 0x80000000 0x9f020000 0x332004 # 0x332004: size of the firmware (be aware that you may have a different size thus bricking your router)</pre>

</p>

<p>
If successful, the firmware can now be started with
</p>

<p>
<pre class="code">bootm 0x9f020000</pre>

</p>

</div>

<h5 id="upgrading_openwrt">Upgrading OpenWRT</h5>
<div class="level5">

<p>
If you have already installed OpenWrt and like to reflash for e.g. upgrading to a new OpenWrt version you can upgrade using the mtd command line tool. It is important that you put the firmware image into the ramdisk (/tmp) before you start flashing.
</p>

</div>

<h5 id="web_upgrade_process">Web Upgrade Process</h5>
<div class="level5">
<ul>
<li class="level1"><div class="li">Browse to Upgrade <abbr title="Uniform Resource Locator">URL</abbr> for your Web interface package installed:</div>
<ul>
<li class="level2"><div class="li">luci and luci-light <a href="http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/" class="urlextern" title="http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/"  rel="nofollow">http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/</a> LuCI Essentials</div>
</li>
<li class="level2"><div class="li">luci and luci-medium <a href="http://192.168.1.1/cgi-bin/luci/admin/system/upgrade/" class="urlextern" title="http://192.168.1.1/cgi-bin/luci/admin/system/upgrade/"  rel="nofollow">http://192.168.1.1/cgi-bin/luci/admin/system/upgrade/</a> LuCI Administrative</div>
</li>
<li class="level2"><div class="li">webif <a href="http://192.168.1.1/cgi-bin/webif/system-upgrade.sh" class="urlextern" title="http://192.168.1.1/cgi-bin/webif/system-upgrade.sh"  rel="nofollow">http://192.168.1.1/cgi-bin/webif/system-upgrade.sh</a> X-Wrt</div>
</li>
<li class="level2"><div class="li">gargoyle <a href="http://192.168.1.1/update.sh" class="urlextern" title="http://192.168.1.1/update.sh"  rel="nofollow">http://192.168.1.1/update.sh</a> Gargoyle</div>
</li>
</ul>
</li>
<li class="level1"><div class="li">Upload <em>*tl-wr741nd-v1-squashfs-sysupgrade.bin</em> file</div>
</li>
<li class="level1"><div class="li">Confirm, check MD5 sum, confirm again.</div>
</li>
<li class="level1"><div class="li">Wait for reboot about 2 whole minutes.</div>
</li>
</ul>

</div>

<h5 id="terminal_upgrade_process">Terminal Upgrade Process</h5>
<div class="level5">
<ul>
<li class="level1"><div class="li">Download or compile yourself a sysupgrade binary.</div>
<ul>
<li class="level2"><div class="li"> Alternatively download it inside OpenWrt with <em>wget</em> and skip to last step.</div>
</li>
</ul>
</li>
</ul>

<p>
<pre class="code bash"><span class="kw3">cd</span> <span class="sy0">/</span>tmp
<span class="kw2">wget</span> http:<span class="sy0">//</span>downloads.openwrt.org<span class="sy0">/</span>snapshots<span class="sy0">/</span>trunk<span class="sy0">/</span>ar71xx<span class="sy0">/</span>openwrt-ar71xx-generic-tl-wr741nd-v1-squashfs-sysupgrade.bin
<span class="kw2">mv</span> openwrt-ar71xx-generic-tl-wr741nd-v1-squashfs-sysupgrade.bin tplink.bin</pre>

</p>
<ul>
<li class="level1"><div class="li">SCP it to /tmp on your router:</div>
</li>
</ul>

<p>
<pre class="code bash"><span class="kw2">scp</span> openwrt-ar71xx-generic-tl-wr741nd-v1-squashfs-sysupgrade.bin root<span class="sy0">@</span>192.168.1.1:<span class="sy0">/</span>tmp</pre>

or 
<pre class="code winbatch">PSCP.EXE <span class="sy0">-</span>p openwrt<span class="sy0">-</span>ar71xx<span class="sy0">-</span>generic<span class="sy0">-</span>tl<span class="sy0">-</span>wr741nd<span class="sy0">-</span>v1<span class="sy0">-</span>squashfs<span class="sy0">-</span>sysupgrade.bin root<span class="sy0">@</span>192.168.1.1<span class="co2">:/tmp</span></pre>

</p>
<ul>
<li class="level1"><div class="li">Type your root password when prompted and a slow upload will start.</div>
</li>
<li class="level1"><div class="li">Open <strong>PuTTY</strong> as SSH to 192.168.1.1 and perform the following commands:</div>
</li>
</ul>

<p>
<pre class="code bash"><span class="kw3">cd</span> <span class="sy0">/</span>tmp
<span class="kw2">mv</span> openwrt-ar71xx-generic-tl-wr741nd-v1-squashfs-sysupgrade.bin tplink.bin</pre>

</p>
<ul>
<li class="level1"><div class="li">Flash via mtd </div>
</li>
</ul>

<p>
<pre class="code bash">mtd <span class="re5">-r</span> <span class="kw2">write</span> <span class="sy0">/</span>tmp<span class="sy0">/</span>tplink.bin firmware</pre>

</p>

</div>

<h5 id="back_to_original_firmware">Back to original firmware</h5>
<div class="level5">
<ul>
<li class="level1"><div class="li"> Go to TP-Link <a href="http://www.tp-link.com/en/support/download/?model=TL-WR741ND" class="urlextern" title="http://www.tp-link.com/en/support/download/?model=TL-WR741ND"  rel="nofollow">download page</a>, and choose correct router version (V1-V4). </div>
</li>
<li class="level1"><div class="li"> For example, <a href="http://www.tp-link.com/resources/software/TL-WR741ND_V4.20_140410.zip" class="urlextern" title="http://www.tp-link.com/resources/software/TL-WR741ND_V4.20_140410.zip"  rel="nofollow">TL-WR741ND_V4.20_140410.zip</a> if you not already did. Make sure to get an image for the right hardware version. The example is for v1 hardware only.</div>
</li>
<li class="level1"><div class="li">Extract <em>wr741nv4_en_3_17_0_up_boot(140410).bin</em> from the <em>TL-WR741ND_V4.20_140410.zip</em> archive downloaded.</div>
</li>
<li class="level1"><div class="li">SCP it to /tmp on your router:</div>
</li>
</ul>
<div class="table sectionedit17"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code winbatch">PSCP.EXE <span class="sy0">-</span>p wr741nv4_en_3_17_0_up_boot<span class="br0">&#40;</span><span class="nu0">140410</span><span class="br0">&#41;</span>.bin root<span class="sy0">@</span>192.168.1.1<span class="co2">:/tmp</span></pre>
 </td>
	</tr>
</table></div>

<p>
or
</p>
<div class="table sectionedit18"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code bash"><span class="kw2">scp</span> wr741nv4_en_3_17_0_up_boot<span class="br0">&#40;</span><span class="nu0">140410</span><span class="br0">&#41;</span>.bin root<span class="sy0">@</span>192.168.1.1:<span class="sy0">/</span>tmp</pre>
 </td>
	</tr>
</table></div>
<ul>
<li class="level1"><div class="li">Type your root password when prompted and a slow upload will start.</div>
</li>
<li class="level1"><div class="li">Open <strong>PuTTY</strong> as SSH to 192.168.1.1 and perform the following commands:</div>
</li>
</ul>
<div class="table sectionedit19"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code bash"><span class="kw3">cd</span> <span class="sy0">/</span>tmp
<span class="kw2">mv</span> wr741nv4_en_3_17_0_up_boot<span class="br0">&#40;</span><span class="nu0">140410</span><span class="br0">&#41;</span>.bin tplink.bin</pre>
 </td>
	</tr>
</table></div>

<p>
<img src="../../_media/meta/icons/tango/dialog-warning.png" class="medialeft" title="Warning!" alt="Warning!" /><strong>WARNING:</strong> Only perform the dd action below if your original firmware has the word <strong>&quot;boot&quot;</strong> in it, for example, <strong>wr741nv4_en_3_17_0_up_boot(140410).bin</strong>.
</p>

<p>
<img src="../../_media/meta/icons/tango/48px-emblem-important.svg.png" class="medialeft" title="Important!" alt="Important!" />Please <strong>do not</strong> dd your original firmware if it has no <strong>&quot;boot&quot;</strong> in its name, for example, <strong>wr741nv4_en_3_17_0_up_boot(140410).bin</strong>, because if you do, <strong>you will brick your router!</strong> This was confirmed by <a href="https://forum.openwrt.org/viewtopic.php?pid=110583#p110583" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=110583#p110583"  rel="nofollow">supertom64</a>
</p>
<ul>
<li class="level1"><div class="li">Cut first 0x20200 bytes from original firmware</div>
</li>
</ul>
<div class="table sectionedit20"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code bash"><span class="kw3">cd</span> <span class="sy0">/</span>tmp
<span class="kw2">mv</span> wr741nv4_en_3_17_0_up_boot<span class="br0">&#40;</span><span class="nu0">140410</span><span class="br0">&#41;</span>.bin orig.bin
<span class="kw2">dd</span> <span class="re2">if</span>=orig.bin <span class="re2">of</span>=tplink.bin <span class="re2">skip</span>=<span class="nu0">257</span> <span class="re2">bs</span>=<span class="nu0">512</span></pre>
 </td>
	</tr>
</table></div>
<ul>
<li class="level1"><div class="li">Flash via mtd </div>
</li>
</ul>
<div class="table sectionedit21"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code bash">mtd <span class="re5">-r</span> <span class="kw2">write</span> <span class="sy0">/</span>tmp<span class="sy0">/</span>tplink.bin firmware</pre>
 </td>
	</tr>
</table></div>

<p>
<img src="../../_media/meta/icons/tango/dialog-warning.png" class="medialeft" title="Warning!" alt="Warning!" /><strong>WARNING:</strong> If you get the error <em><strong>&quot;Writing from /tmp/tplink.bin to firmware … [e]Failed to erase block&quot;</strong></em> after flashing via the mtd command , do not reboot or shutdown or you will brick your device! In tp-link site they say that if you have 110825 you should update to 111130 before upgrading to 120320, so it could be better to restore to 110914 and then upgrade &quot;gradually&quot; as they say.
</p>

<p>
<img src="../../_media/meta/icons/tango/48px-emblem-important.svg.png" class="medialeft" title="Important!" alt="Important!" /> The latest TP-Link firmware for V1 revision (wr741nv4_en_3_12_11_up(120320).bin) doesn&#039;t have the word &#039;boot&#039; in it. However, the 120320 firmware has also the bootloader (bigger file, 4063744 vs 3932160, it&#039;s 131584 bytes larger, equals to 0x20200 in hex, the amount you have to trim when flashing those files as described in wiki!) They used to add the word &quot;boot&quot; in the filename, now you have to pay attention to the file size.
</p>

</div>

<h4 id="hardware">Hardware</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> Dimensions ( W x D x H )  6.9 x 4.6 x 1.3 in. (174 x 118 x 33 mm)</div>
</li>
</ul>

</div>

<h5 id="photos">Photos</h5>
<div class="level5">

<p>
<strong>v1.x</strong>
</p>

<p>
<em>Front:</em>
</p>

<p>
<a href="../../_detail/toh/tp-link/wr741nd.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="toh:tp-link:wr741nd.jpg"><img src="../../_media/toh/tp-link/wr741nd.jpg?w=300&amp;tok=645470" class="media" alt="" width="300" /></a>
</p>

<p>
<em>Board:</em>
</p>

<p>
<a href="../../_detail/media/wp_20131012_006-001.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="media:wp_20131012_006-001.jpg"><img src="../../_media/media/wp_20131012_006-001.jpg?w=300&amp;tok=0bffbe" class="media" alt="" width="300" /></a>
</p>

<p>
<strong>v2.0</strong>
</p>

<p>
<em>Case and board:</em>
</p>

<p>
<a href="../../_detail/toh/tp-link/tl741nd-v2-case.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="toh:tp-link:tl741nd-v2-case.jpg"><img src="../../_media/toh/tp-link/tl741nd-v2-case.jpg?w=400&amp;tok=35b022" class="media" title="V2.0 Case" alt="V2.0 Case" width="400" /></a>
<a href="../../_detail/toh/tp-link/tl741v2-1.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="toh:tp-link:tl741v2-1.jpg"><img src="../../_media/toh/tp-link/tl741v2-1.jpg?w=400&amp;tok=f6d143" class="media" title="V2.0 Board" alt="V2.0 Board" width="400" /></a>
</p>

<p>
Serial port is the two round joints just above the small surface mount chip in the centre. Take power from elsewhere.
</p>

<p>
<strong>v2.3 and v2.4 </strong>
</p>

<p>
<em>Case and board:</em>
</p>

<p>
<a href="../../_detail/toh/tp-link/tl741nd-v2-case.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="toh:tp-link:tl741nd-v2-case.jpg"><img src="../../_media/toh/tp-link/tl741nd-v2-case.jpg?w=400&amp;tok=35b022" class="media" title="V2.3 and V2.4 Case" alt="V2.3 and V2.4 Case" width="400" /></a>
<a href="../../_detail/toh/tp-link/tl741v2-1.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="toh:tp-link:tl741v2-1.jpg"><img src="../../_media/toh/tp-link/tl741v2-1.jpg?w=400&amp;tok=f6d143" class="media" title="V2.3 and V2.4 Board" alt="V2.3 and V2.4 Board" width="400" /></a>
</p>

<p>
nearly same case as v2.0
nearly same PCB as v2.0
</p>

<p>
<strong>v4.x</strong>
</p>

<p>
<em>Case:</em>
</p>

<p>
nearly same case as v2.0
</p>

<p>
<em>Board: (Note the AR9331 chipset)</em>
</p>

<p>
<a href="../../_detail/toh/tp-link/tlwr741nd_v4_board.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="toh:tp-link:tlwr741nd_v4_board.jpg"><img src="../../_media/toh/tp-link/tlwr741nd_v4_board.jpg?w=400&amp;tok=1c0cc8" class="media" title="V4.x Board" alt="V4.x Board" width="400" /></a>
</p>

<p>
<strong>v5</strong>
</p>

<p>
<a href="../../_detail/media/tplink/tp-link_wr741nd_v5.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="media:tplink:tp-link_wr741nd_v5.jpg"><img src="../../_media/media/tplink/tp-link_wr741nd_v5.jpg?w=400&amp;tok=9b609a" class="media" title="v5" alt="v5" width="400" /></a>
</p>

</div>

<h5 id="opening_the_case">Opening the case</h5>
<div class="level5">

<p>
<strong>Note:</strong> This will void your warranty!
</p>

<p>
These instructions will hopefully help you crack open your wr741nd without cracking it.
</p>

<p>
If you turn your wr741nd upside down you will see 4 rubber legs.<br/>

<a href="../../_detail/toh/tp-link/wr741nd-01-rubber-legs.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="toh:tp-link:wr741nd-01-rubber-legs.jpg"><img src="../../_media/toh/tp-link/wr741nd-01-rubber-legs.jpg?w=300&amp;tok=5dc9e4" class="media" alt="" width="300" /></a>
</p>

<p>
Under each of the 4 rubber legs is a screw.<br/>

<a href="../../_detail/toh/tp-link/wr741nd-02-screws.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="toh:tp-link:wr741nd-02-screws.jpg"><img src="../../_media/toh/tp-link/wr741nd-02-screws.jpg?w=300&amp;tok=771b51" class="media" alt="" width="300" /></a>
</p>

<p>
Now unscrew the 4 screws.<br/>

<a href="../../_detail/toh/tp-link/wr741nd-03-unscrewed.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="toh:tp-link:wr741nd-03-unscrewed.jpg"><img src="../../_media/toh/tp-link/wr741nd-03-unscrewed.jpg?w=300&amp;tok=049ae1" class="media" alt="" width="300" /></a>
</p>

<p>
Unscrew the aerial, and then the nut and washer.<br/>

<a href="../../_detail/toh/tp-link/wr741nd-04-aerial-unscrewed.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="toh:tp-link:wr741nd-04-aerial-unscrewed.jpg"><img src="../../_media/toh/tp-link/wr741nd-04-aerial-unscrewed.jpg?w=300&amp;tok=0e0866" class="media" alt="" width="300" /></a>
</p>

<p>
Use a flat object such as the head of a flat screwdriver and gently try to pry open the top and bottom covers. Gently push upwards where the red arrows are and you can lift the top lid off.<br/>

<a href="../../_detail/toh/tp-link/wr741nd-05-split-it.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="toh:tp-link:wr741nd-05-split-it.jpg"><img src="../../_media/toh/tp-link/wr741nd-05-split-it.jpg?w=300&amp;tok=ec341e" class="media" alt="" width="300" /></a>
</p>

<p>
To remove the LED cover, pull it out in the direction of the arrows.<br/>

<a href="../../_detail/toh/tp-link/wr741nd-06-led-cover-on.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="toh:tp-link:wr741nd-06-led-cover-on.jpg"><img src="../../_media/toh/tp-link/wr741nd-06-led-cover-on.jpg?w=300&amp;tok=6bdafe" class="media" title="It&#039;s on" alt="It&#039;s on" width="300" /></a><br/>

</p>

<p>
<a href="../../_detail/toh/tp-link/wr741nd-07-led-cover-off.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="toh:tp-link:wr741nd-07-led-cover-off.jpg"><img src="../../_media/toh/tp-link/wr741nd-07-led-cover-off.jpg?w=300&amp;tok=26f066" class="media" title="Now it&#039;s off!" alt="Now it&#039;s off!" width="300" /></a>
</p>

<p>
Remove the black strip and now you can lift the board out.<br/>

<a href="../../_detail/toh/tp-link/wr741nd-08-board.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="toh:tp-link:wr741nd-08-board.jpg"><img src="../../_media/toh/tp-link/wr741nd-08-board.jpg?w=300&amp;tok=d8bd15" class="media" alt="" width="300" /></a>
</p>

</div>

<h5 id="gpio_mapping">GPIO mapping</h5>
<div class="level5">

<p>
In OpenWRT system there are 18 GPIOs available. However gpio0, gpio1 are used by system to control LEDs and gpio11, gpio12 as input buttons. To be able control these IOs directly it is necessary to unload modules <code>leds_gpio</code> (gpio0,gpio1) and <code>gpio_buttons</code> (gpio11,gpio12).
Next step is to export control files of each pin:
</p>
<pre class="code">echo N &gt; /sys/class/gpio/export</pre>

<p>
Where N is GPIO number. This will create directories with control files in /sys/class/gpio/gpioN
</p>

<p>
I have discovered this IO maping:
</p>
<div class="table sectionedit22"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> name </th><th class="col1"> purpose </th><th class="col2"> pin </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> gpio0 </td><td class="col1"> QSS LED </td><td class="col2"> 107 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> gpio1 </td><td class="col1"> SYS LED </td><td class="col2"> 108 </td>
	</tr>
	<tr class="row3">
		<td class="col0"> gpio11 </td><td class="col1"> Reset button </td><td class="col2"> 88 </td>
	</tr>
	<tr class="row4">
		<td class="col0"> gpio12 </td><td class="col1"> QSS button </td><td class="col2"> 89 </td>
	</tr>
	<tr class="row5">
		<td class="col0"> gpio13 </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> 1 </td><td class="col2"> ?? </td>
	</tr>
	<tr class="row6">
		<td class="col0"> gpio14 </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> 2 </td><td class="col2"> ?? </td>
	</tr>
	<tr class="row7">
		<td class="col0"> gpio15 </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> 3 </td><td class="col2"> ?? </td>
	</tr>
	<tr class="row8">
		<td class="col0"> gpio16 </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> 4 </td><td class="col2"> ?? </td>
	</tr>
	<tr class="row9">
		<td class="col0"> gpio17 </td><td class="col1"> WAN </td><td class="col2"> ?? </td>
	</tr>
</table></div>

<p>
On hardware revision 4.21 (similar in 4.27)
</p>
<div class="table sectionedit23"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> name </th><th class="col1"> purpose </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> gpio0 </td><td class="col1"> WIFI LED </td>
	</tr>
	<tr class="row2">
		<td class="col0"> gpio1 </td><td class="col1"> QSS LED </td>
	</tr>
	<tr class="row3">
		<td class="col0"> gpio7 </td><td class="col1"> TP10 </td>
	</tr>
	<tr class="row4">
		<td class="col0"> gpio11 </td><td class="col1"> Reset button </td>
	</tr>
	<tr class="row5">
		<td class="col0"> gpio13 </td><td class="col1"> WAN LED </td>
	</tr>
	<tr class="row6">
		<td class="col0"> gpio14 </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> 1 LED </td>
	</tr>
	<tr class="row7">
		<td class="col0"> gpio15 </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> 2 LED </td>
	</tr>
	<tr class="row8">
		<td class="col0"> gpio16 </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> 3 LED </td>
	</tr>
	<tr class="row9">
		<td class="col0"> gpio17 </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> 4 LED (0=on,1=off) </td>
	</tr>
	<tr class="row10">
		<td class="col0"> gpio26 </td><td class="col1"> QSS button </td>
	</tr>
	<tr class="row11">
		<td class="col0"> gpio27 </td><td class="col1"> SYS LED (0=on,1=off) </td>
	</tr>
</table></div>

<p>
Other GPIOs are not working for me. I am able to export all of them, I even could change the direction, but when I write new value, it never changes.
</p>

<p>
For versions v4.x using AR9331 see reverse engineered pinout on <a href="tl-wr703n/ar9331_pinout" class="wikilink1" title="toh:tp-link:tl-wr703n:ar9331_pinout">ar9331_pinout</a> .
</p>

</div>

<h5 id="tl-wr741nd_v2x">TL-WR741ND v2.X</h5>
<div class="level5">

<p>
Device works with Backfire 10.03.01 and latest <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr741nd-v2-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr741nd-v2-squashfs-factory.bin"  rel="nofollow">trunk image</a> and also with<a href="http://www.gargoyle-router.com/downloads/images/ar71xx/gargoyle_1.4.0-ar71xx-tl-wr741nd-v1-squashfs-sysupgrade.bin" class="urlextern" title="http://www.gargoyle-router.com/downloads/images/ar71xx/gargoyle_1.4.0-ar71xx-tl-wr741nd-v1-squashfs-sysupgrade.bin"  rel="nofollow">**Gargoyle** build</a>, no flaws discovered.
</p>

</div>

<h5 id="tl-wr741nd_v4x">TL-WR741ND v4.x</h5>
<div class="level5">

<p>
Version 4.x has changed to use the AR9331 SoC, and is supported by the trunk version.<br/>

Probably the hardware of all v4.x versions is identical.
</p>

<p>
After installation of r31249 + LuCI, 604KB flash are free for additional packages.
</p>

<p>
/proc/cpuinfo
</p>
<pre class="code">  system type             : Atheros AR9330 rev 1
  machine                 : TP-LINK TL-WR741ND v4
  processor               : 0
  cpu model               : MIPS 24Kc V7.4
  BogoMIPS                : 265.42
  wait instruction        : yes
  microsecond timers      : yes
  tlb_entries             : 16
  extra interrupt vector  : yes
  hardware watchpoint     : yes, count: 4, address/irw mask: [0x0000, 0x0ff8, 0x0ff8, 0x0ff8]
  ASEs implemented        : mips16
  shadow register sets    : 1
  kscratch registers      : 0
  core                    : 0
  VCED exceptions         : not available
  VCEI exceptions         : not available</pre>

</div>

<h5 id="power_characteristics">Power characteristics</h5>
<div class="level5">
<ul>
<li class="level1"><div class="li">  Rotuer consumes between 0.5W and 1W, depending on the power supply voltage and load.</div>
</li>
<li class="level1"><div class="li"> The power adapter is rated 9V @ 0.6A . The router can be powered from a battery. </div>
</li>
<li class="level1"><div class="li"> V2 and V4.3 versions of the router contains an MP1482DS step down voltage regulator, with the voltage range from 4.75V to 18V. This are absolute maximum ratings, other components might not be able to withstand this voltage range. 5V to 15V should be a safe range (don&#039;t try this on other versions than V2 or V4.3 if you aren&#039;t sure)</div>
</li>
</ul>

</div>

<h4 id="bootloader_mods">Bootloader Mods</h4>
<div class="level4">
<ol>
<li class="level1"><div class="li"> you could read about <a href="../../doc/techref/bootloader.1" class="wikilink1" title="doc:techref:bootloader">bootloader</a> in general and about <a href="../../doc/techref/bootloader/uboot" class="wikilink1" title="doc:techref:bootloader:uboot">Das U-Boot</a> in particular.</div>
</li>
</ol>

</div>

<h5 id="u-boot_114_modification_for_routers">U-Boot 1.1.4 modification for routers</h5>
<div class="level5">

<p>
Forum member <a href="https://forum.openwrt.org/profile.php?id=72549" class="urlextern" title="https://forum.openwrt.org/profile.php?id=72549"  rel="nofollow">pepe2k</a> made a modification of <strong>U-Boot 1.1.4</strong> for <strong>Qualcomm Atheros</strong> SoCs based devices (the project is still being developed, so new devices and SoCs will be supported in the future). Up to date information, binary images and sources can be found on official <a href="https://github.com/pepe2k/u-boot_mod" class="urlextern" title="https://github.com/pepe2k/u-boot_mod"  rel="nofollow">GitHub repository</a>.
</p>

<p>
This modification started from <a href="http://code.google.com/p/wr703n-uboot-with-web-failsafe/" class="urlextern" title="http://code.google.com/p/wr703n-uboot-with-web-failsafe/"  rel="nofollow">wr703n-uboot-with-web-failsafe</a> project, but supports more devices, all modern web browsers, has a lot of improvements and other modifications (like U-Boot NetConsole, custom commands, overclocking possibilities etc.).
</p>

<p>
More information:
</p>
<ul>
<li class="level1"><div class="li"> Official repository on GitHub: <a href="https://github.com/pepe2k/u-boot_mod" class="urlextern" title="https://github.com/pepe2k/u-boot_mod"  rel="nofollow">U-Boot 1.1.4 modification for routers</a></div>
</li>
<li class="level1"><div class="li"> Discussion about this project on <a href="https://forum.openwrt.org/viewtopic.php?id=43237" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=43237"  rel="nofollow">OpenWrt forum</a></div>
</li>
<li class="level1"><div class="li"> An article (in Polish) about one of the first version of this project on <a href="http://www.tech-blog.pl/2013/03/29/zmodyfikowany-u-boot-dla-routerow-tp-link-z-atheros-ar9331-z-trybem-aktualizacji-oprogramowania-przez-www-i-konsola-sieciowa-netconsole/" class="urlextern" title="http://www.tech-blog.pl/2013/03/29/zmodyfikowany-u-boot-dla-routerow-tp-link-z-atheros-ar9331-z-trybem-aktualizacji-oprogramowania-przez-www-i-konsola-sieciowa-netconsole/"  rel="nofollow">www.tech-blog.pl</a></div>
</li>
</ul>

</div>

<h4 id="hardware_mods">Hardware mods</h4>
<div class="level4">

</div>

<h5 id="passive_poe_mod">Passive PoE mod</h5>
<div class="level5">

<p>
There are instructions for making PoE for WR741ND V2.x (not for 4.x!) on <a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?t=147190" class="urlextern" title="http://www.dd-wrt.com/phpBB2/viewtopic.php?t=147190"  rel="nofollow">DDWRT Forum</a>.
</p>

</div>

<h5 id="serial_port_mod">Serial port mod</h5>
<div class="level5">

<p>
To access the serial console of the wr741nd, you need to solder a serial header to the labelled pins.<br/>

</p>

<p>
Or if you prefer, you can solder 4 wires to the pins on the back of the board.<br/>

<a href="../../_detail/toh/tp-link/wr741nd-09-serial-pins.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="toh:tp-link:wr741nd-09-serial-pins.jpg"><img src="../../_media/toh/tp-link/wr741nd-09-serial-pins.jpg?w=400&amp;tok=0031e3" class="media" alt="" width="400" /></a>
<a href="../../_detail/toh/tp-link/wr741nd-10-serial-reverse-side.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="toh:tp-link:wr741nd-10-serial-reverse-side.jpg"><img src="../../_media/toh/tp-link/wr741nd-10-serial-reverse-side.jpg?w=400&amp;tok=45dda7" class="media" title="This is the right pinout." alt="This is the right pinout." width="400" /></a><br/>

</p>

<p>
Comment: to get the serial connection work reliably, I had to connect a 10k pullup resistor between the TX and the 3.3V pin. This is because the TX pin is connected to a voltage divider (2x5.6k) and a capacitor is put between the real pin and the TX connector.
</p>

<p>
In my case (ca42 cable), the tx pullup didn&#039;t work. I had to pull the rx pin (I don&#039;t know why)
</p>

<p>
Now connect a serial device (dku-5, ca-42) and away you go! The right settings for accessing the wr741nd serial console are as follows.<br/>

</p>

<p>
Device: <strong>ttyATH0</strong><br/>

Bits per second: <strong>115200</strong><br/>

Data bits: <strong>8</strong><br/>

Parity: <strong>None</strong><br/>

Stop bits: <strong>1</strong><br/>

Flow control: <strong>None</strong>*<br/>

(*Note: No flow control did not work for my version 1.3, I had to use RTS/CTS)
</p>

<p>
Hint: it is possible to have a serial connector outside your router without drilling holes through your nice case. The trick is threading the 4 serial cables through the vent on the side of the router before putting back all the parts and closing the case. Below is an example.<br/>

<a href="../../_detail/toh/tp-link/wr741nd-11-serial-outside.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="toh:tp-link:wr741nd-11-serial-outside.jpg"><img src="../../_media/toh/tp-link/wr741nd-11-serial-outside.jpg?w=400&amp;tok=876296" class="media" alt="" width="400" /></a>
</p>

</div>

<h5 id="wr741nd_ver_2x">WR741ND ver. 2.x</h5>
<div class="level5">

<p>
For this new revision its TP4→Tx and TP5→Rx in the center of PCB. On Chipset AR7240 they are pins 86→Rx and 87→Tx. (<a href="http://code.google.com/p/ezbox/wiki/AtherosAR7240" class="urlextern" title="http://code.google.com/p/ezbox/wiki/AtherosAR7240"  rel="nofollow">source</a>)
<a href="../../_detail/toh/tp-link/tl741v2-1.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="toh:tp-link:tl741v2-1.jpg"><img src="../../_media/toh/tp-link/tl741v2-1.jpg?w=400&amp;tok=f6d143" class="media" alt="" width="400" /></a>
<a href="../../_detail/toh/tp-link/tl741v2-2.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="toh:tp-link:tl741v2-2.jpg"><img src="../../_media/toh/tp-link/tl741v2-2.jpg?w=400&amp;tok=008228" class="media" alt="" width="400" /></a>
<a href="../../_detail/media/tplink/tp-link-v2.4-serial-pins.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="media:tplink:tp-link-v2.4-serial-pins.jpg"><img src="../../_media/media/tplink/tp-link-v2.4-serial-pins.jpg?w=400&amp;tok=28758e" class="media" alt="" width="400" /></a>
</p>

</div>

<h5 id="wr741nd_ver_4x">WR741ND ver. 4.x</h5>
<div class="level5">

<p>
The version 4 of the board uses the standard TP-Link pinout, however the TX pin is not connected to the CPU. In order to make the TX line working, the two points on the bottom side of the PCB must be connected with a small wire.
</p>

<p>
Version 4.20 needs the same wire for TX, even if the layout is a tiny bit different. The pin at the SOC is labeled TP18, the one at the serial connector is labeled TP28. Output level is 2.5V with good flanks (measured with digital oscilloscope). Input 
is via a 1k/3k voltage divider, which does <strong>not</strong> make the RX line 5V tolerant! Connection needs a 3.3V RS232 level 
shifter, or can be directly done with, e.g., the Bus Pirate. Pins on the connector in the photo are from the left TX-RX-GND-3V3, as expected.
</p>

<p>
<a href="../../_detail/toh/tp-link/tl-wr741nd-v4-serial-fix.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="toh:tp-link:tl-wr741nd-v4-serial-fix.jpg"><img src="../../_media/toh/tp-link/tl-wr741nd-v4-serial-fix.jpg?w=400&amp;tok=853628" class="media" title="tl-wr741nd-v4-serial-fix.jpg" alt="tl-wr741nd-v4-serial-fix.jpg" width="400" /></a>
<a href="../../_detail/media/tplink-wr740n-v4.23-board-downside-uart.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="media:tplink-wr740n-v4.23-board-downside-uart.jpg"><img src="../../_media/media/tplink-wr740n-v4.23-board-downside-uart.jpg?w=400&amp;tok=e1d5fb" class="media" title="tplink-wr740n-v4.23-board-downside-uart.jpg" alt="tplink-wr740n-v4.23-board-downside-uart.jpg" width="400" /></a>.
</p>

<p>
For those who can take the risk of DESTROYING YOUR ROUTER an insane usb mod vor v4 devices is available <a href="tl-wr741nd#photos" class="urlextern" title="http://wiki.openwrt.org/toh/tp-link/tl-wr741nd#photos"  rel="nofollow">here</a>
</p>

</div>

<h5 id="usb_host_mod">USB Host mod</h5>
<div class="level5">

<p>
It is possible to attach a usb socket directly to AR7240. You need to solder directly to SoC pins and provide two 15k pulldowns on every line. <strong>D- is pin 73</strong> and <strong>D+ is pin 74</strong>. USB power should come from somewhere else (e.g. an additional step-down 5V regulator connected to the main power source, LM2574 seems like a nice choice).
</p>

<p>
<a href="../../_detail/toh/tp-link/wr741nd-usb-poc.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="toh:tp-link:wr741nd-usb-poc.jpg"><img src="../../_media/toh/tp-link/wr741nd-usb-poc.jpg?w=400&amp;tok=3edbf5" class="media" alt="" width="400" /></a>
</p>

</div>

<h5 id="wr740wr741_4x_usb_mod">WR740/WR741 4.x USB mod</h5>
<div class="level5">

<p>
For WR741ND V4.x pins are not directly accessible so you need to use fine dremel tool get access to usb pins:
<a href="../../_detail/media/ar9331usbpins.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="media:ar9331usbpins.jpg"><img src="../../_media/media/ar9331usbpins.jpg?w=400&amp;tok=ea1369" class="media" alt="" width="400" /></a>
</p>

<p>
This is how it should be connected:
<a href="../../_detail/media/ar9931usb.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="media:ar9931usb.jpg"><img src="../../_media/media/ar9931usb.jpg?w=400&amp;tok=4056bf" class="media" alt="" width="400" /></a>
</p>

<p>
You can read detailed instructions on <a href="https://forum.openwrt.org/viewtopic.php?id=37368" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=37368"  rel="nofollow">the forum</a>.
</p>

<p>
You also need this minor kernel patch (verified against Attitude Adjustment 12.09):
</p>
<div class="table sectionedit24"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code diff">Index: target/linux/ar71xx/patches-<span class="nu0">3.3</span>/<span class="nu0">990</span>-WR741ND-usb.patch
===================================================================
<span class="re3">--- target/linux/ar71xx/patches-3.3/990-WR741ND-usb.patch	<span class="br0">&#40;</span>revision 0<span class="br0">&#41;</span></span>
<span class="re4">+++ target/linux/ar71xx/patches-3.3/990-WR741ND-usb.patch	<span class="br0">&#40;</span>revision 0<span class="br0">&#41;</span></span>
<span class="re6">@@ -0,0 +1,10 @@</span>
<span class="re8">+--- a/arch/mips/ath79/Kconfig	2013-03-12 15:18:29.827389883 +0400</span>
<span class="re8">++++ b/arch/mips/ath79/Kconfig	2013-03-12 15:21:57.884753554 +0400</span>
<span class="re8">+@@ -506,6 +506,7 @@</span>
<span class="re8">+ 	select ATH79_DEV_AP9X_PCI if PCI</span>
<span class="re8">+ 	select ATH79_DEV_ETH</span>
<span class="re8">+ 	select ATH79_DEV_GPIO_BUTTONS</span>
<span class="re8">++	select ATH79_DEV_USB</span>
<span class="re8">+ 	select ATH79_DEV_LEDS_GPIO</span>
<span class="re8">+ 	select ATH79_DEV_M25P80</span>
<span class="re8">+ </span>
Index: target/linux/ar71xx/files/arch/mips/ath79/mach-tl-wr741nd.c
===================================================================
<span class="re3">--- target/linux/ar71xx/files/arch/mips/ath79/mach-tl-wr741nd.c	<span class="br0">&#40;</span>revision 36033<span class="br0">&#41;</span></span>
<span class="re4">+++ target/linux/ar71xx/files/arch/mips/ath79/mach-tl-wr741nd.c	<span class="br0">&#40;</span>working copy<span class="br0">&#41;</span></span>
<span class="re6">@@ -16,6 +16,7 @@</span>
 #include &quot;dev-eth.h&quot;
 #include &quot;dev-gpio-buttons.h&quot;
 #include &quot;dev-leds-gpio.h&quot;
<span class="re8">+#include &quot;dev-usb.h&quot;</span>
 #include &quot;dev-m25p80.h&quot;
 #include &quot;machtypes.h&quot;
&nbsp;
<span class="re6">@@ -97,6 +98,8 @@</span>
 	u8 *mac = <span class="br0">&#40;</span>u8 *<span class="br0">&#41;</span> KSEG1ADDR<span class="br0">&#40;</span>0x1f01fc00<span class="br0">&#41;</span>;
 	u8 *ee = <span class="br0">&#40;</span>u8 *<span class="br0">&#41;</span> KSEG1ADDR<span class="br0">&#40;</span>0x1fff1000<span class="br0">&#41;</span>;
&nbsp;
<span class="re8">+	ath79_register_usb<span class="br0">&#40;</span><span class="br0">&#41;</span>;</span>
<span class="re8">+</span>
 	ath79_register_m25p80<span class="br0">&#40;</span>&amp;tl_wr741nd_flash_data<span class="br0">&#41;</span>;
&nbsp;
 	ath79_gpio_function_disable<span class="br0">&#40;</span>AR724X_GPIO_FUNC_ETH_SWITCH_LED0_EN |</pre>
 </td>
	</tr>
</table></div>

<p>
Here&#039;s how it works:
</p>
<div class="table sectionedit25"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver
ar71xx-ohci ar71xx-ohci: Atheros AR71xx built-in OHCI controller
ar71xx-ohci ar71xx-ohci: new USB bus registered, assigned bus number 1
ar71xx-ohci ar71xx-ohci: irq 3, io mem 0x1b000000
usb usb1: configuration #1 chosen from 1 choice
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 1 port detected
usb 1-1: new full speed USB device using ar71xx-ohci and address 2
usb 1-1: configuration #1 chosen from 2 choices</pre>
 </td>
	</tr>
</table></div>
<div class="table sectionedit26"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">root@OpenWrt:/# cat /sys/kernel/debug/usb/devices 

T:  Bus=01 Lev=00 Prnt=00 Port=00 Cnt=00 Dev#=  1 Spd=12  MxCh= 1
B:  Alloc=  0/900 us ( 0%), #Int=  0, #Iso=  0
D:  Ver= 1.10 Cls=09(hub  ) Sub=00 Prot=00 MxPS=64 #Cfgs=  1
P:  Vendor=1d6b ProdID=0001 Rev= 2.06
S:  Manufacturer=Linux 2.6.32.10 ohci_hcd
S:  Product=Atheros AR71xx built-in OHCI controller
S:  SerialNumber=ar71xx-ohci
C:* #Ifs= 1 Cfg#= 1 Atr=e0 MxPwr=  0mA
I:* If#= 0 Alt= 0 #EPs= 1 Cls=09(hub  ) Sub=00 Prot=00 Driver=hub
E:  Ad=81(I) Atr=03(Int.) MxPS=   2 Ivl=255ms

T:  Bus=01 Lev=01 Prnt=01 Port=00 Cnt=01 Dev#=  2 Spd=12  MxCh= 0
D:  Ver= 2.00 Cls=02(comm.) Sub=00 Prot=00 MxPS= 8 #Cfgs=  2
P:  Vendor=1457 ProdID=5122 Rev= 3.12
S:  Manufacturer=Linux 2.6.29-GTA02_a-t-gta01-tweaks-mokodev with 
S:  Product=RNDIS/Ethernet Gadget
C:  #Ifs= 2 Cfg#= 2 Atr=c0 MxPwr=500mA
I:  If#= 0 Alt= 0 #EPs= 1 Cls=02(comm.) Sub=02 Prot=ff Driver=
E:  Ad=83(I) Atr=03(Int.) MxPS=   8 Ivl=32ms
I:  If#= 1 Alt= 0 #EPs= 2 Cls=0a(data ) Sub=00 Prot=00 Driver=
E:  Ad=81(I) Atr=02(Bulk) MxPS=  64 Ivl=0ms
E:  Ad=02(O) Atr=02(Bulk) MxPS=  64 Ivl=0ms
C:* #Ifs= 2 Cfg#= 1 Atr=c0 MxPwr=500mA
I:* If#= 0 Alt= 0 #EPs= 1 Cls=02(comm.) Sub=06 Prot=00 Driver=(none)
E:  Ad=83(I) Atr=03(Int.) MxPS=  16 Ivl=32ms
I:* If#= 1 Alt= 0 #EPs= 0 Cls=0a(data ) Sub=00 Prot=00 Driver=(none)
I:  If#= 1 Alt= 1 #EPs= 2 Cls=0a(data ) Sub=00 Prot=00 Driver=(none)
E:  Ad=81(I) Atr=02(Bulk) MxPS=  64 Ivl=0ms
E:  Ad=02(O) Atr=02(Bulk) MxPS=  64 Ivl=0ms
root@OpenWrt:/#</pre>
 </td>
	</tr>
</table></div>

<p>
<strong>Also firmware for 741nd is working in 743nd</strong>
</p>

</div>

<h5 id="wr741_v1_v2_usb_mod_on_trunk_barrier_breaker">WR741 V1, V2 USB mod on trunk (Barrier Breaker)</h5>
<div class="level5">

<p>
Note: Modification for V4 is not needed. The files are already patched.
</p>

<p>
1. Setup you Buildroot (download the source, install the packages, make defconfig, make prereq, make menuconfig
</p>

<p>
2. Select the needed packages - kmod-usb-storage block-mount kmod-fs-ext4 e2fsprogs (you can add other kmod-fs modules for other file systems like NTFS and fat)
</p>

<p>
3. Run make (build the source).
</p>

<p>
4. Edit the following file (MUST BUILD FIRST!!!):
</p>

<p>
4.1 build_dir/target-mips_34kc_uClibc-0.9.33.2/linux-ar71xx_generic/linux-3.10.32/arch/mips/ath79/mach-tl-wr741nd.c
</p>

<p>
After: <pre class="code">#include &quot;dev-gpio-buttons.h&quot;</pre>

</p>

<p>
Add: <pre class="code">#include &quot;dev-usb.h&quot;</pre>

</p>

<p>
After: <pre class="code">ath79_register_eth(0);</pre>

</p>

<p>
Add: <pre class="code">ath79_register_usb();</pre>

</p>

<p>
4.2 build_dir/target-mips_34kc_uClibc-0.9.33.2/linux-ar71xx_generic/linux-3.10.32/arch/mips/ath79/Kconfig
</p>

<p>
Add: <pre class="code">select ATH79_DEV_USB</pre>

</p>

<p>
After:
<pre class="code">config ATH79_MACH_TL_WR741ND
      bool &quot;TP-LINK TL-WR741ND support&quot;
      select SOC_AR724X
      select ATH79_DEV_AP9X_PCI if PCI
      select ATH79_DEV_ETH
      select ATH79_DEV_GPIO_BUTTONS
      select ATH79_DEV_LEDS_GPIO
      select ATH79_DEV_M25P80</pre>

</p>

<p>
5. Make (compile) once again. Now usb support should work.
</p>

</div>

<h4 id="software_mods">Software mods</h4>
<div class="level4">

</div>

<h5 id="buttons">Buttons</h5>
<div class="level5">

<p>
I found that QSS button is BTN_1 and reset is BTN_0
(in openwrt 12.09 on HW version 4.25 I have &quot;wps&quot; and &quot;reset&quot;)
See also <a href="http://eko.one.pl/?p=openwrt-button" class="urlextern" title="http://eko.one.pl/?p=openwrt-button"  rel="nofollow">http://eko.one.pl/?p=openwrt-button</a> (in Polish, sorry)
</p>

</div>

<h5 id="wifi_onoff_toggle_by_qss_button">Wifi on/off toggle by QSS button</h5>
<div class="level5">

<p>
(Thanks to obsy) <a href="https://forum.openwrt.org/viewtopic.php?id=26871" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=26871"  rel="nofollow">Wifi toggle by QSS button</a>
Simply create a new file called 01onoff in /etc/hotplug.d/button/
</p>
<div class="table sectionedit27"><table class="inline">
	<tr class="row0">
		<td class="col0"><pre class="code">vi /etc/hotplug.d/button/01onoff</pre>
</td>
	</tr>
</table></div>

<p>
and copy these lines inside (remember to push &#039;i&#039; for insert) 
</p>
<div class="table sectionedit28"><table class="inline">
	<tr class="row0">
		<td class="col0"><pre class="code">#!/bin/sh

[ &quot;$BUTTON&quot; = &quot;BTN_1&quot; ] &amp;&amp; [ &quot;$ACTION&quot; = &quot;pressed&quot; ] &amp;&amp; {
 SW=$(uci get wireless.@wifi-device[0].disabled)
 [ $SW == &#039;0&#039; ] &amp;&amp; uci set wireless.@wifi-device[0].disabled=1
 [ $SW == &#039;0&#039; ] || uci set wireless.@wifi-device[0].disabled=0
 wifi
}</pre>
</td>
	</tr>
</table></div>

<p>
Save and exit
</p>
<div class="table sectionedit29"><table class="inline">
	<tr class="row0">
		<td class="col0"><pre class="code">(esc :wq)</pre>
</td>
	</tr>
</table></div>

</div>

<h5 id="reboot_by_qss_button">Reboot by QSS button</h5>
<div class="level5">

<p>
Borrowed from Gargoyle:
</p>
<div class="table sectionedit30"><table class="inline">
	<tr class="row0">
		<td class="col0"><pre class="code">uci set system.reboot_button=button
uci set system.reboot_button.button=BTN_1
uci set system.reboot_button.action=released
uci set system.reboot_button.handler=&#039;logger reboot ; reboot ;&#039;
uci set system.reboot_button.min=3
uci set system.reboot_button.max=90
uci commit system</pre>
</td>
	</tr>
</table></div>

<p>
Press and hold QSS button for at least 3 seconds and router will reboot on release.
</p>

</div>

<h4 id="specific_configuration">Specific configuration</h4>
<div class="level4">

</div>

<h5 id="failsafe_mode">Failsafe mode</h5>
<div class="level5">

<p>
<img src="../../_media/meta/icons/tango/dialog-warning.png" class="medialeft" title="Warning!" alt="Warning!" /><strong>WARNING:</strong> You may be unable to access even if you see fancy fast flashing of &quot;SYS&quot; LED due to a bug <a href="https://dev.openwrt.org/ticket/6922" class="urlextern" title="https://dev.openwrt.org/ticket/6922"  rel="nofollow">#6922</a>
</p>
<ul>
<li class="level1"><div class="li"> Unplug the router&#039;s power cord</div>
</li>
<li class="level1"><div class="li"> Connect any router <abbr title="Local Area Network">LAN</abbr> port directly to your PC</div>
</li>
<li class="level1"><div class="li"> Configure your PC with a static IP address: 192.168.1.2</div>
</li>
<li class="level1"><div class="li"> Plug the power on to the router</div>
</li>
<li class="level1"><div class="li"> Wait until the &quot;SYS&quot; LED starts flashing repeatedly</div>
</li>
<li class="level1"><div class="li"> Press the &quot;QSS&quot; button (on the front of the router) – the &quot;SYS&quot; LED will now start flashing at a faster rate</div>
</li>
<li class="level1"><div class="li"> Login to the router by using telnet to connect to the IP address 192.168.1.1 – there will be an immediate unauthenticated login to a root shell</div>
</li>
</ul>

</div>

<h5 id="commands">Commands:</h5>
<div class="level5">
<ul>
<li class="level1"><div class="li"> mount_root - will mount the normal root filesystem</div>
</li>
<li class="level1"><div class="li"> firstboot - all settings will be reset</div>
</li>
<li class="level1"><div class="li"> reboot -f - will reboot even without a mounted filesystem</div>
</li>
</ul>

</div>

<h4 id="basic_configuration">Basic configuration</h4>
<div class="level4">

<p>
Since this part is identical for all devices, see <a href="../../doc/howto/configuration" class="wikilink1" title="doc:howto:basic.config">Basic configuration</a>.
</p>

</div>

<h5 id="oem_firmware_features">OEM firmware features</h5>
<div class="level5">

<p>
Since this is the same for all TP-LINK products, see <a href="tl-features" class="wikilink1" title="toh:tp-link:tl-features">TP-LINK firmware features</a>.
</p>

</div>

<h4 id="connect_stuff_to_the_usb_port">Connect stuff to the USB port</h4>
<div class="level4">

<p>
To connect stuff to the USB port, please see <a href="../../doc/howto/usb.overview" class="wikilink1" title="doc:howto:usb.overview">Connect stuff to the USB port</a>.
</p>

</div>

<h4 id="other_info">Other Info</h4>
<div class="level4">

</div>

<h5 id="imagebuilder_recipes">ImageBuilder recipes</h5>
<div class="level5">

<p>
After many cycles of:
</p>
<div class="table sectionedit31"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code bash">opkg update
opkg <span class="kw2">install</span> ... 
opkg remove ...
opkg <span class="kw2">install</span> ... 
opkg remove ...
opkg <span class="kw2">install</span> ... 
firstboot
<span class="kw2">sync</span>
reboot
opkg update
opkg <span class="kw2">install</span> ... </pre>
 </td>
	</tr>
</table></div>

<p>
You will save precious flash space, preinstalling these <strong>packages and config</strong> files with <a href="../../doc/howto/imagegenerator" class="wikilink1" title="doc:howto:obtain.firmware.generate">ImageBuilder</a>. The official download link is know to be broken so use <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/OpenWrt-ImageBuilder-ar71xx-for-Linux-x86_64.tar.bz2" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/OpenWrt-ImageBuilder-ar71xx-for-Linux-x86_64.tar.bz2"  rel="nofollow">ImageBuilder from lastest trunk</a> instead.
</p>

<p>
<strong>Only</strong> your <strong>changed</strong> config files will be saved to /overlay/etc/ folder. So it&#039;s that what you exactly have to copy to /files/etc/ folder in your ImageBuilder root.
</p>

<p>
SCP will not work if you didn&#039;t passwd and if you don&#039;t want to do passwd before copy files: You can do passwd and avoid SCPing passwd file or simlink /overlay inside /www and download config files at <a href="http://192.168.1.1/overlay/" class="urlextern" title="http://192.168.1.1/overlay/"  rel="nofollow">http://192.168.1.1/overlay/</a>
</p>
<div class="table sectionedit32"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code bash"><span class="kw2">ln</span> <span class="re5">-s</span> <span class="sy0">/</span>overlay <span class="sy0">/</span>www<span class="sy0">/</span>overlay</pre>
 </td>
	</tr>
</table></div>

<p>
<img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> List config files anyway…
</p>

<p>
Default Packages + Default Profile if what you get when downloading a image from trunk:
</p>
<div class="table sectionedit33"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code bash"><span class="kw2">make</span> info
Current Target: <span class="st0">&quot;ar71xx (Generic)&quot;</span>
Default Packages: base-files libc libgcc busybox dropbear mtd uci opkg udevtrigger
	hotplug2 dnsmasq iptables ppp ppp-mod-pppoe kmod-ipt-nathelper firewall
	kmod-leds-gpio kmod-input-core kmod-input-polldev kmod-input-gpio-buttons
	kmod-button-hotplug swconfig
Available Profiles:
&nbsp;
Default:
	Default Profile <span class="br0">&#40;</span>all drivers<span class="br0">&#41;</span>
	Packages: kmod-ath9k kmod-usb-core kmod-usb-ohci kmod-usb2 swconfig
		vsc7385-ucode-ap83 vsc7385-ucode-pb44 vsc7395-ucode-ap83
		vsc7395-ucode-pb44 wpad-mini
&nbsp;
TLWR741NDV1:
	TP-LINK TL-WR741ND v1
	Packages: kmod-ath9k wpad-mini</pre>
 </td>
	</tr>
</table></div>

<p>
If all stuff selected fit into your router, it will be in:
</p>
<div class="table sectionedit34"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code bash"><span class="kw2">ls</span> <span class="re5">-la</span> .<span class="sy0">/</span>bin<span class="sy0">/</span>ar71xx<span class="sy0">/</span></pre>
 </td>
	</tr>
</table></div>

<p>
Take care of file time, if build fails the file you see is from a previous successful build. 
</p>

</div>

<h5 id="qos-scripts">qos-scripts</h5>
<div class="level5">
<div class="table sectionedit35"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code bash"><span class="kw2">make</span> <span class="re5">-j2</span> <span class="re2">FILES</span>=<span class="st0">&quot;~/OpenWrt-ImageBuilder-ar71xx-for-Linux-x86_64/files&quot;</span>
<span class="re2">PROFILE</span>=<span class="st0">&quot;TLWR741NDV1&quot;</span> <span class="re2">PACKAGES</span>=<span class="st0">&quot;kmod-sched kmod-ipt-filter kmod-textsearch kmod-ipt-ipopt 
kmod-ipt-conntrack-extra kmod-ipt-imq tc iptables-mod-ipopt iptables-mod-filter 
iptables-mod-conntrack-extra iptables-mod-imq qos-scripts&quot;</span> image</pre>
 </td>
	</tr>
</table></div>

</div>

<h5 id="i_relevant_forum_links">(I)relevant forum links:</h5>
<div class="level5">

<p>
<a href="https://forum.openwrt.org/viewtopic.php?id=24740" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=24740"  rel="nofollow">Is v1.4 supported?</a>
</p>

<p>
<a href="https://forum.openwrt.org/viewtopic.php?id=24839" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=24839"  rel="nofollow">Is v1.8 supported?</a>
</p>

<p>
<a href="https://forum.openwrt.org/viewtopic.php?pid=111786#p111786" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=111786#p111786"  rel="nofollow">LEDS config</a>
</p>

<p>
<a href="https://forum.openwrt.org/viewtopic.php?pid=110188#p110188" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=110188#p110188"  rel="nofollow">help bricked</a>
</p>

<p>
<a href="https://forum.openwrt.org/viewtopic.php?pid=112885#p112885" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=112885#p112885"  rel="nofollow">Non working images with backfire imagebuilder for ar71xx</a>
</p>

<p>
<a href="https://forum.openwrt.org/viewtopic.php?id=27128" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=27128"  rel="nofollow">64M Memory mod</a>
</p>

<p>
<a href="https://forum.openwrt.org/viewtopic.php?id=34993" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=34993"  rel="nofollow">Debrick Routers with AR724x processors Using JTAG</a>
</p>

<p>
<a href="https://forum.openwrt.org/viewtopic.php?id=37368" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=37368"  rel="nofollow">USB Mod for WR740/WR741nd version 4.x</a>
</p>

<p>
<a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?t=147190" class="urlextern" title="http://www.dd-wrt.com/phpBB2/viewtopic.php?t=147190"  rel="nofollow">POE mod for WR741ND V2.x</a>
</p>

</div>

<h4 id="tags">Tags</h4>
<div class="level4">
<hr />

</div>
</div>
<div class="level2">

</div>

<h3 class="sectionedit36" id="flash_via_webinterface">Flash via Webinterface</h3>
<div class="level3">

<p>
Install the OpenWrt image using &quot;Firmware Upgrade&quot; from the orginal firmware. 
</p>

</div>

<h3 class="sectionedit37" id="flash_via_tftp">Flash via tftp</h3>
<div class="level3">

</div>

<h4 id="using_a_serial_line">Using a serial line</h4>
<div class="level4">
<ol>
<li class="level1"><div class="li"> Download openwrt-ar71xx-generic-tl-mr3420-v1-squashfs-factory.bin</div>
</li>
<li class="level1"><div class="li"> Connect your pc via serial interface.</div>
</li>
<li class="level1"><div class="li"> Use a tftpd server name the the firmware code.bin and set the static IP address of the computer to 192.168.1.27 (for MR3420/MR3220 versions v1.x) or 192.168.1.100 (for MR3420/MR3220 versions v2.x).</div>
</li>
<li class="level1"><div class="li"> Power on the router, and type tpl if &quot;Autoboot in ..&quot; occurs (type fast!)</div>
</li>
<li class="level1"><div class="li"> If it works you now should see: <code>ar7100&gt;</code></div>
</li>
<li class="level1"><div class="li"> Now you should type the following:</div>
</li>
</ol>

<p>
<code>ar7100&gt; erase 0x9f020000 +0x3c0000
ar7100&gt; tftpboot 0x81000000 code.bin
ar7100&gt; cp.b 0x81000000 0x9f020000 0x3c0000
ar7100&gt; bootm 0x9f020000</code>
</p>

<p>
(source: <a href="http://eko.one.pl/?p=openwrt-mr3420" class="urlextern" title="http://eko.one.pl/?p=openwrt-mr3420"  rel="nofollow">http://eko.one.pl/?p=openwrt-mr3420</a>)
</p>

</div>

<h4 id="using_a_tftpd_server">Using a tftpd server</h4>
<div class="level4">

<p>
The following procedure was tested with a <em>TL-WR842ND</em>.
</p>

<p>
Enter failsafe mode:
</p>
<ol>
<li class="level1"><div class="li"> remove the power plug from the router</div>
</li>
<li class="level1"><div class="li"> press and hold the <em>RESET</em> button</div>
</li>
<li class="level1"><div class="li"> insert the power plug</div>
</li>
<li class="level1"><div class="li"> release the <em>RESET</em> button</div>
</li>
</ol>

<p>
Some seconds later no LED besides the one for <em>USB</em> (and maybe for attached ethernet ports) should be lit.
</p>

<p>
The device now uses the IP <code>192.168.1.86</code>. It repeatedly tries to download a file named <code>wr842ndv1_tp_recovery.bin</code> from a tftpd server with the IP <code>192.168.1.66</code>. You can verify these continuous requests with a network sniffer (e.g. tcpdump or wireshark).
</p>

<p>
Please use for MR3420 v2 &quot;mr3420v2_tp_recovery.bin&quot; (squashfs, not sysupgrade), connect to <abbr title="Local Area Network">LAN</abbr>, not WAN. Press and hold WDS/RESET, power on, the WDS-LED (padlock) lights up.
Version 2 of MR3420 uses 192.168.0.86 (NOT 192.168.1.86 !!!),the failsafe mode searching for mr3420v2_tp_recovery.bin at 192.168.0.66 (your tftp-server / PC).
</p>

<p>
The following steps will serve an openwrt fimrware image to the device:
</p>
<ol>
<li class="level1"><div class="li"> download an appropriate firmware file (e.g. <code>openwrt-ar71xx-generic-tl-wr842n-v1-squashfs-factory.bin</code>)</div>
</li>
<li class="level1"><div class="li"> create a symlink or rename the file: <code>ln -s openwrt-ar71xx-generic-tl-wr842n-v1-squashfs-factory.bin wr842ndv1_tp_recovery.bin</code></div>
</li>
<li class="level1"><div class="li"> configure the static IP <code>192.168.1.66</code> for your local ethernet interface</div>
</li>
<li class="level1"><div class="li"> connect your computer to one of the <abbr title="Local Area Network">LAN</abbr> ports of the router</div>
</li>
<li class="level1"><div class="li"> install a tftpd server (e.g. <code>atftpd</code>)</div>
</li>
<li class="level1"><div class="li"> run the tftpd server and let it serve the directory that contains the above firmware image: <code>atftpd –no-fork –daemon FIRMWARE_DIRECTORY</code></div>
</li>
<li class="level1"><div class="li"> the router immediately starts to download the firmware image</div>
</li>
<li class="level1"><div class="li"> after some time you will see all LEDs flashing once followed by a normal restart of the router</div>
</li>
</ol>

</div>

<h2 class="sectionedit38" id="hardware1">Hardware</h2>
<div class="level2">

</div>

<h3 class="sectionedit39" id="info">Info</h3>
<div class="level3">
<div class="table sectionedit40"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Model </th><th class="col1" colspan="4"> MR3420 </th><th class="col5" colspan="3"> MR3220 </th>
	</tr>
	<tr class="row1">
		<th class="col0"> Version </th><th class="col1"> 1 </th><th class="col2"> 1.1 </th><th class="col3"> 1.2 </th><th class="col4"> 2.3 </th><th class="col5"> 1 </th><th class="col6"> 1.2 </th><th class="col7"> 2.2 </th>
	</tr>
	</thead>
	<tr class="row2">
		<td class="col0"> <strong>Architecture:</strong> </td><td class="col1 centeralign" colspan="3">  MIPS 24Kc V7.4  </td><td class="col4">MIPS 74Kc</td><td class="col5" colspan="3">MIPS 24Kc V7.4</td>
	</tr>
	<tr class="row3">
		<td class="col0"> <strong>Manufacturer:</strong> </td><td class="col1 centeralign" colspan="7">  Atheros  </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <strong>Bootloader:</strong> </td><td class="col1 centeralign" colspan="7">  <a href="../../doc/techref/bootloader/uboot" class="wikilink1" title="doc:techref:bootloader:uboot">U-Boot</a>  </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <strong>System-On-Chip:</strong> </td><td class="col1 centeralign" colspan="3">  Atheros AR7241@400MHz  </td><td class="col4">Atheros AR9341@535MHz</td><td class="col5" colspan="2">Atheros AR7241@400MHz</td><td class="col7"> Atheros AR9331 </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <strong>Flash chip:</strong> </td><td class="col1 centeralign">  <a href="http://www.zlgmcu.com/mxic/pdf/NOR_Flash_c/MX25L3206E_DS_EN.pdf" class="urlextern" title="http://www.zlgmcu.com/mxic/pdf/NOR_Flash_c/MX25L3206E_DS_EN.pdf"  rel="nofollow">MACRONIX MX25L3206E</a>  </td><td class="col2 centeralign">  <a href="http://www.eonssi.com/upfile/p200951110712.pdf" class="urlextern" title="http://www.eonssi.com/upfile/p200951110712.pdf"  rel="nofollow">cFeon F32-100HIP</a>  </td><td class="col3 centeralign" colspan="2">  <a href="http://www.winbond.com/NR/rdonlyres/B573ABE4-0DD6-4C10-AA9F-906945FC52B5/0/W25Q32BV.pdf" class="urlextern" title="http://www.winbond.com/NR/rdonlyres/B573ABE4-0DD6-4C10-AA9F-906945FC52B5/0/W25Q32BV.pdf"  rel="nofollow">Winbond W25Q32BV</a>   </td><td class="col5 centeralign">    <a href="http://www.spansion.com/Support/Datasheets/S25FL032P_00.pdf" class="urlextern" title="http://www.spansion.com/Support/Datasheets/S25FL032P_00.pdf"  rel="nofollow">Spansion FL032PIF</a>  </td><td class="col6 centeralign">  <a href="http://www.eonssi.com/upfile/p200951110712.pdf" class="urlextern" title="http://www.eonssi.com/upfile/p200951110712.pdf"  rel="nofollow">cFeon F32-100HIP</a>  </td><td class="col7"> <a href="http://www.spansion.com/Support/Datasheets/S25FL032P_00.pdf" class="urlextern" title="http://www.spansion.com/Support/Datasheets/S25FL032P_00.pdf"  rel="nofollow">Spansion FL032PIF</a> </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <strong>Flash size:</strong> </td><td class="col1 centeralign" colspan="7">    4 MiB    </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <strong>RAM chip:</strong> </td><td class="col1 centeralign" colspan="3">  Zentel A3S56D40FTP -G5  </td><td class="col4">Winbond W9425G6JH-5</td><td class="col5 centeralign">  <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" />  </td><td class="col6" colspan="2"> Zentel A3S56D40FTP -G5 </td>
	</tr>
	<tr class="row9">
		<td class="col0"> <strong>RAM size:</strong> </td><td class="col1 centeralign" colspan="7">  32 MiB  </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <strong>Wireless</strong> </td><td class="col1 centeralign" colspan="3">  Atheros AR9287 (2x2 MIMO 300Mbps)  </td><td class="col4">Atheros AR9341</td><td class="col5" colspan="2"> Atheros AR9285 (1x1 MIMO 150Mbps) </td><td class="col7"></td>
	</tr>
	<tr class="row11">
		<td class="col0"> <strong>Antenae(s)</strong> </td><td class="col1 centeralign" colspan="4">  2 Removables x 3 dBi  </td><td class="col5 centeralign" colspan="2">  1 Removable x 5 dBi  </td><td class="col7"> 1 Removable </td>
	</tr>
	<tr class="row12">
		<td class="col0"> <strong>Ethernet:</strong> </td><td class="col1 centeralign" colspan="6">  AG71xx 4 <abbr title="Local Area Network">LAN</abbr>, 1 WAN 100/10  </td><td class="col7"></td>
	</tr>
	<tr class="row13">
		<td class="col0"> <strong>USB:</strong> </td><td class="col1 centeralign" colspan="7">  1 x 2.0  </td>
	</tr>
	<tr class="row14">
		<td class="col0"> <strong>Serial:</strong> </td><td class="col1 centeralign" colspan="6">  <a href="tl-mr3220#serial" title="toh:tp-link:tl-mr3420 ↵" class="wikilink1">Unfriendly</a>  </td><td class="col7"></td>
	</tr>
	<tr class="row15">
		<td class="col0"> <strong>JTAG:</strong> </td><td class="col1 centeralign" colspan="6">  No  </td><td class="col7"></td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit41" id="photos1">Photos</h3>
<div class="level3">

</div>

<h4 id="mr3420_v1x">MR3420 v1.x</h4>
<div class="level4">

<p>
<em>Front:</em>
<a href="../../lib/exe/fetch.php?tok=a03e1e&amp;media=http%253A%252F%252Fwww.tp-linkru.com%252Fresources%252Fimages%252Fproducts%252Flarge%252FTL-MR3420-01.jpg" class="media" title="http://www.tp-linkru.com/resources/images/products/large/TL-MR3420-01.jpg"><img src="../../lib/exe/fetch.php?w=400&amp;tok=c9f544&amp;media=http%253A%252F%252Fwww.tp-linkru.com%252Fresources%252Fimages%252Fproducts%252Flarge%252FTL-MR3420-01.jpg" class="media" title="tl-mr3420-01.jpg" alt="tl-mr3420-01.jpg" width="400" /></a>
</p>

<p>
<em>Back:</em>
<a href="../../lib/exe/fetch.php?tok=5b88de&amp;media=http%253A%252F%252Fwww.tp-linkru.com%252Fresources%252Fimages%252Fproducts%252Flarge%252FTL-MR3420-04.jpg" class="media" title="http://www.tp-linkru.com/resources/images/products/large/TL-MR3420-04.jpg"><img src="../../lib/exe/fetch.php?w=400&amp;tok=c1f53e&amp;media=http%253A%252F%252Fwww.tp-linkru.com%252Fresources%252Fimages%252Fproducts%252Flarge%252FTL-MR3420-04.jpg" class="media" title="tl-mr3420-04.jpg" alt="tl-mr3420-04.jpg" width="400" /></a>
</p>

<p>
<em>Board:</em>
<a href="../../lib/exe/fetch.php?tok=df7f28&amp;media=http%253A%252F%252Fprohardver.hu%252Fdl%252Fupc%252F2011-09%252F280405_tp-link_mr_3420_alaplap.jpg" class="media" title="http://prohardver.hu/dl/upc/2011-09/280405_tp-link_mr_3420_alaplap.jpg"><img src="../../lib/exe/fetch.php?w=400&amp;tok=afeea3&amp;media=http%253A%252F%252Fprohardver.hu%252Fdl%252Fupc%252F2011-09%252F280405_tp-link_mr_3420_alaplap.jpg" class="media" title="280405_tp-link_mr_3420_alaplap.jpg" alt="280405_tp-link_mr_3420_alaplap.jpg" width="400" /></a>
</p>

<p>
<a href="http://prohardver.hu/tema/tp-link_mr3420/hsz_1-50.html" class="urlextern" title="http://prohardver.hu/tema/tp-link_mr3420/hsz_1-50.html"  rel="nofollow"> Photo source</a> <br/>

<em>More photos:</em>
<a href="http://www.ferra.ru/images/298/298975.jpg" class="urlextern" title="http://www.ferra.ru/images/298/298975.jpg"  rel="nofollow"> 1</a>, 
<a href="http://i110.photobucket.com/albums/n85/andhix/Kaskus%20openwrt/DSCN2490resizedresized.jpg" class="urlextern" title="http://i110.photobucket.com/albums/n85/andhix/Kaskus%20openwrt/DSCN2490resizedresized.jpg"  rel="nofollow"> 2</a>, <a href="http://i110.photobucket.com/albums/n85/andhix/Kaskus%20openwrt/DSCN2489resizedresized.jpg" class="urlextern" title="http://i110.photobucket.com/albums/n85/andhix/Kaskus%20openwrt/DSCN2489resizedresized.jpg"  rel="nofollow"> 3</a>
</p>

</div>

<h4 id="mr3220_v1x">MR3220 v1.x</h4>
<div class="level4">

<p>
<em>Front:</em>
<a href="../../_detail/media/tp-link_tl-mr3220_front.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="media:tp-link_tl-mr3220_front.jpg"><img src="../../_media/media/tp-link_tl-mr3220_front.jpg?w=400&amp;tok=0dd445" class="media" title="1-5" alt="1-5" width="400" /></a><br/>

</p>

<p>
<em>Back:</em>
<a href="../../_detail/media/tp-link_tl-mr3220_back.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="media:tp-link_tl-mr3220_back.jpg"><img src="../../_media/media/tp-link_tl-mr3220_back.jpg?w=400&amp;tok=951f4d" class="media" title="1-3." alt="1-3." width="400" /></a><br/>

</p>

<p>
<em>Board:</em>
<a href="../../lib/exe/fetch.php?tok=892bf4&amp;media=http%253A%252F%252F2.bp.blogspot.com%252F-eRqqW1mfuTc%252FTgwx57oswcI%252FAAAAAAAAAG4%252FSR0Kw04D8uc%252Fs1600%252FIMG_20110628_172208.jpg" class="media" title="http://2.bp.blogspot.com/-eRqqW1mfuTc/Tgwx57oswcI/AAAAAAAAAG4/SR0Kw04D8uc/s1600/IMG_20110628_172208.jpg"><img src="../../lib/exe/fetch.php?w=400&amp;tok=594816&amp;media=http%253A%252F%252F2.bp.blogspot.com%252F-eRqqW1mfuTc%252FTgwx57oswcI%252FAAAAAAAAAG4%252FSR0Kw04D8uc%252Fs1600%252FIMG_20110628_172208.jpg" class="media" title="img_20110628_172208.jpg" alt="img_20110628_172208.jpg" width="400" /></a><br/>

</p>

<p>
<a href="http://parkyjimbo.blogspot.com/2011/06/tp-link-mr3220-debricking.html" class="urlextern" title="http://parkyjimbo.blogspot.com/2011/06/tp-link-mr3220-debricking.html"  rel="nofollow">Photo source</a> <br/>

<em>More photos:</em>
<a href="http://radikal.ua/data/upload/c2184/4fa6c/54ba9c3ef4.jpg" class="urlextern" title="http://radikal.ua/data/upload/c2184/4fa6c/54ba9c3ef4.jpg"  rel="nofollow"> 1</a>,
<a href="http://portax.com.ua/forum/download/file.php?id=108" class="urlextern" title="http://portax.com.ua/forum/download/file.php?id=108"  rel="nofollow"> 2</a>,
<a href="http://portax.com.ua/forum/download/file.php?id=109" class="urlextern" title="http://portax.com.ua/forum/download/file.php?id=109"  rel="nofollow"> 3</a>,
<a href="http://s008.radikal.ru/i305/1112/23/e80955ec0c98.jpg" class="urlextern" title="http://s008.radikal.ru/i305/1112/23/e80955ec0c98.jpg"  rel="nofollow"> 4</a>
</p>

</div>

<h4 id="mr3220_v2x">MR3220 v2.x</h4>
<div class="level4">
<div class="table sectionedit42"><table class="inline">
	<tr class="row0">
		<td class="col0"> <em>Side view:</em> <br/>
<a href="../../lib/exe/fetch.php?tok=c75ba8&amp;media=http%253A%252F%252Fwww.tp-link.com%252Fresources%252Fimages%252Fproducts%252FLarge%252FTL-MR3220_2.0-02.jpg" class="media" title="http://www.tp-link.com/resources/images/products/Large/TL-MR3220_2.0-02.jpg"><img src="../../lib/exe/fetch.php?w=400&amp;tok=a3368d&amp;media=http%253A%252F%252Fwww.tp-link.com%252Fresources%252Fimages%252Fproducts%252FLarge%252FTL-MR3220_2.0-02.jpg" class="media" title="tl-mr3220_2.0-02.jpg" alt="tl-mr3220_2.0-02.jpg" width="400" /></a> </td><td class="col1"> <em>Back:</em> <br/>
<a href="../../lib/exe/fetch.php?tok=f81458&amp;media=http%253A%252F%252Fwww.tp-link.com%252Fresources%252Fimages%252Fproducts%252FLarge%252FTL-MR3220_2.0-04.jpg" class="media" title="http://www.tp-link.com/resources/images/products/Large/TL-MR3220_2.0-04.jpg"><img src="../../lib/exe/fetch.php?w=400&amp;tok=185f63&amp;media=http%253A%252F%252Fwww.tp-link.com%252Fresources%252Fimages%252Fproducts%252FLarge%252FTL-MR3220_2.0-04.jpg" class="media" title="tl-mr3220_2.0-04.jpg" alt="tl-mr3220_2.0-04.jpg" width="400" /></a> </td>
	</tr>
	<tr class="row1">
		<td class="col0"> <em>Bottom:</em> <br/>
<a href="../../lib/exe/fetch.php?tok=ece1e2&amp;media=http%253A%252F%252Fwww.tp-link.com%252Fresources%252Fimages%252Fproducts%252FLarge%252FTL-MR3220_2.0-05.jpg" class="media" title="http://www.tp-link.com/resources/images/products/Large/TL-MR3220_2.0-05.jpg"><img src="../../lib/exe/fetch.php?w=400&amp;tok=315422&amp;media=http%253A%252F%252Fwww.tp-link.com%252Fresources%252Fimages%252Fproducts%252FLarge%252FTL-MR3220_2.0-05.jpg" class="media" title="tl-mr3220_2.0-05.jpg" alt="tl-mr3220_2.0-05.jpg" width="400" /></a> </td><td class="col1"> <em>Board:</em> <br/>
<a href="../../lib/exe/fetch.php?tok=8bbc6f&amp;media=https%253A%252F%252Fdev.openwrt.org%252Fraw-attachment%252Fticket%252F12026%252FMR3220V2_T.jpg" class="media" title="https://dev.openwrt.org/raw-attachment/ticket/12026/MR3220V2_T.jpg"><img src="../../lib/exe/fetch.php?w=400&amp;tok=f7d13b&amp;media=https%253A%252F%252Fdev.openwrt.org%252Fraw-attachment%252Fticket%252F12026%252FMR3220V2_T.jpg" class="media" title="mr3220v2_t.jpg" alt="mr3220v2_t.jpg" width="400" /></a> <br/>
<em>More Photos:</em>  <a href="http://dioptimizer.narod.ru/files/images/MR3220V2-005.jpg" class="urlextern" title="http://dioptimizer.narod.ru/files/images/MR3220V2-005.jpg"  rel="nofollow"> 1</a>, <a href="http://dioptimizer.narod.ru/files/images/MR3220V2-006.jpg" class="urlextern" title="http://dioptimizer.narod.ru/files/images/MR3220V2-006.jpg"  rel="nofollow"> 2</a>, <a href="http://dioptimizer.narod.ru/files/images/MR3220V2-007.jpg" class="urlextern" title="http://dioptimizer.narod.ru/files/images/MR3220V2-007.jpg"  rel="nofollow"> 3</a> </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <em>Case Clip Locations:</em> <br/>
<a href="../../lib/exe/fetch.php?tok=89cb2e&amp;media=http%253A%252F%252Fs17.postimg.org%252Fllp194n0v%252FCase_clip_locations.jpg" class="media" title="http://s17.postimg.org/llp194n0v/Case_clip_locations.jpg"><img src="../../lib/exe/fetch.php?w=400&amp;tok=587eb9&amp;media=http%253A%252F%252Fs17.postimg.org%252Fllp194n0v%252FCase_clip_locations.jpg" class="media" title="case_clip_locations.jpg" alt="case_clip_locations.jpg" width="400" /></a> </td><td class="col1"> <em>Board detail:</em> <br/>
<a href="../../lib/exe/fetch.php?tok=f6bc2a&amp;media=http%253A%252F%252Fs17.postimg.org%252F6r518p2tr%252FDSCN0762a.jpg" class="media" title="http://s17.postimg.org/6r518p2tr/DSCN0762a.jpg"><img src="../../lib/exe/fetch.php?w=400&amp;tok=0411a0&amp;media=http%253A%252F%252Fs17.postimg.org%252F6r518p2tr%252FDSCN0762a.jpg" class="media" title="dscn0762a.jpg" alt="dscn0762a.jpg" width="400" /></a> </td>
	</tr>
</table></div>

</div>

<h4 id="mr3420_v23">MR3420 v2.3</h4>
<div class="level4">

<p>
<em>Board:</em> <br/>

<a href="../../_detail/media/2014-03-05_tplink-mr3420-board.jpg?id=toh%253Atp-link%253Atl-mr3420" class="media" title="media:2014-03-05_tplink-mr3420-board.jpg"><img src="../../_media/media/2014-03-05_tplink-mr3420-board.jpg?w=400&amp;tok=76f80a" class="medialeft" title="2014-03-05_tplink-mr3420-board.jpg" alt="2014-03-05_tplink-mr3420-board.jpg" width="400" /></a> <br/>

<br/>

<br/>

<br/>

<br/>

<br/>

<br/>

<br/>

<br/>

<br/>

<br/>

<br/>

<br/>

<br/>

</p>

</div>

<h3 class="sectionedit43" id="serial">Serial</h3>
<div class="level3">

</div>

<h5 id="pinout">Pinout</h5>
<div class="level5">
<div class="table sectionedit44"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0">1 </th><th class="col1">2 </th><th class="col2">3 </th><th class="col3">4</th><td class="col4"></td><td class="col5"></td>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0">TX</td><td class="col1">RX</td><td class="col2">GND</td><td class="col3">VCC</td><td class="col4"> </td><td class="col5">SJ1</td>
	</tr>
</table></div>

<p>
Pinout for MR3220 <strong>V2.2</strong> (I have V2.3 as on photo with V2.2 on bottom) only
</p>
<div class="table sectionedit45"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0">1 </th><th class="col1">2 </th><th class="col2">3 </th><th class="col3">4</th><td class="col4"></td><td class="col5"></td>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"><strong>R</strong>X</td><td class="col1"><strong>T</strong>X</td><td class="col2">GND</td><td class="col3">VCC</td><td class="col4"> </td><td class="col5">JP1</td>
	</tr>
</table></div>

<p>
<a href="../../lib/exe/fetch.php?tok=68cceb&amp;media=http%253A%252F%252Fimg849.imageshack.us%252Fimg849%252F793%252F20111108140400.jpg" class="media" title="http://img849.imageshack.us/img849/793/20111108140400.jpg"><img src="../../lib/exe/fetch.php?tok=68cceb&amp;media=http%253A%252F%252Fimg849.imageshack.us%252Fimg849%252F793%252F20111108140400.jpg" class="media" title="20111108140400.jpg" alt="20111108140400.jpg" /></a><br/>

Pin 1 is clearly marked on the board.
</p>

<p>
To be able to use the UART on MR3220V2, TP18 to TP38 and TP28 to TP48 should be connected.
</p>

<p>
This is how I did mine;
<a href="../../lib/exe/fetch.php?tok=ac58d8&amp;media=https%253A%252F%252Flh6.googleusercontent.com%252F-wRJd08HDCYI%252FU0ULLA0qQdI%252FAAAAAAAAAiA%252Fa5HxBscSLUY%252Fw769-h577-no%252Fjumpers_done.jpg" class="media" title="https://lh6.googleusercontent.com/-wRJd08HDCYI/U0ULLA0qQdI/AAAAAAAAAiA/a5HxBscSLUY/w769-h577-no/jumpers_done.jpg"><img src="../../lib/exe/fetch.php?tok=ac58d8&amp;media=https%253A%252F%252Flh6.googleusercontent.com%252F-wRJd08HDCYI%252FU0ULLA0qQdI%252FAAAAAAAAAiA%252Fa5HxBscSLUY%252Fw769-h577-no%252Fjumpers_done.jpg" class="media" title="jumpers_done.jpg" alt="jumpers_done.jpg" /></a><br/>

</p>

<p>
<img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> image lost: <a href="http://dioptimizer.narod.ru/files/images/MR3220V2-UART.png" class="urlextern" title="http://dioptimizer.narod.ru/files/images/MR3220V2-UART.png"  rel="nofollow">MR3220V2-UART.png</a><br/>

Yet another image
</p>

<p>
<a href="../../lib/exe/fetch.php?tok=b0a887&amp;media=https%253A%252F%252Ffarm3.staticflickr.com%252F2854%252F8894968126_4850f1500e_m.jpg" class="media" title="https://farm3.staticflickr.com/2854/8894968126_4850f1500e_m.jpg"><img src="../../lib/exe/fetch.php?tok=b0a887&amp;media=https%253A%252F%252Ffarm3.staticflickr.com%252F2854%252F8894968126_4850f1500e_m.jpg" class="media" title="8894968126_4850f1500e_m.jpg" alt="8894968126_4850f1500e_m.jpg" /></a><br/>

</p>

<p>
To get the serial connection work reliably, you have to connect a 10k pullup resistor between the TX and the 3.3V pin. This is because the TX pin is connected to a voltage divider (2x5.6k) and a capacitor is put between the real pin and the TX connector. <sup><a href="tl-mr3220#fn__16" id="fnt__16" class="fn_top">16)</a></sup>
</p>

<p>
Now connect a <a href="http://buffalo.nas-central.org/index.php/Use_a_Nokia_Serial_Cable_on_an_ARM9_Linkstation#Preparing_the_Cable" class="urlextern" title="http://buffalo.nas-central.org/index.php/Use_a_Nokia_Serial_Cable_on_an_ARM9_Linkstation#Preparing_the_Cable"  rel="nofollow">serial hack adapter</a> (DKU-5, CA-42 or similar containing the PL-2303 chip) and away you go!
</p>

<p>
<a href="http://i288.photobucket.com/albums/ll180/ninexunix/Max3232.png" class="urlextern" title="http://i288.photobucket.com/albums/ll180/ninexunix/Max3232.png"  rel="nofollow">This</a> adapter can be also used provided a serial port is present on the PC.
Tested on MR3420 <strong>v2.2</strong>, but it requires a 4.7k pulldown resistor between Tx and GND.
When using it, router has to be powered on, and after that connect the pulldown, Tx and Rx pins.
(Tx from schematic goes to Tx pin of router, Rx from schematic to Rx of router).
</p>

<p>
The right settings for accessing the serial console are as follows:
</p>

<p>
Bits per second: <strong>115200</strong><br/>

Data bits: <strong>8</strong><br/>

Stop bits: <strong>1</strong><br/>

Parity: <strong>None</strong><br/>

Flow control: <strong>None</strong><br/>

</p>

<p>
Password to get into uboot prompt is <strong>tpl</strong><br/>

Password to get <strong>root</strong> login is <strong>5up</strong>
</p>

<p>
<strong>MR3420 v2.2</strong> has all the signals routed to the pins so you don&#039;t have to solder any additional wires. See here <a href="http://blog.technicentral.com/index.php/2-routers/1-mr3420-unbrick" class="urlextern" title="http://blog.technicentral.com/index.php/2-routers/1-mr3420-unbrick"  rel="nofollow">http://blog.technicentral.com/index.php/2-routers/1-mr3420-unbrick</a>
</p>

</div>

<h2 class="sectionedit46" id="basic_configuration1">Basic configuration</h2>
<div class="level2">

<p>
Since this part is identical for all devices, see <a href="../../doc/howto/configuration" class="wikilink1" title="doc:howto:basic.config">Basic configuration</a>.
</p>

<p>
<strong>Note:</strong> (TP-Link MR3420 v1.2) In case the vlan switch configuration is not created automagically (⇐ 10.03.1) and there is eth0 and eth1 after bootup change /etc/config/network to reflect the vlan setup by adding the lines below. Also replace the &#039;option ifname &quot;ethX&quot;&#039; accordingly (eth0.1, eth0.2). The proper ethernet port layout has still to be confimed.
</p>
<pre class="code">config switch eth0                   
      	option reset 1                     
      	option enable_vlan 1             
                                     
config switch_vlan
        option device eth0          
        option vlan 1               
        option ports &quot;0t 1 2 3 4&quot; 
                                                                      
config switch_vlan         
        option device eth0       
      	option vlan 2            
      	option ports &quot;0t 5&quot;</pre>

<p>
In MR3220 v1.2 is:
</p>
<pre class="code">config &#039;switch&#039;
	option &#039;name&#039; &#039;eth0&#039;
	option &#039;reset&#039; &#039;1&#039;
	option &#039;enable_vlan&#039; &#039;1&#039;
      
config &#039;switch_vlan&#039;
	option &#039;device&#039; &#039;eth0&#039;
	option &#039;vlan&#039; &#039;1&#039;
	option &#039;ports&#039; &#039;0 1 2 3 4&#039;</pre>

</div>

<h3 class="sectionedit47" id="oem_firmware_features1">OEM firmware features</h3>
<div class="level3">

<p>
Since this is the same for all TP-LINK products, see <a href="tl-features" class="wikilink1" title="toh:tp-link:tl-features">TP-LINK firmware features</a>.
</p>

</div>

<h3 class="sectionedit48" id="failsafe">Failsafe</h3>
<div class="level3">

<p>
<a href="../../doc/howto/generic.failsafe" class="wikilink1" title="doc:howto:generic.failsafe">Failsafe</a> is a quite popular feature, of this router, thats lets you recover instantly from a misconfiguration above.
</p>

<p>
Use the QSS button instead of reset button, everything else is identical to <a href="../../doc/howto/generic.failsafe" class="wikilink1" title="doc:howto:generic.failsafe">generic failsafe</a> document.
</p>

<p>
<a href="../../doc/howto/generic.failsafe" class="wikilink1" title="doc:howto:generic.failsafe">Failsafe</a> may not work in Backfire before <a href="https://dev.openwrt.org/changeset/29661" class="urlextern" title="https://dev.openwrt.org/changeset/29661"  rel="nofollow">r29661</a>, so it&#039;s confirmed to <strong>not work</strong> at Backfire 10.03.1 launch (r29592). Be extremely cautious on what you&#039;re doing or go directly to <a href="tl-mr3220#serial" title="toh:tp-link:tl-mr3420 ↵" class="wikilink1">serial</a> recovery.
</p>

<p>
Note for MR-3220 running on 12.09-rc1 (r34185): I did not get any UDP packets to port 4919 as promised either when connected to <abbr title="Local Area Network">LAN</abbr> or WAN, however repeatedly pushing the front button made the router to enter the failsafe mode, which allowed me to gain again access to the router. The problem almost bricking my router was in my network configuration, for some reason setting a fixed MAC address for a bridge caused the router to hang at /etc/init./network start.
</p>

</div>

<h3 class="sectionedit49" id="important">IMPORTANT!</h3>
<div class="level3">

</div>

<h4 id="failed_setting_solution_not_the_failed_flash">FAILED SETTING SOLUTION (NOT THE FAILED FLASH!):</h4>
<div class="level4">

<p>
In case of failure or an installation package settings can sometimes cause the router cannot be accessed either administrator page (<a href="http://192.168.1.1" class="urlextern" title="http://192.168.1.1"  rel="nofollow">http://192.168.1.1</a>) also through the console. This condition can be addressed in the following way;
</p>

<p>
1) turn off and turn on the Router
2) Shortly lights up press the SYS LED is that flashing LED SYS, will very quickly.
3) Now the Router has been accessible via TELNET
4 Router with TELNET) Login
5) type in the command: firstboot
6) type in the command:/etc/init.d/uhttpd start
7) went back to the Admin page in a browser with the address: <a href="http://192.168.1.1" class="urlextern" title="http://192.168.1.1"  rel="nofollow">http://192.168.1.1</a>
</p>

</div>

<h2 class="sectionedit50" id="connect_stuff_to_the_usb_port1">Connect stuff to the USB port</h2>
<div class="level2">

<p>
To connect stuff to the USB port, please see <a href="../../doc/howto/usb.overview" class="wikilink1" title="doc:howto:usb.overview">Connect stuff to the USB port</a>.
</p>

</div>

<h3 class="sectionedit51" id="turn_usb_power_off">Turn USB power off</h3>
<div class="level3">

<p>
On a TL-WR842NDv1 do like this:
</p>
<ul>
<li class="level1"><div class="li"> ON<pre class="code bash"><span class="kw3">echo</span> <span class="nu0">1</span> <span class="sy0">&gt;/</span>sys<span class="sy0">/</span>class<span class="sy0">/</span>gpio<span class="sy0">/</span>gpio6<span class="sy0">/</span>value</pre>
</div>
</li>
<li class="level1"><div class="li"> OFF<pre class="code bash"><span class="kw3">echo</span> <span class="nu0">0</span> <span class="sy0">&gt;/</span>sys<span class="sy0">/</span>class<span class="sy0">/</span>gpio<span class="sy0">/</span>gpio6<span class="sy0">/</span>value</pre>
</div>
</li>
</ul>

<p>
<a href="https://forum.openwrt.org/viewtopic.php?id=44909" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=44909"  rel="nofollow">Forum post</a>
</p>

</div>

<h2 class="sectionedit52" id="custom_openwrt_image_with_luci_integrated">Custom OpenWrt image with LuCi integrated</h2>
<div class="level2">

<p>
<a href="http://www.superwrt.eu/en/firmware/tp-link-mr3420/" class="urlextern" title="http://www.superwrt.eu/en/firmware/tp-link-mr3420/"  rel="nofollow">http://www.superwrt.eu/en/firmware/tp-link-mr3420/</a>
</p>

</div>

<h2 class="sectionedit53" id="hardware_mods1">Hardware Mods</h2>
<div class="level2">

</div>

<h3 class="sectionedit54" id="deep_mmc_hack">Deep MMC Hack</h3>
<div class="level3">

<p>
Unlike standard modding <a href="../../doc/howto/mmc_over_gpio" class="wikilink1" title="doc:howto:mmc_over_gpio">mmc_over_gpio</a> - where was necessary to find 4 unused GPIOs, in the deep modding we can use only one GPIO(or two GPIOs if whe want to use SD card as hotplug SPI device), because we will use a common SPI bus with NOR flash memory. <br/>
Due to the fact that on routers MR3420/MR3220 V1.x we have limit of available unused GPIOs, we forced to use the common SPI bus with NOR flash memory (spi0.0) where MMC/SD memory card will be - spi0.1 <br/>
How to do this is described in <a href="tl-mr3420/deep.mmc.hack" class="wikilink1" title="toh:tp-link:tl-mr3420:deep.mmc.hack">this link</a>.
</p>

</div>

<h2 class="sectionedit55" id="tags1">Tags</h2>
<div class="level2">
<hr />
<div class="tags"><span>
	<a href="../../tag/2011jan?do=showtag&amp;tag=2011Jan" class="wikilink1" title="tag:2011jan" rel="tag">2011Jan</a>,
	<a href="../../tag/fastethernet?do=showtag&amp;tag=FastEthernet" class="wikilink1" title="tag:fastethernet" rel="tag">FastEthernet</a>,
	<a href="../../tag/5port?do=showtag&amp;tag=5Port" class="wikilink1" title="tag:5port" rel="tag">5Port</a>,
	<a href="../../tag/usb?do=showtag&amp;tag=USB" class="wikilink1" title="tag:usb" rel="tag">USB</a>,
	<a href="../../tag/usb2.0?do=showtag&amp;tag=USB2.0" class="wikilink1" title="tag:usb2.0" rel="tag">USB2.0</a>,
	<a href="../../tag/1usb?do=showtag&amp;tag=1USB" class="wikilink1" title="tag:1usb" rel="tag">1USB</a>,
	<a href="../../tag/serial?do=showtag&amp;tag=Serial" class="wikilink1" title="tag:serial" rel="tag">Serial</a>,
	<a href="../../tag/integrated?do=showtag&amp;tag=integrated" class="wikilink1" title="tag:integrated" rel="tag">integrated</a>,
	<a href="../../tag/802.11bgn?do=showtag&amp;tag=802.11bgn" class="wikilink1" title="tag:802.11bgn" rel="tag">802.11bgn</a>,
	<a href="../../tag/1wnic?do=showtag&amp;tag=1WNIC" class="wikilink1" title="tag:1wnic" rel="tag">1WNIC</a>,
	<a href="../../tag/ar9285?do=showtag&amp;tag=AR9285" class="wikilink1" title="tag:ar9285" rel="tag">AR9285</a>,
	<a href="../../tag/ar9287?do=showtag&amp;tag=AR9287" class="wikilink1" title="tag:ar9287" rel="tag">AR9287</a>,
	<a href="../../tag/ath9k?do=showtag&amp;tag=ath9k" class="wikilink1" title="tag:ath9k" rel="tag">ath9k</a>,
	<a href="../../tag/1ant?do=showtag&amp;tag=1Ant" class="wikilink1" title="tag:1ant" rel="tag">1Ant</a>,
	<a href="../../tag/2ant?do=showtag&amp;tag=2Ant" class="wikilink1" title="tag:2ant" rel="tag">2Ant</a>,
	<a href="../../tag/detachableantenna" class="wikilink1" title="tag:detachableantenna" rel="tag">DetachableAntenna</a>,
	<a href="../../tag/32ram?do=showtag&amp;tag=32RAM" class="wikilink1" title="tag:32ram" rel="tag">32RAM</a>,
	<a href="../../tag/4flash?do=showtag&amp;tag=4Flash" class="wikilink1" title="tag:4flash" rel="tag">4Flash</a>,
	<a href="../../tag/mips?do=showtag&amp;tag=MIPS" class="wikilink1" title="tag:mips" rel="tag">MIPS</a>,
	<a href="../../tag/mips32?do=showtag&amp;tag=MIPS32" class="wikilink1" title="tag:mips32" rel="tag">MIPS32</a>,
	<a href="../../tag/24kc?do=showtag&amp;tag=24Kc" class="wikilink1" title="tag:24kc" rel="tag">24Kc</a>,
	<a href="../../tag/ar7241?do=showtag&amp;tag=AR7241" class="wikilink1" title="tag:ar7241" rel="tag">AR7241</a>
</span></div>

</div>
<div class="footnotes">
<div class="fn"><sup><a href="tl-mr3220#fnt__1" id="fn__1" class="fn_bot">1)</a></sup> 
, <sup><a href="tl-mr3220#fnt__2" id="fn__2" class="fn_bot">2)</a></sup> 
, <sup><a href="tl-mr3220#fnt__5" id="fn__5" class="fn_bot">5)</a></sup> 
, <sup><a href="tl-mr3220#fnt__6" id="fn__6" class="fn_bot">6)</a></sup> 
, <sup><a href="tl-mr3220#fnt__7" id="fn__7" class="fn_bot">7)</a></sup> 
, <sup><a href="tl-mr3220#fnt__10" id="fn__10" class="fn_bot">10)</a></sup> 
, <sup><a href="tl-mr3220#fnt__11" id="fn__11" class="fn_bot">11)</a></sup> 
, <sup><a href="tl-mr3220#fnt__12" id="fn__12" class="fn_bot">12)</a></sup> 
, <sup><a href="tl-mr3220#fnt__13" id="fn__13" class="fn_bot">13)</a></sup> 
, <sup><a href="tl-mr3220#fnt__14" id="fn__14" class="fn_bot">14)</a></sup> 
, <sup><a href="tl-mr3220#fnt__15" id="fn__15" class="fn_bot">15)</a></sup> 
Release number vary more frequently than Wiki update</div>
<div class="fn"><sup><a href="tl-mr3220#fnt__3" id="fn__3" class="fn_bot">3)</a></sup> 
, <sup><a href="tl-mr3220#fnt__8" id="fn__8" class="fn_bot">8)</a></sup> 
Links down</div>
<div class="fn"><sup><a href="tl-mr3220#fnt__4" id="fn__4" class="fn_bot">4)</a></sup> 
, <sup><a href="tl-mr3220#fnt__9" id="fn__9" class="fn_bot">9)</a></sup> 
includes qos-scripts, ntpclient, bandwidthd, miniupnpd, updatedd
 and webif of course</div>
<div class="fn"><sup><a href="tl-mr3220#fnt__16" id="fn__16" class="fn_bot">16)</a></sup> 
With MR3220 v1.2 and CA-42 just connect TX, RX and GND, do not need any resistor.</div>
</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/tp-link/tl-mr3420.txt</bdi> · Last modified: 2015/03/23 11:37 by <bdi>digital0</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="tl-mr3420?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="tl-mr3420?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="tl-mr3420?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="tl-mr3220#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Atp-link%253Atl-mr3420&amp;1432268148" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
