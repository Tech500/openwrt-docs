<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>TP-Link TL-WR740N [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="fastethernet,1ant,5port,802.11bgn,32ram,4flash,mips,24kc"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="tl-wr740n?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:tp-link"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/tp-link/tl-wr740n"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/tp-link/tl-wr740n"/>
<link rel="canonical" href="tl-wr740n"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:tp-link';var JSINFO = {"id":"toh:tp-link:tl-wr740n","namespace":"toh:tp-link"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432266255 166.182.3.99';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="tl-wr740n#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="tl-wr740n?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="tl-wr740n?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:tp-link:tl-wr740n" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="tl-wr740n?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="tl-wr740n?do=media&amp;ns=toh%253Atp-link"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="tl-wr740n?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:tp-link:start">TP-Link</a></bdi> » <bdi><span class="curid"><a href="tl-wr740n" class="wikilink1" title="toh:tp-link:tl-wr740n">TP-Link TL-WR740N</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/tp-link/tl-wr740n" class="media" title="cz:toh:tp-link:tl-wr740n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/tp-link/tl-wr740n" class="media" title="de:toh:tp-link:tl-wr740n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="tl-wr740n" class="media" title="toh:tp-link:tl-wr740n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/tp-link/tl-wr740n" class="media" title="es:toh:tp-link:tl-wr740n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/tp-link/tl-wr740n" class="media" title="fr:toh:tp-link:tl-wr740n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/tp-link/tl-wr740n" class="media" title="hu:toh:tp-link:tl-wr740n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/tp-link/tl-wr740n" class="media" title="jp:toh:tp-link:tl-wr740n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/tp-link/tl-wr740n" class="media" title="pl:toh:tp-link:tl-wr740n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/tp-link/tl-wr740n" class="media" title="pt-br:toh:tp-link:tl-wr740n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/tp-link/tl-wr740n" class="media" title="ru:toh:tp-link:tl-wr740n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/tp-link/tl-wr740n" class="media" title="tr:toh:tp-link:tl-wr740n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/tp-link/tl-wr740n" class="media" title="zh-cn:toh:tp-link:tl-wr740n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/tp-link/tl-wr740n" class="media" title="zh-tw:toh:tp-link:tl-wr740n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:tp-link:tl-wr740n</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="tl-wr740n#installation">Installation</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-wr740n#oem_easy_installation">OEM easy installation</a></div></li>
<li class="level2"><div class="li"><a href="tl-wr740n#oem_installation_using_the_tftp_method">OEM installation using the TFTP method</a></div></li>
<li class="level2"><div class="li"><a href="tl-wr740n#flash_layout">Flash Layout</a></div></li>
<li class="level2"><div class="li"><a href="tl-wr740n#specific_install_notes">Specific Install Notes</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="tl-wr740n#images_from_trunk">Images from trunk</a></div></li>
<li class="level3"><div class="li"><a href="tl-wr740n#customized_openwrt_firmware_for_wr740n">Customized OpenWRT firmware for WR740N</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-wr740n#bootlogs">Bootlogs</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-wr740n#oem_bootlog">OEM bootlog</a></div></li>
<li class="level2"><div class="li"><a href="tl-wr740n#openwrt_bootlog">OpenWrt bootlog</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-wr740n#hardware">Hardware</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-wr740n#photos">Photos</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="tl-wr740n#wr740n_v24">WR740N v2.4</a></div></li>
<li class="level3"><div class="li"><a href="tl-wr740n#wr740n_v423">WR740N v4.23</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="tl-wr740n#serial">Serial</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="tl-wr740n#uart_on_v110">UART on v1.10</a></div></li>
<li class="level3"><div class="li"><a href="tl-wr740n#uart_on_v30">UART on v3.0</a></div></li>
<li class="level3"><div class="li"><a href="tl-wr740n#uart_on_v423">UART on v4.23</a></div></li>
<li class="level3"><div class="li"><a href="tl-wr740n#usb_to_uart_ttl_gadget">USB to UART TTL gadget</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-wr740n#debricking">Debricking</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-wr740n#commands">Commands</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-wr740n#bootloader_mods">Bootloader Mods</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-wr740n#u-boot_114_modification_for_routers">U-Boot 1.1.4 modification for routers</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-wr740n#notes">Notes</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-wr740n#links">Links</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-wr740n#custom_openwrt_image_with_luci_integrated">Custom OpenWrt image with LuCi integrated</a></div></li>
<li class="level1"><div class="li"><a href="tl-wr740n#tags">Tags</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="tp-link_tl-wr740n">TP-Link TL-WR740N</h1>
<div class="level1">

<p>
The TP-Link WR740N is an even lower-cost (around 20€/$20 retail in 10/2012) variant of the <a href="tl-wr741nd" class="wikilink1" title="toh:tp-link:tl-wr741nd">TP-Link WR741ND</a> differing only in the non-removable antenna.
</p>

<p>
Since the hardware in WR740N is similar to WR741N, most of the contents in <a href="tl-wr741nd" class="wikilink1" title="toh:tp-link:tl-wr741nd">TP-Link WR741ND</a> applies to this router too.
</p>

</div>

<h1 class="sectionedit2" id="supported_versions">Supported Versions</h1>
<div class="level1">
<div class="table sectionedit3"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Model Version </th><th class="col1"> OpenWrt Version Supported </th><th class="col2"> Model Specific Notes </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> v1 (China) </td><td class="col1"> <img src="../../_media/meta/icons/tango/dialog-error.png?w=24&amp;tok=5fb856" class="medialeft" title=" Not supported " alt=" Not supported " width="24" /> if you don&#039;t modify hardware <a href="http://www.right.com.cn/forum/thread-53601-1-1.html" class="urlextern" title="http://www.right.com.cn/forum/thread-53601-1-1.html"  rel="nofollow">Not supported</a> </td><td class="col2"> BCM5356 SOC 2MB Flash/8MB RAM </td>
	</tr>
	<tr class="row2">
		<td class="col0"> v2 (China) </td><td class="col1"> <img src="../../_media/meta/icons/tango/dialog-error.png?w=24&amp;tok=5fb856" class="medialeft" title=" Not supported " alt=" Not supported " width="24" /> if you don&#039;t modify hardware <a href="http://www.right.com.cn/forum/thread-53601-1-1.html" class="urlextern" title="http://www.right.com.cn/forum/thread-53601-1-1.html"  rel="nofollow">Not supported</a> </td><td class="col2"> BCM5356 SOC 2MB Flash/8MB RAM </td>
	</tr>
	<tr class="row3">
		<td class="col0"> v1.1 </td><td class="col1"> <img src="../../_media/meta/icons/tango/48px-dialog-warning.svg.png?w=24&amp;tok=0fc4e5" class="medialeft" title="Stability warning " alt="Stability warning " width="24" /> 10.3.1RC6(r27841) trunk (r24811) </td><td class="col2"> <a href="https://dev.openwrt.org/ticket/8455" class="urlextern" title="https://dev.openwrt.org/ticket/8455"  rel="nofollow">8455</a> <a href="http://www.gargoyle-router.com/wiki/doku.php?id=changelog#v151_dec_05_2011" class="urlextern" title="http://www.gargoyle-router.com/wiki/doku.php?id=changelog#v151_dec_05_2011"  rel="nofollow">Gargoyle 1.5.1</a> </td>
	</tr>
	<tr class="row4">
		<td class="col0"> v2 </td><td class="col1"> <img src="../../_media/meta/icons/tango/48px-dialog-warning.svg.png?w=24&amp;tok=0fc4e5" class="medialeft" title="Stability warning " alt="Stability warning " width="24" /> WiP </td><td class="col2"> Rounded chassis </td>
	</tr>
	<tr class="row5">
		<td class="col0"> v2.4 </td><td class="col1"> <img src="../../_media/meta/icons/tango/48px-dialog-warning.svg.png?w=24&amp;tok=0fc4e5" class="medialeft" title="Stability warning " alt="Stability warning " width="24" /> trunk (r28314) </td><td class="col2"> Rounded chassis, 350mhz cpu </td>
	</tr>
	<tr class="row6">
		<td class="col0"> v3 </td><td class="col1"> Attitude Adjustment 12.09 (see notes below) </td><td class="col2"> Rounded chassis </td>
	</tr>
	<tr class="row7">
		<td class="col0"> v4 </td><td class="col1"> <img src="../../_media/meta/icons/tango/48px-dialog-warning.svg.png?w=24&amp;tok=0fc4e5" class="medialeft" title=" Stability warning " alt=" Stability warning " width="24" />  trunk (r29631), see <a href="https://dev.openwrt.org/ticket/10492" class="urlextern" title="https://dev.openwrt.org/ticket/10492"  rel="nofollow">this ticket</a> </td><td class="col2"> AR9330 400Mhz CPU 4 or 2MB Flash/32MB RAM </td>
	</tr>
	<tr class="row8">
		<td class="col0"> v4.21 </td><td class="col1"> Attitude Adjustment 12.09-beta (trunk r33312), Barrier Breaker (trunk r40572) </td><td class="col2"> SoC: Atheros AR9331 , 400Mhz CPU, 4MB Flash/32MB RAM (esmt m13s2561616a)</td>
	</tr>
	<tr class="row9">
		<td class="col0"> v4.22 </td><td class="col1"> Attitude Adjustment 12.09-beta (trunk r33312) </td><td class="col2"> SoC: Atheros AR9331 , 400Mhz CPU, 4MB Flash/32MB RAM (zentel a3s56d40ftp)</td>
	</tr>
	<tr class="row10">
		<td class="col0"> v4.23 </td><td class="col1"> Attitude Adjustment 12.09-beta (trunk r33312) </td><td class="col2"> SoC: Atheros AR9330 rev 1, 400Mhz CPU, 4MB Flash/32MB RAM </td>
	</tr>
	<tr class="row11">
		<td class="col0"> v4.24 </td><td class="col1"> Attitude Adjustment 12.09 </td><td class="col2"> SoC: Atheros AR9330 rev 1, 400Mhz CPU, 4MB Flash/32MB RAM </td>
	</tr>
	<tr class="row12">
		<td class="col0"> v4.25 </td><td class="col1"> Barrier Breaker 14.07 </td><td class="col2"> SoC: Atheros AR9331-AL3A, RAM: ESMT M13S2561616A </td>
	</tr>
	<tr class="row13">
		<td class="col0"> v5 (China) </td><td class="col1"> <img src="../../_media/meta/icons/tango/dialog-error.png?w=24&amp;tok=5fb856" class="medialeft" title=" Not supported " alt=" Not supported " width="24" /> likely unsupportable. <a href="http://www.right.com.cn/forum/thread-52644-1-1.html" class="urlextern" title="http://www.right.com.cn/forum/thread-52644-1-1.html"  rel="nofollow">WiP</a> </td><td class="col2"> AR9331 SOC 2MB Flash/16MB RAM </td>
	</tr>
	<tr class="row14">
		<td class="col0 leftalign"> v4.26  </td><td class="col1"> pre? Attitude Adjustment 12.09<br/>
<a href="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin" class="urlextern" title="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin"  rel="nofollow">Barrier Breaker</a> works fine </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row15">
		<td class="col0 leftalign"> v4.27  </td><td class="col1"> BARRIER BREAKER (Bleeding Edge, r39860) </td><td class="col2"> AR9331-AL3A (400Mhz CPU ), ESMT M13S2561616A(RAM),  Spansion FL032PIF 32Mbit (4Mb) Flash </td>
	</tr>
	<tr class="row16">
		<td class="col0"> v4.28 </td><td class="col1"> BARRIER BREAKER rc3 </td><td class="col2"> dunno, probably same as 4.27… seems to contain a GIGABIT switch (eth0) as per openwrt dmesg </td>
	</tr>
</table></div>

<p>
<strong>Notes</strong>:
</p>
<ul>
<li class="level1"><div class="li"> Tested v3 with <a href="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v3-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v3-squashfs-factory.bin"  rel="nofollow">Attitude Adjustment 12.09</a>, works without apparent problems. My router didn&#039;t accepted the .bin file (Error code: 18005), used this <a href="https://forum.openwrt.org/viewtopic.php?pid=168045#p168045" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=168045#p168045"  rel="nofollow">method for modifying the bin header</a> and it worked. <a href="http://dl.dropbox.com/u/12258575/TP-LINK_TL-WR700N/TL-MR3020_MOD_TL-WR703_ENG/TP%E8%B7%AF%E7%94%B1%E5%9B%BA%E4%BB%B6%E5%A4%B4%E4%BF%AE%E6%94%B9%E5%B7%A5%E5%85%B7.exe" class="urlextern" title="http://dl.dropbox.com/u/12258575/TP-LINK_TL-WR700N/TL-MR3020_MOD_TL-WR703_ENG/TP%E8%B7%AF%E7%94%B1%E5%9B%BA%E4%BB%B6%E5%A4%B4%E4%BF%AE%E6%94%B9%E5%B7%A5%E5%85%B7.exe"  rel="nofollow">Download tool</a>.</div>
</li>
<li class="level3"><div class="li"> Tested v3 with Altitude Adjustment and it works flawlessly once the error mentioned in the above post (Error code: 18005) is bypassed. Alternative method for working around the problem is to use a stock image from another distribution and flash Altitude Adjustment form telnet or ssh. Example can be found <a href="https://forum.openwrt.org/viewtopic.php?id=40314" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=40314"  rel="nofollow">here</a> bottom of page. Brifly once you login download the Attitude Adjustment image to /tmp with wget, use &quot;mtd -r write <em>imagefile</em> linux&quot; to write the image and reboot to OpenWrt fisrt login. </div>
</li>
<li class="level3"><div class="li"> Sometime around August 2011 (v4), TP-Link began to use 16MB RAM / 2MB flash for the Chinese versions of many of their devices. International versions retain the 32MB RAM / 4MB flash. </div>
</li>
<li class="level3"><div class="li"> International versions v4.2 and v4.3 work without apparent problems from trunk r29631 onward. </div>
</li>
<li class="level3"><div class="li"> Russian version v4.21 works without apparent problems from trunk r33312 (<a href="http://downloads.openwrt.org/attitude_adjustment/12.09-beta/ar71xx/generic/" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09-beta/ar71xx/generic/"  rel="nofollow">Attitude Adjustment 12.09-beta</a>)  onward.</div>
</li>
<li class="level3"><div class="li"> German version v4.21 successfully running with Barrier Breaker (trunk r40572) in <a href="../../doc/recipes/dumbap" class="urlextern" title="http://wiki.openwrt.org/doc/recipes/dumbap"  rel="nofollow">Dumb AP / Access Point Only</a> mode  (<a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/"  rel="nofollow">Barrier Breaker latest trunk</a>)</div>
</li>
<li class="level3"><div class="li"> Russian version v4.22 works without apparent problems from trunk r33312 (<a href="http://downloads.openwrt.org/attitude_adjustment/12.09-beta/ar71xx/generic/" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09-beta/ar71xx/generic/"  rel="nofollow">Attitude Adjustment 12.09-beta</a>)  onward.</div>
</li>
<li class="level3"><div class="li"> International version v4.23 works without apparent problems from trunk r33312 (<a href="http://downloads.openwrt.org/attitude_adjustment/12.09-beta/ar71xx/generic/" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09-beta/ar71xx/generic/"  rel="nofollow">Attitude Adjustment 12.09-beta</a>)  onward.</div>
</li>
<li class="level3"><div class="li"> International version v4.24 works without apparent problems with <a href="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin"  rel="nofollow">Attitude Adjustment 12.09</a>.</div>
</li>
<li class="level3"><div class="li"> International version v4.24 works without apparent problems with <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin"  rel="nofollow">Barrier Breaker Snapshot</a>.</div>
</li>
<li class="level3"><div class="li"> Brazilian version v4.25 works without apparent problems with <a href="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin" class="urlextern" title="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin"  rel="nofollow">Barrier Breaker</a>.</div>
</li>
<li class="level3"><div class="li"> International version v4.26 works without apparent problems with <a href="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin" class="urlextern" title="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin"  rel="nofollow">Barrier Breaker</a>.</div>
</li>
</ul>

<p>
Your model version can be identified from the label: see <a href="http://www.tp-link.com/en/support/download/?model=TL-WR740N" class="urlextern" title="http://www.tp-link.com/en/support/download/?model=TL-WR740N"  rel="nofollow">this page</a> for details.
</p>

</div>

<h1 class="sectionedit4" id="hardware_highlights">Hardware Highlights</h1>
<div class="level1">
<div class="table sectionedit5"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> CPU </th><th class="col1"> Ram </th><th class="col2"> Flash </th><th class="col3"> Network </th><th class="col4"> USB </th><th class="col5"> Serial </th><th class="col6"> JTag </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Broadcom BCM5356@333MHz </td><td class="col1"> 8MiB </td><td class="col2"> 2MiB </td><td class="col3"> 4 x 1</td><td class="col4"> ? </td><td class="col5"> Mod </td><td class="col6"> ? </td>
	</tr>
	<tr class="row2">
		<td class="col0"> Atheros AR7240@400MHz </td><td class="col1"> 32MiB </td><td class="col2"> 4MiB </td><td class="col3"> 4 x 1</td><td class="col4"> mod </td><td class="col5"> Yes </td><td class="col6"> No </td>
	</tr>
	<tr class="row3">
		<td class="col0"> Atheros AR9330 rev 1@400MHz </td><td class="col1"> 32MiB </td><td class="col2"> 4MiB </td><td class="col3"> 4 x 1</td><td class="col4"> mod </td><td class="col5"> Yes </td><td class="col6"> ? </td>
	</tr>
	<tr class="row4">
		<td class="col0"> Atheros AR9331 rev 1@400MHz </td><td class="col1"> 32MiB </td><td class="col2"> 4MiB </td><td class="col3"> 4 x 1</td><td class="col4"> no </td><td class="col5"> Yes </td><td class="col6"> ? </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit6" id="installation">Installation</h2>
<div class="level2">

<p>
General installation instructions can be found here:
</p>
<ul>
<li class="level1"><div class="li"> <a href="../../doc/howto/obtain.firmware" class="wikilink1" title="doc:howto:obtain.firmware">Get OpenWrt firmware</a></div>
</li>
<li class="level2"><div class="li"> <a href="../../doc/howto/installing" class="wikilink1" title="doc:howto:generic.flashing">Install OpenWrt</a></div>
</li>
</ul>

</div>

<h3 class="sectionedit7" id="oem_easy_installation">OEM easy installation</h3>
<div class="level3">

<p>
<strong>Note:</strong> Please reset your router to factory defaults if it has been previously configured/used.
</p>
<ul>
<li class="level1"><div class="li"> Power up your router device.</div>
</li>
<li class="level1"><div class="li"> Connect the local PC to anyof the <abbr title="Local Area Network">LAN</abbr> ports of the Router.</div>
</li>
<li class="level1"><div class="li"> Browse to <a href="http://192.168.0.1" class="urlextern" title="http://192.168.0.1"  rel="nofollow">http://192.168.0.1</a> (alternatively you may use the <abbr title="Uniform Resource Locator">URL</abbr> - <a href="http://tplinklogin.net" class="urlextern" title="http://tplinklogin.net"  rel="nofollow">http://tplinklogin.net</a>).</div>
</li>
<li class="level1"><div class="li"> Choose the menu “System Tools → Firmware Upgrade”.</div>
</li>
<li class="level1"><div class="li"> Upload the <strong>openwrt-ar71xx-generic-tl-wr740n-vXXX-squashfs-factory.bin</strong> file to router. <strong>vXXX</strong> is the version that is known to work with your router (like for HW rev4.23 vXXX is actually <em>v4</em>). Be sure to chose a <strong><span style='color:red; '>…….-squashfs-factory.bin</span></strong> file!</div>
</li>
<li class="level1"><div class="li"> Wait for the router to reboot.</div>
</li>
<li class="level1"><div class="li"> Telnet to 192.168.1.1 and set a root password, or browse to <a href="http://192.168.1.1" class="urlextern" title="http://192.168.1.1"  rel="nofollow">http://192.168.1.1</a> if LuCI is installed.</div>
</li>
</ul>

</div>

<h3 class="sectionedit8" id="oem_installation_using_the_tftp_method">OEM installation using the TFTP method</h3>
<div class="level3">

<p>
Flashing using TFTP works with the steps descibed in <a href="tl-wr841nd#tftpinstall" class="wikilink1" title="toh:tp-link:tl-wr841nd">TP-Link WR741ND TFTP Installation</a> (it needs a working serial console!).
</p>
<blockquote><div class="no">
 Note that ongoing experiments suggest that <strong>TFTP flashing is possible even without soldering</strong> a serial port. For more information, see: <a href="http://bkil.blogspot.com/2014/12/tftp-secret-of-tl-wr740n-uncovered.html" class="urlextern" title="http://bkil.blogspot.com/2014/12/tftp-secret-of-tl-wr740n-uncovered.html"  rel="nofollow">http://bkil.blogspot.com/2014/12/tftp-secret-of-tl-wr740n-uncovered.html</a></div></blockquote>

</div>

<h3 class="sectionedit9" id="flash_layout">Flash Layout</h3>
<div class="level3">

<p>
Please check out the article <a href="../../doc/techref/flash.layout" class="wikilink1" title="doc:techref:flash.layout">Flash Layout</a> for explanations.
</p>

<p>
<strong>Note:</strong> Below is the kernel log from the unmodified <a href="http://downloads.openwrt.org/attitude_adjustment/12.09-beta/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09-beta/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin"  rel="nofollow">Attitude Adjustment (12.09-beta) generic WR740N v4 image</a> firmware, showing the Flash Layout of the WR740N v4.23
<pre class="code">[    0.660000] 5 tp-link partitions found on MTD device spi0.0
[    0.660000] Creating 5 MTD partitions on &quot;spi0.0&quot;:
[    0.670000] 0x000000000000-0x000000020000 : &quot;u-boot&quot;
[    0.680000] 0x000000020000-0x000000108468 : &quot;kernel&quot;
[    0.690000] 0x000000108468-0x0000003f0000 : &quot;rootfs&quot;
[    0.720000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=2D0000, len=120000 
[    0.720000] 0x0000002d0000-0x0000003f0000 : &quot;rootfs_data&quot;
[    0.730000] 0x0000003f0000-0x000000400000 : &quot;art&quot;
[    0.740000] 0x000000020000-0x0000003f0000 : &quot;firmware&quot;</pre>

</p>

</div>

<h3 class="sectionedit10" id="specific_install_notes">Specific Install Notes</h3>
<div class="level3">

</div>

<h4 id="images_from_trunk">Images from trunk</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> The <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr740n-v1-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wr740n-v1-squashfs-factory.bin"  rel="nofollow">trunk WR740n hardware v1 image</a> works unmodified and it can be flashed through the stock TP-Link web interface (another file exists for version 3). The v1 file was also successfully tested on hardware version 2.5.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Hardware version 4.21 works perfectly with the unmodified <a href="http://downloads.openwrt.org/attitude_adjustment/12.09-beta/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09-beta/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin"  rel="nofollow">Attitude Adjustment (12.09-beta) generic WR740N v4 image</a>. The best installation method is flashing it through the stock TP-Link web interface.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Hardware version 4.22 works perfectly with the unmodified <a href="http://downloads.openwrt.org/attitude_adjustment/12.09-beta/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09-beta/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin"  rel="nofollow">Attitude Adjustment (12.09-beta) generic WR740N v4 image</a>. The best installation method is flashing it through the stock TP-Link web interface.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Hardware version 4.23 works perfectly with the unmodified <a href="http://downloads.openwrt.org/attitude_adjustment/12.09-beta/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09-beta/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin"  rel="nofollow">Attitude Adjustment (12.09-beta) generic WR740N v4 image</a>. The best installation method is flashing it through the stock TP-Link web interface.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Hardware version 4.24 works perfectly with the unmodified <a href="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin"  rel="nofollow">Attitude Adjustment (12.09) generic WR740N v4 image</a>. The best installation method is flashing it through the stock TP-Link web interface.</div>
</li>
</ul>

</div>

<h4 id="customized_openwrt_firmware_for_wr740n">Customized OpenWRT firmware for WR740N</h4>
<div class="level4">

</div>

<h5 id="hardware_versions_v24_and_v3_only">Hardware versions v2.4 and v3 ONLY</h5>
<div class="level5">

<p>
Managed to squeeze IPv6 packages (radvd, dhcp6 server and client) along with Luci web interface with english and romanian support into the 4 <abbr title="Megabyte">MB</abbr> firmware ONLY for TP-LINK WR740N version 2.4 and 3.
Along with the above packages config files also the kernel was stripped down for the exact WR740N hardware via buildroot &quot;make kernel_menuconfig&quot;.
Tested on romanian biggest ISP provider (RCS-RDS) for the IPv6 fiberlink services.
<a href="http://www.ip6.ro/firmware" class="urlextern" title="http://www.ip6.ro/firmware"  rel="nofollow">http://www.ip6.ro/firmware</a>
(page is in romanian only so far..)
</p>

</div>

<h5 id="hardware_version_v423_and_v424_only">Hardware version v4.23 and v4.24 ONLY</h5>
<div class="level5">

<p>
These were prepared using <a href="http://downloads.openwrt.org/attitude_adjustment/12.09-beta/ar71xx/generic/OpenWrt-ImageBuilder-ar71xx_generic-for-linux-i486.tar.bz2" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09-beta/ar71xx/generic/OpenWrt-ImageBuilder-ar71xx_generic-for-linux-i486.tar.bz2"  rel="nofollow">Attitude Adjustment 12.09-beta ImageBuilder (r33312)</a>. Since HW version v4.23 or v4.24 doesn&#039;t have any stock USB, any USB stuff was removed from the firmware. Added functionalities include:
</p>
<ul>
<li class="level1"><div class="li"> QOS (incl. LuCI support)</div>
</li>
<li class="level2"><div class="li"> OpenVPN (incl. LuCI support)</div>
</li>
<li class="level2"><div class="li"> Tinyproxy (incl. LuCI support)</div>
</li>
<li class="level2"><div class="li"> UPNP (incl. LuCI support)</div>
</li>
</ul>

<p>
The command line used for the preparation was (all are the default packages, only these are changed: <strong>-kmod-ledtrig-usbdev -kmod-usb-core -kmod-usb-ohci -kmod-usb2 luci-app-qos luci-app-openvpn luci-app-tinyproxy luci-app-upnp</strong>):
<pre class="code">make image PROFILE=TLWR740 PACKAGES=&quot;base-files busybox dnsmasq dropbear firewall hotplug2 iptables iw jshn kernel kmod-ath kmod-ath9k kmod-ath9k-common kmod-cfg80211 kmod-crypto-aes kmod-crypto-arc4 kmod-crypto-core kmod-gpio-button-hotplug kmod-ipt-conntrack kmod-ipt-core kmod-ipt-nat kmod-ipt-nathelper kmod-leds-gpio kmod-ledtrig-default-on kmod-ledtrig-netdev kmod-ledtrig-timer -kmod-ledtrig-usbdev kmod-lib-crc-ccitt kmod-mac80211 kmod-nls-base kmod-ppp kmod-pppoe kmod-pppox -kmod-usb-core -kmod-usb-ohci -kmod-usb2 kmod-wdt-ath79 libblobmsg-json libc libgcc libip4tc libiwinfo libiwinfo-lua libjson liblua libnl-tiny libubox libubus libubus-lua libuci libuci-lua libxtables lua luci luci-app-firewall luci-i18n-english luci-lib-core luci-lib-ipkg luci-lib-lmo luci-lib-nixio luci-lib-sys luci-lib-web luci-mod-admin-core luci-mod-admin-full luci-proto-core luci-proto-ppp luci-sgi-cgi luci-theme-base luci-theme-openwrt mtd netifd opkg ppp ppp-mod-pppoe swconfig uboot-envtools ubus ubusd uci uhttpd wireless-tools wpad-mini luci-app-qos luci-app-openvpn luci-app-tinyproxy luci-app-upnp&quot;</pre>

<strong>Notes:</strong>
</p>
<ul>
<li class="level1"><div class="li"> <span style='color:red; '>The proposed altered <strong>openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin</strong> firmware have not been tested</span>, so you&#039;d better first use the default <a href="http://downloads.openwrt.org/attitude_adjustment/12.09-beta/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09-beta/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin"  rel="nofollow">Attitude Adjustment (12.09-beta) generic WR740N v4 image (r33312)</a> to flash your brand new router and then use the proposed altered <strong>openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-sysupgrade.bin</strong> that has been tested and working on my two WR740N v4.23 routers.</div>
</li>
<li class="level2"><div class="li"> The proposed altered <strong>openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-sysupgrade.bin</strong> that has been tested and working with no problems on my two WR740N v4.23 routers.</div>
</li>
<li class="level2"><div class="li"> The space used by the modified firmware is as follows:</div>
</li>
</ul>

<p>
<pre class="code">root@OpenWrt:~# df
Filesystem           1K-blocks      Used Available Use% Mounted on
rootfs                     320       240        80  75% /
/dev/root                 2816      2816         0 100% /rom
tmpfs                    14672        80     14592   1% /tmp
tmpfs                      512         0       512   0% /dev
/dev/mtdblock3             320       240        80  75% /overlay
overlayfs:/overlay         320       240        80  75% /</pre>

You can <a href="http://gentoo.kbfx.net/openwrt/attitude-adjustment-12.09-beta/" class="urlextern" title="http://gentoo.kbfx.net/openwrt/attitude-adjustment-12.09-beta/"  rel="nofollow">download the proposed 12.09-beta firmware from here</a>.
</p>

<p>
You can <a href="http://gentoo.kbfx.net/openwrt/attitude-adjustment-12.09-final/" class="urlextern" title="http://gentoo.kbfx.net/openwrt/attitude-adjustment-12.09-final/"  rel="nofollow">download the proposed 12.09 Final firmware from here</a>. Since the <em>luci-app-openvpn</em> package is broken in 12.09 Final + <em>wireless-tools</em> is not used anymore this is the command line used for the preparation of the altered 12.09 Final firmware image:
<pre class="code">make image PROFILE=TLWR740 PACKAGES=&quot;base-files busybox dnsmasq dropbear firewall hotplug2 iptables iw jshn kernel kmod-ath kmod-ath9k kmod-ath9k-common kmod-cfg80211 kmod-crypto-aes kmod-crypto-arc4 kmod-crypto-core kmod-gpio-button-hotplug kmod-ipt-conntrack kmod-ipt-core kmod-ipt-nat kmod-ipt-nathelper kmod-leds-gpio kmod-ledtrig-default-on kmod-ledtrig-netdev kmod-ledtrig-timer -kmod-ledtrig-usbdev kmod-lib-crc-ccitt kmod-mac80211 kmod-nls-base kmod-ppp kmod-pppoe kmod-pppox -kmod-usb-core -kmod-usb-ohci -kmod-usb2 kmod-wdt-ath79 libblobmsg-json libc libgcc libip4tc libiwinfo libiwinfo-lua libjson liblua libnl-tiny libubox libubus libubus-lua libuci libuci-lua libxtables lua luci luci-app-firewall luci-i18n-english luci-lib-core luci-lib-ipkg luci-lib-nixio luci-lib-sys luci-lib-web luci-mod-admin-core luci-mod-admin-full luci-proto-core luci-proto-ppp luci-sgi-cgi luci-theme-base luci-theme-openwrt mtd netifd opkg ppp ppp-mod-pppoe swconfig uboot-envtools ubus ubusd uci uhttpd wpad-mini luci-app-qos luci-app-tinyproxy luci-app-upnp openvpn&quot;</pre>

</p>
<ul>
<li class="level1"><div class="li"> Everything said for v4.23 is applicable for v4.24 too (tested by user christoforos, did not cracked open the case though).</div>
</li>
</ul>

</div>

<h2 class="sectionedit11" id="bootlogs">Bootlogs</h2>
<div class="level2">

</div>

<h3 class="sectionedit12" id="oem_bootlog">OEM bootlog</h3>
<div class="level3">

<p>
This information is obtained from the serial interface:
</p>

<p style="padding: 10px;border:1px solid grey;height:200px;font:10px/14px Georgia, Garamond, Serif;overflow:Auto;background-color:#FFFFFF">
<code>
U-Boot 1.1.4 (Mar  8 2010 - 10:29:42)

AP91 (ar7240) U-boot
DRAM:  
sri
#### TAP VALUE 1 = 9, 2 = a
32 MB
id read 0x100000ff
flash size 4194304, sector count = 64
Flash:  4 MB
Using default environment

In:    serial
Out:   serial
Err:   serial
Net:   ag7240_enet_initialize...
No valid address in Flash. Using fixed address
: cfg1 0xf cfg2 0x7014
eth0: 00:03:7f:09:0b:ad
eth0 up
No valid address in Flash. Using fixed address
: cfg1 0xf cfg2 0x7214
eth1: 00:03:7f:09:0b:ad
ATHRS26: resetting s26
ATHRS26: s26 reset done
eth1 up
eth0, eth1
Autobooting in 1 seconds
## Booting image at 9f020000 ...
   Uncompressing Kernel Image ... 
</code>
</p>

<p>
Type tpl in order to get into boot shell. This are the env parameters:
</p>

<p style="padding: 10px;border:1px solid grey;height:200px;font:10px/14px Georgia, Garamond, Serif;overflow:Auto;background-color:#FFFFFF">
<code>
ar7240> printenv
bootargs=console=ttyS0,115200 root=31:02 rootfstype=jffs2 init=/sbin/init mtdparts=ar7240-nor0:256k(u-boot),64k(u-boot-env),2752k(rootfs),896k(uImage),64k(NVRAM),64k(ART)
bootcmd=bootm 0x9f020000
bootdelay=1
baudrate=115200
ethaddr=0x00:0xaa:0xbb:0xcc:0xdd:0xee
ipaddr=192.168.1.123
serverip=192.168.1.100
stdin=serial
stdout=serial
stderr=serial
ethact=eth0

Environment size: 359/65532 bytes
</code>
</p>

</div>

<h3 class="sectionedit13" id="openwrt_bootlog">OpenWrt bootlog</h3>
<div class="level3">

<p style="padding: 10px;border:1px solid grey;height:200px;font:10px/14px Georgia, Garamond, Serif;overflow:Auto;background-color:#FFFFFF">
<code>
[    0.000000] Linux version 3.3.8 (blogic@Debian-60-squeeze-64-minimal) (gcc version 4.6.3 20120201 (prerelease) (Linaro GCC 4.6-2012.02) ) #2 Mon Sep 3 17:51:18 UTC 2012
[    0.000000] MyLoader: sysp=4cc15e57, boardp=635a7dca, parts=0c7b9213
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 00019374 (MIPS 24Kc)
[    0.000000] SoC: Atheros AR9330 rev 1
[    0.000000] Clocks: CPU:400.000MHz, DDR:400.000MHz, AHB:200.000MHz, Ref:25.000MHz
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone PFN ranges:
[    0.000000]   Normal   0x00000000 -> 0x00002000
[    0.000000] Movable zone start PFN for each node
[    0.000000] Early memory PFN ranges
[    0.000000]     0: 0x00000000 -> 0x00002000
[    0.000000] On node 0 totalpages: 8192
[    0.000000] free_area_init_node: node 0, pgdat 802ec430, node_mem_map 81000000
[    0.000000]   Normal zone: 64 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 8128 pages, LIFO batch:0
[    0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
[    0.000000] pcpu-alloc: [0] 0 
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
[    0.000000] Kernel command line:  board=TL-WR741ND-v4 console=ttyATH0,115200 rootfstype=squashfs,jffs2 noinitrd
[    0.000000] PID hash table entries: 128 (order: -3, 512 bytes)
[    0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
[    0.000000] Writing ErrCtl register=00000000
[    0.000000] Readback ErrCtl register=00000000
[    0.000000] Memory: 29136k/32768k available (2198k kernel code, 3632k reserved, 412k data, 208k init, 0k highmem)
[    0.000000] SLUB: Genslabs=9, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:51
[    0.000000] Calibrating delay loop... 265.42 BogoMIPS (lpj=1327104)
[    0.080000] pid_max: default: 32768 minimum: 301
[    0.080000] Mount-cache hash table entries: 512
[    0.090000] NET: Registered protocol family 16
[    0.090000] gpiochip_add: registered GPIOs 0 to 29 on device: ath79
[    0.100000] MIPS: machine is TP-LINK TL-WR741ND v4
[    0.510000] bio: create slab <bio-0> at 0
[    0.520000] Switching to clocksource MIPS
[    0.520000] NET: Registered protocol family 2
[    0.530000] IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.530000] TCP established hash table entries: 1024 (order: 1, 8192 bytes)
[    0.530000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
[    0.540000] TCP: Hash tables configured (established 1024 bind 1024)
[    0.550000] TCP reno registered
[    0.550000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.560000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.560000] NET: Registered protocol family 1
[    0.570000] PCI: CLS 0 bytes, default 32
[    0.590000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.590000] JFFS2 version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.600000] msgmni has been set to 56
[    0.600000] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 254)
[    0.610000] io scheduler noop registered
[    0.610000] io scheduler deadline registered (default)
[    0.620000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled
[    0.630000] ar933x-uart: ttyATH0 at MMIO 0x18020000 (irq = 11) is a AR933X UART
[    0.640000] console [ttyATH0] enabled, bootconsole disabled
[    0.650000] m25p80 spi0.0: found en25q32b, expected m25p80
[    0.650000] m25p80 spi0.0: en25q32b (4096 Kbytes)
[    0.660000] 5 tp-link partitions found on MTD device spi0.0
[    0.660000] Creating 5 MTD partitions on "spi0.0":
[    0.670000] 0x000000000000-0x000000020000 : "u-boot"
[    0.680000] 0x000000020000-0x000000108468 : "kernel"
[    0.680000] mtd: partition "kernel" must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.690000] 0x000000108468-0x0000003f0000 : "rootfs"
[    0.700000] mtd: partition "rootfs" must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.710000] mtd: partition "rootfs" set to be root filesystem
[    0.720000] mtd: partition "rootfs_data" created automatically, ofs=3A0000, len=50000 
[    0.720000] 0x0000003a0000-0x0000003f0000 : "rootfs_data"
[    0.730000] 0x0000003f0000-0x000000400000 : "art"
[    0.740000] 0x000000020000-0x0000003f0000 : "firmware"
[    0.760000] ag71xx_mdio: probed
[    0.770000] eth0: Atheros AG71xx at 0xba000000, irq 5
[    1.320000] eth0: Found an AR7240/AR9330 built-in switch
[    2.350000] eth1: Atheros AG71xx at 0xb9000000, irq 4
[    2.900000] ag71xx ag71xx.0: eth1: connected to PHY at ag71xx-mdio.1:04 [uid=004dd041, driver=Generic PHY]
[    2.910000] TCP cubic registered
[    2.910000] NET: Registered protocol family 17
[    2.920000] 8021q: 802.1Q VLAN Support v1.8
[    2.930000] VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
[    2.930000] Freeing unused kernel memory: 208k freed
[    6.160000] Registered led device: tp-link:green:lan1
[    6.160000] Registered led device: tp-link:green:lan2
[    6.160000] Registered led device: tp-link:green:lan3
[    6.160000] Registered led device: tp-link:green:lan4
[    6.160000] Registered led device: tp-link:green:qss
[    6.160000] Registered led device: tp-link:green:system
[    6.160000] Registered led device: tp-link:green:wan
[    6.160000] Registered led device: tp-link:green:wlan
[    7.230000] eth0: link up (1000Mbps/Full duplex)
[    9.470000] JFFS2 notice: (445) jffs2_build_xattr_subsystem: complete building xattr subsystem, 1 of xdatum (0 unchecked, 0 orphan) and 32 of xref (0 dead, 23 orphan) found.
[    9.580000] eth0: link down
[   11.570000] Compat-wireless backport release: compat-wireless-2012-07-13
[   11.580000] Backport based on wireless-testing.git master-2012-07-16
[   11.590000] compat.git: wireless-testing.git
[   11.620000] cfg80211: Calling CRDA to update world regulatory domain
[   11.620000] cfg80211: World regulatory domain updated:
[   11.630000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
[   11.640000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   11.650000] cfg80211:   (2457000 KHz - 2482000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
[   11.650000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
[   11.660000] cfg80211:   (5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   11.670000] cfg80211:   (5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   12.600000] ath: EEPROM regdomain: 0x0
[   12.600000] ath: EEPROM indicates default country code should be used
[   12.600000] ath: doing EEPROM country->regdmn map search
[   12.600000] ath: country maps to regdmn code: 0x3a
[   12.600000] ath: Country alpha2 being used: US
[   12.600000] ath: Regpair used: 0x3a
[   12.600000] ieee80211 phy0: Selected rate control algorithm 'minstrel_ht'
[   12.600000] Registered led device: ath9k-phy0
[   12.600000] ieee80211 phy0: Atheros AR9330 Rev:1 mem=0xb8100000, irq=2
[   12.610000] cfg80211: Calling CRDA for country: US
[   12.610000] cfg80211: Regulatory domain changed to country: US
[   12.620000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
[   12.630000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2700 mBm)
[   12.630000] cfg80211:   (5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 1700 mBm)
[   12.640000] cfg80211:   (5250000 KHz - 5330000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   12.650000] cfg80211:   (5490000 KHz - 5600000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   12.660000] cfg80211:   (5650000 KHz - 5710000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   12.660000] cfg80211:   (5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 3000 mBm)
[   12.910000] PPP generic driver version 2.4.2
[   12.940000] tun: Universal TUN/TAP device driver, 1.6
[   12.950000] tun: (C) 1999-2004 Max Krasnyansky <maxk@qualcomm.com>
[   13.010000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   13.150000] NET: Registered protocol family 24
[   13.170000] nf_conntrack version 0.5.0 (458 buckets, 1832 max)
[   13.510000] xt_time: kernel timezone is -0000
[   18.040000] device eth0 entered promiscuous mode
[   18.700000] eth0: link up (1000Mbps/Full duplex)
[   18.700000] br-lan: port 1(eth0) entered forwarding state
[   22.410000] device wlan0 entered promiscuous mode
[   22.780000] br-lan: port 2(wlan0) entered forwarding state
</code>
</p>

</div>

<h2 class="sectionedit14" id="hardware">Hardware</h2>
<div class="level2">

</div>

<h3 class="sectionedit15" id="photos">Photos</h3>
<div class="level3">

</div>

<h4 id="wr740n_v24">WR740N v2.4</h4>
<div class="level4">

<p>
<em>Case Back:</em>
</p>

<p>
<a href="../../_detail/toh/tp-link/wr740n_spate.jpg?id=toh%253Atp-link%253Atl-wr740n" class="media" title="toh:tp-link:wr740n_spate.jpg"><img src="../../_media/toh/tp-link/wr740n_spate.jpg?w=800&amp;tok=248715" class="media" title="TL-WR740N v2.4 case back" alt="TL-WR740N v2.4 case back" width="800" /></a>
</p>

</div>

<h4 id="wr740n_v423">WR740N v4.23</h4>
<div class="level4">

<p>
<em>Case Front:</em>
</p>

<p>
<a href="../../_detail/toh/tp-link/case-front.jpg?id=toh%253Atp-link%253Atl-wr740n" class="media" title="toh:tp-link:case-front.jpg"><img src="../../_media/toh/tp-link/case-front.jpg?w=800&amp;tok=920096" class="media" title="TL-WR740N v4.23 case front view. v4.24 is identical" alt="TL-WR740N v4.23 case front view. v4.24 is identical" width="800" /></a>
</p>

<p>
<em>Case Back:</em>
</p>

<p>
<a href="../../_detail/toh/tp-link/case-back-opening.jpg?id=toh%253Atp-link%253Atl-wr740n" class="media" title="toh:tp-link:case-back-opening.jpg"><img src="../../_media/toh/tp-link/case-back-opening.jpg?w=800&amp;tok=b28561" class="media" title="TL-WR740N v4.23 case back view when opening" alt="TL-WR740N v4.23 case back view when opening" width="800" /></a>
</p>

<p>
<a href="../../_detail/toh/tp-link/case-back.jpg?id=toh%253Atp-link%253Atl-wr740n" class="media" title="toh:tp-link:case-back.jpg"><img src="../../_media/toh/tp-link/case-back.jpg?w=800&amp;tok=598db9" class="media" title="TL-WR740N v4.23 case back view v4.24 is identical" alt="TL-WR740N v4.23 case back view v4.24 is identical" width="800" /></a>
</p>

<p>
<em>Board Front:</em>
</p>

<p>
<a href="../../_detail/toh/tp-link/tl-wr740n-v423-board-upperside.jpg?id=toh%253Atp-link%253Atl-wr740n" class="media" title="toh:tp-link:tl-wr740n-v423-board-upperside.jpg"><img src="../../_media/toh/tp-link/tl-wr740n-v423-board-upperside.jpg?w=800&amp;tok=77b207" class="media" title="TL-WR740N v4.23 board front view" alt="TL-WR740N v4.23 board front view" width="800" /></a>
</p>

<p>
<em>Board Back:</em>
</p>

<p>
<a href="../../_detail/toh/tp-link/tl-wr740n-v423-board-downside.jpg?id=toh%253Atp-link%253Atl-wr740n" class="media" title="toh:tp-link:tl-wr740n-v423-board-downside.jpg"><img src="../../_media/toh/tp-link/tl-wr740n-v423-board-downside.jpg?w=800&amp;tok=03409c" class="media" title="TL-WR740N v4.23 board back view" alt="TL-WR740N v4.23 board back view" width="800" /></a>
</p>

</div>

<h3 class="sectionedit16" id="serial">Serial</h3>
<div class="level3">

<p>
The general information and steps of using serial port, serial port cable, serial console etc, can be found at <a href="../../OpenWrtDocs/Customizing/Hardware/Serial_Console" class="wikilink1" title="doc:hardware:port.serial">Serial Console</a>.
</p>

<p>
Below is the specific information about the different hardware versions of TL-WR740N.
</p>

</div>

<h4 id="uart_on_v110">UART on v1.10</h4>
<div class="level4">

<p>
The serial headers are not completely connected (a voltage divider and capacitor are left out, so the headers are dead), but a serial connection can still be established by soldering directly to two of the empty pads. The result is a bit unstable (router output is often partially lost) and can probably be improved electrically.
</p>

<p>
<a href="../../_detail/toh/tp-link/tl-wr740n.jpg?id=toh%253Atp-link%253Atl-wr740n" class="media" title="toh:tp-link:tl-wr740n.jpg"><img src="../../_media/toh/tp-link/tl-wr740n.jpg?w=800&amp;tok=cd4419" class="media" title="TL-WR740N pins layout" alt="TL-WR740N pins layout" width="800" /></a>
</p>

<p>
<a href="../../_detail/toh/tp-link/tl-wr740n-serial.jpg?id=toh%253Atp-link%253Atl-wr740n" class="media" title="toh:tp-link:tl-wr740n-serial.jpg"><img src="../../_media/toh/tp-link/tl-wr740n-serial.jpg?w=800&amp;tok=d837c4" class="media" title="TL-WR740N pins layout and cable" alt="TL-WR740N pins layout and cable" width="800" /></a>
</p>

</div>

<h4 id="uart_on_v30">UART on v3.0</h4>
<div class="level4">

<p>
Baudrate: 115200n8
</p>

<p>
Type &quot;tpl&quot; in U-Boot to get a shell!
</p>

<p>
<a href="../../_detail/toh/tp-link/tl-wr740n-v3-uart.jpg?id=toh%253Atp-link%253Atl-wr740n" class="media" title="toh:tp-link:tl-wr740n-v3-uart.jpg"><img src="../../_media/toh/tp-link/tl-wr740n-v3-uart.jpg?w=800&amp;tok=c7291d" class="media" title="TL-WR740N v3.0 pins layout" alt="TL-WR740N v3.0 pins layout" width="800" /></a>
</p>

</div>

<h4 id="uart_on_v423">UART on v4.23</h4>
<div class="level4">

<p>
The v4.23 uses the standard TP-Link pinout, however the TX pin is not connected to the CPU. In order to make the TX line working, the two points on the bottom side of the PCB must be connected with a small wire. The pin at the SOC is labeled TP18, the one at the serial connector is labeled TP28. T<strong>he RX line is 5V intolerant!</strong> So the connection needs a 3.3V RS232 level shifter. Pins on the connector on the photo are TX-RX-GND-3V3(VCC) (from left to right).
</p>
<ol>
<li class="level1"><div class="li"> Download <a href="http://downloads.openwrt.org/attitude_adjustment/12.09-beta/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09-beta/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin"  rel="nofollow">http://downloads.openwrt.org/attitude_adjustment/12.09-beta/ar71xx/generic/openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin</a> to your TFTP server.</div>
</li>
<li class="level1"><div class="li"> Hook your routers WAN ethernet port up to your network</div>
</li>
<li class="level1"><div class="li"> Hook up the serial console as explained in the section &quot;serial console&quot; and do the &quot;tpl&quot; trick to get console access</div>
</li>
<li class="level1"><div class="li"> Now we need to set router and server IP addresses (here named ROUTERIP and SERVERIP, substitute these with the real IP addresses). Type in the console:<pre class="code"> setenv ipaddr ROUTERIP
 setenv serverip SERVERIP
 printenv</pre>
</div>
</li>
<li class="level1"><div class="li"> Double check that the output of printenv lists the IP addresses you just set. Now we can load the firmware over TFTP with &quot;tftpboot 0x81000000 openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin&quot;:<pre class="code">tftpboot 0x81000000 openwrt-ar71xx-generic-tl-wr740n-v4-squashfs-factory.bin
erase 0x9f020000 +0x3c0000
cp.b 0x81000000 0x9f020000 0x3c0000
bootm 9f020000</pre>
</div>
</li>
</ol>

<p>
<a href="../../_detail/toh/tp-link/tl-wr740n-v423-board-downside-uart.jpg?id=toh%253Atp-link%253Atl-wr740n" class="media" title="toh:tp-link:tl-wr740n-v423-board-downside-uart.jpg"><img src="../../_media/toh/tp-link/tl-wr740n-v423-board-downside-uart.jpg?w=800&amp;tok=e95791" class="media" title="TL-WR740N v4.23 pins layout" alt="TL-WR740N v4.23 pins layout" width="800" /></a>
</p>

<p>
<a href="../../_detail/toh/tp-link/tl-wr740n-v423-board-serial-cable-solder.jpg?id=toh%253Atp-link%253Atl-wr740n" class="media" title="toh:tp-link:tl-wr740n-v423-board-serial-cable-solder.jpg"><img src="../../_media/toh/tp-link/tl-wr740n-v423-board-serial-cable-solder.jpg?w=800&amp;tok=b5bb30" class="media" title="TL-WR740N v4.23 serial cable soldered" alt="TL-WR740N v4.23 serial cable soldered" width="800" /></a>
</p>

<p>
<a href="../../_detail/toh/tp-link/tl-wr740n-v423-board-serial-cable.jpg?id=toh%253Atp-link%253Atl-wr740n" class="media" title="toh:tp-link:tl-wr740n-v423-board-serial-cable.jpg"><img src="../../_media/toh/tp-link/tl-wr740n-v423-board-serial-cable.jpg?w=800&amp;tok=6db2c7" class="media" title="TL-WR740N v4.23 serial cable" alt="TL-WR740N v4.23 serial cable" width="800" /></a>
</p>

</div>

<h4 id="usb_to_uart_ttl_gadget">USB to UART TTL gadget</h4>
<div class="level4">

<p>
<a href="../../_detail/toh/tp-link/usb-to-uart-ttl.jpg?id=toh%253Atp-link%253Atl-wr740n" class="media" title="toh:tp-link:usb-to-uart-ttl.jpg"><img src="../../_media/toh/tp-link/usb-to-uart-ttl.jpg?w=800&amp;tok=85e928" class="media" title="USB to UART TTL gadget" alt="USB to UART TTL gadget" width="800" /></a>
</p>

</div>

<h2 class="sectionedit17" id="debricking">Debricking</h2>
<div class="level2">

<p>
General debricking advices are described <a href="../../doc/howto/generic.debrick" class="wikilink1" title="doc:howto:generic.debrick">here</a>.
</p>

<p>
At the original time of writing, no method was known to recover <em>most models</em> from a bad firmware without soldering the serial cable. However, ongoing experiments suggest that <strong>TFTP flashing is possible even without soldering</strong> a serial port. The list of models and versions which have a factory U-Boot compiled with tftp enabled is to be determined. It&#039;s best to try it yourself because there&#039;s nothing to lose, but please do share your results at the respective wiki page. For more information, see: <a href="http://bkil.blogspot.com/2014/12/tftp-secret-of-tl-wr740n-uncovered.html" class="urlextern" title="http://bkil.blogspot.com/2014/12/tftp-secret-of-tl-wr740n-uncovered.html"  rel="nofollow">http://bkil.blogspot.com/2014/12/tftp-secret-of-tl-wr740n-uncovered.html</a>
</p>

<p>
<strong>For debricking with a working serial cable using TFTP follow the steps descibed in <a href="tl-wr841nd#tftpinstall" class="wikilink1" title="toh:tp-link:tl-wr841nd">TP-Link WR741ND TFTP Installation</a>.</strong>
</p>

<p>
<strong>For the (box branded) WR740N v2.4 and v4.23 the below works for recovery from nasty stuff like dropbear lockout, mtd overlay size problems or other software misuses :</strong>
</p>
<ul>
<li class="level1"><div class="li"> Unplug the router&#039;s power cord.</div>
</li>
<li class="level1"><div class="li"> Connect any router <abbr title="Local Area Network">LAN</abbr> port directly to your PC.</div>
</li>
<li class="level1"><div class="li"> Configure your PC with a static IP address: 192.168.1.2</div>
</li>
<li class="level1"><div class="li"> Plug the power on to the router.</div>
</li>
<li class="level1"><div class="li"> Wait until the &quot;SYS&quot; LED starts flashing repeatedly.</div>
</li>
<li class="level1"><div class="li"> Press the &quot;QSS&quot; button (on the front/back of the router) → the &quot;SYS&quot; LED will now start flashing at a faster rate.</div>
</li>
<li class="level1"><div class="li"> Login to the router by using telnet to connect to the IP address 192.168.1.1 → there will be an immediate unauthenticated login to a root shell.</div>
</li>
</ul>

</div>

<h3 class="sectionedit18" id="commands">Commands</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> mount_root - will mount the normal root filesystem.</div>
</li>
<li class="level1"><div class="li"> firstboot - all settings will be reset.</div>
</li>
<li class="level1"><div class="li"> /rom/sbin/reboot - will reboot even without a mounted filesystem.</div>
</li>
</ul>

</div>

<h2 class="sectionedit19" id="bootloader_mods">Bootloader Mods</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> you could read about <a href="../../doc/techref/bootloader.1" class="wikilink1" title="doc:techref:bootloader">bootloader</a> in general and about <a href="../../doc/techref/bootloader/uboot" class="wikilink1" title="doc:techref:bootloader:uboot">Das U-Boot</a> in particular.</div>
</li>
</ol>

</div>

<h3 class="sectionedit20" id="u-boot_114_modification_for_routers">U-Boot 1.1.4 modification for routers</h3>
<div class="level3">

<p>
Forum member <a href="https://forum.openwrt.org/profile.php?id=72549" class="urlextern" title="https://forum.openwrt.org/profile.php?id=72549"  rel="nofollow">pepe2k</a> made a modification of <strong>U-Boot 1.1.4</strong> for <strong>Qualcomm Atheros</strong> SoCs based devices (the project is still being developed, so new devices and SoCs will be supported in the future). Up to date information, binary images and sources can be found on official <a href="https://github.com/pepe2k/u-boot_mod" class="urlextern" title="https://github.com/pepe2k/u-boot_mod"  rel="nofollow">GitHub repository</a>.
</p>

<p>
This modification started from <a href="http://code.google.com/p/wr703n-uboot-with-web-failsafe/" class="urlextern" title="http://code.google.com/p/wr703n-uboot-with-web-failsafe/"  rel="nofollow">wr703n-uboot-with-web-failsafe</a> project, but supports more devices, all modern web browsers, has a lot of improvements and other modifications (like U-Boot NetConsole, custom commands, overclocking possibilities etc.).
</p>

<p>
More information:
</p>
<ul>
<li class="level1"><div class="li"> Official repository on GitHub: <a href="https://github.com/pepe2k/u-boot_mod" class="urlextern" title="https://github.com/pepe2k/u-boot_mod"  rel="nofollow">U-Boot 1.1.4 modification for routers</a></div>
</li>
<li class="level1"><div class="li"> Discussion about this project on <a href="https://forum.openwrt.org/viewtopic.php?id=43237" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=43237"  rel="nofollow">OpenWrt forum</a></div>
</li>
<li class="level1"><div class="li"> An article (in Polish) about one of the first version of this project on <a href="http://www.tech-blog.pl/2013/03/29/zmodyfikowany-u-boot-dla-routerow-tp-link-z-atheros-ar9331-z-trybem-aktualizacji-oprogramowania-przez-www-i-konsola-sieciowa-netconsole/" class="urlextern" title="http://www.tech-blog.pl/2013/03/29/zmodyfikowany-u-boot-dla-routerow-tp-link-z-atheros-ar9331-z-trybem-aktualizacji-oprogramowania-przez-www-i-konsola-sieciowa-netconsole/"  rel="nofollow">www.tech-blog.pl</a></div>
</li>
</ul>

</div>

<h2 class="sectionedit21" id="notes">Notes</h2>
<div class="level2">

</div>

<h3 class="sectionedit22" id="links">Links</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> <a href="http://phobosk.wordpress.com/2012/10/21/how-to-turn-your-tp-link-tl-wrt740n-router-into-a-fully-functional-one-using-openwrt/" class="urlextern" title="http://phobosk.wordpress.com/2012/10/21/how-to-turn-your-tp-link-tl-wrt740n-router-into-a-fully-functional-one-using-openwrt/"  rel="nofollow">A TL-WR740N v4.23 step by step tutorial for novice OpenWrt users</a></div>
</li>
</ul>

</div>

<h2 class="sectionedit23" id="custom_openwrt_image_with_luci_integrated">Custom OpenWrt image with LuCi integrated</h2>
<div class="level2">

<p>
<a href="http://www.superwrt.eu/en/firmware/tp-link-wr740n/" class="urlextern" title="http://www.superwrt.eu/en/firmware/tp-link-wr740n/"  rel="nofollow">http://www.superwrt.eu/en/firmware/tp-link-wr740n/</a>
</p>

</div>

<h2 class="sectionedit24" id="tags">Tags</h2>
<div class="level2">
<div class="tags"><span>
	<a href="../../tag/fastethernet?do=showtag&amp;tag=FastEthernet" class="wikilink1" title="tag:fastethernet" rel="tag">FastEthernet</a>,
	<a href="../../tag/1ant?do=showtag&amp;tag=1Ant" class="wikilink1" title="tag:1ant" rel="tag">1Ant</a>,
	<a href="../../tag/5port?do=showtag&amp;tag=5Port" class="wikilink1" title="tag:5port" rel="tag">5Port</a>,
	<a href="../../tag/802.11bgn?do=showtag&amp;tag=802.11bgn" class="wikilink1" title="tag:802.11bgn" rel="tag">802.11bgn</a>,
	<a href="../../tag/32ram?do=showtag&amp;tag=32RAM" class="wikilink1" title="tag:32ram" rel="tag">32RAM</a>,
	<a href="../../tag/4flash?do=showtag&amp;tag=4Flash" class="wikilink1" title="tag:4flash" rel="tag">4Flash</a>,
	<a href="../../tag/mips?do=showtag&amp;tag=MIPS" class="wikilink1" title="tag:mips" rel="tag">MIPS</a>,
	<a href="../../tag/24kc?do=showtag&amp;tag=24Kc" class="wikilink1" title="tag:24kc" rel="tag">24Kc</a>
</span></div>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/tp-link/tl-wr740n.txt</bdi> · Last modified: 2015/05/06 12:37 by <bdi>theoradicus</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="tl-wr740n?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="tl-wr740n?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="tl-wr740n?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="tl-wr740n#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Atp-link%253Atl-wr740n&amp;1432266255" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
