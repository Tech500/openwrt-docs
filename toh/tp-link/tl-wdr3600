<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>TP-Link TL-WDR3600 [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="gigabitethernet,5port,2wnic,2nic,usb,2usb,jtag,802.11bgn,ath9k,ar9344,802.11abgn simultan,2ant,detachableantenna,128ram,8flash,mips,mips32,74kc,db120"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="tl-wdr3600?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:tp-link"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/tp-link/tl-wdr3600"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/tp-link/tl-wdr3600"/>
<link rel="canonical" href="tl-wdr3600"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:tp-link';var JSINFO = {"id":"toh:tp-link:tl-wdr3600","namespace":"toh:tp-link"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432269603 166.182.3.44';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="tl-wdr3600#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="tl-wdr3600?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="tl-wdr3600?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:tp-link:tl-wdr3600" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="tl-wdr3600?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="tl-wdr3600?do=media&amp;ns=toh%253Atp-link"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="tl-wdr3600?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:tp-link:start">TP-Link</a></bdi> » <bdi><span class="curid"><a href="tl-wdr3600" class="wikilink1" title="toh:tp-link:tl-wdr3600">TP-Link TL-WDR3600</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/tp-link/tl-wdr3600" class="media" title="cz:toh:tp-link:tl-wdr3600"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/tp-link/tl-wdr3600" class="media" title="de:toh:tp-link:tl-wdr3600"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="tl-wdr3600" class="media" title="toh:tp-link:tl-wdr3600"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/tp-link/tl-wdr3600" class="media" title="es:toh:tp-link:tl-wdr3600"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <a href="../../fr/toh/tp-link/tl-wdr3600" class="media" title="fr:toh:tp-link:tl-wdr3600"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/tp-link/tl-wdr3600" class="media" title="hu:toh:tp-link:tl-wdr3600"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/tp-link/tl-wdr3600" class="media" title="jp:toh:tp-link:tl-wdr3600"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/tp-link/tl-wdr3600" class="media" title="pl:toh:tp-link:tl-wdr3600"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/tp-link/tl-wdr3600" class="media" title="pt-br:toh:tp-link:tl-wdr3600"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/tp-link/tl-wdr3600" class="media" title="ru:toh:tp-link:tl-wdr3600"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/tp-link/tl-wdr3600" class="media" title="tr:toh:tp-link:tl-wdr3600"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/tp-link/tl-wdr3600" class="media" title="zh-cn:toh:tp-link:tl-wdr3600"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/tp-link/tl-wdr3600" class="media" title="zh-tw:toh:tp-link:tl-wdr3600"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:tp-link:tl-wdr3600</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="tl-wdr3600#supported_versions">Supported Versions</a></div></li>
<li class="level1"><div class="li"><a href="tl-wdr3600#info">Info</a></div></li>
<li class="level1"><div class="li"><a href="tl-wdr3600#installation">Installation</a></div></li>
<li class="level1"><div class="li"><a href="tl-wdr3600#switch_ports_for_vlans">Switch Ports (for VLANs)</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-wdr3600#etcconfignetwork_switch_ports_usable_as_single_ports">&#039;&#039;/etc/config/network&#039;&#039; switch ports usable as single ports</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-wdr3600#tftp_auto_recovery_in_revision_15">TFTP auto recovery in revision 1.5</a></div></li>
<li class="level1"><div class="li"><a href="tl-wdr3600#back_to_stock_firmware">Back to stock firmware</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-wdr3600#useful_information_about_stock_firmware">Useful Information about Stock Firmware</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-wdr3600#flash_layout">Flash Layout</a></div></li>
<li class="level1"><div class="li"><a href="tl-wdr3600#serie_u-boot">Serie U-Boot</a></div></li>
<li class="level1"><div class="li"><a href="tl-wdr3600#bootloader_mods">Bootloader Mods</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-wdr3600#u-boot_114_modification_for_routers">U-Boot 1.1.4 modification for routers</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-wdr3600#hardware">Hardware</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-wdr3600#gpio">GPIO</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="tl-wdr3600#read_button_without_hotplug">Read button without hotplug</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-wdr3600#hardware_modifications">Hardware Modifications</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tl-wdr3600#usb_modification">USB Modification</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="tl-wdr3600#photos">Photos</a></div></li>
<li class="level1"><div class="li"><a href="tl-wdr3600#custom_openwrt_image_with_luci_integrated">Custom OpenWrt image with LuCi integrated</a></div></li>
<li class="level1"><div class="li"><a href="tl-wdr3600#tags">Tags</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="tp-link_tl-wdr3600">TP-Link TL-WDR3600</h1>
<div class="level1">

<p>
Dual Band (concurrent) and Gigabit Ethernet.
Advertised as 600 Mbps it is Dual-Stream (2x2) on the 2.4 Ghz Band and Dual-Stream (2x2) on the 5 Ghz Band. This wiki entry is fairly brief, but most things in the <a href="tl-wdr4300" class="wikilink1" title="toh:tp-link:tl-wdr4300">TP-Link TL-WDR4300</a> wiki entry apply here.
</p>

</div>

<h2 class="sectionedit2" id="supported_versions">Supported Versions</h2>
<div class="level2">

<p>
All versions supported in <a href="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/" class="urlextern" title="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/"  rel="nofollow">Barrier Breaker 14.07</a>. No patches required. 14.07 pre-built images include Luci by default as well.
</p>
<div class="table sectionedit3"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Version/Model </th><th class="col1">Release Date </th><th class="col2"> OpenWrt Version Supported </th><th class="col3"> Model Specific Notes </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> 1.1 </td><td class="col1"> 2012/07</td><td class="col2"> Attitude Adjustment 12.09 works fine (since trunk <a href="https://dev.openwrt.org/changeset/33219" class="urlextern" title="https://dev.openwrt.org/changeset/33219"  rel="nofollow">r33219</a>) </td><td class="col3"> Similar to <a href="tl-wdr4300" class="wikilink1" title="toh:tp-link:tl-wdr4300">TP-Link TL-WDR4300</a> </td>
	</tr>
	<tr class="row2">
		<td class="col0"> 1.2 </td><td class="col1"> </td><td class="col2"> Attitude Adjustment 12.09 </td><td class="col3"> LEDs blue</td>
	</tr>
	<tr class="row3">
		<td class="col0"> 1.3 </td><td class="col1"> </td><td class="col2"> Attitude Adjustment 12.09 + <a href="https://dev.openwrt.org/changeset/39408/" class="urlextern" title="https://dev.openwrt.org/changeset/39408/"  rel="nofollow">wifi patch</a>, or trunk (<a href="https://dev.openwrt.org/changeset/39392" class="urlextern" title="https://dev.openwrt.org/changeset/39392"  rel="nofollow">r39392</a>), </td><td class="col3"> LEDs blue</td>
	</tr>
	<tr class="row4">
		<td class="col0"> 1.4 </td><td class="col1"> July 2013 </td><td class="col2"> Attitude Adjustment 12.09 + <a href="https://dev.openwrt.org/changeset/39408/" class="urlextern" title="https://dev.openwrt.org/changeset/39408/"  rel="nofollow">wifi patch</a> , or trunk (<a href="https://dev.openwrt.org/changeset/39392" class="urlextern" title="https://dev.openwrt.org/changeset/39392"  rel="nofollow">r39392</a>)</td><td class="col3"> LEDs now green, not blue</td>
	</tr>
	<tr class="row5">
		<td class="col0"> 1.5 </td><td class="col1"> December 2013 </td><td class="col2"> Attitude Adjustment 12.09 + <a href="https://dev.openwrt.org/changeset/39408/" class="urlextern" title="https://dev.openwrt.org/changeset/39408/"  rel="nofollow">wifi patch</a> , or trunk (<a href="https://dev.openwrt.org/changeset/39392" class="urlextern" title="https://dev.openwrt.org/changeset/39392"  rel="nofollow">r39392</a>)</td><td class="col3"> LEDs now green, not blue</td>
	</tr>
</table></div>

<p>
The latest firmware available is the release build <a href="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/" class="urlextern" title="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/"  rel="nofollow">Barrier Breaker</a>, with working ethernet and dual-band wireless (disabled by default), and webUI. 
</p>

<p>
If your wireless cannot be enabled when using wide channel modes, this may be due to the friendly neighbor &quot;feature&quot; that prohibits operation of such a mode and you may have to use the standard modes before wireless can be enabled. For some people radio0 works only when radio2 is also enabled.  
</p>

<p>
Note that in 14.07 VLAN related <a href="tl-wdr3600#switchportsforvlans" title="toh:tp-link:tl-wdr3600 ↵" class="wikilink1">switch driver bug</a> still not fixed?  Fix has been included in trunk since r42653.
</p>

</div>

<h2 class="sectionedit4" id="info">Info</h2>
<div class="level2">
<div class="table sectionedit5"><table class="inline">
	<tr class="row0">
		<td class="col0 leftalign"> <strong><a href="http://en.wikipedia.org/wiki/Instruction set" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Instruction set">Architecture</a>:</strong>    </td><td class="col1"> <a href="http://en.wikipedia.org/wiki/MIPS architecture" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/MIPS architecture">MIPS</a> MIPS 74Kc </td>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign"> <strong>Vendor:</strong>          </td><td class="col1"> <a href="http://en.wikipedia.org/wiki/Qualcomm Atheros" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Qualcomm Atheros">Qualcomm Atheros</a> </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> <strong><a href="../../doc/techref/bootloader.1" class="wikilink1" title="doc:techref:bootloader">Bootloader</a>:</strong>     </td><td class="col1"> <a href="../../doc/techref/bootloader/uboot" class="wikilink1" title="doc:techref:bootloader:uboot">U-Boot</a> </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/soc.1" class="wikilink1" title="doc:hardware:soc">System-On-Chip</a>:</strong>  </td><td class="col1"> AR9344 (MIPS) </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/cpu" class="wikilink1" title="doc:hardware:cpu">CPU</a>/Speed</strong>        </td><td class="col1"> 560 <abbr title="Megahertz">MHz</abbr> </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> <strong>Flash-Chip:</strong>      </td><td class="col1"> Spansion FL064KIF <a href="http://www.spansion.com/Products/Serial-Flash/Pages/Spansion%20FL.aspx" class="urlextern" title="http://www.spansion.com/Products/Serial-Flash/Pages/Spansion%20FL.aspx"  rel="nofollow">docs</a> </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> <strong>Flash size:</strong>      </td><td class="col1"> 8192 KiB </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> <strong>RAM:</strong>             </td><td class="col1 leftalign"> 128 MiB   </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> <strong>Wireless No1:</strong>        </td><td class="col1"> Atheros AR9340 2.4GHz 802.11bgn </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> <strong>Wireless No2:</strong>        </td><td class="col1"> Atheros AR9582 5GHz 802.11an </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/switch" class="wikilink1" title="doc:hardware:switch">Switch</a>:</strong>        </td><td class="col1"> Atheros AR8327N Gigabit Switch </td>
	</tr>
	<tr class="row11">
		<td class="col0 leftalign"> <strong>USB:</strong>             </td><td class="col1"> Yes 2 x 2.0 (GL850G chip - 4 ports capable) </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit6" id="installation">Installation</h2>
<div class="level2">

<p>
See <a href="tl-wdr4300#installation" class="wikilink1" title="toh:tp-link:tl-wdr4300">TP-Link TL-WDR4300</a> installation instructions.
</p>

</div>

<h2 class="sectionedit7" id="switch_ports_for_vlans">Switch Ports (for VLANs)</h2>
<div class="level2">
<div class="table sectionedit8"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Port </th><th class="col1"> Switch port </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> CPU </td><td class="col1"> 0 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> Internet (WAN) </td><td class="col1"> 1 </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <abbr title="Local Area Network">LAN</abbr> 1 </td><td class="col1"> 2 </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <abbr title="Local Area Network">LAN</abbr> 2 </td><td class="col1"> 3 </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <abbr title="Local Area Network">LAN</abbr> 3 </td><td class="col1"> 4 </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <abbr title="Local Area Network">LAN</abbr> 4 </td><td class="col1"> 5 </td>
	</tr>
	<tr class="row7">
		<td class="col0"> unknown </td><td class="col1"> 6 </td>
	</tr>
</table></div>

<p>
The switch driver refuses to configure a port with tagged and non-tagged VLANs.
It is possible to tag multiple VLANs on the same ports:
<pre class="code">root@OpenWrt:/# swconfig
swconfig dev &lt;dev&gt; [port &lt;port&gt;|vlan &lt;vlan&gt;] (help|set &lt;key&gt; &lt;value&gt;|get &lt;key&gt;|load &lt;config&gt;|show)

root@OpenWrt:/# swconfig dev switch0 help
switch0: eth0(Atheros AR8327), ports: 7 (cpu @ 0), vlans: 128
     --switch
        Attribute 1 (int): enable_vlan (Enable VLAN mode)
        Attribute 2 (none): reset_mibs (Reset all MIB counters)
        Attribute 3 (none): apply (Activate changes in the hardware)
        Attribute 4 (none): reset (Reset the switch)
     --vlan
        Attribute 1 (int): vid (VLAN ID (0-4094))
        Attribute 2 (ports): ports (VLAN port mapping)
     --port
        Attribute 1 (none): reset_mib (Reset single port MIB counters)
        Attribute 2 (string): mib (Get port&#039;s MIB counters)
        Attribute 3 (int): pvid (Primary VLAN ID)
        Attribute 4 (string): link (Get port link information)</pre>

OpenWRT switch configuration Eth0.1 = <abbr title="Local Area Network">LAN</abbr> et Eth0.2 = WAN
<pre class="code">root@OpenWrt:/# swconfig dev switch0 vlan 1 show
VLAN 1:
        vid: 1
        ports: 0t 2 3 4 5
root@OpenWrt:/# swconfig dev switch0 vlan 2 show
VLAN 2:
        vid: 2
        ports: 0t 1</pre>

Tag of port 5 on VLANs 1 and 2 successful:
<pre class="code">root@OpenWrt:/# swconfig dev switch0 vlan 1 set ports &quot;0t 2 3 4 5t&quot;
root@OpenWrt:/# swconfig dev switch0 vlan 1 show
VLAN 1:
        vid: 1
        ports: 0t 2 3 4 5t
root@OpenWrt:/# swconfig dev switch0 vlan 2 show
VLAN 2:
        vid: 2
        ports: 0t 1

root@OpenWrt:/# swconfig dev switch0 vlan 2 set ports &quot;0t 1 5t&quot;
root@OpenWrt:/# swconfig dev switch0 vlan 1 show
VLAN 1:
        vid: 1
        ports: 0t 2 3 4 5t
root@OpenWrt:/# swconfig dev switch0 vlan 2 show
VLAN 2:
        vid: 2
        ports: 0t 1 5t</pre>

Tag port 4 in VLAN 1, and untag port 4 in VLAN 2: <em class="u"><strong>Error, port 4 is removed from VLAN 1</strong></em>
<pre class="code">root@OpenWrt:/# swconfig dev switch0 vlan 1 set ports &quot;0t 2 3 4t 5t&quot;
root@OpenWrt:/# swconfig dev switch0 vlan 1 show
VLAN 1:
        vid: 1
        ports: 0t 2 3 4t 5t
root@OpenWrt:/# swconfig dev switch0 vlan 2 show
VLAN 2:
        vid: 2
        ports: 0t 1 5t

root@OpenWrt:/# swconfig dev switch0 vlan 2 set ports &quot;0t 1 4 5t&quot;
root@OpenWrt:/# swconfig dev switch0 vlan 1 show
VLAN 1:
        vid: 1
        ports: 0t 2 3 5t
root@OpenWrt:/# swconfig dev switch0 vlan 2 show
VLAN 2:
        vid: 2
        ports: 0t 1 4 5t
root@OpenWrt:/#</pre>

</p>

</div>

<h3 class="sectionedit9" id="etcconfignetwork_switch_ports_usable_as_single_ports">&#039;&#039;/etc/config/network&#039;&#039; switch ports usable as single ports</h3>
<div class="level3">

<p>
<pre class="file">config interface &#039;loopback&#039;
        option ifname &#039;lo&#039;
        option proto &#039;static&#039;
        option ipaddr &#039;127.0.0.1&#039;
        option netmask &#039;255.0.0.0&#039;

config switch
        option name &#039;eth0&#039;
        option reset &#039;1&#039;
        option enable_vlan &#039;1&#039;

## Port: internet
config switch_vlan
        option device &#039;eth0&#039;
        option vlan &#039;2&#039;
        option ports &#039;0t 1&#039;

## Port LAN1
config switch_vlan
        option device &#039;eth0&#039;
        option vlan &#039;1&#039;
        option ports &#039;0t 2&#039;

## Port LAN2
config switch_vlan
        option device &#039;eth0&#039;
        option vlan &#039;3&#039;
        option ports &#039;0t 3&#039;

## Port LAN3
config switch_vlan
        option device &#039;eth0&#039;
        option vlan &#039;4&#039;
        option ports &#039;0t 4&#039;

## Port LAN4
config switch_vlan
        option device &#039;eth0&#039;
        option vlan &#039;5&#039;
        option ports &#039;0t 5&#039;</pre>

</p>

</div>

<h2 class="sectionedit10" id="tftp_auto_recovery_in_revision_15">TFTP auto recovery in revision 1.5</h2>
<div class="level2">

<p>
At least some revision 1.5 routers contains bootloader recovery TFTP client. To activate it press and hold WPS/Reset Button during powering on until WPS LED turns on. Connect computer to LAN1. Using TCPdump, you should see ARP requests from router having address 192.168.0.86 looking for address 192.168.0.66.
</p>

<p>
<pre class="code"># tcpdump -ni eth0 arp
ARP, Request who-has 192.168.0.66 tell 192.168.0.86, length 46</pre>

</p>

<p>
Set up your computer to address 192.168.0.66, netmask /24 (255.255.255.0).
</p>

<p>
<pre class="code"># ip addr add dev eth0 192.168.0.66/24</pre>

</p>

<p>
Using TCPdump, you should now see request for new firmware image:
</p>

<p>
<pre class="code"># tcpdump -npi eth0 udp
IP 192.168.0.86.2195 &gt; 192.168.0.66.69:  44 RRQ &quot;wdr3600v1_tp_recovery.bin&quot; octet timeout 5</pre>

</p>

<p>
Rename factory image to given name and put it into TFTP server root. 
→ <a href="../../doc/howto/tftp" class="wikilink1" title="doc:howto:generic.flashing.tftp">generic.flashing.tftp</a>
</p>

<p>
<img src="../../lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /> In case you are flashing back original firmware, make sure original firmware image name does not contain word <code><strong>boot</strong></code> → <a href="tl-wdr3600#backtostockfirmware" title="toh:tp-link:tl-wdr3600 ↵" class="wikilink1">back.to.stock.firmware</a>.
</p>

<p>
<pre class="code"># cp openwrt-ar71xx-generic-tl-wdr3600-v1-squashfs-factory.bin wdr3600v1_tp_recovery.bin
# atftpd --no-fork --daemon .</pre>

</p>

<p>
After downloading, the flashing starts immediatelly. After cca. 1 minute, the router reboots automatically.
</p>

</div>

<h2 class="sectionedit11" id="back_to_stock_firmware">Back to stock firmware</h2>
<div class="level2">

<p>
→ <a href="../../doc/howto/generic.uninstall" class="wikilink1" title="doc:howto:generic.uninstall">generic.uninstall</a>
</p>

</div>
<div class="plugin_include_content plugin_include__meta:infobox:dangerous" id="plugin_include__meta__infobox__dangerous">
<div class="level2">

<p>

<table class="inline" style="width:70%; margin-left:15%">
  <tr>
    <td style="border-left:6px solid #cd0505; vertical-align:middle">
      <img src="../../_media/meta/icons/tango/48px-dialog-warning.svg.png" alt="" style="float:left; margin-right:0.5em" />
      <strong>Warning!</strong><br />
      This section describes actions that might damage your device or firmware. Proceed with care!
    </td>
  </tr>
</table>

</p>

</div>
</div>
<div class="level2">

<p>
With the TL-WR3600 router, there is a catch: the stock firmware is obtained from the OEM: <a href="http://www.tplink.com/en/support/download/?model=TL-WDR3600" class="urlextern" title="http://www.tplink.com/en/support/download/?model=TL-WDR3600"  rel="nofollow">http://www.tplink.com/en/support/download/?model=TL-WDR3600</a>
</p>
<ul>
<li class="level1"><div class="li"> in case the file name of this firmware file does not contain the word <strong><em>&quot;boot&quot;</em></strong> in it, you can simply revert back to original firmware</div>
</li>
<li class="level1"><div class="li"> in case the file name of this firmware file does contain the word <strong><em>&quot;boot&quot;</em></strong> in it, you need to cut off parts of the image file <em>before</em> flashing it:</div>
</li>
</ul>

<p>
An example of an image file with the word &quot;boot&quot; in it is <code>wdr3600v1_en_3_13_34_up_boot(130909).bin</code>.
</p>

<p>
Cut the first 0x20200 (that is 131,584 = 257*512) Bytes from original firmware:
<pre class="code">dd if=orig.bin of=tplink.bin skip=257 bs=512</pre>

</p>

<p>
You should transfer the firmeware image to the /tmp folder and revert back to original firmware (if availlable you can flash the firmware via the webinterface as well):
</p>

<p>
Via the safer method using sysupgrade:
<pre class="code">sysupgrade /tmp/tplink.bin</pre>

</p>

<p>
Or alternatively you can use the mtd method:
<pre class="code">mtd -r write /tmp/tplink.bin firmware</pre>

</p>

<p>
OEM TP-Link firmware for the TL-WDR3600 with the <strong><em>boot part removed</em></strong> to revert to the original OEM firmware:
</p>
<ul>
<li class="level1"><div class="li"> TL-WDR3600 <strong><em>V1</em></strong> <a href="https://doc-00-90-docs.googleusercontent.com/docs/securesc/ha0ro937gcuc7l7deffksulhg5h7mbp1/c36h9lrqa3uje80ocfen4eukk7m18l36/1404280800000/12847632745586542482/*/0B-pEMb4uQtg8d2Q3OUEwbUxOVmM?h=16653014193614665626&amp;e=download" class="urlextern" title="https://doc-00-90-docs.googleusercontent.com/docs/securesc/ha0ro937gcuc7l7deffksulhg5h7mbp1/c36h9lrqa3uje80ocfen4eukk7m18l36/1404280800000/12847632745586542482/*/0B-pEMb4uQtg8d2Q3OUEwbUxOVmM?h=16653014193614665626&amp;e=download"  rel="nofollow">TL-WDR3600-V1-stripped.zip</a></div>
</li>
</ul>

</div>

<h3 class="sectionedit14" id="useful_information_about_stock_firmware">Useful Information about Stock Firmware</h3>
<div class="level3">

<p>
Updated versions of stock firmware have <a href="https://forum.openwrt.org/viewtopic.php?id=46371" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=46371"  rel="nofollow">Firmware Recovery Mode</a>. Recommend upgrading latest stock firmware before flashing to OpenWrt for the first time so you can utilise this if necessary.
</p>

</div>

<h2 class="sectionedit15" id="flash_layout">Flash Layout</h2>
<div class="level2">
<div class="table sectionedit16"><table class="inline">
	<tr class="row0">
		<td class="col0"> 0x000000000000-0x000000020000 </td><td class="col1"> &quot;u-boot&quot; </td><td class="col2"> /dev/mtdblock0 </td>
	</tr>
	<tr class="row1">
		<td class="col0"> 0x000000020000-0x000000120000 </td><td class="col1"> &quot;kernel&quot; </td><td class="col2"> /dev/mtdblock1 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> 0x000000120000-0x0000007f0000 </td><td class="col1"> &quot;rootfs&quot; </td><td class="col2"> /dev/mtdblock2 </td>
	</tr>
	<tr class="row3">
		<td class="col0"> 0x000000600000-0x0000007f0000 </td><td class="col1"> &quot;rootfs_data&quot; </td><td class="col2"> /dev/mtdblock3 </td>
	</tr>
	<tr class="row4">
		<td class="col0"> 0x0000007f0000-0x000000800000 </td><td class="col1"> &quot;art&quot; </td><td class="col2"> /dev/mtdblock4 </td>
	</tr>
	<tr class="row5">
		<td class="col0"> 0x000000020000-0x0000007f0000 </td><td class="col1"> &quot;firmware&quot; </td><td class="col2"> /dev/mtdblock5 </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit17" id="serie_u-boot">Serie U-Boot</h2>
<div class="level2">

<p>
WDR3600 v1.3 Start Log original U-Boot 1.1.4 (Jan 29 2013 - 16:09:44)
<pre class="code">U-Boot 1.1.4 (Jan 29 2013 - 16:09:44)

U-boot DB120


DRAM:  128 MB
id read 0x100000ff
flash size 8MB, sector count = 128
Flash:  8 MB
Using default environment

PCIe Reset OK!!!!!!
In:    serial
Out:   serial
Err:   serial
Net:   ag934x_enet_initialize...
No valid address in Flash. Using fixed address
 wasp  reset mask:c03300 
WASP  ----&gt; S17 PHY *
: cfg1 0x7 cfg2 0x7114
eth0: ba:be:fa:ce:08:41
athrs17_reg_init: complete
eth0 up
eth0
Autobooting in 1 seconds</pre>

</p>

<p>
Very quickly type <strong>tpl</strong> when the message <strong>Autobooting in 1 seconds</strong> appears
</p>

<p>
WDR3600 v1.3 U-boot  help :
</p>

<p>
<pre class="code">db12x&gt; help

?       - alias for &#039;help&#039;
bootm   - boot application image from memory
cp      - memory copy
erase   - erase FLASH memory
help    - print online help
md      - memory display
mm      - memory modify (auto-incrementing)
mtest   - simple RAM test
mw      - memory write (fill)
nm      - memory modify (constant address)
ping	- send ICMP ECHO_REQUEST to network host
printenv- print environment variables
progmac - Set ethernet MAC addresses
reset   - Perform RESET of the CPU
setenv  - set environment variables
tftpboot- boot image via network using TFTP protocol
version - print monitor version</pre>

</p>

<p>
WDR3600 v1.3  U-boot printenv 
<pre class="code">db12x&gt; printenv

bootargs=console=ttyS0,115200 root=31:02 rootfstype=squashfs init=/sbin/init mtdparts=ath-nor0:256k(u-boot),64k(u-boot-env),6336k(rootfs),1408k(uImage),64k(mib0),64k(ART)
bootcmd=bootm 0x9f020000
bootdelay=1
baudrate=115200
ethaddr=0xba:0xbe:0xfa:0xce:0x08:0x41
ipaddr=192.168.1.111
serverip=192.168.1.100
dir=
lu=tftp 0x80060000 ${dir}u-boot.bin&amp;&amp;erase 0x9f000000 +$filesize;cp.b $fileaddr 0x9f000000 $filesize
lf=tftp 0x80060000 ${dir}db12x${bc}-jffs2&amp;&amp;erase 0x9f050000 +0x630000;cp.b $fileaddr 0x9f050000 $filesize
lk=tftp 0x80060000 ${dir}vmlinux${bc}.lzma.uImage&amp;&amp;erase 0x9f680000 +$filesize;cp.b $fileaddr 0x9f680000 $filesize
stdin=serial
stdout=serial
stderr=serial
ethact=eth0

Environment size: 686/65532 bytes</pre>

</p>

<p>
Restoration of original firmware (without modifying U-Boot).
<strong>The firmware must be 8,126,464</strong> octets which correspond to a firmware without U-Boot.
Today, firmwares TP-Link : wdr3600v1_en_3_13_23_up(120820), wdr3600v1_en_3_13_26_up(130129) and
wdr3600v1_en_3_13_31_up(130320) come without U-Boot.
The version used in the example is wdr3600v1_en_3_13_31_up(130320) on the WDR3600 v1.3
</p>

<p>
<pre class="code">db12x&gt; setenv ipaddr 192.168.0.144

db12x&gt; setenv serverip 192.168.0.11

db12x&gt; tftp 0x80060000 wdr3600v1_en_3_13_31_up(130320).bin

dup 1 speed 1000
Using eth0 device
TFTP from server 192.168.0.11; our IP address is 192.168.0.144
Filename &#039;wdr3600v1_en_3_13_31_up(130320).bin&#039;.
Load address: 0x80060000
Loading: *#################################################################
	 #################################################################
	 #################################################################
	 #################################################################
	 #################################################################
	 #################################################################
	 #################################################################
	 #################################################################
	 #################################################################
	 #################################################################
	 #################################################################
	 #################################################################
	 #################################################################
	 #################################################################
	 #################################################################
	 #################################################################
	 #################################################################
	 #################################################################
	 #################################################################
	 #################################################################
	 #################################################################
	 #################################################################
	 #################################################################
	 #################################################################
	 ############################
done
Bytes transferred = 8126464 (7c0000 hex)</pre>

</p>

<p>
ATTENTION Only continue if the last line reads <strong>8126464 (7c0000 hex)</strong>
</p>

<p>
<pre class="code">db12x&gt; erase 0x9f020000 +7c0000


First 0x2 last 0x7d sector size 0x10000

Erased 124 sectors
db12x&gt; cp.b 0x80060000 0x9f020000 0x7c0000

Copy to Flash... write addr: 9f020000
done
db12x&gt; reset</pre>

</p>

<p>
The router reboots
</p>

<p>
<pre class="code">
U-Boot 1.1.4 (Jan 29 2013 - 16:09:44)

U-boot DB120


DRAM:  128 MB
id read 0x100000ff
flash size 8MB, sector count = 128
Flash:  8 MB
Using default environment

PCIe Reset OK!!!!!!
In:    serial
Out:   serial
Err:   serial
Net:   ag934x_enet_initialize...
No valid address in Flash. Using fixed address
 wasp  reset mask:c03300 
WASP  ----&gt; S17 PHY *
: cfg1 0x7 cfg2 0x7114
eth0: ba:be:fa:ce:08:41
athrs17_reg_init: complete
eth0 up
eth0
Autobooting in 1 seconds
## Booting image at 9f020000 ...
   Uncompressing Kernel Image ... OK

Starting kernel ...
</pre>

</p>

<p>
WDR3600 TP-Link Original Firmware Password
<pre class="code">TL-WDR3600 login: root
Password: ???
Login incorrect</pre>

shadow hash password file : root:$1$GTN.gpri$DlSyKvZKMR9A9Uj9e9wR3/:15502:0:99999:7:::
</p>

<p>
Login: <strong>root</strong>
Password: <strong>sohoadmin</strong>
</p>

</div>

<h2 class="sectionedit18" id="bootloader_mods">Bootloader Mods</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> you could read about <a href="../../doc/techref/bootloader.1" class="wikilink1" title="doc:techref:bootloader">bootloader</a> in general and about <a href="../../doc/techref/bootloader/uboot" class="wikilink1" title="doc:techref:bootloader:uboot">Das U-Boot</a> in particular.</div>
</li>
</ol>

</div>

<h3 class="sectionedit19" id="u-boot_114_modification_for_routers">U-Boot 1.1.4 modification for routers</h3>
<div class="level3">

<p>
Forum member <a href="https://forum.openwrt.org/profile.php?id=72549" class="urlextern" title="https://forum.openwrt.org/profile.php?id=72549"  rel="nofollow">pepe2k</a> made a modification of <strong>U-Boot 1.1.4</strong> for <strong>Qualcomm Atheros</strong> SoCs based devices (the project is still being developed, so new devices and SoCs will be supported in the future). Up to date information, binary images and sources can be found on official <a href="https://github.com/pepe2k/u-boot_mod" class="urlextern" title="https://github.com/pepe2k/u-boot_mod"  rel="nofollow">GitHub repository</a>.
</p>

<p>
This modification started from <a href="http://code.google.com/p/wr703n-uboot-with-web-failsafe/" class="urlextern" title="http://code.google.com/p/wr703n-uboot-with-web-failsafe/"  rel="nofollow">wr703n-uboot-with-web-failsafe</a> project, but supports more devices, all modern web browsers, has a lot of improvements and other modifications (like U-Boot NetConsole, custom commands, overclocking possibilities etc.).
</p>

<p>
More information:
</p>
<ul>
<li class="level1"><div class="li"> Official repository on GitHub: <a href="https://github.com/pepe2k/u-boot_mod" class="urlextern" title="https://github.com/pepe2k/u-boot_mod"  rel="nofollow">U-Boot 1.1.4 modification for routers</a></div>
</li>
<li class="level1"><div class="li"> Discussion about this project on <a href="https://forum.openwrt.org/viewtopic.php?id=43237" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=43237"  rel="nofollow">OpenWrt forum</a></div>
</li>
<li class="level1"><div class="li"> An article (in Polish) about one of the first version of this project on <a href="http://www.tech-blog.pl/2013/03/29/zmodyfikowany-u-boot-dla-routerow-tp-link-z-atheros-ar9331-z-trybem-aktualizacji-oprogramowania-przez-www-i-konsola-sieciowa-netconsole/" class="urlextern" title="http://www.tech-blog.pl/2013/03/29/zmodyfikowany-u-boot-dla-routerow-tp-link-z-atheros-ar9331-z-trybem-aktualizacji-oprogramowania-przez-www-i-konsola-sieciowa-netconsole/"  rel="nofollow">www.tech-blog.pl</a></div>
</li>
</ul>

</div>

<h2 class="sectionedit20" id="hardware">Hardware</h2>
<div class="level2">

</div>

<h3 class="sectionedit21" id="gpio">GPIO</h3>
<div class="level3">

<p>
→ <a href="../../doc/hardware/port.gpio" class="wikilink1" title="doc:hardware:port.gpio">port.GPIO</a>
</p>

<p>
Partially based on → <a href="tl-wdr4300" class="wikilink1" title="toh:tp-link:tl-wdr4300">tl-wdr4300</a>
</p>

<p>
Tested with hw version 1.5, BB r41181
</p>
<div class="table sectionedit22"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign">        </th><th class="col1 leftalign">               </th><th class="col2 leftalign">            </th><th class="col3 centeralign" colspan="2">  Voltage level at GPIO in output-mode  </th><th class="col5 rightalign" colspan="3">  gpioX/value in input-mode when GPIO is: </th>
	</tr>
	<tr class="row1">
		<th class="col0 centeralign">  GPIO  </th><th class="col1 centeralign">  Common Name  </th><th class="col2 centeralign">  PCB Name  </th><th class="col3 centeralign">  gpioX/value=1  </th><th class="col4 leftalign"> gpioX/value=0         </th><th class="col5 centeralign">  Floating  </th><th class="col6 centeralign">  Pulled to GND  </th><th class="col7 centeralign">  Pulled to Vcc  </th>
	</tr>
	</thead>
	<tr class="row2">
		<td class="col0 rightalign">     16 </td><td class="col1 leftalign"> WPS Button  </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
	<tr class="row3">
		<td class="col0 rightalign">     17 </td><td class="col1 leftalign"> WiFi Switch  </td><td class="col2 leftalign">            </td><td class="col3 leftalign">                 </td><td class="col4 leftalign">                       </td><td class="col5 leftalign">            </td><td class="col6 leftalign">                 </td><td class="col7 leftalign">                  </td>
	</tr>
</table></div>

</div>

<h4 id="read_button_without_hotplug">Read button without hotplug</h4>
<div class="level4">

<p>
<pre class="code">rmmod gpio_button_hotplug
echo &quot;16&quot; &gt; /sys/class/gpio/export
echo &quot;17&quot; &gt; /sys/class/gpio/export
echo &quot;in&quot; &gt; /sys/class/gpio/gpio16/direction
echo &quot;in&quot; &gt; /sys/class/gpio/gpio17/direction</pre>

</p>

<p>
<pre class="code">cat /sys/class/gpio/gpio16/value
cat /sys/class/gpio/gpio17/value</pre>

</p>

</div>

<h2 class="sectionedit23" id="hardware_modifications">Hardware Modifications</h2>
<div class="level2">

</div>

<h3 class="sectionedit24" id="usb_modification">USB Modification</h3>
<div class="level3">

<p>
The task was to make ext-root without using the default ports.
</p>

<p>
It turns out that the GL850G chipset used by the TP-Link in WDR3600/4300/4900 models can handle up to four ports.
</p>

<p>
<a href="../../_detail/media/gl850g.png?id=toh%253Atp-link%253Atl-wdr3600" class="media" title="media:gl850g.png"><img src="../../_media/media/gl850g.png" class="media" alt="" /></a>
</p>

<p>
Analysing the router&#039;s PCB it appears that pins 8(D-), 9(D+), 11(D-) and 12(D+) are unused.  
Aditionaly each factory USB port has separate power section.
</p>

<p>
GND is at the TP7 pin point. +5 V was taken directly from the MOSFET.
</p>

<p>
<a href="../../_detail/media/tplinkwrd3600-usbmod-small.jpg?id=toh%253Atp-link%253Atl-wdr3600" class="media" title="media:tplinkwrd3600-usbmod-small.jpg"><img src="../../_media/media/tplinkwrd3600-usbmod-small.jpg" class="media" alt="" /></a>
<a href="../../_detail/media/tplinkwrd3600-usbmod1-small.jpg?id=toh%253Atp-link%253Atl-wdr3600" class="media" title="media:tplinkwrd3600-usbmod1-small.jpg"><img src="../../_media/media/tplinkwrd3600-usbmod1-small.jpg" class="media" alt="" /></a>
</p>

</div>

<h2 class="sectionedit25" id="photos">Photos</h2>
<div class="level2">

<p>
<a href="../../_detail/media/tp-link.tl-wdr3600.-.board.top.side.-.lofi.jpg?id=toh%253Atp-link%253Atl-wdr3600" class="media" title="media:tp-link.tl-wdr3600.-.board.top.side.-.lofi.jpg"><img src="../../_media/media/tp-link.tl-wdr3600.-.board.top.side.-.lofi.jpg" class="media" title="TP-Link TL-WDR3600 - PCB top layer" alt="TP-Link TL-WDR3600 - PCB top layer" /></a>
<a href="../../_detail/media/tp-link.tl-wdr3600.-.board.bottom.side.-.lofi.jpg?id=toh%253Atp-link%253Atl-wdr3600" class="media" title="media:tp-link.tl-wdr3600.-.board.bottom.side.-.lofi.jpg"><img src="../../_media/media/tp-link.tl-wdr3600.-.board.bottom.side.-.lofi.jpg" class="media" title="TP-Link TL-WDR3600 - PCB bottom layer" alt="TP-Link TL-WDR3600 - PCB bottom layer" /></a>
<a href="../../_detail/media/tp-link.tl-wdr3600.-.board.top.side.wlan.-.lofi.jpg?id=toh%253Atp-link%253Atl-wdr3600" class="media" title="media:tp-link.tl-wdr3600.-.board.top.side.wlan.-.lofi.jpg"><img src="../../_media/media/tp-link.tl-wdr3600.-.board.top.side.wlan.-.lofi.jpg" class="media" title="TP-Link TL-WDR3600 - PCB top layer - WLAN detail" alt="TP-Link TL-WDR3600 - PCB top layer - WLAN detail" /></a>
<a href="../../_detail/media/tp-link.tl-wdr3600.-.board.top.side.cpu.-.lofi.jpg?id=toh%253Atp-link%253Atl-wdr3600" class="media" title="media:tp-link.tl-wdr3600.-.board.top.side.cpu.-.lofi.jpg"><img src="../../_media/media/tp-link.tl-wdr3600.-.board.top.side.cpu.-.lofi.jpg" class="media" title="TP-Link TL-WDR3600 - PCB top layer - CPU detail" alt="TP-Link TL-WDR3600 - PCB top layer - CPU detail" /></a>
</p>

</div>

<h2 class="sectionedit26" id="custom_openwrt_image_with_luci_integrated">Custom OpenWrt image with LuCi integrated</h2>
<div class="level2">

<p>
<a href="http://www.superwrt.eu/en/firmware/tp-link-wdr3600/" class="urlextern" title="http://www.superwrt.eu/en/firmware/tp-link-wdr3600/"  rel="nofollow">http://www.superwrt.eu/en/firmware/tp-link-wdr3600/</a>
</p>

</div>

<h2 class="sectionedit27" id="tags">Tags</h2>
<div class="level2">
<div class="tags"><span>
	<a href="../../tag/gigabitethernet?do=showtag&amp;tag=GigabitEthernet" class="wikilink1" title="tag:gigabitethernet" rel="tag">GigabitEthernet</a>,
	<a href="../../tag/5port?do=showtag&amp;tag=5Port" class="wikilink1" title="tag:5port" rel="tag">5Port</a>,
	<a href="../../tag/2wnic?do=showtag&amp;tag=2WNIC" class="wikilink1" title="tag:2wnic" rel="tag">2WNIC</a>,
	<a href="../../tag/2nic?do=showtag&amp;tag=2NIC" class="wikilink1" title="tag:2nic" rel="tag">2NIC</a>,
	<a href="../../tag/usb?do=showtag&amp;tag=USB" class="wikilink1" title="tag:usb" rel="tag">USB</a>,
	<a href="../../tag/2usb?do=showtag&amp;tag=2USB" class="wikilink1" title="tag:2usb" rel="tag">2USB</a>,
	<a href="../../tag/jtag?do=showtag&amp;tag=JTAG" class="wikilink1" title="tag:jtag" rel="tag">JTAG</a>,
	<a href="../../tag/802.11bgn?do=showtag&amp;tag=802.11bgn" class="wikilink1" title="tag:802.11bgn" rel="tag">802.11bgn</a>,
	<a href="../../tag/ath9k?do=showtag&amp;tag=ath9k" class="wikilink1" title="tag:ath9k" rel="tag">ath9k</a>,
	<a href="../../tag/ar9344?do=showtag&amp;tag=AR9344" class="wikilink1" title="tag:ar9344" rel="tag">AR9344</a>,
	<a href="../../tag/802.11abgn_simultan?do=showtag&amp;tag=802.11abgn_simultan" class="wikilink1" title="tag:802.11abgn_simultan" rel="tag">802.11abgn simultan</a>,
	<a href="../../tag/2ant?do=showtag&amp;tag=2Ant" class="wikilink1" title="tag:2ant" rel="tag">2Ant</a>,
	<a href="../../tag/detachableantenna" class="wikilink1" title="tag:detachableantenna" rel="tag">DetachableAntenna</a>,
	<a href="../../tag/128ram?do=showtag&amp;tag=128RAM" class="wikilink1" title="tag:128ram" rel="tag">128RAM</a>,
	<a href="../../tag/8flash?do=showtag&amp;tag=8Flash" class="wikilink1" title="tag:8flash" rel="tag">8Flash</a>,
	<a href="../../tag/mips?do=showtag&amp;tag=MIPS" class="wikilink1" title="tag:mips" rel="tag">MIPS</a>,
	<a href="../../tag/mips32?do=showtag&amp;tag=MIPS32" class="wikilink1" title="tag:mips32" rel="tag">MIPS32</a>,
	<a href="../../tag/74kc?do=showtag&amp;tag=74Kc" class="wikilink1" title="tag:74kc" rel="tag">74Kc</a>,
	<a href="../../tag/db120?do=showtag&amp;tag=DB120" class="wikilink1" title="tag:db120" rel="tag">DB120</a>
</span></div>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/tp-link/tl-wdr3600.txt</bdi> · Last modified: 2015/03/27 20:47 by <bdi>bert</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="tl-wdr3600?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="tl-wdr3600?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="tl-wdr3600?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="tl-wdr3600#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Atp-link%253Atl-wdr3600&amp;1432269603" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
