<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>Comtrend CT-5621 [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="bcm63xx,bcm6348,fastethernet,4port,usb,16ram,4flash,mips,mips32"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="ct5621?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:comtrend"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/comtrend/ct5621"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/comtrend/ct5621"/>
<link rel="canonical" href="ct5621"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:comtrend';var JSINFO = {"id":"toh:comtrend:ct5621","namespace":"toh:comtrend"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432278290 166.182.3.192';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="ct5621#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="ct5621?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="ct5621?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:comtrend:ct5621" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="ct5621?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="ct5621?do=media&amp;ns=toh%253Acomtrend"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="ct5621?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:comtrend:start">Comtrend</a></bdi> » <bdi><span class="curid"><a href="ct5621" class="wikilink1" title="toh:comtrend:ct5621">Comtrend CT-5621</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/comtrend/ct5621" class="media" title="cz:toh:comtrend:ct5621"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/comtrend/ct5621" class="media" title="de:toh:comtrend:ct5621"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="ct5621" class="media" title="toh:comtrend:ct5621"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/comtrend/ct5621" class="media" title="es:toh:comtrend:ct5621"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/comtrend/ct5621" class="media" title="fr:toh:comtrend:ct5621"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/comtrend/ct5621" class="media" title="hu:toh:comtrend:ct5621"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/comtrend/ct5621" class="media" title="jp:toh:comtrend:ct5621"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/comtrend/ct5621" class="media" title="pl:toh:comtrend:ct5621"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/comtrend/ct5621" class="media" title="pt-br:toh:comtrend:ct5621"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/comtrend/ct5621" class="media" title="ru:toh:comtrend:ct5621"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/comtrend/ct5621" class="media" title="tr:toh:comtrend:ct5621"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/comtrend/ct5621" class="media" title="zh-cn:toh:comtrend:ct5621"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/comtrend/ct5621" class="media" title="zh-tw:toh:comtrend:ct5621"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:comtrend:ct5621</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="ct5621#hardware_highlights">Hardware Highlights</a></div></li>
<li class="level1"><div class="li"><a href="ct5621#installation">Installation</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="ct5621#flash_layout">Flash Layout</a></div></li>
<li class="level2"><div class="li"><a href="ct5621#oem_easy_installation">OEM easy installation</a></div></li>
<li class="level2"><div class="li"><a href="ct5621#oem_installation_using_the_tftp_method">OEM installation using the TFTP method</a></div></li>
<li class="level2"><div class="li"><a href="ct5621#upgrading_openwrt">Upgrading OpenWrt</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="ct5621#luci_web_upgrade_process">LuCI Web Upgrade Process</a></div></li>
<li class="level3"><div class="li"><a href="ct5621#terminal_upgrade_process">Terminal Upgrade Process</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="ct5621#basic_configuration">Basic configuration</a></div></li>
<li class="level1"><div class="li"><a href="ct5621#specific_configuration">Specific Configuration</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="ct5621#interfaces">Interfaces</a></div></li>
<li class="level2"><div class="li"><a href="ct5621#switch_ports_for_vlans">Switch Ports (for VLANs)</a></div></li>
<li class="level2"><div class="li"><a href="ct5621#failsafe_mode">Failsafe mode</a></div></li>
<li class="level2"><div class="li"><a href="ct5621#buttons">Buttons</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="ct5621#bootlogs">Bootlogs</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="ct5621#stock_firmware_2417_kernel">Stock firmware (2.4.17 kernel)</a></div></li>
<li class="level2"><div class="li"><a href="ct5621#kamikaze_2627_kernel">kamikaze (2.6.27 kernel)</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="ct5621#hardware">Hardware</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="ct5621#info">Info</a></div></li>
<li class="level2"><div class="li"><a href="ct5621#photos">Photos</a></div></li>
<li class="level2"><div class="li"><a href="ct5621#opening_the_case">Opening the case</a></div></li>
<li class="level2"><div class="li"><a href="ct5621#serial">Serial</a></div></li>
<li class="level2"><div class="li"><a href="ct5621#jtag">JTAG</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="ct5621#debricking">Debricking</a></div></li>
<li class="level1"><div class="li"><a href="ct5621#bootloader_mods">Bootloader Mods</a></div></li>
<li class="level1"><div class="li"><a href="ct5621#hardware_mods">Hardware mods</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="ct5621#usb_mod">USB mod</a></div></li>
<li class="level2"><div class="li"><a href="ct5621#mib_ram_mod">128MiB RAM Mod</a></div></li>
<li class="level2"><div class="li"><a href="ct5621#i_c_gpio_mod">I²C GPIO Mod</a></div></li>
<li class="level2"><div class="li"><a href="ct5621#i_c_tiny-usb_mod">I²C Tiny-USB Mod</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="ct5621#notes">Notes</a></div></li>
<li class="level1"><div class="li"><a href="ct5621#tags">Tags</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="comtrend_ct-5621">Comtrend CT-5621</h1>
<div class="level1">

<p>
This is an ADSL2+ Modem + 4-port Switch with USB (it can act as a USB network device). It is manufactured by Comtrend who, 
as best I can determine from their voice prompts for assistance, only sell their equipment to ISP&#039;s and Telcos, thus bypassing 
regular users as customers and therefore recipients of source code.
</p>

</div>

<h2 class="sectionedit2" id="hardware_highlights">Hardware Highlights</h2>
<div class="level2">
<div class="table sectionedit3"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> SoC </th><th class="col1"> CPU speed </th><th class="col2"> Ram </th><th class="col3"> Flash </th><th class="col4"> Network </th><th class="col5"> USB </th><th class="col6"> Serial </th><th class="col7"> JTag </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Broadcom 6348 </td><td class="col1"> 256MHz </td><td class="col2"> 16MiB </td><td class="col3"> 4MiB </td><td class="col4"> 4 x 1 </td><td class="col5"> Yes </td><td class="col6"> Yes </td><td class="col7"> Yes </td>
	</tr>
</table></div>

<p>
<a href="../../doc/howto/generic.overview" class="wikilink1" title="doc:howto:generic.overview">generic.overview</a>
</p>

</div>

<h2 class="sectionedit4" id="installation">Installation</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> → <a href="../../doc/howto/obtain.firmware" class="wikilink1" title="doc:howto:obtain.firmware">obtain.firmware</a></div>
</li>
<li class="level1"><div class="li"> → <a href="../../doc/howto/installing" class="wikilink1" title="doc:howto:generic.flashing">Install OpenWrt</a></div>
</li>
</ol>

</div>

<h3 class="sectionedit5" id="flash_layout">Flash Layout</h3>
<div class="level3">

<p>
Please check out the article <a href="../../doc/techref/flash.layout" class="wikilink1" title="doc:techref:flash.layout">Flash.Layout</a>. It contains an example and a couple of explanations.
</p>

</div>

<h3 class="sectionedit6" id="oem_easy_installation">OEM easy installation</h3>
<div class="level3">

<p>
Get the firmware <strong><span style='color:green; '>openwrt-CT536_CT5621-squashfs-cfe.bin</span></strong>
</p>
<ul>
<li class="level1"><div class="li">Unplug the power cord</div>
</li>
<li class="level1"><div class="li">Press the <strong><em>reset</em></strong> button, don&#039;t release it yet!</div>
</li>
<li class="level1"><div class="li">Plug the power cord</div>
</li>
<li class="level1"><div class="li">Wait 10 seconds</div>
</li>
<li class="level1"><div class="li">Release the <em>reset</em> button</div>
</li>
<li class="level1"><div class="li">Browse to <a href="http://192.168.1.1" class="urlextern" title="http://192.168.1.1"  rel="nofollow">http://192.168.1.1</a></div>
</li>
<li class="level1"><div class="li">Upload <strong><span style='color:green; '>.bin</span></strong> file to router</div>
</li>
<li class="level1"><div class="li">Upgrade the image</div>
</li>
<li class="level1"><div class="li">Wait for it to reboot</div>
</li>
<li class="level1"><div class="li">Telnet to 192.168.1.1 and set a root password, or browse to <a href="http://192.168.1.1" class="urlextern" title="http://192.168.1.1"  rel="nofollow">http://192.168.1.1</a> if LuCI is installed.</div>
</li>
</ul>

</div>

<h3 class="sectionedit7" id="oem_installation_using_the_tftp_method">OEM installation using the TFTP method</h3>
<div class="level3">

<p>
If you want to upgrade using TFTP you follow these steps (as an alternative to the above install process.
</p>

</div>

<h3 class="sectionedit8" id="upgrading_openwrt">Upgrading OpenWrt</h3>
<div class="level3">

<p>
→  <a href="../../doc/howto/generic.sysupgrade" class="wikilink1" title="doc:howto:generic.sysupgrade">generic.sysupgrade</a>
</p>

<p>
If you have already installed OpenWrt and like to reflash for e.g. upgrading to a new OpenWrt version you can upgrade using the mtd command line tool. It is important that you put the firmware image into the ramdisk (/tmp) before you start flashing.
</p>

</div>

<h4 id="luci_web_upgrade_process">LuCI Web Upgrade Process</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> Browse to <a href="http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/" class="urlextern" title="http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/"  rel="nofollow">http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/</a> LuCI Upgrade <abbr title="Uniform Resource Locator">URL</abbr></div>
</li>
<li class="level1"><div class="li"> Upload image file for sysupgrade to LuCI</div>
</li>
<li class="level1"><div class="li"> Wait for reboot</div>
</li>
</ul>

</div>

<h4 id="terminal_upgrade_process">Terminal Upgrade Process</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> Login as root via SSH on 192.168.1.1</div>
</li>
<li class="level1"><div class="li"> Use the following commands to upgrade.</div>
</li>
</ul>

<p>
<pre class="code">cd /tmp/
wget http://downloads.openwrt.org/snapshots/trunk/XXX/xxx.abc
sysupgrade /tmp/xxx.abc</pre>

</p>
<ul>
<li class="level1"><div class="li">If sysupgrade does not support this router, use the following commands.</div>
</li>
</ul>

<p>
<pre class="code">cd /tmp/
wget http://downloads.openwrt.org/snapshots/trunk/XXX/xxx.abc
mtd write /tmp/xxx.abc linux &amp;&amp; reboot</pre>

</p>

</div>

<h2 class="sectionedit9" id="basic_configuration">Basic configuration</h2>
<div class="level2">

<p>
→ <a href="../../doc/howto/configuration" class="wikilink1" title="doc:howto:basic.config">Basic configuration</a> After flashing, proceed with this.<br/>

Set up your Internet connection, configure wireless, configure USB port, etc.
</p>

</div>

<h2 class="sectionedit10" id="specific_configuration">Specific Configuration</h2>
<div class="level2">

</div>

<h3 class="sectionedit11" id="interfaces">Interfaces</h3>
<div class="level3">

<p>
The default network configuration is:
</p>
<div class="table sectionedit12"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Interface Name </th><th class="col1"> Description </th><th class="col2"> Default configuration </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> br-lan </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> &amp; WiFi </td><td class="col2"> 192.168.1.1/24 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> eth0 </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> ports (1 to 4) </td><td class="col2"> None </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit13" id="switch_ports_for_vlans">Switch Ports (for VLANs)</h3>
<div class="level3">

<p>
This is an example to configure the switch: numbers 0-2 will be lan, labeled as Ports 1-3 on the unit, number 3 will be the 
Internet (WAN), 5 is the internal connection to the router itself. Don&#039;t be fooled: vlan0 = eth0.0, vlan1 = eth0.1 and so on.
</p>
<div class="table sectionedit14"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Port </th><th class="col1"> Switch port </th><th class="col2"> Mode </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <abbr title="Local Area Network">LAN</abbr> 1 </td><td class="col1"> 0 </td><td class="col2"> lan </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <abbr title="Local Area Network">LAN</abbr> 2 </td><td class="col1"> 1 </td><td class="col2"> lan </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <abbr title="Local Area Network">LAN</abbr> 3 </td><td class="col1"> 2 </td><td class="col2"> lan </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <abbr title="Local Area Network">LAN</abbr> 4 </td><td class="col1"> 3 </td><td class="col2"> Internet (WAN) </td>
	</tr>
</table></div>

<div style="height:350px;font:10px/13px Georgia, Garamond, Serif;overflow-y:Auto">
<p style="">
<code>

# path: /etc/config/network
# port 4 = WAN

config interface loopback
        option ifname   lo
        option proto    static
        option ipaddr   127.0.0.1
        option netmask  255.0.0.0

config interface lan
        option type     bridge
        option ifname   eth0.0
        option proto    static
        option ipaddr   192.168.1.1
        option netmask  255.255.255.0
        option nat      1

config interface wan
        option ifname 	eth0.1
        option macaddr 	00:11:22:33:44:55
        option proto 	dhcp 
        option defaultroute 1


config switch eth0
	option enable	1
	option reset	1
	option enable_vlan 1

config switch_vlan
	option device 	eth0
	option vlan 	0
	option ports 	"0 1 2 5t"

config switch_vlan
	option device 	eth0
	option vlan 	1
	option ports 	"3 5t"

</code>
</p>
</div>

</div>

<h3 class="sectionedit15" id="failsafe_mode">Failsafe mode</h3>
<div class="level3">

<p>
→ <a href="../../doc/howto/generic.failsafe" class="wikilink1" title="doc:howto:generic.failsafe">generic.failsafe</a>
</p>

</div>

<h3 class="sectionedit16" id="buttons">Buttons</h3>
<div class="level3">

<p>
→ <a href="../../doc/howto/hardware.button" class="wikilink1" title="doc:howto:hardware.button">hardware.button</a> on howto use and configure the hardware button(s).
</p>

<p>
The Comtrend 5621 has one button. It is the Reset.
</p>
<div class="table sectionedit17"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> BUTTON </th><th class="col1"> Event </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Reset </td><td class="col1"> reset </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit18" id="bootlogs">Bootlogs</h2>
<div class="level2">

</div>

<h3 class="sectionedit19" id="stock_firmware_2417_kernel">Stock firmware (2.4.17 kernel)</h3>
<div class="level3">

<div style="height:500px;font:10px/14px Georgia, Garamond, Serif;overflow:Auto;background-color:#FFFFFF">
<p style="margin: 5px;padding:5px">
<code>
CFE version 1.0.37-5.17 for BCM96348 (32bit,SP,BE)
Build Date: Tue, 19 Oct 2004 12:02:54 +0800 (root@junhon_linux)
Copyright (C) 2000,2001,2002,2003 Broadcom Corporation.

Initializing Arena.
Initializing Devices.
init 5325E: init mii=0
init 5325E: init success, mii=9f
CPU type 0x29107: 256MHz, Bus: 128MHz, Ref: 32MHz

Total memory used by CFE:  0x80401000 - 0x80521DF0 (1183216)
Initialized Data:          0x8041C740 - 0x8041E1B0 (6768)
BSS Area:                  0x8041E1B0 - 0x8041FDF0 (7232)
Local Heap:                0x8041FDF0 - 0x8051FDF0 (1048576)
Stack Area:                0x8051FDF0 - 0x80521DF0 (8192)
Text (code) segment:       0x80401000 - 0x8041C73C (112444)
Boot area (physical):      0x00522000 - 0x00562000
Relocation Factor:         I:00000000 - D:00000000

Board IP address                : 192.168.1.1
Host IP address                 : 192.168.1.3
Gateway IP address              :
Run from flash/host (f/h)       : f
Default host run file name      : openwrt-brcm63xx-vmlinux.elf
Default host flash file name    : bcm963xx_fs_kernel
Boot delay (0-9 seconds)        : 5
Board Id Name                   : 96348GW-11
Psi size in KB                  : 24
Number of MAC Addresses (1-32)  : 11
Base MAC Address                : 00:30:da:47:bd:b4
Ethernet PHY Type               : External Using Reverse MII with SPI
Memory size in MB               : 16

*** Press any key to stop auto run (5 seconds) ***
Auto run second count down: 5543210
Code Address: 0x80010000, Entry Address: 0x8001046c
Decompression OK!
Entry at 0x8001046c
Closing network.
Starting program at 0x8001046c
Total Flash size: 4096K with 71 sectors
Scratch pad is not used for this flash part.
96348GW-11 prom init
CPU revision is: 00029107
Primary instruction cache 16kb, linesize 16 bytes (2 ways)
Primary data cache 8kb, linesize 16 bytes (2 ways)
Linux version 2.4.17 (root@max-redhat) (gcc version 3.1) #1 ¥| 12¤ë 2 04:34:28 CST 2004
Determined physical RAM map:
 memory: 00fa0000 @ 00000000 (usable)
On node 0 totalpages: 4000
zone(0): 4000 pages.
zone(1): 0 pages.
zone(2): 0 pages.
Kernel command line: root=/dev/mtdblock0 ro
bcm_console_setup
Calibrating delay loop... 255.59 BogoMIPS
Memory: 14236k/16000k available (1144k kernel code, 1764k reserved, 80k data, 48k init, 0k highmem)
Dentry-cache hash table entries: 2048 (order: 2, 16384 bytes)
Inode-cache hash table entries: 1024 (order: 1, 8192 bytes)
Mount-cache hash table entries: 512 (order: 0, 4096 bytes)
Buffer-cache hash table entries: 1024 (order: 0, 4096 bytes)
Page-cache hash table entries: 4096 (order: 2, 16384 bytes)
Checking for 'wait' instruction...  unavailable.
POSIX conformance testing by UNIFIX
mpi: No Card is in the PCMCIA slot
PCI: Fixing up bus 0
Linux NET4.0 for Linux 2.4
Based upon Swansea University Computer Society NET3.039
Initializing RT netlink socket
Starting kswapd
brcmboard: brcm_board_init entry
Module bcm63xx_cons.c v1.1 Dec  2 2004 04:34:57
block: 64 slots per queue, batch=16
PPP generic driver version 2.4.1
NET4: Linux TCP/IP 1.0 for NET4.0
IP Protocols: ICMP, UDP, TCP, IGMP
IP: routing cache hash table of 512 buckets, 4Kbytes
TCP: Hash tables configured (established 512 bind 1024)
Linux IP multicast router 0.06 plus PIM-SM
NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.
Ebtables v2.0 registeredNET4: Ethernet Bridge 008 for NET4.0
802.1Q VLAN Support v1.6  Ben Greear 
vlan Initialization complete.
VFS: Mounted root (cramfs filesystem) readonly.
Freeing unused kernel memory: 48k freed
init started:  BusyBox v0.60.4 (2004.12.01-20:44+0000) multi-call binary
Algorithmics/MIPS FPU Emulator v1.5


BusyBox v0.60.4 (2004.12.01-20:44+0000) Built-in shell (msh)
Enter 'help' for a list of built-in commands.


Loading drivers and kernel modules...

atmapi: init_module entry 0xc0006060
blaadd: blaa_detect entry
adsl: adsl_init entry
var 1.0 initialised
Broadcom BCM6348A2 Ethernet Network Device v0.1 Dec  2 2004 04:40:06 External Switch Reverse MII (SPI Device 1)
eth0: MAC Address: 00:30:DA:47:BD:B4
Broadcom BCM6348A2 USB Network Device v0.3 Dec  2 2004 04:40:08
usb0: MAC Address: 00 30 DA 47 BD B5
usb0: Host MAC Address: 00 30 DA 47 BD B6
insmod: init_module: wl: No such device
BcmAdsl_Initialize=0xC0018418, g_pFnNotifyCallback=0xC002CCB0
AdslCoreHwReset: AdslOemDataAddr = 0xA0FE4D5C

==>   Bcm963xx Software Version: A101-221CTL-C01_R04.A2pB017f.d15   <==

device usb0 entered promiscuous mode
br0: port 1(usb0) entering listening state
br0: port 1(usb0) entering learning state
br0: port 1(usb0) entering forwarding state
br0: topology change detected, propagating
device eth0 entered promiscuous mode
br0: port 2(eth0) entering listening state
br0: port 2(eth0) entering learning state
br0: port 2(eth0) entering forwarding state
br0: topology change detected, propagating
pvc2684d: Interface "nas_0_35" created sucessfully

atm_connect (TX: cl 1,bw 0-0,sdu 1524; RX: cl 1,bw 0-0,sdu 1524,AAL 5)
pvc2684d: Communicating over ATM 0.0.35, encapsulation: LLC

device nas_0_35 entered promiscuous mode
br0: port 3(nas_0_35) entering listening state
br0: port 3(nas_0_35) entering learning state
br0: port 3(nas_0_35) entering forwarding state
br0: topology change detected, propagating
eth0 Link UP.

Message from syslogd@router at Jan 23 16:34:40 ...
 BCM96345 started: BusyBox v0.60.4 (2004.12.01-20:44+0000)
sntp: host not found

Message from syslogd@router at Jan 23 16:34:41 ...
 klogd: 802.1Q VLAN Support v1.6  Ben Greear reearb@candelatech.com>
br0: port 1(usb0) entering disabled state
ADSL G.994 training
ADSL G.992 started
ADSL G.992 channel analysis
ADSL G.992 message exchange
ADSL link up, interleaved, us=800, ds=6016
PPP: PPP0_35_1 Start to connect ...
PPP: PPP0_35_1 Connection Up.
Primary DNS server = 216.183.128.10
Secondary DNS server = 216.183.128.4
</code>
</p>
</div>

</div>

<h3 class="sectionedit20" id="kamikaze_2627_kernel">kamikaze (2.6.27 kernel)</h3>
<div class="level3">

<div style="height:500px;font:10px/14px Georgia, Garamond, Serif;overflow:Auto;background-color:#FFFFFF">
<p style="margin: 5px;padding:5px">
<code>
0x80010000/3644617 0x80389cc9/141127 Entry at 0x80014450
Closing network.
Starting program at 0x80014450
Linux version 2.6.27.11 (daniel@brennin) (gcc version 4.1.2) #3 Fri Jan 23 07:01:13 EST 2009
Detected Broadcom 0x6348 CPU revision a2
CPU frequency is 256000000 Hz
16MB of RAM installed
board_bcm963xx: CFE version: 1.0.37-5.17
console [early0] enabled
CPU revision is: 00029107 (Broadcom BCM6348)
board_bcm963xx: board name: 96348GW-11
Determined physical RAM map:
 memory: 01000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal   0x00000000 -> 0x00001000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -> 0x00001000
Built 1 zonelists in Zone order, mobility grouping off.  Total pages: 4064
Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,115200
Primary instruction cache 16kB, VIPT, 2-way, linesize 16 bytes.
Primary data cache 8kB, 2-way, VIPT, no aliases, linesize 16 bytes
PID hash table entries: 64 (order: 6, 256 bytes)
Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)
Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)
Memory: 12472k/16384k available (1930k kernel code, 3912k reserved, 410k data, 1216k init, 0k highmem)
Calibrating delay loop... 255.48 BogoMIPS (lpj=510976)
Mount-cache hash table entries: 512
net_namespace: 776 bytes
NET: Registered protocol family 16
registering 37 GPIOs
registering PCI controller with io_map_base unset
bus: 00 index 0 io port: [8000000, 800ffff]
bus: 00 index 1 mmio: [30000000, 37ffffff]
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 512 (order: 0, 4096 bytes)
TCP bind hash table entries: 512 (order: -1, 2048 bytes)
TCP: Hash tables configured (established 512 bind 512)
TCP reno registered
NET: Registered protocol family 1
audit: initializing netlink socket (disabled)
type=2000 audit(1.220:1): initialized
squashfs: version 3.0 (2006/03/15) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  Â© 2001-2006 Red Hat, Inc.
msgmni has been set to 24
io scheduler noop registered
io scheduler cfq registered (default)
bcm63xx_uart.0: ttyS0 at MMIO 0xfffe0300 (irq = 10) is a bcm63xx_uart
console handover: boot [early0] -> real [ttyS0]
bcm63xx_enet MII bus: probed
bcm963xx_flash: 0x00400000 at 0x1fc00000
bcm963xx: Found 1 x16 devices at 0x0 in 16-bit bank
 Amd/Fujitsu Extended Query Table at 0x0040
number of CFI chips: 1
cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.
bcm963xx_flash: Read Signature value of CFE1CFE1
bcm963xx_flash: CFE bootloader detected
bcm963xx_flash: CFE boot tag found with version 6 and board type 96348GW-11.
bcm963xx_flash: Partition 0 is CFE offset 0 and length 10000
bcm963xx_flash: Partition 1 is kernel offset 22f100 and length 656d3
bcm963xx_flash: Partition 2 is rootfs offset 10100 and length 35f000
bcm963xx_flash: Partition 3 is nvram offset 3f0000 and length 10000
Creating 4 MTD partitions on "bcm963xx":
0x00000000-0x00010000 : "CFE"
0x0022f100-0x002947d3 : "kernel"
mtd: partition "kernel" doesn't start on an erase block boundary -- force read-only
0x00010100-0x0036f100 : "rootfs"
mtd: partition "rootfs" doesn't start on an erase block boundary -- force read-only
mtd: partition "rootfs" set to be root filesystem
split_squashfs: no squashfs found in "bcm963xx"
0x003f0000-0x00400000 : "nvram"
TCP bic registered
NET: Registered protocol family 17
Bridge firewalling registered
Freeing unused kernel memory: 1216k freed
Algorithmics/MIPS FPU Emulator v1.5
[sighandler]: No more events to be processed, quitting.
[cleanup]: Waiting for children.
[cleanup]: All children terminated.
- preinit -
Press CTRL-C for failsafe

Please press Enter to activate this console. bcm63xx_enet bcm63xx_enet.0: attached PHY at address 1 [Broadcom BCM63XX (1)]
bcm63xx_enet bcm63xx_enet.0: attached PHY at address 1 [Broadcom BCM63XX (1)]
eth1: link forced UP - 100/full - flow control off/off
device eth1 entered promiscuous mode
br-lan: topology change detected, propagating
br-lan: port 1(eth1) entering forwarding state
PPP generic driver version 2.4.2
ip_tables: (C) 2000-2006 Netfilter Core Team
nf_conntrack version 0.5.0 (1024 buckets, 4096 max)
CONFIG_NF_CT_ACCT is deprecated and will be removed soon. Plase use
nf_conntrack.acct=1 kernel paramater, acct=1 nf_conntrack module option or
sysctl net.netfilter.nf_conntrack_acct=1 to enable it.
br-lan: port 1(eth1) entering disabled state
br-lan: topology change detected, propagating
br-lan: port 1(eth1) entering forwarding state
</code>
</p>
</div>

</div>

<h2 class="sectionedit21" id="hardware">Hardware</h2>
<div class="level2">

</div>

<h3 class="sectionedit22" id="info">Info</h3>
<div class="level3">
<div class="table sectionedit23"><table class="inline">
	<tr class="row0">
		<td class="col0 leftalign"> <strong><a href="http://en.wikipedia.org/wiki/Instruction set" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Instruction set">Architecture</a>:</strong>    </td><td class="col1"> <a href="http://en.wikipedia.org/wiki/MIPS architecture" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/MIPS architecture">MIPS</a> </td>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign"> <strong>Vendor:</strong>          </td><td class="col1"> <a href="http://en.wikipedia.org/wiki/Broadcom" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Broadcom">Broadcom</a> </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> <strong><a href="../../doc/techref/bootloader.1" class="wikilink1" title="doc:techref:bootloader">Bootloader</a>:</strong>     </td><td class="col1"> <a href="../../doc/techref/bootloader/cfe" class="wikilink1" title="doc:techref:bootloader:cfe">CFE</a> </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/soc.1" class="wikilink1" title="doc:hardware:soc">System-On-Chip</a>:</strong>  </td><td class="col1"> bcm6348 </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/cpu" class="wikilink1" title="doc:hardware:cpu">CPU</a>/Speed</strong>        </td><td class="col1"> BMIPS3300 V0.7 / 256 <abbr title="Megahertz">MHz</abbr> </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> <strong>Flash-Chip:</strong>      </td><td class="col1"> Fujitsu MPM29DL32B-70PFTN </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> <strong>Flash size:</strong>      </td><td class="col1"> 4 MiB </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> <strong>RAM:</strong>             </td><td class="col1"> Hynix 409A HY57 283220I-7, 16 MiB </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> <strong>Wireless:</strong>        </td><td class="col1"> No </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> <strong>Ethernet:</strong>        </td><td class="col1"> Broadcom  <a href="../../_media/toh/bcm5325_datasheet.pdf" class="media mediafile mf_pdf" title="toh:bcm5325_datasheet.pdf (129.6 KB)">BCM5325</a> w/ vlan support <a href="../../doc/uci/network#swconfig" class="wikilink1" title="doc:uci:network">swconfig</a> </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign"> <strong>Internet:</strong>        </td><td class="col1 leftalign"> ADSL2+  </td>
	</tr>
	<tr class="row11">
		<td class="col0 leftalign"> <strong>USB:</strong>             </td><td class="col1"> slave, host possible with mod </td>
	</tr>
	<tr class="row12">
		<td class="col0 leftalign"> <strong><a href="../../OpenWrtDocs/Customizing/Hardware/Serial_Console" class="wikilink1" title="doc:hardware:port.serial">Serial</a>:</strong>          </td><td class="col1"> <a href="ct5621#serial" title="toh:comtrend:ct5621 ↵" class="wikilink1">Yes</a>, ADM202EARN RS-232c </td>
	</tr>
	<tr class="row13">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/port.jtag" class="wikilink1" title="doc:hardware:port.jtag">JTAG</a>:</strong>            </td><td class="col1 leftalign"> <a href="ct5621#jtag" title="toh:comtrend:ct5621 ↵" class="wikilink1">Yes</a>  </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit24" id="photos">Photos</h3>
<div class="level3">

<p>
Model Number
</p>

<p>
<em>Front:</em>
</p>

<p>
<a href="../../_detail/oldwiki/openwrtdocs/hardware/comtrend/ct-5621-front-trimmed.jpg?id=toh%253Acomtrend%253Act5621" class="media" title="oldwiki:openwrtdocs:hardware:comtrend:ct-5621-front-trimmed.jpg"><img src="../../_media/oldwiki/openwrtdocs/hardware/comtrend/ct-5621-front-trimmed.jpg?w=600&amp;tok=26086a" class="media" alt="" width="600" /></a>
</p>

<p>
<strong>Photo of front of the casing</strong>
</p>

<p>
<em>Back:</em>
</p>

<p>
<a href="../../_detail/oldwiki/openwrtdocs/hardware/comtrend/ct-5621-back-trimmed.jpg?id=toh%253Acomtrend%253Act5621" class="media" title="oldwiki:openwrtdocs:hardware:comtrend:ct-5621-back-trimmed.jpg"><img src="../../_media/oldwiki/openwrtdocs/hardware/comtrend/ct-5621-back-trimmed.jpg?w=600&amp;tok=97d068" class="media" alt="" width="600" /></a>
</p>

<p>
<strong>Photo of back of the casing</strong>
</p>

</div>

<h3 class="sectionedit25" id="opening_the_case">Opening the case</h3>
<div class="level3">

<p>
<strong>Note:</strong> This will void your warranty!
</p>
<ul>
<li class="level1"><div class="li">To remove the cover do a/b/c</div>
</li>
</ul>

<p>
<em>Main PCB</em>
</p>

<p>
<a href="../../_detail/oldwiki/openwrtdocs/hardware/comtrend/ct-5621-board-trimmed.jpg?id=toh%253Acomtrend%253Act5621" class="media" title="oldwiki:openwrtdocs:hardware:comtrend:ct-5621-board-trimmed.jpg"><img src="../../_media/oldwiki/openwrtdocs/hardware/comtrend/ct-5621-board-trimmed.jpg?w=700&amp;h=400&amp;tok=ea1e89" class="media" alt="" width="700" height="400" /></a>
</p>

<p>
<strong>Photo of PCB</strong>
</p>

</div>

<h3 class="sectionedit26" id="serial">Serial</h3>
<div class="level3">

<p>
→ <a href="../../OpenWrtDocs/Customizing/Hardware/Serial_Console" class="wikilink1" title="doc:hardware:port.serial">port.serial</a> general information about the serial port, serial port cable, etc.
</p>

<p>
How to connect to the Serial Port of this specific device:
<pre class="code">RJ45 connector

3: Receive Data
4: Transmit Data
7: Ground
1,2,5,6,8: Not Connected</pre>

<strong>Photo of PCB with markings</strong>
TODO
</p>

</div>

<h3 class="sectionedit27" id="jtag">JTAG</h3>
<div class="level3">

<p>
→ <a href="../../doc/hardware/port.jtag" class="wikilink1" title="doc:hardware:port.jtag">port.jtag</a> general information about the JTAG port, JTAG cable, etc.
</p>

<p>
Located near the front left, beside the CPU.  Pin 1 has white box surrounding it and the whole connection area is surrounded by a white border (thin).  There is no existing header, if you want one you have to add it (there are only solder pads in the stock configuration).
</p>

<p>
Pinout:
</p>

<p>
<a href="../../_detail/toh/comtrend/ct-536._jtag.jpg?id=toh%253Acomtrend%253Act5621" class="media" title="toh:comtrend:ct-536._jtag.jpg"><img src="../../_media/toh/comtrend/ct-536._jtag.jpg?w=300&amp;h=200&amp;tok=65c73d" class="media" alt="" width="300" height="200" /></a>
</p>
<div class="table sectionedit28"><table class="inline">
	<tr class="row0">
		<td class="col0"> 1 </td><td class="col1"> 2 </td>
	</tr>
	<tr class="row1">
		<td class="col0"> 3 </td><td class="col1"> 4 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> 5 </td><td class="col1"> 6 </td>
	</tr>
	<tr class="row3">
		<td class="col0"> 7 </td><td class="col1"> 8 </td>
	</tr>
	<tr class="row4">
		<td class="col0"> 9 </td><td class="col1"> 10 </td>
	</tr>
	<tr class="row5">
		<td class="col0"> 11</td><td class="col1"> 12 </td>
	</tr>
</table></div>

<p>
Meaning and mapping to LPT for an unbuffered cable
<pre class="code">Pin 3 - TDI - DATA0  - Pin 2
Pin 5 - TD0 - SELECT - Pin 13
Pin 7 - TMS - DATA2  - Pin 4
Pin 9 - TCK - DATA1  - Pin 3</pre>

</p>

</div>

<h2 class="sectionedit29" id="debricking">Debricking</h2>
<div class="level2">

<p>
→ <a href="../../doc/howto/generic.debrick" class="wikilink1" title="doc:howto:generic.debrick">generic.debrick</a>
</p>

</div>

<h2 class="sectionedit30" id="bootloader_mods">Bootloader Mods</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> you could read about <a href="../../doc/techref/bootloader.1" class="wikilink1" title="doc:techref:bootloader">bootloader</a> in general</div>
</li>
</ol>

<p>
<pre class="code">CFE&gt; web info: Waiting for connection on socket 0.
CFE&gt;
CFE&gt; c
Press:   to use current value
        &#039;-&#039; to go previous parameter
        &#039;.&#039; to clear the current value
        &#039;x&#039; to exit this command
Board IP address                :  192.168.1.1:ffffff00
Host IP address                 :  192.168.1.100
Gateway IP address              :
Run from flash/host (f/h)       :  f
Default host run file name      :  vmlinux
Default host flash file name    :  bcm963xx_fs_kernel
Boot delay (0-9 seconds)        :  5
*** command status = 0
CFE&gt; b
Press:   to use current value
        &#039;-&#039; to go previous parameter
        &#039;.&#039; to clear the current value
        &#039;x&#039; to exit this command
Board Id Name (0-5)
96348R           -------- 0
96348LV          -------- 1
96348GW          -------- 2
96348GW-10       -------- 3
96348GW-11       -------- 4
96348SV          -------- 5     :  4
Number of MAC Addresses (1-32)  :  11
Base MAC Address                :  00:40:dd:37:ad:e4</pre>

</p>

</div>

<h2 class="sectionedit31" id="hardware_mods">Hardware mods</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> as a beginner, you really should inform yourself about <a href="../../doc/hardware/soldering" class="wikilink1" title="doc:hardware:soldering">soldering</a> in general and then obtain some practical experience!</div>
</li>
</ol>

</div>

<h3 class="sectionedit32" id="usb_mod">USB mod</h3>
<div class="level3">

<p>
This board only needs 3 x 15 kΩ resistors and one 470μF capacitor, and the USB host (USB A Female) connector, to have a USB host port on the board (i.e. to drive USB mass storage, wireless, etc)
</p>

<p>
Two of the resistors and the capacitor get voltages right, while the third resistor is used to tie the USB host enabled pin on the BCM63xx to Vcc, so that it is seen as enabled.
</p>

<p>
There is a schematic from a NetGear that might be helpful.  The only components that matter to our board are the 15k resistors.
</p>

<p>
<a href="../../_detail/oldwiki/openwrtdocs/hardware/comtrend/usb-schematic.png?id=toh%253Acomtrend%253Act5621" class="media" title="oldwiki:openwrtdocs:hardware:comtrend:usb-schematic.png"><img src="../../_media/oldwiki/openwrtdocs/hardware/comtrend/usb-schematic.png" class="media" alt="" /></a>
</p>

<p>
Now we look at the space on the board that is for the USB host.
</p>

<p>
<a href="../../_detail/oldwiki/openwrtdocs/hardware/comtrend/usb-host-space.jpg?id=toh%253Acomtrend%253Act5621" class="media" title="oldwiki:openwrtdocs:hardware:comtrend:usb-host-space.jpg"><img src="../../_media/oldwiki/openwrtdocs/hardware/comtrend/usb-host-space.jpg" class="media" title="usb-host-space.jpg" alt="usb-host-space.jpg" /></a>
</p>

<p>
The following image shows what needs to be done in order to enable host usb.
</p>

<p>
<a href="../../_detail/oldwiki/openwrtdocs/hardware/comtrend/usb-host-marked-up.jpg?id=toh%253Acomtrend%253Act5621" class="media" title="oldwiki:openwrtdocs:hardware:comtrend:usb-host-marked-up.jpg"><img src="../../_media/oldwiki/openwrtdocs/hardware/comtrend/usb-host-marked-up.jpg" class="media" title="usb-host-marked-up.jpg" alt="usb-host-marked-up.jpg" /></a>
</p>

<p>
And here&#039;s what a badly done mod looks like (I had a terrible time soldering)
</p>

<p>
<a href="../../_detail/oldwiki/openwrtdocs/hardware/comtrend/usb-post-mod.jpg?id=toh%253Acomtrend%253Act5621" class="media" title="oldwiki:openwrtdocs:hardware:comtrend:usb-post-mod.jpg"><img src="../../_media/oldwiki/openwrtdocs/hardware/comtrend/usb-post-mod.jpg" class="media" title="usb-post-mod.jpg" alt="usb-post-mod.jpg" /></a>
</p>

</div>

<h3 class="sectionedit33" id="mib_ram_mod">128MiB RAM Mod</h3>
<div class="level3">

</div>

<h3 class="sectionedit34" id="i_c_gpio_mod">I²C GPIO Mod</h3>
<div class="level3">

</div>

<h3 class="sectionedit35" id="i_c_tiny-usb_mod">I²C Tiny-USB Mod</h3>
<div class="level3">

</div>

<h2 class="sectionedit36" id="notes">Notes</h2>
<div class="level2">

</div>

<h2 class="sectionedit37" id="tags">Tags</h2>
<div class="level2">

<p>
For some Help with the Tags, please have a look here: <a href="../../meta/tags" class="wikilink1" title="meta:tags">tags</a>
</p>
<div class="tags"><span>
	<a href="../../tag/bcm63xx?do=showtag&amp;tag=bcm63xx" class="wikilink1" title="tag:bcm63xx" rel="tag">bcm63xx</a>,
	<a href="../../tag/bcm6348?do=showtag&amp;tag=bcm6348" class="wikilink1" title="tag:bcm6348" rel="tag">bcm6348</a>,
	<a href="../../tag/fastethernet?do=showtag&amp;tag=FastEthernet" class="wikilink1" title="tag:fastethernet" rel="tag">FastEthernet</a>,
	<a href="../../tag/4port?do=showtag&amp;tag=4Port" class="wikilink1" title="tag:4port" rel="tag">4Port</a>,
	<a href="../../tag/usb?do=showtag&amp;tag=USB" class="wikilink1" title="tag:usb" rel="tag">USB</a>,
	<a href="../../tag/16ram?do=showtag&amp;tag=16RAM" class="wikilink1" title="tag:16ram" rel="tag">16RAM</a>,
	<a href="../../tag/4flash?do=showtag&amp;tag=4Flash" class="wikilink1" title="tag:4flash" rel="tag">4Flash</a>,
	<a href="../../tag/mips?do=showtag&amp;tag=MIPS" class="wikilink1" title="tag:mips" rel="tag">MIPS</a>,
	<a href="../../tag/mips32?do=showtag&amp;tag=MIPS32" class="wikilink1" title="tag:mips32" rel="tag">MIPS32</a>
</span></div>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/comtrend/ct5621.txt</bdi> · Last modified: 2015/05/06 12:22 by <bdi>theoradicus</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="ct5621?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="ct5621?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="ct5621?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="ct5621#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Acomtrend%253Act5621&amp;1432278290" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
