<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>Actiontec MI424-WR [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="toh,actiontec,mi424wr"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="mi424wr?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:actiontec"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/actiontec/mi424wr"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/actiontec/mi424wr"/>
<link rel="canonical" href="mi424wr"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:actiontec';var JSINFO = {"id":"toh:actiontec:mi424wr","namespace":"toh:actiontec"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432266196 166.182.3.17';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="mi424wr#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="mi424wr?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="mi424wr?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:actiontec:mi424wr" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="mi424wr?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="mi424wr?do=media&amp;ns=toh%253Aactiontec"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="mi424wr?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:actiontec:start">Actiontec</a></bdi> » <bdi><span class="curid"><a href="mi424wr" class="wikilink1" title="toh:actiontec:mi424wr">Actiontec MI424-WR</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/actiontec/mi424wr" class="media" title="cz:toh:actiontec:mi424wr"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/actiontec/mi424wr" class="media" title="de:toh:actiontec:mi424wr"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="mi424wr" class="media" title="toh:actiontec:mi424wr"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/actiontec/mi424wr" class="media" title="es:toh:actiontec:mi424wr"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/actiontec/mi424wr" class="media" title="fr:toh:actiontec:mi424wr"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/actiontec/mi424wr" class="media" title="hu:toh:actiontec:mi424wr"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/actiontec/mi424wr" class="media" title="jp:toh:actiontec:mi424wr"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/actiontec/mi424wr" class="media" title="pl:toh:actiontec:mi424wr"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/actiontec/mi424wr" class="media" title="pt-br:toh:actiontec:mi424wr"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/actiontec/mi424wr" class="media" title="ru:toh:actiontec:mi424wr"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/actiontec/mi424wr" class="media" title="tr:toh:actiontec:mi424wr"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/actiontec/mi424wr" class="media" title="zh-cn:toh:actiontec:mi424wr"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/actiontec/mi424wr" class="media" title="zh-tw:toh:actiontec:mi424wr"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:actiontec:mi424wr</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level2"><div class="li"><a href="mi424wr#ethernet">Ethernet</a></div></li>
<li class="level2"><div class="li"><a href="mi424wr#wifi">WiFi</a></div></li>
<li class="level2"><div class="li"><a href="mi424wr#gpio">GPIO</a></div></li>
<li class="level2"><div class="li"><a href="mi424wr#latches">Latches</a></div></li>
<li class="level2"><div class="li"><a href="mi424wr#serial_port">Serial Port</a></div></li>
<li class="level1"><div class="li"><a href="mi424wr#jungo_openrg">Jungo OpenRG</a></div></li>
<li class="level1"><div class="li"><a href="mi424wr#redboot">RedBoot</a></div></li>
<li class="level1"><div class="li"><a href="mi424wr#building_redboot">Building RedBoot</a></div></li>
<li class="level1"><div class="li"><a href="mi424wr#linux">Linux</a></div></li>
<li class="level1"><div class="li"><a href="mi424wr#firmware">Firmware</a></div></li>
<li class="level1"><div class="li"><a href="mi424wr#todo">TODO</a></div></li>
<li class="level1"><div class="li"><a href="mi424wr#basic_configuration">Basic configuration</a></div></li>
<li class="level1"><div class="li"><a href="mi424wr#hardware_modifications">Hardware modifications</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="actiontec_mi424-wr">Actiontec MI424-WR</h1>
<div class="level1">

<p>
The <a href="http://www.actiontec.com/" class="urlextern" title="http://www.actiontec.com/"  rel="nofollow"> Actiontec</a> MI424-WR router is based on the <a href="http://download.intel.com/design/network/ProdBrf/27905105.pdf" class="urlextern" title="http://download.intel.com/design/network/ProdBrf/27905105.pdf"  rel="nofollow">Intel X-Scale 533MHz IXP425</a>. It has a coax interface and IEEE 802.11g support.
</p>

<p>
There are also <a href="https://www.actiontec.com/products/product.php?pid=188#.UV8Td8qyI_k" class="urlextern" title="https://www.actiontec.com/products/product.php?pid=188#.UV8Td8qyI_k"  rel="nofollow"> Rev E</a> and <a href="https://www.actiontec.com/products/product.php?pid=213#.UV8TeMqyI_k" class="urlextern" title="https://www.actiontec.com/products/product.php?pid=213#.UV8TeMqyI_k"  rel="nofollow"> Rev F</a>, and Rev I hardware available.  This page doesn&#039;t cover those versions (yet).
</p>

</div>

<h1 class="sectionedit2" id="hardware_highlights">Hardware Highlights</h1>
<div class="level1">
<div class="table sectionedit3"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> CPU </th><th class="col1"> Ram </th><th class="col2"> Flash </th><th class="col3"> Network </th><th class="col4"> WiFi </th><th class="col5"> Serial </th><th class="col6"> JTag </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> IXP425 </td><td class="col1"> 32MB </td><td class="col2"> 8MB </td><td class="col3"> 4x1 </td><td class="col4"> Yes </td><td class="col5"> Yes<sup><a href="mi424wr#fn__1" id="fnt__1" class="fn_top">1)</a></sup> </td><td class="col6"> Yes<sup><a href="mi424wr#fn__2" id="fnt__2" class="fn_top">2)</a></sup> </td>
	</tr>
</table></div>

</div>

<h1 class="sectionedit4" id="hardware">Hardware</h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> WAN interface connected to a dedicated port.</div>
</li>
<li class="level1"><div class="li"> <abbr title="Local Area Network">LAN</abbr> interface connected to Micrel KSZ8995MA switch via SPI.</div>
</li>
<li class="level1"><div class="li"> 3 PCI slots - 2 used for coax interface.</div>
</li>
<li class="level1"><div class="li"> Wireless MiniPCI. </div>
</li>
</ul>

<p>
There are also two <a href="http://www.entropic.com/products/homenetworking.htm" class="urlextern" title="http://www.entropic.com/products/homenetworking.htm"  rel="nofollow"> Entropic</a> <a href="http://www.mocalliance.org/" class="urlextern" title="http://www.mocalliance.org/"  rel="nofollow"> MoCA</a> controllers for the coax interface. Because of the proprietary nature of these devices, they are not supported.
</p>

</div>

<h3 class="sectionedit5" id="ethernet">Ethernet</h3>
<div class="level3">

<p>
Revision A, C configuration:
</p>
<ul>
<li class="level1"><div class="li"> NPEB - WAN interface with separate Micrel KS8721 PHY; PHY address: 17.</div>
</li>
<li class="level1"><div class="li"> NPEC - <abbr title="Local Area Network">LAN</abbr> interface connected to Micrel KSZ8995MA switch via SPI; PHY addresses: 1, 2, 3, 4.</div>
</li>
</ul>

<p>
Revision D configuration:
</p>
<ul>
<li class="level1"><div class="li"> NPEB - <abbr title="Local Area Network">LAN</abbr> interface PHY addresses: 1, 2, 3, 4.</div>
</li>
<li class="level1"><div class="li"> NPEC - WAN interface PHY address: 5.</div>
</li>
</ul>

</div>

<h3 class="sectionedit6" id="wifi">WiFi</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Revision A: RT2500</div>
</li>
<li class="level1"><div class="li"> Revision C, D: Atheros</div>
</li>
</ul>

</div>

<h3 class="sectionedit7" id="gpio">GPIO</h3>
<div class="level3">
<div class="table sectionedit8"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Pin </th><th class="col1"> I/O </th><th class="col2 leftalign"> Description         </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 centeralign">  0  </td><td class="col1 centeralign">  O  </td><td class="col2 leftalign"> HW Reset            </td>
	</tr>
	<tr class="row2">
		<td class="col0 centeralign">  2  </td><td class="col1 centeralign">  O  </td><td class="col2 leftalign"> SPI CLK             </td>
	</tr>
	<tr class="row3">
		<td class="col0 centeralign">  3  </td><td class="col1 centeralign">  I  </td><td class="col2 leftalign"> SPI RxD             </td>
	</tr>
	<tr class="row4">
		<td class="col0 centeralign">  4  </td><td class="col1 centeralign">  O  </td><td class="col2 leftalign"> SPI TxD             </td>
	</tr>
	<tr class="row5">
		<td class="col0 centeralign">  6  </td><td class="col1 centeralign">  I  </td><td class="col2"> PCI INTA (MoCA WAN) </td>
	</tr>
	<tr class="row6">
		<td class="col0 centeralign">  7  </td><td class="col1 centeralign">  I  </td><td class="col2"> PCI INTB (Mini-PCI) </td>
	</tr>
	<tr class="row7">
		<td class="col0 centeralign">  8  </td><td class="col1 centeralign">  I  </td><td class="col2"> PCI INTC (MoCA <abbr title="Local Area Network">LAN</abbr>) </td>
	</tr>
	<tr class="row8">
		<td class="col0 centeralign">  9  </td><td class="col1 centeralign">  O  </td><td class="col2 leftalign"> SPI CS              </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> 10  </td><td class="col1 centeralign">  I  </td><td class="col2 leftalign"> Button              </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign"> 11  </td><td class="col1 centeralign">  O  </td><td class="col2 leftalign"> MoCA WAN LED        </td>
	</tr>
	<tr class="row11">
		<td class="col0 leftalign"> 14  </td><td class="col1 centeralign">  O  </td><td class="col2 leftalign"> PCI CLK Pin         </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit9" id="latches">Latches</h3>
<div class="level3">

<p>
There&#039;s a latch accessible via CS1 that is 16-bits wide.
</p>
<div class="table sectionedit10"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0">Bit</th><th class="col1 leftalign"> Function             </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> 0 </td><td class="col1 leftalign"> Power alarm (red)    </td>
	</tr>
	<tr class="row2">
		<td class="col0"> 1 </td><td class="col1 leftalign"> Power                </td>
	</tr>
	<tr class="row3">
		<td class="col0"> 2 </td><td class="col1 leftalign"> Wireless             </td>
	</tr>
	<tr class="row4">
		<td class="col0"> 3 </td><td class="col1"> Internet alarm (red) </td>
	</tr>
	<tr class="row5">
		<td class="col0"> 4 </td><td class="col1 leftalign"> Internet active      </td>
	</tr>
	<tr class="row6">
		<td class="col0"> 5 </td><td class="col1 leftalign"> MoCA <abbr title="Local Area Network">LAN</abbr>             </td>
	</tr>
	<tr class="row7">
		<td class="col0"> 6 </td><td class="col1"> MoCA WAN alarm (red) </td>
	</tr>
	<tr class="row8">
		<td class="col0"> 7 </td><td class="col1 leftalign"> PCI reset            </td>
	</tr>
	<tr class="row9">
		<td class="col0"> 8 </td><td class="col1"> VOIP Phone 1 LED (green) (Unused) </td>
	</tr>
	<tr class="row10">
		<td class="col0"> 9 </td><td class="col1"> VOIP Phone 2 LED (green) (Unused) </td>
	</tr>
	<tr class="row11">
		<td class="col0"> 10 </td><td class="col1"> VOIP ready LED (green) (Unused) </td>
	</tr>
	<tr class="row12">
		<td class="col0"> 11 </td><td class="col1"> PSTN Relay 1 Control (Unused) </td>
	</tr>
	<tr class="row13">
		<td class="col0"> 12 </td><td class="col1"> PSTN Relay 2 Control (Unused) </td>
	</tr>
	<tr class="row14">
		<td class="col0"> 13 </td><td class="col1"> (Unused) </td>
	</tr>
	<tr class="row15">
		<td class="col0"> 14 </td><td class="col1"> (Unused) </td>
	</tr>
	<tr class="row16">
		<td class="col0"> 15 </td><td class="col1"> (Unused) </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit11" id="serial_port">Serial Port</h3>
<div class="level3">

<p>
There&#039;s an internal serial port available on the J20 pins. It&#039;s found on the side. It&#039;s possible to connect a TTL 3.3V serial converter (e.g. <a href="http://www.sparkfun.com/commerce/product_info.php?products_id=8772" class="urlextern" title="http://www.sparkfun.com/commerce/product_info.php?products_id=8772"  rel="nofollow"> this</a>) and have access to the console for both redboot and linux. Remember that pin 1 has a square pad on the PCB.
</p>
<div class="table sectionedit12"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Pin </th><th class="col1"> Function </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 centeralign">  1  </td><td class="col1 leftalign"> Gnd      </td>
	</tr>
	<tr class="row2">
		<td class="col0 centeralign">  2  </td><td class="col1 leftalign"> Tx       </td>
	</tr>
	<tr class="row3">
		<td class="col0 centeralign">  3  </td><td class="col1 leftalign"> Rx       </td>
	</tr>
	<tr class="row4">
		<td class="col0 centeralign">  4  </td><td class="col1 leftalign"> ?        </td>
	</tr>
	<tr class="row5">
		<td class="col0 centeralign">  5  </td><td class="col1"> VCC 3.3V </td>
	</tr>
	<tr class="row6">
		<td class="col0 centeralign">  6  </td><td class="col1 leftalign"> ?        </td>
	</tr>
</table></div>

</div>

<h1 class="sectionedit13" id="software">Software</h1>
<div class="level1">

</div>

<h2 class="sectionedit14" id="jungo_openrg">Jungo OpenRG</h2>
<div class="level2">

<p>
The unit comes standard with a customized version Jungo&#039;s OpenRG firmware. This is a Linux-based distribution with some proprietary packages such as drivers for the MoCA and Wifi devices.
</p>

<p>
Installation of RedBoot can be accomplished with the <a href="https://dev.openwrt.org/browser/trunk/scripts/flashing/jungo-image.py?format=txt" class="urlextern" title="https://dev.openwrt.org/browser/trunk/scripts/flashing/jungo-image.py?format=txt"  rel="nofollow">jungo-image.py</a> script. The script uses the telnet interface into the router to accomplish it&#039;s task. Depending on the version of the firmware, it may have to be manually enabled in the advanced tab under local administration. The script can be used to first make a backup of the current flash image; this procedure takes about 4 minutes. Use <code>-h</code> to get help on all the options. If there&#039;s some failure during the write portion, the only recourse may be to install a JTAG header and restore the firmware via JTAG; so, use at your own risk!
</p>

<p>
Here&#039;s the basic usage:
</p>
<ul>
<li class="level1"><div class="li"> Backup existing image: <code>python jungo-image.py -p &lt;password&gt; &lt;ip address&gt;</code></div>
</li>
<li class="level1"><div class="li"> Write new image: <code>python jungo-image.py -p &lt;password&gt; &lt;ip address&gt; &lt;image file&gt;</code></div>
</li>
</ul>

</div>

<h2 class="sectionedit15" id="redboot">RedBoot</h2>
<div class="level2">

<p>
A custom version of <a href="http://sourceware.org/redboot" class="urlextern" title="http://sourceware.org/redboot"  rel="nofollow">RedBoot</a> has been built and can be found here: <code><a href="http://risacher.org/rb-mi424wr-ROM.bin" class="urlextern" title="http://risacher.org/rb-mi424wr-ROM.bin"  rel="nofollow"> rb-mi424wr-ROM.bin</a></code> . The RedBoot prompt is accessible via telnet 192.168.1.1 9000 on the WAN port. The WAN port is configured to obtain an address via DHCP; if this fails it defaults to 192.168.1.1. RedBoot does initialize the <abbr title="Local Area Network">LAN</abbr> switch so no special action on Linux is required.
</p>

<p>
Note that this version of RedBoot has the option of bypassing the boot script if the reset button is pressed during the power-on sequence. This always allows access to RedBoot via telnet on the WAN port. When RedBoot is ready to accept commands, it sets the Internet LED red.
</p>

<p>
After establishing a telnet session to RedBoot, the flash must be initialized and configured:
</p>
<ol>
<li class="level1"><div class="li"> Initialize flash: <code>fis init</code></div>
</li>
<li class="level1"><div class="li"> Configure MAC addresses: <code>fconfig npe_eth0_esa 0x00:0x01:0x02:0x03:0x04:0x05</code>. Use MAC address at the bottom of the unit plus 3. The one printed on the bottom is really for the lan… but we need to tell RedBoot what the WAN port MAC address is. You should probably verify what each MAC address is, and write them down somewhere, before installing OpenWRT.</div>
</li>
<li class="level1"><div class="li"> Write openwrt-mi424wr-zImage image to flash: <code>load -r -b %{FREEMEMLO} -h &lt;hostip&gt; openwrt-mi424wr-zImage</code> followed by: <code>fis create linux</code></div>
</li>
<li class="level1"><div class="li"> Write openwrt-mi424wr-squashfs.img to flash: <code>load -r -b %{FREEMEMLO} -h &lt;hostip&gt; openwrt-mi424wr-squashfs.img</code> followed by: <code>fis create rootfs</code></div>
</li>
</ol>

<p>
In order to autonomously boot to the openwrt kernel just installed, a boot script needs to be added to RedBoot:
</p>
<ol>
<li class="level1"><div class="li"> Open RedBoot&#039;s configuration: <code>fconfig -d</code></div>
</li>
<li class="level1"><div class="li"> When prompted with Run script at boot, change the value to true</div>
</li>
<li class="level1"><div class="li"> Enter the following in the first line of the script enter: <code>fis load linux</code></div>
</li>
<li class="level1"><div class="li"> Enter the second line: <code>exec</code>. Note: for rev D, use <code>exec -v 4</code>.</div>
</li>
<li class="level1"><div class="li"> Hit enter to finish the script with an empty line.</div>
</li>
<li class="level1"><div class="li"> You last entry is the timeout for loading the script. it shouldn&#039;t take longer than 1 or 2 seconds.</div>
</li>
<li class="level1"><div class="li"> Keep hitting enter until you get this prompt: <code>Update RedBoot non-volatile configuration - continue (y/n)?</code></div>
</li>
<li class="level1"><div class="li"> Type <code>y</code> and enter.</div>
</li>
<li class="level1"><div class="li"> Power cycle the router and openwrt should boot. As long as everything installed properly, you can access Luci in about 50 seconds from switching on the power. </div>
</li>
</ol>

<p>
The original image can be restored using the following procedure:
</p>
<ol>
<li class="level1"><div class="li"> Get a copy of <code><a href="http://mysite.verizon.net/jvasco/openwrt/rb-mi424wr-RAM.img" class="urlextern" title="http://mysite.verizon.net/jvasco/openwrt/rb-mi424wr-RAM.img"  rel="nofollow"> rb-mi424wr-RAM.img</a></code> .</div>
</li>
<li class="level1"><div class="li"> load -h &lt;ipaddress&gt; rb-mi424wr-RAM.img</div>
</li>
<li class="level1"><div class="li"> <code>go</code></div>
</li>
<li class="level1"><div class="li"> Close telnet session and start another one; may require setting IP address on host. Verify that RAM version is running with version command.</div>
</li>
<li class="level1"><div class="li"> <code>load -h &lt;ipaddress&gt; -r -b %{FREEMEMLO} mi424wr-xxxxxxxxxx.bin</code></div>
</li>
<li class="level1"><div class="li"> <code>fis unlock RedBoot</code></div>
</li>
<li class="level1"><div class="li"> <code>fis write -b %{FREEMEMLO} -l 0x800000 -f 0x50000000</code></div>
</li>
<li class="level1"><div class="li"> Close telnet session and power cycle. </div>
</li>
</ol>

<p>
A similar sequence is used to upgrade RedBoot. Load the RAM image, then load mi424wr-ROM.bin;
after unlocking, do a <code>fis write</code> with a length of <code>0x40000</code>.
</p>

</div>

<h2 class="sectionedit16" id="building_redboot">Building RedBoot</h2>
<div class="level2">

<p>
RedBoot can be built from the Intel RedBoot sources found in the
<a href="http://www.intel.com/design/network/products/npfamily/download_ixp400.htm" class="urlextern" title="http://www.intel.com/design/network/products/npfamily/download_ixp400.htm"  rel="nofollow">Intel IXP400 Software</a> site. You&#039;ll need the RedBoot source code as well as the RedBoot NPE microcode. This mi424wr.epk adds support for the MI424-WR. The procedure for building RedBoot is as follows:
</p>
<ol>
<li class="level1"><div class="li"> <code>export ECOS_REPOSTIORY=/path/to/ecos/packages</code></div>
</li>
<li class="level1"><div class="li"> <code>cd ${ECOS_REPOSITORY}; ./ecosadmin.tcl add mi424wr.epk</code></div>
</li>
<li class="level1"><div class="li"> <code>cd &lt;build_dir&gt;; ecosconfig new mi424wr_npe redboot</code></div>
</li>
<li class="level1"><div class="li"> <code>ecosconfig add memalloc io fileio error linux_compat kernel crc zlib</code></div>
</li>
<li class="level1"><div class="li"> <code>ecosconfig import ${ECOS_REPOSITORY}/hal/arm/xscale/mi424wr/current/misc/redboot_ROM.ecm</code></div>
</li>
<li class="level1"><div class="li"> <code>ecosconfig tree</code></div>
</li>
<li class="level1"><div class="li"> <code>make</code> </div>
</li>
</ol>

<p>
The resulting <code>redboot.bin</code> image can be found in the <code>install/bin</code> direcoctory.
</p>

</div>

<h2 class="sectionedit17" id="linux">Linux</h2>
<div class="level2">

<p>
Board id 1778 has been registered for this device. The attached MI424-WR images have been built from the OpenWrt trunk with various patches and tweaks. Basic support for the MI424-WR is found in <code>target/linux/ixp4xx/patches-2.6.xx/185-mi424wr_support.patch</code>. Building from source requires using <code>make kernel_menuconfig</code> and selecting the MI424-WR board type (it&#039;s not set by default). After building, the resulting image openwrt-ixp4xx-zImage can be downloaded to the board as described above.
</p>

<p>
Support for the wifi rt2500pci card on revision A units is still experimental. It works in client mode but there are problems in AP mode.
It is best to replace with an Atheros card.
</p>

</div>

<h2 class="sectionedit18" id="firmware">Firmware</h2>
<div class="level2">

<p>
The original firmware can be downloaded from <a href="http://www.actiontec.com/support/" class="urlextern" title="http://www.actiontec.com/support/"  rel="nofollow">Actiontec Support</a>, and the <abbr title="GNU General Public License">GPL</abbr>&#039;d source code can be downloaded from <a href="http://opensource.actiontec.com/" class="urlextern" title="http://opensource.actiontec.com/"  rel="nofollow">Actiontec GPL Code Download Center</a>
</p>

</div>

<h2 class="sectionedit19" id="todo">TODO</h2>
<div class="level2">

<p>
Debug ap (master) mode for rt2500 driver.
</p>

</div>

<h2 class="sectionedit20" id="basic_configuration">Basic configuration</h2>
<div class="level2">

<p>
Since this part is identical for all devices, see <a href="../../doc/howto/configuration" class="wikilink1" title="doc:howto:basic.config">Basic configuration</a>.
</p>

</div>

<h2 class="sectionedit21" id="hardware_modifications">Hardware modifications</h2>
<div class="level2">

<p>
Advanced users have doubled the RAM and ROM as well as add peripherals like USB host port.
Check the forums for details.
</p>

</div>
<div class="footnotes">
<div class="fn"><sup><a href="mi424wr#fnt__1" id="fn__1" class="fn_bot">1)</a></sup> 
Requires opening the unit.</div>
<div class="fn"><sup><a href="mi424wr#fnt__2" id="fn__2" class="fn_bot">2)</a></sup> 
Not available on rev D.</div>
</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/actiontec/mi424wr.txt</bdi> · Last modified: 2014/10/18 03:45 by <bdi>risacher</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="mi424wr?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="mi424wr?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="mi424wr?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="mi424wr#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Aactiontec%253Ami424wr&amp;1432266196" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
