<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>Actiontec GT704WG [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="ar7,detachableantenna"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="gt704wg?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:actiontec"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/actiontec/gt704wg"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/actiontec/gt704wg"/>
<link rel="canonical" href="gt704wg"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:actiontec';var JSINFO = {"id":"toh:actiontec:gt704wg","namespace":"toh:actiontec"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432266195 166.182.3.17';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="gt704wg#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="gt704wg?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="gt704wg?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:actiontec:gt704wg" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="gt704wg?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="gt704wg?do=media&amp;ns=toh%253Aactiontec"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="gt704wg?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:actiontec:start">Actiontec</a></bdi> » <bdi><span class="curid"><a href="gt704wg" class="wikilink1" title="toh:actiontec:gt704wg">Actiontec GT704WG</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/actiontec/gt704wg" class="media" title="cz:toh:actiontec:gt704wg"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/actiontec/gt704wg" class="media" title="de:toh:actiontec:gt704wg"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="gt704wg" class="media" title="toh:actiontec:gt704wg"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/actiontec/gt704wg" class="media" title="es:toh:actiontec:gt704wg"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/actiontec/gt704wg" class="media" title="fr:toh:actiontec:gt704wg"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/actiontec/gt704wg" class="media" title="hu:toh:actiontec:gt704wg"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/actiontec/gt704wg" class="media" title="jp:toh:actiontec:gt704wg"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/actiontec/gt704wg" class="media" title="pl:toh:actiontec:gt704wg"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/actiontec/gt704wg" class="media" title="pt-br:toh:actiontec:gt704wg"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/actiontec/gt704wg" class="media" title="ru:toh:actiontec:gt704wg"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/actiontec/gt704wg" class="media" title="tr:toh:actiontec:gt704wg"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/actiontec/gt704wg" class="media" title="zh-cn:toh:actiontec:gt704wg"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/actiontec/gt704wg" class="media" title="zh-tw:toh:actiontec:gt704wg"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:actiontec:gt704wg</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level3"><div class="li"><a href="gt704wg#flash_layout">Flash layout</a></div></li>
<li class="level1"><div class="li"><a href="gt704wg#upgrading_openwrt">Upgrading OpenWRT</a></div></li>
<li class="level1"><div class="li"><a href="gt704wg#info">Info</a></div></li>
<li class="level1"><div class="li"><a href="gt704wg#photos">Photos</a></div></li>
<li class="level1"><div class="li"><a href="gt704wg#opening_the_case">Opening the case</a></div></li>
<li class="level1"><div class="li"><a href="gt704wg#serial">Serial</a></div></li>
<li class="level1"><div class="li"><a href="gt704wg#jtag">JTAG</a></div></li>
<li class="level1"><div class="li"><a href="gt704wg#dsl">DSL</a></div></li>
<li class="level2"><div class="li"><a href="gt704wg#pppoe">PPPoE</a></div></li>
<li class="level2"><div class="li"><a href="gt704wg#pppoa">PPPoA</a></div></li>
<li class="level1"><div class="li"><a href="gt704wg#switch_ports_for_vlans">Switch Ports (for VLANs)</a></div></li>
<li class="level1"><div class="li"><a href="gt704wg#buttons">Buttons</a></div></li>
<li class="level1"><div class="li"><a href="gt704wg#adding_hardware_flow_control_to_the_serial_port">Adding Hardware Flow Control to the Serial Port</a></div></li>
<li class="level1"><div class="li"><a href="gt704wg#adding_level_shifting_to_the_serial_port">Adding Level Shifting to the Serial Port</a></div></li>
<li class="level1"><div class="li"><a href="gt704wg#mb_ram_mod">32/64MB RAM mod</a></div></li>
<li class="level2"><div class="li"><a href="gt704wg#tags">Tags</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="actiontec_gt704wg">Actiontec GT704WG</h1>
<div class="level1">

<p>
The device is based on Texas Instrument AR7. It uses the <a href="http://wiki.openwrt.org/oldwiki/target.ar7" class="wikilink2" title="oldwiki:target.ar7" rel="nofollow">target.ar7</a> in OpenWrt.
Kamikaze 8.09.2 seems to work
</p>

<p>
Note: Package repo will not work with Kamikaze 8.09.2
</p>

</div>
<div class="level1">

<p>
Tested Backfire 10.03.1 - Wireless not working, Package repo working 
</p>

</div>
<div class="level1">

<p>
Tested Attitude Adjustment 12.09-beta2 - Wireless working, tested client mode to WPA2 device successfully. Package repo appears to be working but insufficient memory errors prevent even the smallest packages to install. You may need to build your own image using buildroot if additional software is needed. Web interface causes very high CPU load.
</p>

</div>
<div class="level1">

</div>

<h1 class="sectionedit2" id="supported_versions">Supported Versions</h1>
<div class="level1">
<div class="table sectionedit3"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Version/Model </th><th class="col1"> S/N </th><th class="col2"> OpenWrt Version Supported </th><th class="col3"> Model Specific Notes </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> 1A+ </td><td class="col1"> - </td><td class="col2"> Kamikaze 8.09.2 </td><td class="col3"> - </td>
	</tr>
</table></div>

</div>

<h1 class="sectionedit4" id="hardware_highlights">Hardware Highlights</h1>
<div class="level1">
<div class="table sectionedit5"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> CPU </th><th class="col1"> Ram </th><th class="col2"> Flash </th><th class="col3"> Network </th><th class="col4"> USB </th><th class="col5"> Serial </th><th class="col6"> JTag </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> TI AR7@150MHz </td><td class="col1"> 16MB </td><td class="col2"> 4MB </td><td class="col3"> 4 + DSL </td><td class="col4"> Device Only (?) </td><td class="col5"> Yes </td><td class="col6"> Yes </td>
	</tr>
</table></div>

</div>

<h4 id="flash_layout">Flash layout</h4>
<div class="level4">
<div class="table sectionedit6"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> partition </th><th class="col1"> start </th><th class="col2"> end </th><th class="col3"> description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> mtd2 </td><td class="col1"> 0x90000000 </td><td class="col2"> 0x90010000 </td><td class="col3"> ADAM2 bootloader </td>
	</tr>
	<tr class="row2">
		<td class="col0"> mtd1 </td><td class="col1"> 0x90010000 </td><td class="col2"> 0x900d0000 </td><td class="col3"> kernel </td>
	</tr>
	<tr class="row3">
		<td class="col0"> mtd0 </td><td class="col1"> 0x900d0000 </td><td class="col2"> 0x903e0000 </td><td class="col3"> squashfs filesystem </td>
	</tr>
	<tr class="row4">
		<td class="col0"> mtd4 </td><td class="col1"> 0x903e0000 </td><td class="col2"> 0x903f0000 </td><td class="col3"> unused (?) </td>
	</tr>
	<tr class="row5">
		<td class="col0"> mtd3 </td><td class="col1"> 0x903f0000 </td><td class="col2"> 0x90400000 </td><td class="col3"> ADAM2 environment </td>
	</tr>
</table></div>

</div>

<h1 class="sectionedit7" id="installation">Installation</h1>
<div class="level1">

<p>
Flashing with the Actiontec web upgrade has not been tested.
The recommended flash procedure is to use the adam2 <abbr title="File Transfer Protocol">FTP</abbr> server.
</p>

<p>
To access the adam2 <abbr title="File Transfer Protocol">FTP</abbr> server, power on the device while holding reset button down for 3 seconds
</p>

<p>
If you are doing this from Linux, you will almost certainly first
have to:
</p>

<p>
# echo 0 &gt; /proc/sys/net/ipv4/tcp_frto
</p>

<p>
Otherwise, the transfer process will end up slowing down to
approximately 512 bytes/minute.
</p>

<p>
Note: The range you will need to flash the squashfs image to spans
all of mtd1 and mtd0 partitions.
</p>

<p>
<pre class="code">$ ftp 192.168.0.1
Connected to 192.168.0.1.
220 ADAM2 FTP Server ready.
Name (192.168.0.1:user): adam2
530 Please login with USER and PASS.
SSL not available
331 Password required for adam2.
Password:
230 User adam2 successfully logged in.
ftp&gt; passive off
ftp&gt; quote SETENV mtd5,0x90010000,0x903e0000
ftp&gt; binary
ftp&gt; quote MEDIA FLSH
ftp&gt; put &quot;openwrt-ar7-squashfs.bin&quot; &quot;openwrt-ar7-squashfs.bin mtd5&quot;
ftp&gt; quote REBOOT
ftp&gt; quit
</pre>

</p>

<p>
Note that the power LED will not turn green with OpenWRT. This
doesn&#039;t imply anything is broken as it does with the default
firmware.
</p>

</div>

<h5 id="note_for_windows_users">Note for Windows users</h5>
<div class="level5">
<ul>
<li class="level1"><div class="li">Windows&#039; command line ftp client will start already out of passive mode, and in any case above command &quot;passive off&quot; will not work.</div>
</li>
<li class="level1"><div class="li">In the &quot;put&quot; command fails with a &quot;550 Data Socket not ready&quot; error, make sure windows firewall is disabled and/or the network connecting to the router is set as &quot;home&quot; or &quot;work&quot;.</div>
</li>
<li class="level1"><div class="li">If you are experiencing a problem with &quot;connection terminated by remote host&quot;, you need to add this key to the registry and reboot your computer: HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters\TcpMaxDataRetransmissions = 40 (DWORD, value in HEX) (CapinWinky).</div>
</li>
</ul>

</div>

<h2 class="sectionedit8" id="upgrading_openwrt">Upgrading OpenWRT</h2>
<div class="level2">

<p>
If you have already installed OpenWrt and like to reflash for e.g. upgrading to a new OpenWrt version you can upgrade using the mtd command line tool. It is important that you put the firmware image into the ramdisk (/tmp) before you start flashing.
</p>

</div>

<h5 id="luci_web_upgrade_process">LuCI Web Upgrade Process</h5>
<div class="level5">
<ul>
<li class="level1"><div class="li">Browse to <a href="http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/" class="urlextern" title="http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/"  rel="nofollow">http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/</a> LuCI Upgrade <abbr title="Uniform Resource Locator">URL</abbr></div>
</li>
<li class="level1"><div class="li">Upload .bin file to LuCI</div>
</li>
<li class="level1"><div class="li">Wait for reboot</div>
</li>
</ul>

</div>

<h5 id="terminal_upgrade_process">Terminal Upgrade Process</h5>
<div class="level5">
<ul>
<li class="level1"><div class="li">Login as root via SSH on 192.168.1.1</div>
</li>
<li class="level1"><div class="li">Use the following commands to upgrade.</div>
</li>
</ul>

<p>
<pre class="code">cd /tmp/
wget http://downloads.openwrt.org/latest/ar7/openwrt-ar7-squashfs.bin
mtd write /tmp/openwrt-ar7-squashfs.bin linux &amp;&amp; reboot</pre>

</p>

</div>

<h1 class="sectionedit9" id="hardware">Hardware</h1>
<div class="level1">

</div>

<h2 class="sectionedit10" id="info">Info</h2>
<div class="level2">
<div class="table sectionedit11"><table class="inline">
	<tr class="row0">
		<td class="col0"> <strong>Architecture:</strong> MIPS (little endian) </td>
	</tr>
	<tr class="row1">
		<td class="col0"> <strong>Vendor:</strong> TI </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <strong>Bootloader:</strong> Adam2 </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <strong>System-On-Chip:</strong> TI TNETD7300 </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <strong>CPU Speed:</strong> 150 Mhz </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <strong>Flash-Chip:</strong> ? </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <strong>Flash size:</strong> 4 MiB </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <strong>RAM:</strong> 16 MiB </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> <strong>Wireless:</strong> TI ACX111  </td>
	</tr>
	<tr class="row9">
		<td class="col0"> <strong>Ethernet:</strong> Marvell 88E6060 </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <strong>USB:</strong> Device </td>
	</tr>
	<tr class="row11">
		<td class="col0"> <strong>Serial:</strong> <a href="http://wiki.openwrt.org/inbox#serial" class="wikilink2" title="inbox" rel="nofollow">Yes</a> </td>
	</tr>
	<tr class="row12">
		<td class="col0"> <strong>JTAG:</strong> <a href="http://wiki.openwrt.org/inbox#jtag" class="wikilink2" title="inbox" rel="nofollow">Yes</a> </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit12" id="photos">Photos</h2>
<div class="level2">

<p>
<em>Front:</em>
</p>

<p>
<a href="../../_detail/inbox/gt704wg_front.jpg?id=toh%253Aactiontec%253Agt704wg" class="media" title="inbox:gt704wg_front.jpg"><img src="../../_media/inbox/gt704wg_front.jpg?w=600&amp;tok=b0286d" class="media" alt="" width="600" /></a>
</p>

<p>
<em>Back:</em>
</p>

<p>
<a href="../../_detail/inbox/gt704wg_back.jpg?id=toh%253Aactiontec%253Agt704wg" class="media" title="inbox:gt704wg_back.jpg"><img src="../../_media/inbox/gt704wg_back.jpg?w=600&amp;tok=6bea85" class="media" alt="" width="600" /></a>
</p>

</div>

<h2 class="sectionedit13" id="opening_the_case">Opening the case</h2>
<div class="level2">

<p>
<strong>Note:</strong> This will void your warranty!
</p>
<ul>
<li class="level1"><div class="li"> To remove the cover take off the 4 rubber feet</div>
</li>
<li class="level1"><div class="li"> unscrew the 4 screws under the rubber feet</div>
</li>
</ul>

<p>
<em>Main PCB</em>
</p>

<p>
<a href="../../_detail/inbox/gt704wg_pcb.jpg?id=toh%253Aactiontec%253Agt704wg" class="media" title="inbox:gt704wg_pcb.jpg"><img src="../../_media/inbox/gt704wg_pcb.jpg?w=600&amp;tok=b343e1" class="media" alt="" width="600" /></a>
</p>

</div>

<h2 class="sectionedit14" id="serial">Serial</h2>
<div class="level2">

<p>
3.3V serial is available on JP603 with the following pin out:
</p>

<p>
<pre class="code">pin 1 : GND
pin 2 : TX
pin 3 : RX
pin 4 : NC
pin 5 : 3.3V
pin 6 : NC</pre>

</p>

<p>
Pin 1 is the closest to R441. 
</p>

</div>

<h2 class="sectionedit15" id="jtag">JTAG</h2>
<div class="level2">

<p>
How to connect to JTAG interface, and how to reflash the device with <a href="http://downloads.openwrt.org/tools/oem/jtag/tools.zip" class="urlextern" title="http://downloads.openwrt.org/tools/oem/jtag/tools.zip"  rel="nofollow">JTAG tools</a>
</p>

<p>
See <a href="../../doc/hardware/port.jtag" class="wikilink1" title="doc:hardware:port.jtag">port.jtag</a> for more JTAG details.
</p>

<p>
According to the documentation JTAG is available conneting to:
<pre class="code">RESET : R106
TRST : R112
TDI : R110
TDO : R109
TMS : R108
TCK : R107
</pre>

</p>

</div>

<h1 class="sectionedit16" id="specific_configuration">Specific Configuration</h1>
<div class="level1">

</div>

<h2 class="sectionedit17" id="dsl">DSL</h2>
<div class="level2">

<p>
This device works with both annex A and annex B modules. As an example, to install annex B module on Backfire, download the package &#039;kmod-sangam-atm-annex-b&#039; from
</p>

<p>
<a href="http://backfire.openwrt.org/10.03.1/ar7/packages/" class="urlextern" title="http://backfire.openwrt.org/10.03.1/ar7/packages/"  rel="nofollow">http://backfire.openwrt.org/10.03.1/ar7/packages/</a>
</p>

<p>
Then copy the package on your router per scp. Here an example using a windows client with pscp, router at IP 192.168.0.1, user &#039;root&#039;:
<pre class="code">pscp -scp &quot;kmod-sangam-atm-annex-b_2.6.32.27+D7.04.03.00-R1_ar7.ipk&quot; root@192.168.0.1:/tmp</pre>

</p>

<p>
Then access your router via SSH or telnet and do:
<pre class="code">cd /tmp
opkg remove kmod-sangam-atm-annex-a
opkg install kmod-sangam-atm-annex-b_2.6.32.27+D7.04.03.00-R1_ar7.ipk</pre>

If it succeeds, remove the package from /tmp. Then reboot your device.
</p>

<p>
You can check your modem stats by  
<pre class="code">cat /proc/avalanche/avsar_modem_stats</pre>

</p>

</div>

<h3 class="sectionedit18" id="pppoe">PPPoE</h3>
<div class="level3">

<p>
/etc/config/network
<pre class="code">config atm-bridge
    option unit     0
    option encaps   llc
    # Ask your ISP for the correct vpi and vci values
    option vpi      0
    option vci      35
    # Most of the time this should be set to &quot;bridged,&quot; but some ISPs require &quot;routed&quot;
    option payload  bridged

config interface wan
    option ifname       nas0
    option proto        pppoe
    option username    &quot;username&quot;
    option password    &quot;password&quot;</pre>

</p>

</div>

<h3 class="sectionedit19" id="pppoa">PPPoA</h3>
<div class="level3">

<p>
/etc/config/network
</p>

<p>
<pre class="code">config interface wan
    option ifname   ppp0
    option proto    pppoa
    option encaps   llc
    option vpi      0
    option vci      35
    option username &quot;username&quot;
    option password &quot;password&quot;</pre>

</p>

<p>
Restart your interface by
<pre class="code">ifdown wan
ifup wan</pre>

</p>

</div>

<h2 class="sectionedit20" id="switch_ports_for_vlans">Switch Ports (for VLANs)</h2>
<div class="level2">

<p>
VLANs are currently not supported.
</p>

</div>

<h2 class="sectionedit21" id="buttons">Buttons</h2>
<div class="level2">

<p>
The Actiontec GT704WG has one button. Not sure if it can be used with hotplug events.
</p>
<div class="table sectionedit22"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> BUTTON </th><th class="col1"> Event </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Reset </td><td class="col1"> ? </td>
	</tr>
</table></div>

</div>

<h1 class="sectionedit23" id="known_issues">Known Issues</h1>
<div class="level1">

<p>
pppoa does not start automatically
</p>

<p>
&quot;eth0: rx dma ring overrun&quot; in dmesg output under heavy traffic
</p>

<p>
qos does not work with pppoa (no traffic is forwarded if qos is enabled)
</p>

<p>
wifi is WIP
</p>

<p>
No VLAN support
</p>

</div>

<h1 class="sectionedit24" id="hardware_mods">Hardware mods</h1>
<div class="level1">

</div>

<h2 class="sectionedit25" id="adding_hardware_flow_control_to_the_serial_port">Adding Hardware Flow Control to the Serial Port</h2>
<div class="level2">

<p>
To add hardware flow control (CTS/RTS) to the serial port on JP603 add 100ohm 0603 resistor to R614 and R615 locations.
</p>

</div>

<h2 class="sectionedit26" id="adding_level_shifting_to_the_serial_port">Adding Level Shifting to the Serial Port</h2>
<div class="level2">

<p>
The GT704WG has a footprint for a MAX3232 voltage level converter.
This will allow to directly connect a standard RS-232 to the router.
After this modification JP603 will no longer work as the serial output is redirected to JP2 with the following pinout:
<pre class="code">pin 1 : GND
pin 2 : NC
pin 3 : NC
pin 4 : RX
pin 5 : TX
pin 6 : RTS
pin 7 : NC
pin 8 : CTS
pin 9 : NC
pin 10: NC
pin 11: NC
pin 12: NC


material list:
1 MAXIM MAX3232 in soic-16
5 0.1uF 0603 capacitors
2 100ohm 0603 resistors
1 2x4, 2x5 or 2x6 2.54mm (100mils) pitch header 

instructions:
1- remove R30 and R441. These are 100ohm, if you are careful in the removal you can re-use them for point #2 below
2- add 100ohm to R147 and R442
3- add 0.1uF to C17, C18, C19, C20 and C65
4- add MAX3232 to U4
5- add header to JP2 (pin 1 is the one closes to JP603 towards the edge of the PCB)

</pre>

</p>

</div>

<h2 class="sectionedit27" id="mb_ram_mod">32/64MB RAM mod</h2>
<div class="level2">

<p>
The GT704WG uses one 128Mbit (8Mx16) PC133 SDRAM (54-pin TSOP II). The PCB is wired to support both 256Mbit (16Mx16) and 512Mbit (32Mx16).
Using one 512Mbit device like MT48LC32M16A2 (or similar) your GT704WG will have 64MBytes of RAM.
All is needed is to remove U105 and replace with the new chip.
</p>

<p>
The chips can be found mounted on old PC133 DIMMs or SODIMMS. 128/256Mb DIMMS with 4 chips are the best candidates.
</p>

<p>
I have done the modification using a generic 32Mx16 SDRAM (no brand). The Adam2 installed on my router will reset the memsize environment variable at every reboot so the mod will be useful only when using kernels with memory size auto detection (the stock firmware will not auto detect the memory size).
OpenWrt will correctly size the memory regardless of the env settings.
</p>
<hr />

</div>

<h3 class="sectionedit28" id="tags">Tags</h3>
<div class="level3">
<div class="tags"><span>
	<a href="../../tag/ar7?do=showtag&amp;tag=ar7" class="wikilink1" title="tag:ar7" rel="tag">ar7</a>,
	<a href="../../tag/detachableantenna" class="wikilink1" title="tag:detachableantenna" rel="tag">DetachableAntenna</a>
</span></div>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/actiontec/gt704wg.txt</bdi> · Last modified: 2014/03/18 22:22 by <bdi>3razor16</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="gt704wg?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="gt704wg?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="gt704wg?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="gt704wg#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Aactiontec%253Agt704wg&amp;1432266195" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
