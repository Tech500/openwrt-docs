<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>Atheros PB44 [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="gigabitethernet,fastethernet,5port,2nic,usb,2usb,minipci,2wnic,ath9k,3ant,detachableantenna,802.11abgn,802.11abgn simultan,64ram,8flash,mips,mips32,24kc,fxo,devboard"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="pb44?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:evaluation.boards"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/evaluation.boards/pb44"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/evaluation.boards/pb44"/>
<link rel="canonical" href="pb44"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:evaluation.boards';var JSINFO = {"id":"toh:evaluation.boards:pb44","namespace":"toh:evaluation.boards"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432266748 166.182.3.231';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="pb44#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="pb44?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="pb44?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:evaluation.boards:pb44" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="pb44?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="pb44?do=media&amp;ns=toh%253Aevaluation.boards"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="pb44?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:evaluation.boards:start">Evaluation &amp; Reference Boards</a></bdi> » <bdi><span class="curid"><a href="pb44" class="wikilink1" title="toh:evaluation.boards:pb44">Atheros PB44</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/evaluation.boards/pb44" class="media" title="cz:toh:evaluation.boards:pb44"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/evaluation.boards/pb44" class="media" title="de:toh:evaluation.boards:pb44"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="pb44" class="media" title="toh:evaluation.boards:pb44"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/evaluation.boards/pb44" class="media" title="es:toh:evaluation.boards:pb44"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/evaluation.boards/pb44" class="media" title="fr:toh:evaluation.boards:pb44"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/evaluation.boards/pb44" class="media" title="hu:toh:evaluation.boards:pb44"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/evaluation.boards/pb44" class="media" title="jp:toh:evaluation.boards:pb44"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/evaluation.boards/pb44" class="media" title="pl:toh:evaluation.boards:pb44"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/evaluation.boards/pb44" class="media" title="pt-br:toh:evaluation.boards:pb44"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/evaluation.boards/pb44" class="media" title="ru:toh:evaluation.boards:pb44"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/evaluation.boards/pb44" class="media" title="tr:toh:evaluation.boards:pb44"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/evaluation.boards/pb44" class="media" title="zh-cn:toh:evaluation.boards:pb44"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/evaluation.boards/pb44" class="media" title="zh-tw:toh:evaluation.boards:pb44"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:evaluation.boards:pb44</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="pb44#supported_versions">Supported Versions</a></div></li>
<li class="level1"><div class="li"><a href="pb44#hardware_highlights">Hardware Highlights</a></div></li>
<li class="level1"><div class="li"><a href="pb44#installation">Installation</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="pb44#flash_layout">Flash Layout</a></div></li>
<li class="level2"><div class="li"><a href="pb44#installation_procedure">Installation Procedure</a></div></li>
<li class="level2"><div class="li"><a href="pb44#upgrading_openwrt">Upgrading OpenWrt</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="pb44#basic_configuration">Basic configuration</a></div></li>
<li class="level1"><div class="li"><a href="pb44#specific_configuration">Specific Configuration</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="pb44#interfaces">Interfaces</a></div></li>
<li class="level2"><div class="li"><a href="pb44#vlan_support">VLAN Support</a></div></li>
<li class="level2"><div class="li"><a href="pb44#failsafe_mode">Failsafe mode</a></div></li>
<li class="level2"><div class="li"><a href="pb44#buttons">Buttons</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="pb44#hardware">Hardware</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="pb44#info">Info</a></div></li>
<li class="level2"><div class="li"><a href="pb44#photos">Photos</a></div></li>
<li class="level2"><div class="li"><a href="pb44#leds">LEDS</a></div></li>
<li class="level2"><div class="li"><a href="pb44#buttons1">Buttons</a></div></li>
<li class="level2"><div class="li"><a href="pb44#antennas">Antennas</a></div></li>
<li class="level2"><div class="li"><a href="pb44#serial">Serial</a></div></li>
<li class="level2"><div class="li"><a href="pb44#jtag">JTAG</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="pb44#debricking">Debricking</a></div></li>
<li class="level1"><div class="li"><a href="pb44#bootloader_mods">Bootloader Mods</a></div></li>
<li class="level1"><div class="li"><a href="pb44#hardware_mods">Hardware mods</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="pb44#mib_mod">128/256 MiB Mod</a></div></li>
<li class="level2"><div class="li"><a href="pb44#additional_gpio">Additional GPIO</a></div></li>
<li class="level2"><div class="li"><a href="pb44#additional_i2c_devices">Additional I2C devices</a></div></li>
<li class="level2"><div class="li"><a href="pb44#additional_leds">Additional LEDs</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="pb44#overclocking">Overclocking</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="pb44#cpu">CPU</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="pb44#pushing_the_limits_-_overvolting">Pushing the limits - Overvolting</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="pb44#pci">PCI</a></div></li>
<li class="level2"><div class="li"><a href="pb44#automatic_overclocking">Automatic Overclocking</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="pb44#mhz">720 MHz</a></div></li>
<li class="level3"><div class="li"><a href="pb44#mhz1">760 MHz</a></div></li>
<li class="level3"><div class="li"><a href="pb44#mhz2">800 MHz</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="pb44#notes">Notes</a></div></li>
<li class="level1"><div class="li"><a href="pb44#tags">Tags</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="atheros_pb44">Atheros PB44</h1>
<div class="level1">

<p>
The PB44 is a reference design (a.k.a. evaluation platform) from Atheros (now Qualcomm), designed to demonstrate their &quot;AR9001AP-3NX2&quot; dual-concurrent 802.11n AP/Router solution<sup><a href="pb44#fn__1" id="fnt__1" class="fn_top">1)</a></sup>, which consists of a AR7161 CPU/SOC (System On Chip) and two AR9160 wireless chipsets used in a high-performance dual-band access point/router. The PB44 contains two mini-PCI slots, each of which contains a dual-band 801.11abgn 3x3 (3T3R) wireless card based on the AR9160 wireless MAC and AR5133 or AR9016 dual-band 3x3 MIMO Radio (some have one single-band card which is similar but with AR2133 or AR9103 2.4 <abbr title="Gigahertz">GHz</abbr> Radio). Three dual-band antennas each have a connection to both wireless cards. Each radio operates in one band at a time, but the two radios allow simultaneous dual-band operation.
</p>

<p>
The PB44 PCB carries a copyright dated 2006, 2007, and is marked with part number 250-01488-xxx, where xxx is a revision number (030 and 040 have been seen). The PB44 main PCB may be any of various colors: yellow, green, and red have been seen.
</p>

</div>

<h2 class="sectionedit2" id="supported_versions">Supported Versions</h2>
<div class="level2">
<div class="table sectionedit3"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Version/Model </th><th class="col1"> Launch Date </th><th class="col2"> S/N </th><th class="col3"> OpenWrt Version Supported </th><th class="col4"> Model Specific Notes </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> Yellow PCB  </td><td class="col1 centeralign">  2006-2007  </td><td class="col2"> - </td><td class="col3"> Backfire 10.03.1 </td><td class="col4"> includes one &quot;MB81&quot; 2.4 <abbr title="Gigahertz">GHz</abbr> radio and one &quot;MB82 dual-band radio </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> Green PCB  </td><td class="col1 centeralign">  2006-2007  </td><td class="col2"> - </td><td class="col3"> Backfire 10.03.1 </td><td class="col4"> includes two &quot;MB82&quot; dual-band radios </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> Red PCB  </td><td class="col1 centeralign">  2006-2007  </td><td class="col2"> - </td><td class="col3"> Backfire 10.03.1 </td><td class="col4"> (unknown configuration) </td>
	</tr>
</table></div>

<p>
<strong>NOTE:</strong> Anything not included in model specific notes, or where a short comment couldn&#039;t be included on the <a href="pb44#notes" title="toh:evaluation.boards:pb44 ↵" class="wikilink1">notes</a>.
</p>

</div>

<h2 class="sectionedit4" id="hardware_highlights">Hardware Highlights</h2>
<div class="level2">
<div class="table sectionedit5"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> CPU </th><th class="col1"> Ram </th><th class="col2"> Flash </th><th class="col3"> Network </th><th class="col4"> Wireless </th><th class="col5"> USB </th><th class="col6"> Serial </th><th class="col7"> JTag </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Atheros AR7161 @ 680 <abbr title="Megahertz">MHz</abbr> </td><td class="col1"> 64 MiB </td><td class="col2"> 8 MiB </td><td class="col3"> 4 + 1 </td><td class="col4"> 2 abgn </td><td class="col5"> Yes </td><td class="col6"> Yes </td><td class="col7"> Yes </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit6" id="installation">Installation</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> → <a href="../../doc/howto/obtain.firmware" class="wikilink1" title="doc:howto:obtain.firmware">obtain.firmware</a></div>
</li>
<li class="level1"><div class="li"> → <a href="../../doc/howto/installing" class="wikilink1" title="doc:howto:generic.flashing">Install OpenWrt</a></div>
</li>
</ol>

</div>

<h3 class="sectionedit7" id="flash_layout">Flash Layout</h3>
<div class="level3">

<p>
→<a href="../../doc/techref/flash.layout" class="wikilink1" title="doc:techref:flash.layout">flash.layout</a>
</p>
<div class="table sectionedit8"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 centeralign" colspan="8">  Atheros PB44 Flash Layout  </th>
	</tr>
	</thead>
	<tr class="row1">
		<th class="col0 leftalign"> Layer0       </th><td class="col1 centeralign" colspan="7">                       <a href="http://en.wikipedia.org/wiki/Serial Peripheral Interface Bus" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Serial Peripheral Interface Bus">spi</a>0.0: m25p64 8192KiB NAND FLASH                                    </td>
	</tr>
	<tr class="row2">
		<th class="col0 leftalign"> Layer1       </th><td class="col1 centeralign">  mtd0 <strong><em>RedBoot</em></strong> 256 KiB  </td><td class="col2 centeralign">  mtd1 <strong><em>vmlinux</em></strong> 896 KiB  </td><td class="col3 centeralign" colspan="2">  mtd2 <strong><em>rootfs</em></strong> 6912 KiB                 </td><td class="col5 centeralign">  mtd2 <strong><em>FIS directory</em></strong> 60 KiB  </td><td class="col6 centeralign">  mtd2 <strong><em>RedBoot config</em></strong> 4 KiB  </td><td class="col7 centeralign">  mtd2 <strong><em>boardconfig</em></strong> 64 KiB  </td>
	</tr>
	<tr class="row3">
		<th class="col0 leftalign"> <span style='color:magenta; '>mountpoint</span>   </th><td class="col1 leftalign">         </td><td class="col2 leftalign">                                </td><td class="col3 centeralign" colspan="2">  <span style='color:magenta; '><code>/</code></span>                 </td><td class="col5 leftalign">                                     </td><td class="col6 leftalign">                                     </td><td class="col7 leftalign">                                   </td>
	</tr>
	<tr class="row4">
		<th class="col0 leftalign"> filesystem   </th><td class="col1 leftalign">                                </td><td class="col2 leftalign">                                </td><td class="col3 centeralign" colspan="2">  <a href="../../doc/techref/filesystems#mini_fo" class="wikilink1" title="doc:techref:filesystems">mini_fo</a>  </td><td class="col5 leftalign">                                     </td><td class="col6 leftalign">                                     </td><td class="col7 leftalign">                                   </td>
	</tr>
	<tr class="row5">
		<th class="col0 leftalign"> Layer3       </th><td class="col1 leftalign">                                </td><td class="col2 leftalign">                                </td><td class="col3 leftalign">          </td><td class="col4 centeralign">  mtd3 <strong><em>rootfs_data</em></strong> 5184KiB   </td><td class="col5 leftalign">                                     </td><td class="col6 leftalign">                                     </td><td class="col7 leftalign">                                   </td>
	</tr>
	<tr class="row6">
		<th class="col0 leftalign"> Size in KiB  </th><td class="col1 centeralign">  256 KiB                       </td><td class="col2 centeralign">  896 KiB                       </td><td class="col3 centeralign">  3328 KiB        </td><td class="col4 centeralign">  3584 KiB                   </td><td class="col5 centeralign">   60 KiB                            </td><td class="col6 centeralign">  4 KiB                              </td><td class="col7 centeralign">  64 KiB                           </td>
	</tr>
	<tr class="row7">
		<th class="col0 leftalign"> Name         </th><td class="col1 centeralign">  <strong><em>RedBoot</em></strong>               </td><td class="col2 centeralign">  <strong><em>vmlinux</em></strong>               </td><td class="col3 leftalign">                  </td><td class="col4 centeralign">  <strong><em>rootfs_data</em></strong>        </td><td class="col5 centeralign">  <strong><em>FIS directory</em></strong>              </td><td class="col6 centeralign">  <strong><em>RedBoot config</em></strong>             </td><td class="col7 centeralign">  <strong><em>boardconfig</em></strong>              </td>
	</tr>
	<tr class="row8">
		<th class="col0 leftalign"> <span style='color:magenta; '>mountpoint</span>  </th><td class="col1 centeralign">  <em>none</em>  </td><td class="col2 centeralign">  <em>none</em>  </td><td class="col3 centeralign">  <span style='color:magenta; '><code>/rom</code></span>       </td><td class="col4 centeralign">  <span style='color:magenta; '><code>/overlay</code></span>   </td><td class="col5 centeralign">  <em>none</em>            </td><td class="col6 centeralign">  <em>none</em>                           </td><td class="col7 centeralign">  <em>none</em>                         </td>
	</tr>
	<tr class="row9">
		<th class="col0 leftalign"> filesystem   </th><td class="col1 centeralign">  <em>none</em>                      </td><td class="col2 centeralign">  <em>none</em>    </td><td class="col3 centeralign">  <a href="../../doc/techref/filesystems#squashfs" class="wikilink1" title="doc:techref:filesystems">SquashFS</a>  </td><td class="col4 centeralign">  <a href="../../doc/techref/filesystems#jffs2" class="wikilink1" title="doc:techref:filesystems">JFFS2</a>     </td><td class="col5 centeralign">  <em>none</em>            </td><td class="col6 centeralign">  <em>none</em>                           </td><td class="col7 centeralign">  <em>none</em>                         </td>
	</tr>
</table></div>

<p>
<img src="../../lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /> Note that the relative sizes of the <code>vmlinux</code>, <code>rootfs</code>, and <code>rootfs_data</code> will vary depending on the build that is being used. The total size is 7808 KiB (64 KiB x 122).
</p>

</div>

<h3 class="sectionedit9" id="installation_procedure">Installation Procedure</h3>
<div class="level3">

<p>
Download the pre-built Backfire release images from <a href="http://backfire.openwrt.org/10.03.1/ar71xx/" class="urlextern" title="http://backfire.openwrt.org/10.03.1/ar71xx/"  rel="nofollow">http://backfire.openwrt.org/10.03.1/ar71xx/</a>, look for <code>pb44</code> in the file names. The squashfs images are generally preferred over JFFS2 (see <a href="../../doc/howto/obtain.firmware" class="wikilink1" title="doc:howto:obtain.firmware">obtain.firmware</a>). If you are brave, you can try out the bleeding edge firmware at <a href="http://downloads.openwrt.org/snapshots/trunk/" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/"  rel="nofollow">http://downloads.openwrt.org/snapshots/trunk/</a>.
</p>

<p>
In order to install OpenWRT, the boot process is halted to give access to the RedBoot prompt. Then the kernel and filesystem can be removed and replaced with OpenWRT images. The currently installed RedBoot does not need to be (and should not be) updated. Refer to the Installation walkthrough below for details.
</p>

<p>
Use teraterm and serial port. USB to serial adapters are excellent.
Set serial to 115200/8/N/1/None
</p>

<p>
Press Ctl-C with a few seconds of power-up to halt boot and drop to RedBoot prompt.
<pre class="code">RedBoot&gt;</pre>

Now have a look at the current FLASH file system
<pre class="code">RedBoot&gt; fis list
Name              FLASH addr  Mem addr    Length      Entry point
RedBoot           0xBF000000  0xBF000000  0x00040000  0x00000000
vmlinux           0xBF040000  0x80060000  0x00120000  0x8029E000
filesystem        0xBF160000  0x80500000  0x00600000  0x00000000
FIS directory     0xBF7E0000  0xBF7E0000  0x0000F000  0x00000000
RedBoot config    0xBF7EF000  0xBF7EF000  0x00001000  0x00000000
RedBoot&gt;</pre>

The factory firmware is stored in the <code>vmlinux</code> (kernel) and <code>filesystem</code> files.
</p>

<p>
Delete the factory firmware using <code>fis init</code>
<pre class="code">RedBoot&gt; fis init
About to initialize [format] FLASH image system - continue (y/n)? y
*** Initialize FLASH Image System
... Erase from 0xbf7e0000-0xbf7f0000: .
... Program from 0x80ff0000-0x81000000 at 0xbf7e0000: .
RedBoot&gt; fis list
Name              FLASH addr  Mem addr    Length      Entry point
RedBoot           0xBF000000  0xBF000000  0x00040000  0x00000000
FIS directory     0xBF7E0000  0xBF7E0000  0x0000F000  0x00000000
RedBoot config    0xBF7EF000  0xBF7EF000  0x00001000  0x00000000
RedBoot&gt;</pre>

Use fis free to view available FLASH space.
<pre class="code">RedBoot&gt; fis free
  0xBF040000 .. 0xBF7E0000
RedBoot&gt;</pre>

In the above example, there is 0xBF7E0000 - 0xBF040000 = 0x7A00000 bytes (7.625 <abbr title="Megabyte">MB</abbr>) of available space.
</p>

<p>
Determine start of free memory
<pre class="code">RedBoot&gt; %{FREEMEMLO}</pre>

The address is displayed along with an error message you can ignore. Round up to the next 0x100000 to avoid trouble. In the following, the memory address used to load the images is 0x80100000
</p>

<p>
Load the OpenWRT kernel image using the <code>load</code> command. You can use tftp, http, xmodem, or ymodem to load the firmware. I experienced trouble with tftp and http no matter what server software was used, so I opted to use ymodem instead. This loads the file over the serial port, which takes longer, but still only a minute or two.
<pre class="code">RedBoot&gt; load -r -v -b 0x80100000 -m ymodem
CCC</pre>

After issuing the above command, you will see a few &quot;C&quot; characters printed as part of the ymodem protocol. Now send the kernel file with ymodem using your terminal program (e.g. TeraTerm).
<pre class="code">CCRaw file loaded 0x80100000-0x801dffff, assumed entry at 0x80100000
xyzModem - CRC mode, 0(SOH)/2049(STX)/0(CAN) packets, 6 retries
RedBoot&gt;</pre>

Burn the file in memory to flash. There is no need to specifiy the start or end addresses as they will default to the values used in the load command. The memory base address and entry point are specified as 0x80060000, which is rounded up from the value returned by %{FREEMEMLO}.
<pre class="code">RedBoot&gt; fis create -b 0x80060000 -e 0x80060000 vmlinux
... Erase from 0xbf040000-0xbf120000: ..............
... Program from 0x80100000-0x801e0000 at 0xbf040000: ..............
... Erase from 0xbf7e0000-0xbf7f0000: .
... Program from 0x80ff0000-0x81000000 at 0xbf7e0000: .</pre>

Determine the amount of free FLASH space; when burning the filesystem, you want to use all available space.
<pre class="code">RedBoot&gt; fis free
  0xBF120000 .. 0xBF7E0000</pre>

Use a hexadecimal <a href="http://www.acalculator.com/calculators.html" class="urlextern" title="http://www.acalculator.com/calculators.html"  rel="nofollow"> calculator</a> to get the difference, in this case, 0x6c0000 bytes.
</p>

<p>
Load and burn the filesystem image, I recommend the squashfs image. Note the use of 0x6c0000 below.
<pre class="code">RedBoot&gt; load -r -v -b 0x80100000 -m ymodem
CCRaw file loaded 0x80100000-0x802fffff, assumed entry at 0x80100000
xyzModem - CRC mode, 0(SOH)/2049(STX)/0(CAN) packets, 6 retries
RedBoot&gt;
RedBoot&gt; fis create -l 0x6c0000 rootfs
... Erase from 0xbf120000-0xbf7e0000: ............................................................................................................
... Program from 0x80100000-0x80300000 at 0xbf120000: ................................
... Erase from 0xbf7e0000-0xbf7f0000: .
... Program from 0x80ff0000-0x81000000 at 0xbf7e0000: .
RedBoot&gt; 
RedBoot&gt; fis list
Name              FLASH addr  Mem addr    Length      Entry point
RedBoot           0xBF000000  0xBF000000  0x00040000  0x00000000
vmlinux           0xBF040000  0x80060000  0x000E0000  0x80060000
rootfs            0xBF120000  0x80050C00  0x006C0000  0x80050C00
FIS directory     0xBF7E0000  0xBF7E0000  0x0000F000  0x00000000
RedBoot config    0xBF7EF000  0xBF7EF000  0x00001000  0x00000000
RedBoot&gt;</pre>

You have the OpenWRT kernel and filesystem in FLASH. 
</p>

<p>
You now must edit the configuration boot script. The default firmware uses a gzip compressed kernel image, but the OpenWRT kernel uses an lzma compressed image. So we must change the load command in the boot script to use -l (decompress lzma) not -d (decompress gzip). Do not edit any of the other parameters unless you know that they need to change. Just press enter to skip editing the other parameters.
<pre class="code">RedBoot&gt;
RedBoot&gt; fconfig
Run script at boot: true
Boot script:
.. fis load -d vmlinux
.. exec
Enter script, terminate with empty line
&gt;&gt; fis load -l vmlinux
&gt;&gt; exec
&gt;&gt;
Boot script timeout (1000ms resolution): 3
Use BOOTP for network configuration: false
Gateway IP address:
Local IP address: 192.168.1.2
Local IP address mask: 255.255.255.0
Default server IP address: 192.168.1.20
Console baud rate: 115200
GDB connection port: 9000
Force console for special debug messages: false
Network debug at boot time: false
Update RedBoot non-volatile configuration - continue (y/n)? y
... Erase from 0xbf7e0000-0xbf7f0000: .
... Program from 0x80ff0000-0x81000000 at 0xbf7e0000: .
RedBoot&gt;</pre>

</p>

<p>
Now just reboot.
<pre class="code">RedBoot&gt; reset</pre>

</p>

<p>
This time, allow RedBoot to boot.
You should see the usual OpenWRT console messages as it boots. Toward the end you will see that it is initializing the JFFS2 filesystem. This only happens on first boot. When the action stops, press enter to get to the shell BusyBox ash prompt.
</p>

<p>
The <abbr title="Local Area Network">LAN</abbr> GbE switch does not function with the current pre-compiled <a href="http://downloads.openwrt.org/backfire/10.03.1/ar71xx/" class="urlextern" title="http://downloads.openwrt.org/backfire/10.03.1/ar71xx/"  rel="nofollow">stable image</a>. You will need to take a few extra steps to obtain the firmware and the driver (to load the firmware) in order to make the GbE switch function.
</p>

<p>
First, plug obtain an internet connection by plugging the WAN port (the single Ethernet port) into your DHCP-enabled network. The eth0 interface will automatically come up and will obtain an IP address via DHCP. Now you can download the necessary firmware file as below.
<pre class="code">cd /tmp
wget http://mirror2.openwrt.org/sources/vsc73x5-ucode.tar.bz2
bunzip2 vsc73x5-ucode.tar.bz2
tar xvf vsc73x5-ucode.tar
cp vsc73x5-ucode/g5e_Plus1_2_29a_unmanaged_Atheros_v3.bin /lib/firmware/vsc7395_ucode_pb44.bin
ls /lib/firmware</pre>

Verify that there is a file named <code>vsc7395_ucode_pb44.bin</code>
</p>

<p>
Install the driver package.
<pre class="code">opkg update
opkg install kmod-spi-vsc7385</pre>

The driver will install, then proceed to load the firmware into the GbE switch. You will see all four <abbr title="Local Area Network">LAN</abbr> port LEDs light momentarily after firmware is loaded. The <abbr title="Local Area Network">LAN</abbr> side Ethernet can now be used. 
</p>

<p>
Refer to <a href="../../doc/howto/configuration" class="wikilink1" title="doc:howto:basic.config">Basic Configuration</a> for tips on initial setup.
</p>

</div>

<h3 class="sectionedit10" id="upgrading_openwrt">Upgrading OpenWrt</h3>
<div class="level3">

<p>
→  <a href="../../doc/howto/generic.sysupgrade" class="wikilink1" title="doc:howto:generic.sysupgrade">generic.sysupgrade</a>
</p>

<p>
Note that due to the lack of a <code>firmware</code> partition in flash, it is not possible to perform a sysupgrade using the command line or LuCI. Instead, the new kernel (<code>vmlinux</code>) and squashfs or jffs2 file system (<code>rootfs</code>) must be written to flash using RedBoot, following the installation procedure as above. Be sure to manually save any configuration data that you wish to apply to the new installation as it will be wiped out.
</p>

</div>

<h2 class="sectionedit11" id="basic_configuration">Basic configuration</h2>
<div class="level2">

<p>
→ <a href="../../doc/howto/configuration" class="wikilink1" title="doc:howto:basic.config">Basic configuration</a> After flashing, proceed with this.<br/>

Set up your Internet connection, configure wireless, configure USB port, etc.
</p>

</div>

<h2 class="sectionedit12" id="specific_configuration">Specific Configuration</h2>
<div class="level2">

</div>

<h3 class="sectionedit13" id="interfaces">Interfaces</h3>
<div class="level3">

<p>
<img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> The default network configuration is:
</p>
<div class="table sectionedit14"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Interface Name </th><th class="col1"> Description </th><th class="col2"> Default configuration </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> br-lan </td><td class="col1 leftalign"> <abbr title="Local Area Network">LAN</abbr> &amp; WiFi         </td><td class="col2"> 192.168.1.1/24 </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> eth0   </td><td class="col1 leftalign"> WAN port           </td><td class="col2"> DHCP </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> eth1   </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> ports (1 to 4) </td><td class="col2"> None </td>
	</tr>
</table></div>

<p>
Both wireless links are disabled by default.
DHCP server is enabled by default on br-lan.
</p>

</div>

<h3 class="sectionedit15" id="vlan_support">VLAN Support</h3>
<div class="level3">

<p>
There is no support for VLANs on the PB44. This is a limitation of the firmware and/or driver for the VSC7395 switch; the hardware itself is capable of using VLANs.
</p>

</div>

<h3 class="sectionedit16" id="failsafe_mode">Failsafe mode</h3>
<div class="level3">

<p>
→ <a href="../../doc/howto/generic.failsafe" class="wikilink1" title="doc:howto:generic.failsafe">generic.failsafe</a>
</p>

</div>

<h3 class="sectionedit17" id="buttons">Buttons</h3>
<div class="level3">

<p>
→ <a href="../../doc/howto/hardware.button" class="wikilink1" title="doc:howto:hardware.button">hardware.button</a> on howto use and configure the hardware button(s).
</p>

<p>
<img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> The PB44 has two buttons, <code>RST</code> and <code>JPST</code>. Here, we merely name the buttons, so we can use them in the above Howto:
</p>
<div class="table sectionedit18"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> BUTTON </th><th class="col1"> Identifier </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Reset </td><td class="col1"> BTN_0 </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> JPST  </td><td class="col1"> BTN_1 </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit19" id="hardware">Hardware</h2>
<div class="level2">

</div>

<h3 class="sectionedit20" id="info">Info</h3>
<div class="level3">
<div class="table sectionedit21"><table class="inline">
	<tr class="row0">
		<td class="col0 leftalign"> <strong><a href="http://en.wikipedia.org/wiki/Instruction set" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Instruction set">Architecture</a>:</strong>    </td><td class="col1"> <a href="http://en.wikipedia.org/wiki/MIPS architecture" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/MIPS architecture">MIPS</a> </td>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign"> <strong>Vendor:</strong>          </td><td class="col1 leftalign"> <a href="http://en.wikipedia.org/wiki/Qualcomm Atheros" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Qualcomm Atheros">Qualcomm Atheros</a>   </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> <strong><a href="../../doc/techref/bootloader.1" class="wikilink1" title="doc:techref:bootloader">Bootloader</a>:</strong>     </td><td class="col1"> <a href="http://wiki.openwrt.org/doc/techref/bootloader/doc/techref/bootloader/redboot" class="wikilink2" title="doc:techref:bootloader:doc:techref:bootloader:redboot" rel="nofollow">RedBoot</a> </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/soc.1" class="wikilink1" title="doc:hardware:soc">System-On-Chip</a>:</strong>  </td><td class="col1"> AR7161 rev 2 (MIPS 24Kc) </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/cpu" class="wikilink1" title="doc:hardware:cpu">CPU</a>/Speed</strong>        </td><td class="col1"> 24Kc 680 <abbr title="Megahertz">MHz</abbr> </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> <strong>Flash-Chip:</strong>      </td><td class="col1"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> <a href="http://www.spansion.com/Support/Datasheets/S25FL064P_00_03_e.pdf" class="urlextern" title="http://www.spansion.com/Support/Datasheets/S25FL064P_00_03_e.pdf"  rel="nofollow">ST 25P64V6P</a> </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> <strong>Flash size:</strong>      </td><td class="col1"> 8192 KiB (NAND FLASH on SPI bus) </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> <strong>RAM:</strong>             </td><td class="col1 leftalign"> 64 MiB DDR @ 340 <abbr title="Megahertz">MHz</abbr>, 32 bit wide bus  </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> <strong>Wireless:</strong>        </td><td class="col1"> Atheros AR9160 w/AR2133 2.4GHz 3T3R 802.11bgn </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> <strong>Wireless:</strong>        </td><td class="col1"> Atheros AR9160 w/AR5133 2.4GHz&amp;5GHz 3T3R 802.11abgn </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign"> <strong>Ethernet:</strong>        </td><td class="col1"> 4 x GbE via VSC7385 switch without VLAN support </td>
	</tr>
	<tr class="row11">
		<td class="col0 leftalign"> <strong>Internet:</strong>        </td><td class="col1 leftalign"> GbE WAN port  </td>
	</tr>
	<tr class="row12">
		<td class="col0 leftalign"> <strong>USB:</strong>             </td><td class="col1 leftalign"> Yes 2 x 2.0     </td>
	</tr>
	<tr class="row13">
		<td class="col0 leftalign"> <strong><a href="../../OpenWrtDocs/Customizing/Hardware/Serial_Console" class="wikilink1" title="doc:hardware:port.serial">Serial</a>:</strong>  </td><td class="col1"> <a href="pb44#serial" title="toh:evaluation.boards:pb44 ↵" class="wikilink1">Yes</a> RS232/DB-9 connector </td>
	</tr>
	<tr class="row14">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/port.jtag" class="wikilink1" title="doc:hardware:port.jtag">JTAG</a>:</strong>      </td><td class="col1 leftalign"> <a href="pb44#jtag" title="toh:evaluation.boards:pb44 ↵" class="wikilink1">Yes</a>  </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit22" id="photos">Photos</h3>
<div class="level3">

<p>
<em>PCB:</em> 250-01488-030
</p>

<p>
(Mouse over devices for description)

<img src="../../_media/toh/evaluation.boards/pb44_pcb.jpg" width="834" height="1079" title="PB44" alt="PB44" usemap="#PB44Map">
<map name="PB44Map">
  <area shape="rect" coords="152,18,242,87" title="USB1" />
  <area shape="rect" coords="229,18,288,87" title="USB0" />
  <area shape="rect" coords="299,18,376,126" title="GbE WAN" />
  <area shape="rect" coords="385,18,652,126" title="GbE LANx4" />
  <area shape="rect" coords="87,18,133,87" title="12VDC Input" />
  <area shape="rect" coords="20,100,245,630" title="Power Supplies" />
  <area shape="rect" coords="357,333,420,460" title="DDR0 32 MB DDR RAM" />
  <area shape="rect" coords="488,333,550,460" title="DDR1 32 MB DDR RAM" />
  <area shape="rect" coords="303,152,362,211" title="VSC8601 GbE PHY" />
  <area shape="rect" coords="468,158,580,270" title="VSC7395 GbE Switch" />
  <area shape="rect" coords="389,502,455,570" title="AR7161 SOC/CPU" />
  <area shape="rect" coords="514,521,568,575" title="8 MB NAND FLASH" />
  <area shape="rect" coords="654,316,727,417" title="Audio CODEC" />
  <area shape="rect" coords="740,682,795,784" title="JTAG Header" />
  <area shape="rect" coords="736,849,800,925" title="Serial Header" />
  <area shape="rect" coords="743,423,789,664" title="SLIC (PCM) Header" />
  <area shape="rect" coords="723,411,747,433" title="SPI MISO (MasterInSlaveOut) Test Point" />
  <area shape="rect" coords="720,558,742,582" title="SPI MOSI (MasterOutSlaveIn) Test Point" />
  <area shape="rect" coords="639,540,671,569" title="SPI Clock Test Point" />
  <area shape="rect" coords="496,533,513,553" title="SPI Chip Select Test Point" />
  <area shape="rect" coords="515,485,545,514" title="Reset (active low) Test Point" />
  <area shape="rect" coords="60,628,170,652" title="PCI0 Power Test Points" />
  <area shape="rect" coords="480,611,701,636" title="PCI1 Power Test Points" />
  <area shape="rect" coords="662,8,706,63" title="Reset Button (BTN_1)" />
  <area shape="rect" coords="712,8,756,63" title="JPST Button (BTN_0)" />
  <area shape="rect" coords="81,659,373,695" title="MiniPCI Slot 0" />
  <area shape="rect" coords="440,659,731,695" title="MiniPCI Slot 1" />
  <area shape="rect" coords="81,696,373,916" title="MiniPCI Radio 0" />
  <area shape="rect" coords="440,696,731,916" title="MiniPCI Radio 1" />
  <area shape="rect" coords="121,1016,148,1067" title="Radio 0 LED (ath9k-phy0)" />
  <area shape="rect" coords="699,1016,726,1067" title="Radio 1 LED (ath9k-phy1)" />
  <area shape="rect" coords="468,1016,510,1067" title="Dual-color LED (pb44:amber:jump1, pb44:green:jump2)" />
  <area shape="rect" coords="166,1025,186,1046" title="Power LED" />
  <area shape="rect" coords="207,1025,230,1046" title="LAN Port 1 LED" />
  <area shape="rect" coords="252,1025,277,1046" title="LAN Port 2 LED" />
  <area shape="rect" coords="296,1025,320,1046" title="LAN Port 3 LED" />
  <area shape="rect" coords="342,1025,366,1046" title="LAN Port 4 LED" />
  <area shape="rect" coords="379,1025,406,1046" title="WAN Port LED" />

</map>

</p>

</div>

<h3 class="sectionedit23" id="leds">LEDS</h3>
<div class="level3">

<p>
The PB44 has several LEDs on board, some of which can be controlled by software, and some of which are controlled exclusively by hardware. Refer to the PCB image for locations.
</p>

</div>

<h5 id="hardware_controlled">Hardware Controlled</h5>
<div class="level5">

<p>
The WAN Ethernet port LED is controlled by the VAC8601 Phy chip. It glows green steadily when there is a good link, and flashes when there is activity on the port. The four <abbr title="Local Area Network">LAN</abbr> Ethernet port LEDs are controlled by the VSC7395 switch. They glow green when there is a good link on the port, and do not flash for activity.
</p>

</div>

<h5 id="software_controlled">Software Controlled</h5>
<div class="level5">

<p>
→ LEDs can be controlled via <a href="../../doc/uci/system#leds" class="wikilink1" title="doc:uci:system">UCI System Configuration</a> or <a href="../../doc/luci" class="wikilink1" title="doc:howto:luci.essentials">LuCI</a>, in the system tab.
</p>

<p>
A dual-color LED is provided for each mini-PCI slot, and is controlled by the card in the slot. Only the amber portion of the LED appears to be functional. Another dual-color LED is controlled via the AR7161 GPIO pins. These four LEDs are configured as:
</p>
<ul>
<li class="level1"><div class="li"> ath9k-phy0</div>
</li>
<li class="level1"><div class="li"> ath9k-phy1</div>
</li>
<li class="level1"><div class="li"> pb44:amber:jump1</div>
</li>
<li class="level1"><div class="li"> pb44:green:jump2</div>
</li>
</ul>

<p>
All LEDs and their connections, from left to right in the PCB image:
</p>
<div class="table sectionedit24"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> LED (PCB Marking) </th><th class="col1"> Color </th><th class="col2"> Functional? </th><th class="col3"> Hardware Connection </th><th class="col4"> Enumerated Name </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> MPCI 0 </td><td class="col1"> Green </td><td class="col2 leftalign"> No  </td><td class="col3"> MiniPCI slot 0, Pin 11 / AR9160 GPIO 0 </td><td class="col4"> - </td>
	</tr>
	<tr class="row2">
		<td class="col0"> MPCI 0 </td><td class="col1"> Amber </td><td class="col2"> Yes </td><td class="col3"> MiniPCI slot 0, Pin 12 / AR9160 GPIO 1 </td><td class="col4"> ath9k-phy0 </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> PWR    </td><td class="col1"> Green </td><td class="col2 leftalign"> No  </td><td class="col3"> GPIO 23 / PCF8575 pin P07 </td><td class="col4"> - </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> LAN1   </td><td class="col1"> Green </td><td class="col2"> Yes </td><td class="col3"> controlled by VSC7395 </td><td class="col4"> - </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> LAN2   </td><td class="col1"> Green </td><td class="col2"> Yes </td><td class="col3"> controlled by VSC7395 </td><td class="col4"> - </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> LAN3   </td><td class="col1"> Green </td><td class="col2"> Yes </td><td class="col3"> controlled by VSC7395 </td><td class="col4"> - </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> LAN4   </td><td class="col1"> Green </td><td class="col2"> Yes </td><td class="col3"> controlled by VSC7395 </td><td class="col4"> - </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> WAN    </td><td class="col1"> Green </td><td class="col2"> Yes </td><td class="col3"> controlled by VSC8601 </td><td class="col4"> - </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> JPST   </td><td class="col1"> Green </td><td class="col2"> Yes </td><td class="col3"> GPIO 26 / PCF8575 pin P13 </td><td class="col4"> pb44:green:jump2 </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign"> JPST   </td><td class="col1"> Amber </td><td class="col2"> Yes </td><td class="col3"> GPIO 25 / PCF8575 pin P12 </td><td class="col4"> pb44:amber:jump1 </td>
	</tr>
	<tr class="row11">
		<td class="col0"> MPCI 1 </td><td class="col1"> Green </td><td class="col2 leftalign"> No  </td><td class="col3"> MiniPCI slot 1, Pin 11 / AR9160 GPIO 0 </td><td class="col4"> - </td>
	</tr>
	<tr class="row12">
		<td class="col0"> MPCI 1 </td><td class="col1"> Amber </td><td class="col2"> Yes </td><td class="col3"> MiniPCI slot 1, Pin 12 / AR9160 GPIO 1 </td><td class="col4"> ath9k-phy1 </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit25" id="buttons1">Buttons</h3>
<div class="level3">

<p>
→ <a href="../../doc/howto/hardware.button" class="wikilink1" title="doc:howto:hardware.button">Hardware Buttons</a> General information about making use of hardware buttons.
</p>

<p>
The PB44 has two hardware buttons which can be configured to perform arbitrary actions when pressed (or released for that matter):
</p>
<ul>
<li class="level1"><div class="li"> &quot;JPST&quot;, configured as BTN_0</div>
</li>
<li class="level1"><div class="li"> &quot;RST&quot;, configured as BTN_1</div>
</li>
</ul>

</div>

<h3 class="sectionedit26" id="antennas">Antennas</h3>
<div class="level3">

<p>
The PB44 has three dual-band antennas which connect to the Mini PCI wireless boards using standard U.FL (aka IPX, aka UMCC) connectors. They are not removable in that they are not attached with RP-SMA connectors, but they are easily replaceable if desired. The U.FL connector with the red band is the 5 <abbr title="Gigahertz">GHz</abbr> antenna. The other is for the 2.4 <abbr title="Gigahertz">GHz</abbr> band. It is possible to use the 2.4 <abbr title="Gigahertz">GHz</abbr> antenna at 5 <abbr title="Gigahertz">GHz</abbr> with reduced efficiency (gain), but the 5 <abbr title="Gigahertz">GHz</abbr> antenna will function quite poorly at 2.4 <abbr title="Gigahertz">GHz</abbr>. Keep this in mind when deciding which radio to use in each band.
</p>

</div>

<h3 class="sectionedit27" id="serial">Serial</h3>
<div class="level3">

<p>
→ <a href="../../OpenWrtDocs/Customizing/Hardware/Serial_Console" class="wikilink1" title="doc:hardware:port.serial">port.serial</a> general information about the serial port, serial port cable, etc.
</p>

<p>
The PB44 main PCB has a 2x6 pin header with TTL level serial signals, but it also includes the required RS232-level converter board. To connect with serial, use a standard straight-through male to female DB-9 serial cable. Set your serial port to 115200 baud, 8/N/1 and no flow control.
</p>

</div>

<h3 class="sectionedit28" id="jtag">JTAG</h3>
<div class="level3">

<p>
→ <a href="../../doc/hardware/port.jtag" class="wikilink1" title="doc:hardware:port.jtag">port.jtag</a> general information about the JTAG port, JTAG cable, etc.
</p>

<p>
JTAG is available via a header on the PCB. <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> Pinout is not known.
</p>

</div>

<h2 class="sectionedit29" id="debricking">Debricking</h2>
<div class="level2">

<p>
→ <a href="../../doc/howto/generic.debrick" class="wikilink1" title="doc:howto:generic.debrick">generic.debrick</a>
</p>

</div>

<h2 class="sectionedit30" id="bootloader_mods">Bootloader Mods</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> you could read about <a href="../../doc/techref/bootloader.1" class="wikilink1" title="doc:techref:bootloader">bootloader</a> in general</div>
</li>
</ol>

<p>
The version of RedBoot that is pre-installed works well with OpenWRT. Unless you have a special requirement to do so, avoid modifying or upgrading the bootloader, as this may brick the router in a way that requires JTAG to recover (i.e. you probably won&#039;t recover it). As long as the RedBoot bootloader and its configuration remain intact in FLASH, you will almost always be able to recover a bricked router by flashing a fresh set of images using RedBoot.
</p>

</div>

<h2 class="sectionedit31" id="hardware_mods">Hardware mods</h2>
<div class="level2">

</div>

<h3 class="sectionedit32" id="mib_mod">128/256 MiB Mod</h3>
<div class="level3">

<p>
The AR7161 CPU is capable of addressing up to 256 <abbr title="Megabyte">MB</abbr> of memory. An upgrade to up to 256 <abbr title="Megabyte">MB</abbr> is therefore possible at least in theory, using two 64Mx16 (1024 Mbit) DDR chips. These are very rare, especially in TSSOP form (as opposed to BGA). More realistic is an upgrade to 128 <abbr title="Megabyte">MB</abbr> using two 32Mx16 (512 Mbit) DDR chips, which can occasionally be found on 512 <abbr title="Megabyte">MB</abbr> SO-DIMMs. Ensure that you use 400 <abbr title="Megahertz">MHz</abbr> (&quot;PC3200&quot;) chips, capable of CAS 2.5 (or better) at 333 <abbr title="Megahertz">MHz</abbr>, and CAS 3 (or better) at 400 <abbr title="Megahertz">MHz</abbr>.
</p>

</div>

<h3 class="sectionedit33" id="additional_gpio">Additional GPIO</h3>
<div class="level3">

<p>
If the SLIC (FXO/FXS) PCM telecom interface and/or I<sup>2</sup>S (Stereo Audio) interface are not going to be used, then the four GPIO pins that are used for each function can be re-used as GPIO instead. These are GPIO_2 through 5 for SLIC, and GPIO_6 through 8 and 11 for I<sup>2</sup>S. Ensure that bit 17 (I<sup>2</sup>S) and bit 16 (SLIC) of the GPIO Function register (0x18040028) are set to 0 to disable the respective functionality and to enable the pins as general purpose GPIO. OpenWRT does not include drivers for either SLIC or I<sup>2</sup>S, and these should be disabled by default.
</p>

<p>
The GPIO pins can be accessed using the pseudo files under /dev/class/gpio, or they may be registered by other custom device drivers for special functions such as to drive LEDs, to implement a bit-banged I<sup>2</sup>C or SPI bus, etc..
</p>

<p>
Electrical access to these GPIO is possible through the three 10-pin headers marked &quot;SLIC&quot; and the unnamed 30-pin header at the top of the board. For GPIO 6, 7, 8, and 11, some resistors may need to be moved/populated in order to divert the signals from the on-board CODEC (ADC/DAC) to the header. These are very small SMD resistors, so only those persons skilled and equipped to do SMD rework should attempt this.
</p>
<div class="table sectionedit34"><table class="inline">
	<tr class="row0">
		<td class="col0"> <img src="../../_media/meta/icons/tango/48px-emblem-progress.svg.png" class="medialeft" alt="" /> This has not been tested yet. </td>
	</tr>
</table></div>

<p>
<img src="../../lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /> Some GPIO may be limited to either input or output due to the use of a buffer IC between the AR7161 and the external device. In particular, GPIO 2 and 11 are used as inputs for SLIC and I<sup>2</sup>S respecitively, and should NEVER be configured to an output. This will cause the AR7161 and the buffer to each drive the signal, possibly to a different voltage, causing excess current and possible overheating or damage to the AR7161 or buffer IC.
</p>

<p>
If you are considering a bandwidth-heavy use for GPIO (such as a I<sup>2</sup>C or SPI bus, MMC-over-SPI, LCD, etc.) then use GPIO &lt; 16 instead of trying to use GPIO at &gt;= 16, which are controlled by a GPIO extender accessed over an I<sup>2</sup>C bus. The extra overhead of I<sup>2</sup>C access makes those higher numbered GPIO much slower and completely unsuitable for fast operation. (They are fine for LEDs).
</p>
<div class="table sectionedit35"><table class="inline">
	<tr class="row0">
		<td class="col0"> <img src="../../_media/meta/icons/tango/48px-construction.svg.png" class="medialeft" alt="" /> Pinout of the connectors is TDB. If you have this information, please add it here. </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit36" id="additional_i2c_devices">Additional I2C devices</h3>
<div class="level3">

<p>
A bit-banged I<sup>2</sup>C bus is implemented using GPIO 0 and 1. Due to the nature of I<sup>2</sup>C, more devices can easily be added. The only device on this I<sup>2</sup>C bus is the PCF8575 I/O expander at device 0x20. The PCF8575 is used to implement 16 additional GPIO (16 through 31) which are used primarily for the on-board LEDs and buttons. Any number of additional I<sup>2</sup>C devices can be added as long as addresses are unique and bus signal integrity is maintained. Various packages are available to scan the I<sup>2</sup>C bus for devices and to access the devices from the shell. Device-specific drivers can also be used, and of course custom drivers can also be developed.
</p>

<p>
Electrical access to the I<sup>2</sup>C data and clock can be obtained by soldering small wires directly to the respective pins of the PCF8575, or you can attempt to visually trace the bus signals to another point on the board.
</p>
<div class="table sectionedit37"><table class="inline">
	<tr class="row0">
		<td class="col0"> <img src="../../_media/meta/icons/tango/48px-emblem-progress.svg.png" class="medialeft" alt="" /> This has not been tested yet. </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit38" id="additional_leds">Additional LEDs</h3>
<div class="level3">

<p>
The RS232 converter board has three LEDs on it, one of which is dual-color. The required current limiting resistors are also present. These four LEDs can be driven directly from GPIO pins &#039;re-used&#039; as above, or from any other active-HI signal. For example, one each could be connected to the Tx and Rx signals for the console, to give a visual indication of serial port activity.
</p>
<div class="table sectionedit39"><table class="inline">
	<tr class="row0">
		<td class="col0"> <img src="../../_media/meta/icons/tango/48px-emblem-progress.svg.png" class="medialeft" alt="" /> This has not been tested yet. </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit40" id="overclocking">Overclocking</h2>
<div class="level2">
<div class="table sectionedit41"><table class="inline">
	<tr class="row0">
		<td class="col0"> <img src="../../_media/meta/icons/tango/48px-emblem-important.svg.png" class="medialeft" alt="" /> Prior to undertaking overclocking, be aware of the risks associated with operating your hardware beyond its intended/engineered parameters. Instability and data corruption may result, and permanent hardware damage is also a possibility. </td>
	</tr>
</table></div>
<div class="table sectionedit42"><table class="inline">
	<tr class="row0">
		<td class="col0"> <img src="../../_media/meta/icons/tango/48px-emblem-important.svg.png" class="medialeft" alt="" /> Consider attaching a heatsink to the AR7161 prior to increasing the CPU or PCI bus speeds. Excessive heat not only limits the performance (hot transistors don&#039;t switch as fast as cool ones), but also shortens the lifetime of the chips. </td>
	</tr>
</table></div>
<div class="table sectionedit43"><table class="inline">
	<tr class="row0">
		<td class="col0"> <img src="../../_media/meta/icons/tango/dialog-information.png" class="medialeft" alt="" /> This information may also apply to other routers that use the PB44 reference design and/or the AR9001AP-3NX2 chipset, and to a lesser extent, other AR71xx (AR7100) series CPUs. </td>
	</tr>
</table></div>
<div class="table sectionedit44"><table class="inline">
	<tr class="row0">
		<td class="col0"> <img src="../../_media/meta/icons/tango/dialog-information.png" class="medialeft" alt="" /> Some of this information may also apply to other routers using the RedBoot bootloader. </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit45" id="cpu">CPU</h3>
<div class="level3">

<p>
Overclocking the CPU and DDR memory is possible by directly manipulating the registers that control the PLL used to drive the CPU, DDR, and AHB (system bus) clocks. Note that while the base PLL clock speed can be changed, it is not possible to change the CPU/DDR ratio without also issuing a CPU reset. By default, the PLL is configured to 680 <abbr title="Megahertz">MHz</abbr>, with the CPU running at 1/1 of the PLL frequency (680 <abbr title="Megahertz">MHz</abbr>), the DDR running at 1/2 of the PLL Frequency (340 <abbr title="Megahertz">MHz</abbr>), and the AHB running at 1/4 of the PLL frequency (170 <abbr title="Megahertz">MHz</abbr>). By changing only the PLL frequency, all of these are changed simultaneously. An overclock to 720 <abbr title="Megahertz">MHz</abbr> CPU speed and 360 <abbr title="Megahertz">MHz</abbr> DDR speed (approximately +6%) should be easily achieved on most boards. Overclock to 760 OR 800 <abbr title="Megahertz">MHz</abbr> may or may not be possible depending on individual boards.
</p>

<p>
When overclocking, you may need to increase the CAS latency of the DDR RAM in order for it to continue to work normally. At 680 <abbr title="Megahertz">MHz</abbr> CPU / 340 <abbr title="Megahertz">MHz</abbr> DDR speed, RedBoot sets the CAS latency to 2.5. At 400 <abbr title="Megahertz">MHz</abbr> CPU / 400 <abbr title="Megahertz">MHz</abbr> DDR speed, the CAS latency is set to 3. Changing CAS latency on-the-fly is possible but somewhat risky. This must only be done in RedBoot (not in Linux) when RAM is not being accessed frequently. Both the DDR controller (of the AR7161) and the DDR RAM chips themselves need to be updated with the new CAS latency value. To do this, the &#039;DDR_CONFIG&#039; and &#039;DDR_MODE_REGISTER&#039; are updated, then the value 0x1 is written to the &#039;DDR_CONTROL&#039; register to initiate a &quot;MRS update cycle&quot; which sends the new configuration to the DDR chips. The following will achieve this:
<pre class="code">ar7100_reg_wr 0x18000000 0x77b8884e;ar7100_reg_wr 0x18000008 0x33;ar7100_reg_wr 0x18000010 0x1</pre>

</p>

<p>
Note that the serial console baud rate is based on the AHB bus speed, so changing the PLL (and thereby the AHB) speed results in the baud rate changing as a side effect. Therefore, if the PLL is adjusted using the RedBoot console command prompt, the console is rendered unusable. The workaround is to string together several commands (with &#039;;&#039; between each) which update the PLL, and the baud rate in a single line.
</p>

<p>
Note that PCI and Ethernet interface clocks are derived from a secondary PLL, and are not affected by the adjustment of the primary (CPU) PLL.
</p>

<p>
All registers associated with overclocking can be (and must be) manipulated from RedBoot prior to the Linux kernel being executed. The following is an example:
<pre class="code">ar7100_reg_rd 0x18050000</pre>

value of 0xC0140080 is returned
<pre class="code">ar7100_reg_wr 0x18050000 0x80140088</pre>

</p>
<ol>
<li class="level1"><div class="li"> increases the PLL Feedback divider by 1, increasing PLL frequency by 40 <abbr title="Megahertz">MHz</abbr> (to 720 <abbr title="Megahertz">MHz</abbr>).</div>
</li>
<li class="level1"><div class="li"> bits 3 through 7 of this register control the PLL divisor (effectively the multiplier, x 40 <abbr title="Megahertz">MHz</abbr>). e.g for 0xc0140080, bits 3..7 give b10000, which is 16. Add 1 and multiply by 40 <abbr title="Megahertz">MHz</abbr> to get 680 <abbr title="Megahertz">MHz</abbr>.</div>
</li>
</ol>

<p>
<img src="../../lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /> Running the above command will immediately cause the serial console to stop working as the baud rate will be wrong. See below for examples of correcting the baud rate.
</p>

</div>

<h4 id="pushing_the_limits_-_overvolting">Pushing the limits - Overvolting</h4>
<div class="level4">
<div class="table sectionedit46"><table class="inline">
	<tr class="row0">
		<td class="col0"> <img src="../../_media/meta/icons/tango/48px-dialog-error-round.svg.png" class="medialeft" alt="" /> Don&#039;t do this </td>
	</tr>
</table></div>

<p>
Can&#039;t get your router to work at 800 <abbr title="Megahertz">MHz</abbr> but desperately want to, for some reason? Try over-volting the CPU! Actually, don&#039;t. You&#039;ll probably fry your very nice router. You&#039;ve been warned.
</p>

<p>
The CPU operates on 1.20 V nominal, with a maximum recommended operating voltage of 1.24 V. Identify the power supply that provides the 1.20 V for the CPU and measure it. If it is less than 1.24 V, try increasing it. If you don&#039;t know how to do that, then don&#039;t bother trying. You&#039;ll just end up destroying your router. If you have the skills to pull off this modification, then you may be able to squeeze a few more <abbr title="Megahertz">MHz</abbr> from your CPU.
</p>

<p>
<img src="../../lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /> Don&#039;t even try this without a heatsink on the AR7161 CPU. Power dissipation (read: HEAT) increases with the square of voltage increase, so bumping up voltage by a measly 10% will increase power by 21%! … and that&#039;s at the same frequency. Add the propertional increase in heat caused by increasing frequency (+10% speed = +10% heat) and you can see that heat becomes a problem very quickly. At 10% increase in voltage with a 10% increase in clock speed, produces 33% more heat!
</p>

</div>

<h3 class="sectionedit47" id="pci">PCI</h3>
<div class="level3">

<p>
The PCI bus of the AR7161 is specified to operate at up to 66 <abbr title="Megahertz">MHz</abbr>. The AR9160 based Mini-PCI cards can also operate at 66 <abbr title="Megahertz">MHz</abbr>. There are no other devices on the PCI bus. It should therefore be possible to switch the PCI bus to 66 <abbr title="Megahertz">MHz</abbr> operation to increase PCI throughput. By modifying the PCI Clock Control Register, it is possible to adjust the PCI clock rate to an (almost) arbitrary value. The PCI clock is derived from the secondary PLL, which is nominally set to 1 <abbr title="Gigahertz">GHz</abbr>. in order to adjust the PCI clocking in RedBoot, refer to the following examples:
</p>

<p>
<pre class="code">ar7100_reg_rd 0x1805001C</pre>

returns 0x000000EE which is 33 <abbr title="Megahertz">MHz</abbr> (0xE+1=0xF=15 clock counts at Hi state, then 0xE→15 clock counts at Lo state, total is 30 counts, 1000 <abbr title="Megahertz">MHz</abbr> / 30 = 33.33 <abbr title="Megahertz">MHz</abbr>).
</p>

<p>
Set to 66 <abbr title="Megahertz">MHz</abbr>:
<pre class="code">ar7100_reg_wr 0x1805001C 0x76</pre>

Sets the Hi phase clock counts to 8 (7+1) and low phase to 7 (6+1), which is 15 counts total, so at 1 Ghz, the clock period is (1000 <abbr title="Megahertz">MHz</abbr>)/15 = 66.66 <abbr title="Megahertz">MHz</abbr>
</p>

<p>
This has the potential to have an actual positive effect on system performance, as at 300 Mbit/s on each of the two radios, up to 300/8 = 35 <abbr title="Megabyte">MB</abbr>/s of PCI bandwidth may be consumed by each radio. That does not include the address cycles or any other reads/writes other than the raw transmitted and received data. It is therefore possible that the PCI bus is utilized at &gt;75% when the radios are very busy. Increasing to 66 <abbr title="Megahertz">MHz</abbr> operation will reduce the PCI bus utilization to &lt;50% in all conditions, potentially reducing hardware and software latency in accessing data over the bus.
</p>

<p>
<img src="../../lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /> Be aware of the risk of data corruption. Do a lot of testing prior to implementing this permanently (so far I personally have seen no issues). Be aware of extra heat generated in the AR7161 due to the increased speed.
</p>

</div>

<h3 class="sectionedit48" id="automatic_overclocking">Automatic Overclocking</h3>
<div class="level3">

<p>
While it is possible to run the above commands manually at the RedBoot prompt, it would be convenient to have those commands run automatically at startup. This is possible by adding the commands to RedBoot&#039;s &#039;fconfig&#039; startup script. Due to the large number of commands and the size of them, they occupy more space than is available to store the script. To work around this, aliases can becreated to significantly reduce the size of the script.
</p>

<p>
First create the aliases. Answer &quot;n&quot; to update fconfig except after the last one.
<pre class="code">alias pci &quot;ar7100_reg_wr 0x1805001c &quot;
n
alias pll &quot;ar7100_reg_wr 0xb8050000 &quot;
n
alias com &quot;ar7100_reg_wr 0xb802000&quot;
n
alias ddr &quot;ar7100_reg_wr 0xb80000&quot;
n
alias boot &quot;fis load -l vmlinux;exec&quot;
y</pre>

</p>

</div>

<h4 id="mhz">720 MHz</h4>
<div class="level4">

<p>
The following &#039;fconfig&#039; boot script will set the PCI to 66 <abbr title="Megahertz">MHz</abbr>, set the PLL to 720 <abbr title="Megahertz">MHz</abbr> (720/360/180 Mhz CPU/DDR/AHB speed), update the baud rate to 115200, and load and boot the linux kernel. DDR CAS latency remains 2.5. This configuration is stable on my router.
<pre class="code">%{pci}0x76
%{pll}0x140188;%{pll}0x80143188;%{com}c 0x80;%{com}0 98;%{com}4 0;%{com}c 0;%{com}c 3
%{boot}</pre>

<img src="../../lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /> The value of &#039;98&#039; above is used to set the baud rate. It is calculated as follows: AHB Speed in Hz / ( 16 * BaudRate). E.g. 180000000/(16*115200) = 97.65625 = 98
</p>

</div>

<h4 id="mhz1">760 MHz</h4>
<div class="level4">

<p>
The following &#039;fconfig&#039; boot script will set the PCI to 66 <abbr title="Megahertz">MHz</abbr>, set the DDR CAS latency to 3, set the PLL to 760 <abbr title="Megahertz">MHz</abbr> (760/380/190 Mhz CPU/DDR/AHB speed), update the baud rate to 115200, and load and boot the linux kernel. (This configuration will boot but is not stable on my router).
<pre class="code">%{pci}0x76
%{ddr}00 0x77b8884e;%{ddr}08 0x33;%{ddr}10 1
%{pll}0x140190;%{pll}0x80143190;%{com}c 0x80;%{com}0 103;%{com}4 0;%{com}c 0;%{com}c 3
%{boot}</pre>

</p>

</div>

<h4 id="mhz2">800 MHz</h4>
<div class="level4">

<p>
The following &#039;fconfig&#039; boot script will set the PCI to 66 <abbr title="Megahertz">MHz</abbr>, set the DDR CAS latency to 3, set the PLL to 800 <abbr title="Megahertz">MHz</abbr> (800/400/200 Mhz CPU/DDR/AHB speed), update the baud rate to 115200, and load and boot the linux kernel. (This configuration will not boot on my router).
<pre class="code">%{pci}0x76
%{ddr}00 0x77b8884e;%{ddr}08 0x33;%{ddr}10 1
%{pll}0x140198;%{pll}0x80143198;%{com}c 0x80;%{com}0 109;%{com}4 0;%{com}c 0;%{com}c 3
%{boot}</pre>

</p>

<p>
Success? Failure? Discuss your overclocking results <a href="https://forum.openwrt.org/viewtopic.php?id=36585" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=36585"  rel="nofollow">in the OpenWrt forum</a>.
</p>
<div class="table sectionedit49"><table class="inline">
	<tr class="row0">
		<td class="col0"> <img src="../../_media/meta/icons/tango/dialog-information.png" class="medialeft" alt="" /> If you push the limits too high and the router crashes, then power cycle the router. When the bootloader loads, it uses the default stable configuration, but you must stop RedBoot from booting using ctl-C. Then you can update the boot script to remove/change the overclock. </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit50" id="notes">Notes</h2>
<div class="level2">

</div>

<h2 class="sectionedit51" id="tags">Tags</h2>
<div class="level2">
<div class="tags"><span>
	<a href="../../tag/gigabitethernet?do=showtag&amp;tag=GigabitEthernet" class="wikilink1" title="tag:gigabitethernet" rel="tag">GigabitEthernet</a>,
	<a href="../../tag/fastethernet?do=showtag&amp;tag=FastEthernet" class="wikilink1" title="tag:fastethernet" rel="tag">FastEthernet</a>,
	<a href="../../tag/5port?do=showtag&amp;tag=5Port" class="wikilink1" title="tag:5port" rel="tag">5Port</a>,
	<a href="../../tag/2nic?do=showtag&amp;tag=2NIC" class="wikilink1" title="tag:2nic" rel="tag">2NIC</a>,
	<a href="../../tag/usb?do=showtag&amp;tag=USB" class="wikilink1" title="tag:usb" rel="tag">USB</a>,
	<a href="../../tag/2usb?do=showtag&amp;tag=2USB" class="wikilink1" title="tag:2usb" rel="tag">2USB</a>,
	<a href="../../tag/minipci?do=showtag&amp;tag=MiniPCI" class="wikilink1" title="tag:minipci" rel="tag">MiniPCI</a>,
	<a href="../../tag/2wnic?do=showtag&amp;tag=2WNIC" class="wikilink1" title="tag:2wnic" rel="tag">2WNIC</a>,
	<a href="../../tag/ath9k?do=showtag&amp;tag=ath9k" class="wikilink1" title="tag:ath9k" rel="tag">ath9k</a>,
	<a href="../../tag/3ant?do=showtag&amp;tag=3Ant" class="wikilink1" title="tag:3ant" rel="tag">3Ant</a>,
	<a href="../../tag/detachableantenna" class="wikilink1" title="tag:detachableantenna" rel="tag">DetachableAntenna</a>,
	<a href="../../tag/802.11abgn?do=showtag&amp;tag=802.11abgn" class="wikilink1" title="tag:802.11abgn" rel="tag">802.11abgn</a>,
	<a href="../../tag/802.11abgn_simultan?do=showtag&amp;tag=802.11abgn_simultan" class="wikilink1" title="tag:802.11abgn_simultan" rel="tag">802.11abgn simultan</a>,
	<a href="../../tag/64ram?do=showtag&amp;tag=64RAM" class="wikilink1" title="tag:64ram" rel="tag">64RAM</a>,
	<a href="../../tag/8flash?do=showtag&amp;tag=8Flash" class="wikilink1" title="tag:8flash" rel="tag">8Flash</a>,
	<a href="../../tag/mips?do=showtag&amp;tag=MIPS" class="wikilink1" title="tag:mips" rel="tag">MIPS</a>,
	<a href="../../tag/mips32?do=showtag&amp;tag=MIPS32" class="wikilink1" title="tag:mips32" rel="tag">MIPS32</a>,
	<a href="../../tag/24kc?do=showtag&amp;tag=24Kc" class="wikilink1" title="tag:24kc" rel="tag">24Kc</a>,
	<a href="../../tag/fxo?do=showtag&amp;tag=fxo" class="wikilink1" title="tag:fxo" rel="tag">fxo</a>,
	<a href="../../tag/devboard?do=showtag&amp;tag=devBoard" class="wikilink1" title="tag:devboard" rel="tag">devBoard</a>
</span></div>

</div>
<div class="footnotes">
<div class="fn"><sup><a href="pb44#fnt__1" id="fn__1" class="fn_bot">1)</a></sup> 
See <a href="../../_media/toh/evaluation.boards/ar9001ap3nx2.pdf" class="media mediafile mf_pdf" title="toh:evaluation.boards:ar9001ap3nx2.pdf (73.7 KB)">ar9001ap3nx2.pdf</a></div>
</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/evaluation.boards/pb44.txt</bdi> · Last modified: 2015/04/29 06:52 by <bdi>Kathrincolyn</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="pb44?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="pb44?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="pb44?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="pb44#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Aevaluation.boards%253Apb44&amp;1432266748" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
