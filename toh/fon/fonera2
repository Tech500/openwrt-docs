<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>Fon Fonera+ and Fonera 2.0g [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="fastethernet,2port,serial,integrated,802.11bg,detachableantenna,16ram,8flash,mips,4kec,usb,32ram"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="fonera2?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:fon"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/fon/fonera2"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/fon/fonera2"/>
<link rel="canonical" href="fonera2"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:fon';var JSINFO = {"id":"toh:fon:fonera2","namespace":"toh:fon"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432266228 166.182.3.17';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="fonera2#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="fonera2?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="fonera2?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:fon:fonera2" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="fonera2?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="fonera2?do=media&amp;ns=toh%253Afon"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="fonera2?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:fon:start">Fon</a></bdi> » <bdi><span class="curid"><a href="fonera2" class="wikilink1" title="toh:fon:fonera2">Fon Fonera+ and Fonera 2.0g</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/fon/fonera2" class="media" title="cz:toh:fon:fonera2"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/fon/fonera2" class="media" title="de:toh:fon:fonera2"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="fonera2" class="media" title="toh:fon:fonera2"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/fon/fonera2" class="media" title="es:toh:fon:fonera2"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/fon/fonera2" class="media" title="fr:toh:fon:fonera2"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/fon/fonera2" class="media" title="hu:toh:fon:fonera2"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/fon/fonera2" class="media" title="jp:toh:fon:fonera2"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/fon/fonera2" class="media" title="pl:toh:fon:fonera2"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/fon/fonera2" class="media" title="pt-br:toh:fon:fonera2"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/fon/fonera2" class="media" title="ru:toh:fon:fonera2"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/fon/fonera2" class="media" title="tr:toh:fon:fonera2"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/fon/fonera2" class="media" title="zh-cn:toh:fon:fonera2"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/fon/fonera2" class="media" title="zh-tw:toh:fon:fonera2"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:fon:fonera2</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="fonera2#supported_versions">Supported Versions</a></div></li>
<li class="level1"><div class="li"><a href="fonera2#hardware_highlights">Hardware Highlights</a></div></li>
<li class="level1"><div class="li"><a href="fonera2#installation">Installation</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="fonera2#method_1_with_tftp_server">Method 1 (with tftp server)</a></div></li>
<li class="level2"><div class="li"><a href="fonera2#method_2_without_tftp">Method 2 (without tftp)</a></div></li>
<li class="level2"><div class="li"><a href="fonera2#method_3_with_fon_flash_application">Method 3 (with Fon Flash application)</a></div></li>
<li class="level2"><div class="li"><a href="fonera2#enabling_redboot_on_fonera">Enabling Redboot on Fonera+</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="fonera2#upgrading_openwrt">Upgrading OpenWrt</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="fonera2#luci_web_upgrade_process">LuCI Web Upgrade Process</a></div></li>
<li class="level2"><div class="li"><a href="fonera2#terminal_upgrade_process">Terminal Upgrade Process</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="fonera2#hardware">Hardware</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="fonera2#fonera_fon2201">Fonera+ (FON2201)</a></div></li>
<li class="level2"><div class="li"><a href="fonera2#fonera_20g_fon2202">Fonera 2.0g (FON2202)</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="fonera2#info">Info</a></div></li>
<li class="level3"><div class="li"><a href="fonera2#opening_the_case">Opening the case</a></div></li>
<li class="level3"><div class="li"><a href="fonera2#serial">Serial</a></div></li>
<li class="level3"><div class="li"><a href="fonera2#interfaces">Interfaces</a></div></li>
<li class="level3"><div class="li"><a href="fonera2#buttons">Buttons</a></div></li>
<li class="level3"><div class="li"><a href="fonera2#other_info">Other Info</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="fonera2#hardware_hacks">Hardware Hacks</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="fonera2#second_antenna_fon2201">Second antenna (FON2201)</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="fonera2#tags">Tags</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="fon_fonera_and_fonera_20g">Fon Fonera+ and Fonera 2.0g</h1>
<div class="level1">

<p>
The Fonera 2.0g is the successor of the Fonera+ offered by Fon. Its an Atheros AP51 reference design, features a two-port fast ethernet switch and a USB 2.0 host port. Fonera+ and Fonera 2.0g are based on same hardware design, former lacking USB and having less memory.
</p>

<p>
This model is not sold anymore and has been superseded by the RaLink SoC based Fonera 2.0n.
</p>

</div>

<h2 class="sectionedit2" id="supported_versions">Supported Versions</h2>
<div class="level2">
<div class="table sectionedit3"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Version/Model </th><th class="col1"> S/N </th><th class="col2"> OpenWrt Version Supported </th><th class="col3"> Model Specific Notes </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Fonera+ (FON2201) </td><td class="col1"> - </td><td class="col2"> 8.09+ </td><td class="col3"> No special issues </td>
	</tr>
	<tr class="row2">
		<td class="col0"> Fonera 2.0g (FON2202) </td><td class="col1"> - </td><td class="col2"> 8.09+ </td><td class="col3"> No special issues </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit4" id="hardware_highlights">Hardware Highlights</h2>
<div class="level2">
<div class="table sectionedit5"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Model </th><th class="col1"> CPU </th><th class="col2"> Ram </th><th class="col3"> Flash </th><th class="col4"> Network </th><th class="col5"> USB </th><th class="col6"> Serial </th><th class="col7"> JTag </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Fonera+ (FON2201) </td><td class="col1"> Atheros AR2315@180MHz </td><td class="col2"> 16MiB </td><td class="col3"> 8MiB </td><td class="col4"> 1 x 1 </td><td class="col5"> No </td><td class="col6"> Yes </td><td class="col7"> No </td>
	</tr>
	<tr class="row2">
		<td class="col0"> Fonera 2.0g (FON2202) </td><td class="col1"> Atheros AR2315@180MHz </td><td class="col2"> 32MiB </td><td class="col3"> 8MiB </td><td class="col4"> 1 x 1 </td><td class="col5"> Yes </td><td class="col6"> Yes </td><td class="col7"> No </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit6" id="installation">Installation</h2>
<div class="level2">

<p>
Access to Redboot is required for initial installation and recovery.
The bootloader can be reached via serial cable or by telnet on port 9000. Not all shipped units have Redboot telnet enabled by default, a serial cable might be required. While writing to flash router will stop answering ping and you might lose telnet connection. Leave ping running and reconnect telnet when you receive answer. Be patient as writing to flash will take several minutes.
</p>

</div>

<h3 class="sectionedit7" id="method_1_with_tftp_server">Method 1 (with tftp server)</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Connect the PC via ethernet to one of the Foneras ethernet ports, set the IP to 192.168.1.2, netmask 255.255.255.0</div>
</li>
<li class="level1"><div class="li"> Prepare a TFTP server on the PC, download the <code>openwrt-atheros-vmlinux.lzma</code> and <code>openwrt-atheros-root.squashfs</code> to the TFTP directory</div>
</li>
<li class="level1"><div class="li"> Switch to the Reboot prompt</div>
</li>
<li class="level1"><div class="li"> Set the Fonera IP address: <code>ip_address -l 192.168.1.1/24</code></div>
</li>
<li class="level1"><div class="li"> Specify the TFTP server address: <code>ip_address -h 192.168.1.2</code></div>
</li>
<li class="level1"><div class="li"> Create a clean partition table: <code>fis init</code></div>
</li>
<li class="level1"><div class="li"> Download the kernel: <code>load -r -v -b 0x80041000 openwrt-atheros-vmlinux.lzma</code></div>
</li>
<li class="level1"><div class="li"> Flash the kernel: <code>fis create kernel</code></div>
</li>
<li class="level1"><div class="li"> Download the rootfs: <code>load -r -v -b 0x80041000 openwrt-atheros-root.squashfs</code></div>
</li>
<li class="level1"><div class="li"> Flash the rootfs: <code>fis create rootfs</code></div>
</li>
<li class="level1"><div class="li"> Configure the boot parameters: <code>fconfig</code></div>
<ul>
<li class="level2"><div class="li"> When prompted for the boot script, enter:<br/>
<code>fis load -l kernel
exec</code></div>
</li>
<li class="level2"><div class="li"> To enable Redboot telnet access, set &quot;Local IP address&quot; to <code>192.168.1.1</code> and &quot;Local IP address mask&quot; to <code>255.255.255.0</code></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Restart the device: <code>reset</code></div>
</li>
</ul>

</div>

<h3 class="sectionedit8" id="method_2_without_tftp">Method 2 (without tftp)</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Download the <code>openwrt-atheros-vmlinux.lzma</code> and <code>openwrt-atheros-root.squashfs</code></div>
</li>
<li class="level1"><div class="li"> Open RedBoot prompt with minicom and serial cable connection:<br/>
<code>minicom -b 9600 -D /dev/ttyUSB0</code></div>
</li>
<li class="level1"><div class="li"> Change serial speed to 115200 in RedBoot:<br/>
<code>baudrate -b 115200</code></div>
</li>
<li class="level1"><div class="li"> Change serial speed to 115200 in minicom:<br/>
<code>Crtl+a p</code></div>
</li>
<li class="level1"><div class="li"> Configure the boot parameters:<br/>
<code>fconfig</code></div>
<ul>
<li class="level2"><div class="li"> When prompted for the boot script, enter:<br/>
<code>fis load -l kernel
exec</code></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Create a clean partition table:<br/>
<code>fis init</code></div>
</li>
<li class="level1"><div class="li"> Load the kernel via ymodem:<br/>
<code>load -m ymodem -r -v -b 0x80041000 openwrt-atheros-vmlinux.lzma</code></div>
</li>
<li class="level1"><div class="li"> Select kernel image openwrt-atheros-vmlinux.lzma via:<br/>
<code>Ctrl+a s</code></div>
</li>
<li class="level1"><div class="li"> Flash the kernel:<br/>
<code>fis create kernel</code></div>
</li>
<li class="level1"><div class="li"> Load rootfs via ymodem:<br/>
<code>load -m ymodem -r -v -b 0x80041000 openwrt-atheros-root.squashfs</code></div>
</li>
<li class="level1"><div class="li"> Select rootfs image openwrt-atheros-root.squashfs via:<br/>
<code>Ctrl+a s</code></div>
</li>
<li class="level1"><div class="li"> Flash the rootfs:<br/>
<code>fis create rootfs</code></div>
</li>
<li class="level1"><div class="li"> Restart the device:<br/>
<code>reset</code></div>
</li>
</ul>

</div>

<h3 class="sectionedit9" id="method_3_with_fon_flash_application">Method 3 (with Fon Flash application)</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Download the <code>openwrt-atheros-vmlinux.lzma</code> and <code>openwrt-atheros-root.squashfs</code></div>
</li>
<li class="level1"><div class="li"> Download the <code>Fon Flash</code> application from <a href="http://www.gargoyle-router.com/download.php" class="urlextern" title="http://www.gargoyle-router.com/download.php"  rel="nofollow">http://www.gargoyle-router.com/download.php</a></div>
</li>
<li class="level1"><div class="li"> Make sure your Fonera device is powered down</div>
</li>
<li class="level1"><div class="li"> Start the <code>fon-flash-gui</code> application</div>
</li>
<li class="level1"><div class="li"> You may be asked for sudo authentication</div>
</li>
<li class="level1"><div class="li"> Select OpenWrt/Gargoyle for in Select Firmware Type dropdown.</div>
</li>
<li class="level1"><div class="li"> Select the network interface you have connected to your Fonera device in the Select Network Interface dropdown</div>
</li>
<li class="level1"><div class="li"> Use the Select Rootfs Browse button to select the <code>openwrt-atheros-root.squashfs</code> file</div>
</li>
<li class="level1"><div class="li"> Use the Select Kernel File Browse button to select the <code>openwrt-atheros-vmlinux.lzma</code> file</div>
</li>
<li class="level1"><div class="li"> Select the Flash Router Now! button.</div>
</li>
<li class="level1"><div class="li"> Power on the Fonera device</div>
</li>
<li class="level1"><div class="li"> A popup will appear when the firware has been successfully loaded.</div>
</li>
</ul>

</div>

<h3 class="sectionedit10" id="enabling_redboot_on_fonera">Enabling Redboot on Fonera+</h3>
<div class="level3">

<p>
Some Fonera+ units don&#039;t have Redboot telnet access enabled by default, however it can be enabled by preforming the following steps:
</p>
<ul>
<li class="level1"><div class="li"> Flash a beta developer edition of a firmware onto the Fonera, developer builds have ssh enabled.</div>
</li>
<li class="level1"><div class="li"> Flash a firmware that is able to write to the Redboot configuration partition, enter:<br/>
<code>ssh root@192.168.10.1
cd /tmp
wget <a href="ftp://downloads.linwin-solutions.com/hxcwyxwr/fonera_openwrt/FON2202_2.2.5.0_Flipper_RedBootC_VoteGOP.image" class="urlextern" title="ftp://downloads.linwin-solutions.com/hxcwyxwr/fonera_openwrt/FON2202_2.2.5.0_Flipper_RedBootC_VoteGOP.image"  rel="nofollow">ftp://downloads.linwin-solutions.com/hxcwyxwr/fonera_openwrt/FON2202_2.2.5.0_Flipper_RedBootC_VoteGOP.image</a>
uci set registered.fonreg.dev=1
uci commit
tar cvzf sysupgrade.tgz /etc/passwd /etc/group /etc/dropbear /etc/samba/smbpasswd /etc/samba/secrets.tdb /etc/config/firewall /etc/config/upnpd /etc/config/umtsd /etc/config/registered /etc/config/gdata /etc/config/facebook /etc/config/flickr /etc/config/mountd /etc/config/fon /etc/config/ddns /etc/config/wizard /etc/pureftpd.pdb /etc/pureftpd.passwd /etc/config/luci_dlmanager /etc/config/twitter /etc/config/firewall
mtd -j sysupgrade.tgz -r write FON2202_2.2.5.0_Flipper_RedBootC_VoteGOP.image image
reboot</code></div>
</li>
<li class="level1"><div class="li"> Once your Fonera has rebooted, flash a Redboot configuration partition that has telnet enabled: <br/>
<code>ssh 192.168.10.1
cd /tmp
wget <a href="ftp://downloads.linwin-solutions.com/hxcwyxwr/fonera_openwrt/out.hex" class="urlextern" title="ftp://downloads.linwin-solutions.com/hxcwyxwr/fonera_openwrt/out.hex"  rel="nofollow">ftp://downloads.linwin-solutions.com/hxcwyxwr/fonera_openwrt/out.hex</a>
mtd -e &quot;RedBoot config&quot; write out.hex &quot;RedBoot config&quot;
reboot</code></div>
</li>
<li class="level1"><div class="li"> While your fonera is booting up, you should have about 10 seconds to telnet into 192.168.1.254 on port 9000 to access the Redboot console.</div>
</li>
</ul>

</div>

<h2 class="sectionedit11" id="upgrading_openwrt">Upgrading OpenWrt</h2>
<div class="level2">

<p>
If you have already installed OpenWrt and like to reflash for e.g. upgrading to a new OpenWrt version you can upgrade using the sysupgrade utility.
It is important that you put the firmware image into the ramdisk (/tmp) before you start flashing.
</p>

</div>

<h3 class="sectionedit12" id="luci_web_upgrade_process">LuCI Web Upgrade Process</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li">Browse to <a href="http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/" class="urlextern" title="http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/"  rel="nofollow">http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/</a> LuCI Upgrade <abbr title="Uniform Resource Locator">URL</abbr></div>
</li>
<li class="level1"><div class="li">Upload <code>openwrt-atheros-combined.squashfs.img</code> file to LuCI</div>
</li>
<li class="level1"><div class="li">Wait for reboot</div>
</li>
</ul>

</div>

<h3 class="sectionedit13" id="terminal_upgrade_process">Terminal Upgrade Process</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li">Login as root via SSH on 192.168.1.1</div>
</li>
<li class="level1"><div class="li">Use the following commands to upgrade.</div>
</li>
</ul>

<p>
<pre class="code">cd /tmp/
wget http://downloads.openwrt.org/latest/atheros/openwrt-atheros-combined.squashfs.img
sysupgrade /tmp/openwrt-atheros-combined.squashfs.img</pre>

</p>
<ul>
<li class="level1"><div class="li">If sysupgrade does not support this router, you have to reflash via <a href="fonera2#installation" title="toh:fon:fonera2 ↵" class="wikilink1">Redboot</a>.</div>
</li>
</ul>

</div>

<h2 class="sectionedit14" id="hardware">Hardware</h2>
<div class="level2">

</div>

<h3 class="sectionedit15" id="fonera_fon2201">Fonera+ (FON2201)</h3>
<div class="level3">

<p>
FON2201 PCB front
<a href="../../_detail/media/toh/fon2201-pcb-front.jpg?id=toh%253Afon%253Afonera2" class="media" title="media:toh:fon2201-pcb-front.jpg"><img src="../../_media/media/toh/fon2201-pcb-front.jpg" class="media" title="fon2201-pcb-front.jpg" alt="fon2201-pcb-front.jpg" /></a>
</p>

<p>
FON2201 PCB back
<a href="../../_detail/media/toh/fon2201-pcb-back.jpg?id=toh%253Afon%253Afonera2" class="media" title="media:toh:fon2201-pcb-back.jpg"><img src="../../_media/media/toh/fon2201-pcb-back.jpg" class="media" title="fon2201-pcb-back.jpg" alt="fon2201-pcb-back.jpg" /></a>
</p>

</div>

<h3 class="sectionedit16" id="fonera_20g_fon2202">Fonera 2.0g (FON2202)</h3>
<div class="level3">

</div>

<h4 id="info">Info</h4>
<div class="level4">
<div class="table sectionedit17"><table class="inline">
	<tr class="row0">
		<td class="col0"> <strong>Architecture:</strong> MIPS </td>
	</tr>
	<tr class="row1">
		<td class="col0"> <strong>Vendor:</strong> Accton/FON </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <strong>Bootloader:</strong> Redboot </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <strong>System-On-Chip:</strong> Atheros AR2315A </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <strong>CPU Speed:</strong> 180 Mhz </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <strong>Flash-Chip:</strong> MX 5L6405MC-20G </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <strong>Flash size:</strong> 8 MiB </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <strong>RAM:</strong> 32 MiB </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <strong>Wireless:</strong> Atheros AR2315A WiSoC 802.11b/g (integrated) </td>
	</tr>
	<tr class="row9">
		<td class="col0"> <strong>Ethernet:</strong> Marvell 88E6060 Fast Ethernet Switch </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <strong>USB:</strong> NEC D72010 USB 2.0 Controller (1 Port) </td>
	</tr>
	<tr class="row11">
		<td class="col0"> <strong>Serial:</strong> <a href="fonera2#serial" title="toh:fon:fonera2 ↵" class="wikilink1">Yes</a> </td>
	</tr>
	<tr class="row12">
		<td class="col0"> <strong>JTAG:</strong> No </td>
	</tr>
</table></div>

</div>

<h4 id="opening_the_case">Opening the case</h4>
<div class="level4">

<p>
<strong>Note:</strong> This will void your warranty!
</p>
<ul>
<li class="level1"><div class="li"> Remove the both screws under the front rubber feet</div>
</li>
<li class="level1"><div class="li"> Gently tear off the top cover</div>
</li>
</ul>

</div>

<h4 id="serial">Serial</h4>
<div class="level4">

<p>
The serial pins are located on the right side of the PCB.
</p>
<div class="table sectionedit18"><table class="inline">
	<tr class="row0">
		<td class="col0"> <code> ________________________...
/   [ eth ] [ eth ] [usb]
|      _________
|     |         |
|     | 88E6060 |
|[VC] |_________|
|[TX]
|[RX]   ________
|[GD]  |        |
|      | AR2315 |
|      |________|
...</code> </td>
	</tr>
</table></div>

<p>
Serial ports settings are 9600@8n1.
</p>

</div>

<h4 id="interfaces">Interfaces</h4>
<div class="level4">

<p>
The default network configuration is:
</p>
<div class="table sectionedit19"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Interface Name </th><th class="col1"> Description </th><th class="col2"> Default configuration </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> br-lan </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> &amp; WiFi </td><td class="col2"> 192.168.1.1/24 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> eth0.1 </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> port (black) </td><td class="col2"> Static </td>
	</tr>
	<tr class="row3">
		<td class="col0"> eth0.2 </td><td class="col1"> WAN port (white) </td><td class="col2"> DHCP </td>
	</tr>
	<tr class="row4">
		<td class="col0"> wifi0 </td><td class="col1"> WiFi </td><td class="col2"> Disabled </td>
	</tr>
</table></div>

</div>

<h5 id="connecting_a_vlan_trunk">Connecting a VLAN trunk</h5>
<div class="level5">

<p>
Because the FON2201/FON2202 has a build-in VLAN switch, unlike the FON2100. Connecting a VLAN trunk is a little different than usual. If you for example connect a trunk to the <abbr title="Local Area Network">LAN</abbr> port (eth0.1), then to access VLAN 5 on the trunk, you need the specify the device eth0.1.5 - Not eth0.5.
</p>

<p>
This practice is called double VLAN tagging. It usual requires that the MTU is lowered with 4 bytes. This is however not necessary on the FON2201/FON2202.
</p>

</div>

<h4 id="buttons">Buttons</h4>
<div class="level4">

<p>
There is only one button, reset, at the bottom of the device.
</p>
<div class="table sectionedit20"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> BUTTON </th><th class="col1"> Event </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Reset </td><td class="col1"> reset </td>
	</tr>
</table></div>

</div>

<h4 id="other_info">Other Info</h4>
<div class="level4">

<p>
The USB host controller suffers from a hardware bug, it will crash if a USB 1.1 device is attached.
A workaround is putting a powered hub between the USB host and the device.
</p>

</div>

<h2 class="sectionedit21" id="hardware_hacks">Hardware Hacks</h2>
<div class="level2">

</div>

<h3 class="sectionedit22" id="second_antenna_fon2201">Second antenna (FON2201)</h3>
<div class="level3">

<p>
<a href="../../_detail/media/toh/fon2201-pcb-front-highlighted.jpg?id=toh%253Afon%253Afonera2" class="media" title="media:toh:fon2201-pcb-front-highlighted.jpg"><img src="../../_media/media/toh/fon2201-pcb-front-highlighted.jpg" class="media" title="fon2201-pcb-front-highlighted.jpg" alt="fon2201-pcb-front-highlighted.jpg" /></a>
The picture above shows an annotated photo of Fonera+ (FON2201) PCB. Regarding antennas&#039; connections it is quite similar to <a href="fonera#fon22001" class="wikilink1" title="toh:fon:fonera">FON2200</a>. The major difference being that the connections are inverted. On FON2201 antenna 1 is connected to the PCB etched antenna and antenna 2 to the stock external antenna. Therefore, in order to replace the etched antenna by an external one, you can follow the instructions for FON2200 but applying them on antenna 1 output.
</p>

</div>

<h2 class="sectionedit23" id="tags">Tags</h2>
<div class="level2">

<p>
For some Help with the Tags, please have a look here: <a href="../../meta/tags" class="wikilink1" title="meta:tags">tags</a>
</p>

<p>
Fonera+ (FON2201) 
</p>
<div class="tags"><span>
	<a href="../../tag/fastethernet?do=showtag&amp;tag=FastEthernet" class="wikilink1" title="tag:fastethernet" rel="tag">FastEthernet</a>,
	<a href="../../tag/2port?do=showtag&amp;tag=2Port" class="wikilink1" title="tag:2port" rel="tag">2Port</a>,
	<a href="../../tag/serial?do=showtag&amp;tag=serial" class="wikilink1" title="tag:serial" rel="tag">serial</a>,
	<a href="../../tag/integrated?do=showtag&amp;tag=integrated" class="wikilink1" title="tag:integrated" rel="tag">integrated</a>,
	<a href="../../tag/802.11bg?do=showtag&amp;tag=802.11bg" class="wikilink1" title="tag:802.11bg" rel="tag">802.11bg</a>,
	<a href="../../tag/detachableantenna" class="wikilink1" title="tag:detachableantenna" rel="tag">DetachableAntenna</a>,
	<a href="../../tag/16ram?do=showtag&amp;tag=16RAM" class="wikilink1" title="tag:16ram" rel="tag">16RAM</a>,
	<a href="../../tag/8flash?do=showtag&amp;tag=8Flash" class="wikilink1" title="tag:8flash" rel="tag">8Flash</a>,
	<a href="../../tag/mips?do=showtag&amp;tag=MIPS" class="wikilink1" title="tag:mips" rel="tag">MIPS</a>,
	<a href="../../tag/4kec?do=showtag&amp;tag=4KEc" class="wikilink1" title="tag:4kec" rel="tag">4KEc</a>
</span></div>

<p>
Fonera 2.0g (FON2202) 
</p>
<div class="tags"><span>
	<a href="../../tag/fastethernet?do=showtag&amp;tag=FastEthernet" class="wikilink1" title="tag:fastethernet" rel="tag">FastEthernet</a>,
	<a href="../../tag/2port?do=showtag&amp;tag=2Port" class="wikilink1" title="tag:2port" rel="tag">2Port</a>,
	<a href="../../tag/serial?do=showtag&amp;tag=serial" class="wikilink1" title="tag:serial" rel="tag">serial</a>,
	<a href="../../tag/usb?do=showtag&amp;tag=USB" class="wikilink1" title="tag:usb" rel="tag">USB</a>,
	<a href="../../tag/integrated?do=showtag&amp;tag=integrated" class="wikilink1" title="tag:integrated" rel="tag">integrated</a>,
	<a href="../../tag/802.11bg?do=showtag&amp;tag=802.11bg" class="wikilink1" title="tag:802.11bg" rel="tag">802.11bg</a>,
	<a href="../../tag/detachableantenna" class="wikilink1" title="tag:detachableantenna" rel="tag">DetachableAntenna</a>,
	<a href="../../tag/32ram?do=showtag&amp;tag=32RAM" class="wikilink1" title="tag:32ram" rel="tag">32RAM</a>,
	<a href="../../tag/8flash?do=showtag&amp;tag=8Flash" class="wikilink1" title="tag:8flash" rel="tag">8Flash</a>,
	<a href="../../tag/mips?do=showtag&amp;tag=MIPS" class="wikilink1" title="tag:mips" rel="tag">MIPS</a>,
	<a href="../../tag/4kec?do=showtag&amp;tag=4KEc" class="wikilink1" title="tag:4kec" rel="tag">4KEc</a>
</span></div>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/fon/fonera2.txt</bdi> · Last modified: 2014/02/26 05:57 (external edit)</div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="fonera2?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="fonera2?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="fonera2?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="fonera2#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Afon%253Afonera2&amp;1432266228" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
