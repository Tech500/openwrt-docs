<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>Telsey CPVA502+W [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="bcm63xx,bcm6348"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="http://wiki.openwrt.org/toh/telsey/cpva502.w?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:telsey"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="http://wiki.openwrt.org/_export/xhtml/toh/telsey/cpva502.w"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="http://wiki.openwrt.org/_export/raw/toh/telsey/cpva502.w"/>
<link rel="canonical" href="cpva502.w"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:telsey';var JSINFO = {"id":"toh:telsey:cpva502.w","namespace":"toh:telsey"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432282985 166.182.3.245';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="cpva502.w#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="http://wiki.openwrt.org/toh/telsey/cpva502.w?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="http://wiki.openwrt.org/toh/telsey/cpva502.w?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:telsey:cpva502.w" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="http://wiki.openwrt.org/toh/telsey/cpva502.w?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="http://wiki.openwrt.org/toh/telsey/cpva502.w?do=media&amp;ns=toh%3Atelsey"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="http://wiki.openwrt.org/toh/telsey/cpva502.w?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:telsey:start">Telsey</a></bdi> » <bdi><span class="curid"><a href="cpva502.w" class="wikilink1" title="toh:telsey:cpva502.w">Telsey CPVA502+W</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/telsey/cpva502.w" class="media" title="cz:toh:telsey:cpva502.w"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/telsey/cpva502.w" class="media" title="de:toh:telsey:cpva502.w"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="cpva502.w" class="media" title="toh:telsey:cpva502.w"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/telsey/cpva502.w" class="media" title="es:toh:telsey:cpva502.w"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/telsey/cpva502.w" class="media" title="fr:toh:telsey:cpva502.w"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/telsey/cpva502.w" class="media" title="hu:toh:telsey:cpva502.w"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/telsey/cpva502.w" class="media" title="jp:toh:telsey:cpva502.w"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/telsey/cpva502.w" class="media" title="pl:toh:telsey:cpva502.w"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/telsey/cpva502.w" class="media" title="pt-br:toh:telsey:cpva502.w"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/telsey/cpva502.w" class="media" title="ru:toh:telsey:cpva502.w"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/telsey/cpva502.w" class="media" title="tr:toh:telsey:cpva502.w"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/telsey/cpva502.w" class="media" title="zh-cn:toh:telsey:cpva502.w"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/telsey/cpva502.w" class="media" title="zh-tw:toh:telsey:cpva502.w"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:telsey:cpva502.w</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="cpva502.w#supported_versions">Supported Versions</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="cpva502.w#firmwares">Firmwares</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="cpva502.w#hardware_highlights">Hardware Highlights</a></div></li>
<li class="level1"><div class="li"><a href="cpva502.w#installation">Installation</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="cpva502.w#flash_layout">Flash Layout</a></div></li>
<li class="level2"><div class="li"><a href="cpva502.w#firmware_backup">firmware backup</a></div></li>
<li class="level2"><div class="li"><a href="cpva502.w#oem_easy_installation">OEM easy installation</a></div></li>
<li class="level2"><div class="li"><a href="cpva502.w#oem_installation_using_the_tftp_method">OEM installation using the TFTP method</a></div></li>
<li class="level2"><div class="li"><a href="cpva502.w#upgrading_openwrt">Upgrading OpenWrt</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="cpva502.w#luci_web_upgrade_process">LuCI Web Upgrade Process</a></div></li>
<li class="level3"><div class="li"><a href="cpva502.w#terminal_upgrade_process">Terminal Upgrade Process</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="cpva502.w#basic_configuration">Basic configuration</a></div></li>
<li class="level1"><div class="li"><a href="cpva502.w#specific_configuration">Specific Configuration</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="cpva502.w#interfaces">Interfaces</a></div></li>
<li class="level2"><div class="li"><a href="cpva502.w#failsafe_mode">Failsafe mode</a></div></li>
<li class="level2"><div class="li"><a href="cpva502.w#buttons">Buttons</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="cpva502.w#hardware">Hardware</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="cpva502.w#info">Info</a></div></li>
<li class="level2"><div class="li"><a href="cpva502.w#photos">Photos</a></div></li>
<li class="level2"><div class="li"><a href="cpva502.w#opening_the_case">Opening the case</a></div></li>
<li class="level2"><div class="li"><a href="cpva502.w#serial">Serial</a></div></li>
<li class="level2"><div class="li"><a href="cpva502.w#jtag">JTAG</a></div></li>
<li class="level2"><div class="li"><a href="cpva502.w#voip">VoIP</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="cpva502.w#debricking">Debricking</a></div></li>
<li class="level1"><div class="li"><a href="cpva502.w#bootloader_mods">Bootloader Mods</a></div></li>
<li class="level1"><div class="li"><a href="cpva502.w#hardware_mods">Hardware mods</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="cpva502.w#usb_mod">USB Mod</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="cpva502.w#bootlogs">Bootlogs</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="cpva502.w#oem_bootlog">OEM bootlog</a></div></li>
<li class="level2"><div class="li"><a href="cpva502.w#openwrt_bootlog_backfire">OpenWrt bootlog (Backfire)</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="cpva502.w#tags">Tags</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="telsey_cpva502_w">Telsey CPVA502+W</h1>
<div class="level1">

</div>

<h1 class="sectionedit2" id="telsey_cpva502">Telsey CPVA502+</h1>
<div class="level1">

<p>
Router sold by <a href="http://en.wikipedia.org/wiki/Tele2" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Tele2">Tele2</a>/Comunitel in Spain. TELSEY S.p.A. Mod: CPAJJJSE20TL2 ADSL/voIP 
</p>

<p>
Product page:
<a href="http://www.telsey.com/product_details.asp?cat=1&amp;subcat=13&amp;id_p=127" class="urlextern" title="http://www.telsey.com/product_details.asp?cat=1&amp;subcat=13&amp;id_p=127"  rel="nofollow">Telsey CPVA502+W</a>
</p>

</div>

<h2 class="sectionedit3" id="supported_versions">Supported Versions</h2>
<div class="level2">

<p>
Supported since AA <a href="https://dev.openwrt.org/changeset/30819" class="urlextern" title="https://dev.openwrt.org/changeset/30819"  rel="nofollow">&gt; R30819</a>. 
</p>
<div class="table sectionedit4"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Version </th><th class="col1"> Board Model </th><th class="col2"> wifi </th><th class="col3"> OpenWrt </th><th class="col4"> Notes </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> CPVA502+W </td><td class="col1"> CPAJJJSE20TL2 </td><td class="col2"> <strong>Yes</strong> </td><td class="col3 leftalign"> ≥12.09  </td><td class="col4 centeralign" rowspan="2">  <strong>ADSL/FXS/VoIP</strong> not working in Openwrt, nor the USB slave.  </td>
	</tr>
	<tr class="row2">
		<td class="col0"> CPVA502+ </td><td class="col1"> CPAJJUSE10TL2 </td><td class="col2"> <strong>No</strong> </td><td class="col3 leftalign"> ≥12.09  </td>
	</tr>
</table></div>
<div class="wrap_center wrap_round wrap_tip plugin_wrap" style="width: 60%;">
<p>
Since this router has only 16 MiB RAM, old Backfire version may behave better.
</p>
</div>
</div>

<h3 class="sectionedit7" id="firmwares">Firmwares</h3>
<div class="level3">
<div class="table sectionedit8"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Version </th><th class="col1"> Link </th><th class="col2"> Notes </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Backfire 10.03.1 </td><td class="col1"> <a href="https://docs.google.com/uc?export=download&amp;id=0B-EMoBe-_OdBTVlmSFkybjBuX2M" class="urlextern" title="https://docs.google.com/uc?export=download&amp;id=0B-EMoBe-_OdBTVlmSFkybjBuX2M"  rel="nofollow">Telsey_CPVA502_Backfire_10.03.1.zip</a> </td><td class="col2"> execute <pre class="code">mtd fixtrx linux</pre>
 after the first boot</td>
	</tr>
	<tr class="row2">
		<td class="col0"> Attitude Adjustment 12.09 </td><td class="col1"> <a href="https://downloads.openwrt.org/attitude_adjustment/12.09/brcm63xx/generic/openwrt-96348GW-generic-squashfs-cfe.bin" class="urlextern" title="https://downloads.openwrt.org/attitude_adjustment/12.09/brcm63xx/generic/openwrt-96348GW-generic-squashfs-cfe.bin"  rel="nofollow">openwrt-96348GW-generic-squashfs-cfe.bin</a> </td><td class="col2"> may run out of memory </td>
	</tr>
	<tr class="row3">
		<td class="col0"> Barrier Breaker 14.07 </td><td class="col1"> <a href="https://downloads.openwrt.org/barrier_breaker/14.07/brcm63xx/generic/openwrt-96348GW-generic-squashfs-cfe.bin" class="urlextern" title="https://downloads.openwrt.org/barrier_breaker/14.07/brcm63xx/generic/openwrt-96348GW-generic-squashfs-cfe.bin"  rel="nofollow">openwrt-96348GW-generic-squashfs-cfe.bin</a> </td><td class="col2"> may run out of memory </td>
	</tr>
	<tr class="row4">
		<td class="col0"> Trunk </td><td class="col1"> <a href="https://downloads.openwrt.org/snapshots/trunk/brcm63xx/openwrt-96348GW-generic-squashfs-cfe.bin" class="urlextern" title="https://downloads.openwrt.org/snapshots/trunk/brcm63xx/openwrt-96348GW-generic-squashfs-cfe.bin"  rel="nofollow">openwrt-96348GW-generic-squashfs-cfe.bin</a> </td><td class="col2"> may run out of memory </td>
	</tr>
	<tr class="row5">
		<td class="col0"> OEM Telsey (from Comunitel ISP) </td><td class="col1"> <a href="https://drive.google.com/uc?export=download&amp;id=0B-EMoBe-_OdBNkNmbUhTZUh5NEU" class="urlextern" title="https://drive.google.com/uc?export=download&amp;id=0B-EMoBe-_OdBNkNmbUhTZUh5NEU"  rel="nofollow">Telsey_CPVA502_OEM_3.4.6V-h323.bin</a> </td><td class="col2"> <strong>original firmware</strong>, thanks to <em>TheMrRafus</em> for making a backup </td>
	</tr>
	<tr class="row6">
		<td class="col0"> Broadcom custom </td><td class="col1"> <a href="https://docs.google.com/uc?export=download&amp;id=0B-EMoBe-_OdBdi1qMU9VYVREYlU" class="urlextern" title="https://docs.google.com/uc?export=download&amp;id=0B-EMoBe-_OdBdi1qMU9VYVREYlU"  rel="nofollow">Telsey_CPVA502_Broadcom_3.06L.06V.bin</a> </td><td class="col2"> custom build, non OpenWrt firmware </td>
	</tr>
	<tr class="row7">
		<td class="col0"> dummy, <strong>only CFE</strong> </td><td class="col1"> <a href="https://drive.google.com/uc?export=download&amp;id=0B-EMoBe-_OdBdTIwd3p5N3lkcjg" class="urlextern" title="https://drive.google.com/uc?export=download&amp;id=0B-EMoBe-_OdBdTIwd3p5N3lkcjg"  rel="nofollow">dummy_firmware-CFE_mod.bin</a> </td><td class="col2"> only for upgrading (modded) CFE, <strong>reset button will work</strong> </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit9" id="hardware_highlights">Hardware Highlights</h2>
<div class="level2">
<div class="table sectionedit10"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> SoC </th><th class="col1"> RAM </th><th class="col2"> Flash </th><th class="col3"> Network </th><th class="col4"> USB </th><th class="col5"> Serial </th><th class="col6"> JTag </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> BCM6348@256MHz </td><td class="col1"> 16MiB </td><td class="col2"> 4MiB </td><td class="col3"> 2 x 1</td><td class="col4"> slave </td><td class="col5"> Yes </td><td class="col6"> Yes </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit11" id="installation">Installation</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> → <a href="../../doc/howto/obtain.firmware" class="wikilink1" title="doc:howto:obtain.firmware">obtain.firmware</a></div>
</li>
<li class="level1"><div class="li"> → <a href="../../doc/howto/installing" class="wikilink1" title="doc:howto:generic.flashing">Install OpenWrt</a></div>
</li>
</ol>

</div>

<h3 class="sectionedit12" id="flash_layout">Flash Layout</h3>
<div class="level3">

<p>
Please check out the article <a href="../../doc/techref/flash.layout" class="wikilink1" title="doc:techref:flash.layout">Flash.Layout</a>. It contains an example and a couple of explanations.
</p>
<div class="table sectionedit13"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> partition </th><th class="col1"> name </th><th class="col2"> filesystem </th><th class="col3"> description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> mtd0 </td><td class="col1"> <strong>CFE</strong> </td><td class="col2"> n/a </td><td class="col3"> bootloader </td>
	</tr>
	<tr class="row2">
		<td class="col0"> n/a </td><td class="col1"> n/a </td><td class="col2"> n/a </td><td class="col3"> firmware tag </td>
	</tr>
	<tr class="row3">
		<td class="col0"> mtd1 </td><td class="col1"> <strong>kernel</strong> </td><td class="col2"> RAM executable </td><td class="col3"> kernel </td>
	</tr>
	<tr class="row4">
		<td class="col0"> mtd2 </td><td class="col1"> <strong>rootfs</strong> </td><td class="col2"> squashfs </td><td class="col3"> root </td>
	</tr>
	<tr class="row5">
		<td class="col0"> mtd3 </td><td class="col1"> <strong>rootfs_data</strong> </td><td class="col2"> jffs2 </td><td class="col3"> configuration, install new packages </td>
	</tr>
	<tr class="row6">
		<td class="col0"> mtd4 </td><td class="col1"> <strong>nvram</strong> </td><td class="col2"> n/a </td><td class="col3"> OEM configuration data (PSI) </td>
	</tr>
	<tr class="row7">
		<td class="col0"> mtd5 </td><td class="col1"> <strong>linux</strong> </td><td class="col2"> n/a </td><td class="col3"> OpenWrt upgrade </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit14" id="firmware_backup">firmware backup</h3>
<div class="level3">

<p>
Follow these steps to make a backup of the original firmware (before installing openwrt). Note you may need a Linux based <abbr title="Operating System">OS</abbr> installed at your computer to run some commands like <strong>dd</strong>.
</p>
<ol>
<li class="level1"><div class="li"> Download the openwrt RAM firmware version <a href="https://docs.google.com/uc?export=download&amp;id=0B-EMoBe-_OdBcGMxOE5DZjg4WlE" class="urlextern" title="https://docs.google.com/uc?export=download&amp;id=0B-EMoBe-_OdBcGMxOE5DZjg4WlE"  rel="nofollow">ram-firmware.elf</a>, it will be fully loaded in the RAM without writing in the flash chip and therefore it allows to backup the original firmware </div>
</li>
<li class="level1"><div class="li"> Install a TFTP server in your computer, and check it works ok. Copy ram-firware.elf file into the TFTP&#039;s server directory.</div>
</li>
<li class="level1"><div class="li"> Plug the ethernet cable from your computer to the ETH0 port at the router, your computer must have a compatible IP with CFE, for example use <strong>192.168.1.35</strong></div>
</li>
<li class="level1"><div class="li"> Connect the <a href="cpva502.w#serial" title="toh:telsey:cpva502.w ↵" class="wikilink1">serial port</a> at the router to your computer (3.3V ttl adapter required), and a run console software utility(putty, Cutecom or Hyperterminal) to comunicate with CFE. </div>
</li>
<li class="level1"><div class="li"> Plug the router&#039;s power source and look at the serial console, press any key to break into CFE. Now it&#039;s time to run the ram firmware, execute this command into the CFE command line <pre class="code">r 192.168.1.35:ram-firmware.elf</pre>
and wait few second until openwrt loads. </div>
</li>
</ol>
<ul>
<li class="level1"><div class="li"> In your computer execute <pre class="code">nc -l -p 5600|dd of=telsey-firmware_backup.bin</pre>
 (nc = netcat)</div>
</li>
<li class="level1"><div class="li"> In the router execute <pre class="code">cat /proc/mtd</pre>
We are interested in the linux partition. Execute: <pre class="code">dd if=/dev/mtd4|nc 192.168.1.35 5600</pre>
</div>
</li>
</ul>

<p>
Done, the firmware should be transfered to your computer: <strong>telsey-firmware_backup.bin</strong>
</p>

</div>

<h3 class="sectionedit15" id="oem_easy_installation">OEM easy installation</h3>
<div class="level3">

<p>
<strong>From OEM firmware</strong><br/>

</p>
<ul>
<li class="level1"><div class="li"> Browse to <a href="http://10.0.0.1:8063/" class="urlextern" title="http://10.0.0.1:8063/"  rel="nofollow">http://10.0.0.1:8063/</a> </div>
</li>
<li class="level1"><div class="li"> Go to <em>Management → Update Software</em></div>
</li>
<li class="level1"><div class="li"> Select <strong>.bin</strong> firmware and press <em>Update Software</em></div>
</li>
<li class="level1"><div class="li"> Wait for it to reboot</div>
</li>
<li class="level1"><div class="li"> Telnet to 192.168.1.1 and set a root password, or browse to <a href="http://192.168.1.1" class="urlextern" title="http://192.168.1.1"  rel="nofollow">http://192.168.1.1</a> if LuCI is installed.</div>
</li>
</ul>

<p>
<strong>From CFE</strong> (valid for all fimwares)<br/>

It seems the reset button doesn&#039;t work in this router, you may need to connect via serial port to stop CFE and then upload the image via web server. Alternatively you can shortcircuit TX and RX <a href="cpva502.w#serial" title="toh:telsey:cpva502.w ↵" class="wikilink1">serial</a> pins few seconds when turning on the router to enter CFE failsafe mode:
</p>
<ul>
<li class="level1"><div class="li">Browse to <a href="http://192.168.1.1/" class="urlextern" title="http://192.168.1.1/"  rel="nofollow">http://192.168.1.1/</a></div>
</li>
<li class="level1"><div class="li">Upload <strong>.bin</strong> file to router</div>
</li>
<li class="level1"><div class="li">Wait for it to reboot</div>
</li>
<li class="level1"><div class="li">Telnet to 192.168.1.1 and set a root password, or browse to <a href="http://192.168.1.1" class="urlextern" title="http://192.168.1.1"  rel="nofollow">http://192.168.1.1</a> if LuCI is installed.</div>
</li>
</ul>

</div>

<h3 class="sectionedit16" id="oem_installation_using_the_tftp_method">OEM installation using the TFTP method</h3>
<div class="level3">

<p>
If you want to upgrade using TFTP you follow these steps (as an alternative to the above install process.
</p>
<ul>
<li class="level1"><div class="li"> Connect the <a href="cpva502.w#serial" title="toh:telsey:cpva502.w ↵" class="wikilink1">serial</a> TTL cable to send commands to CFE for loading the firmware via tftp.</div>
</li>
<li class="level1"><div class="li"> Start a TFTP server in your PC. Copy the <em><strong>openwrt-96348GW-generic-squashfs-cfe.bin</strong></em> firmware to the server.</div>
</li>
<li class="level1"><div class="li"> Set the IP at your pc to 192.168.1.35 (or any compatible), and connect the ethernet cable to the router.</div>
</li>
</ul>

<p>
This is a session of flashing via TFTP:
</p>

<p style="padding: 10px;border:1px solid grey;height:120px;font:12px/14px Georgia, Garamond, Serif;overflow:Auto;background-color:#DEE4E7">
<code>CFE> f 192.168.1.35:openwrt-96348GW-generic-squashfs-cfe.bin
Loading 192.168.1.35:openwrt-96348GW-generic-squashfs-cfe.bin ...
Finished loading 2686980 bytes

Flashing root file system and kernel at 0xbfc10000: ..........................................

.
*** Image flash done *** !
Resetting board...\0xff
</code>
</p>

</div>

<h3 class="sectionedit17" id="upgrading_openwrt">Upgrading OpenWrt</h3>
<div class="level3">

<p>
→  <a href="../../doc/howto/generic.sysupgrade" class="wikilink1" title="doc:howto:generic.sysupgrade">generic.sysupgrade</a>
</p>

<p>
If you have already installed OpenWrt and like to reflash for e.g. upgrading to a new OpenWrt version you can upgrade using the mtd command line tool. It is important that you put the firmware image into the ramdisk (/tmp) before you start flashing.
</p>

</div>

<h4 id="luci_web_upgrade_process">LuCI Web Upgrade Process</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> Browse to <a href="http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/" class="urlextern" title="http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/"  rel="nofollow">http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/</a> LuCI Upgrade <abbr title="Uniform Resource Locator">URL</abbr></div>
</li>
<li class="level1"><div class="li"> Upload image file for sysupgrade to LuCI</div>
</li>
<li class="level1"><div class="li"> Wait for reboot</div>
</li>
</ul>

</div>

<h4 id="terminal_upgrade_process">Terminal Upgrade Process</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> Login as root via SSH on 192.168.1.1</div>
</li>
<li class="level1"><div class="li"> Use the following commands to upgrade.</div>
</li>
</ul>

<p>
<pre class="code">cd /tmp/
wget http://downloads.openwrt.org/snapshots/trunk/brcm63xx/openwrt-96348GW-generic-squashfs-cfe.bin
sysupgrade /tmp/openwrt-96348GW-generic-squashfs-cfe.bin</pre>

</p>
<ul>
<li class="level1"><div class="li">If sysupgrade does not support this router, use the following commands.</div>
</li>
</ul>

<p>
<pre class="code">cd /tmp/
wget http://downloads.openwrt.org/snapshots/trunk/brcm63xx/openwrt-96348GW-generic-squashfs-cfe.bin
mtd write /tmp/openwrt-96348GW-generic-squashfs-cfe.bin linux &amp;&amp; reboot</pre>

</p>

</div>

<h2 class="sectionedit18" id="basic_configuration">Basic configuration</h2>
<div class="level2">

<p>
→ <a href="../../doc/howto/configuration" class="wikilink1" title="doc:howto:basic.config">Basic configuration</a> After flashing, proceed with this.<br/>

Set up your Internet connection, configure wireless, configure USB port, etc.
</p>

</div>

<h2 class="sectionedit19" id="specific_configuration">Specific Configuration</h2>
<div class="level2">

</div>

<h3 class="sectionedit20" id="interfaces">Interfaces</h3>
<div class="level3">

<p>
The default network configuration is:
</p>
<div class="table sectionedit21"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Interface Name </th><th class="col1"> Description </th><th class="col2"> Default configuration </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> br-lan </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> &amp; WiFi </td><td class="col2"> 192.168.1.1/24 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> eth0 </td><td class="col1"> WAN </td><td class="col2"> dhcp </td>
	</tr>
	<tr class="row3">
		<td class="col0"> eth1 </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> </td><td class="col2"> bridged </td>
	</tr>
	<tr class="row4">
		<td class="col0"> wlan0 </td><td class="col1"> WiFi </td><td class="col2"> disabled (bridged) </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit22" id="failsafe_mode">Failsafe mode</h3>
<div class="level3">

<p>
→ <a href="../../doc/howto/generic.failsafe" class="wikilink1" title="doc:howto:generic.failsafe">generic.failsafe</a>
</p>

</div>

<h3 class="sectionedit23" id="buttons">Buttons</h3>
<div class="level3">

<p>
→ <a href="../../doc/howto/hardware.button" class="wikilink1" title="doc:howto:hardware.button">hardware.button</a> on howto use and configure the hardware button(s).
</p>

<p>
Only one hardware button, reset. Looks like CFE doesn&#039;t react when pressing this button to enter CFE failsafe mode.
</p>
<div class="table sectionedit24"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> label </th><th class="col1"> event </th><th class="col2"> GPIO </th><th class="col3"> active </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> R </td><td class="col1"> reset </td><td class="col2"> 36 </td><td class="col3"> low </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit25" id="hardware">Hardware</h2>
<div class="level2">

</div>

<h3 class="sectionedit26" id="info">Info</h3>
<div class="level3">
<div class="table sectionedit27"><table class="inline">
	<thead>
	<tr class="row0">
		<td class="col0"> </td><th class="col1"> CPVA502+W </th><th class="col2"> CPVA502+ </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> <strong><a href="http://en.wikipedia.org/wiki/Instruction set" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Instruction set">Instruction set</a>:</strong>    </td><td class="col1" colspan="2"> <a href="http://en.wikipedia.org/wiki/MIPS architecture" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/MIPS architecture">MIPS</a> </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> <strong>Vendor:</strong>          </td><td class="col1" colspan="2"> <a href="http://en.wikipedia.org/wiki/Broadcom" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Broadcom">Broadcom</a> </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> <strong><a href="../../doc/techref/bootloader.1" class="wikilink1" title="doc:techref:bootloader">Bootloader</a>:</strong>     </td><td class="col1" colspan="2"> <a href="../../doc/techref/bootloader/cfe" class="wikilink1" title="doc:techref:bootloader:cfe">CFE</a> </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> <strong>Board Id</strong>:   </td><td class="col1" colspan="2"> CPVA502+ </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/soc.1" class="wikilink1" title="doc:hardware:soc">System-On-Chip</a>:</strong>  </td><td class="col1" colspan="2"> BCM6348 </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/cpu" class="wikilink1" title="doc:hardware:cpu">CPU</a>/Speed</strong>        </td><td class="col1" colspan="2"> BMIPS3300 V0.7 / 256 <abbr title="Megahertz">MHz</abbr> </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> <strong>Flash-Chip:</strong>      </td><td class="col1"> Macronix MX29LV320CTTC-90G </td><td class="col2"> <img src="../../lib/images/smileys/icon_question.gif" class="icon" alt=":?:" /> </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> <strong>Flash size:</strong>      </td><td class="col1" colspan="2"> 4 MiB </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> <strong>RAM-chips:</strong>       </td><td class="col1"> ESMT M12L64164A-7T / SDR-143 </td><td class="col2"> <img src="../../lib/images/smileys/icon_question.gif" class="icon" alt=":?:" /> </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign"> <strong>RAM size:</strong>        </td><td class="col1" colspan="2"> 16 MiB </td>
	</tr>
	<tr class="row11">
		<td class="col0 leftalign"> <strong>Wireless:</strong>        </td><td class="col1"> Broadcom 4318 rev. 9, 802.11b/g (onboard) </td><td class="col2"> no wifi card </td>
	</tr>
	<tr class="row12">
		<td class="col0 leftalign"> <strong>Ethernet:</strong>        </td><td class="col1" colspan="2"> 2xETH = 1x external AC201 + 1x internal phy </td>
	</tr>
	<tr class="row13">
		<td class="col0 leftalign"> <strong>Internet:</strong>        </td><td class="col1" colspan="2"> ADSL2+ (not supported) </td>
	</tr>
	<tr class="row14">
		<td class="col0 leftalign"> <strong>USB:</strong>             </td><td class="col1" colspan="2"> 1x1.1 slave </td>
	</tr>
	<tr class="row15">
		<td class="col0 leftalign"> <strong>FXS:</strong>             </td><td class="col1"> <a href="http://www.microsemi.com/products/voice-line-circuits/ve950/le9581#overview" class="urlextern" title="http://www.microsemi.com/products/voice-line-circuits/ve950/le9581#overview"  rel="nofollow">Le9581blc</a> Digital SLIC </td><td class="col2 leftalign">  </td>
	</tr>
	<tr class="row16">
		<td class="col0 leftalign"> <strong><a href="../../OpenWrtDocs/Customizing/Hardware/Serial_Console" class="wikilink1" title="doc:hardware:port.serial">Serial</a>:</strong>          </td><td class="col1" colspan="2"> <a href="cpva502.w#serial" title="toh:telsey:cpva502.w ↵" class="wikilink1">Yes</a> </td>
	</tr>
	<tr class="row17">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/port.jtag" class="wikilink1" title="doc:hardware:port.jtag">JTAG</a>:</strong>            </td><td class="col1 leftalign"> <a href="cpva502.w#jtag" title="toh:telsey:cpva502.w ↵" class="wikilink1">Yes</a>  </td><td class="col2 leftalign"> <a href="cpva502.w#jtag" title="toh:telsey:cpva502.w ↵" class="wikilink1">?</a>  </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit28" id="photos">Photos</h3>
<div class="level3">

<p>
Model Number: CPVA502+W
</p>

<p>
<a href="http://wiki.openwrt.org/_media/media/toh/telsey/cpva502_front.jpg" class="media" title="media:toh:telsey:cpva502_front.jpg"><img src="http://wiki.openwrt.org/_media/media/toh/telsey/cpva502_front.jpg?h=180&amp;tok=9cd85e" class="media" alt="" height="180" /></a> <a href="http://wiki.openwrt.org/_media/media/toh/telsey/cpva502_back.jpg" class="media" title="media:toh:telsey:cpva502_back.jpg"><img src="http://wiki.openwrt.org/_media/media/toh/telsey/cpva502_back.jpg?h=180&amp;tok=a55594" class="media" alt="" height="180" /></a>
</p>

</div>

<h3 class="sectionedit29" id="opening_the_case">Opening the case</h3>
<div class="level3">

<p>
<strong>Note:</strong> This will void your warranty!
</p>
<ul>
<li class="level1"><div class="li">To remove the cover do a/b/c</div>
</li>
</ul>

<p>
<strong>CPVA502+W</strong>
</p>

<p>
<a href="http://wiki.openwrt.org/_detail/toh/telsey/telsey_arriba.jpg?id=toh%3Atelsey%3Acpva502.w" class="media" title="toh:telsey:telsey_arriba.jpg"><img src="http://wiki.openwrt.org/_media/toh/telsey/telsey_arriba.jpg?w=400&amp;h=300&amp;tok=3113a8" class="media" alt="" width="400" height="300" /></a> <a href="http://wiki.openwrt.org/_detail/toh/telsey/telsey_abajo.jpg?id=toh%3Atelsey%3Acpva502.w" class="media" title="toh:telsey:telsey_abajo.jpg"><img src="http://wiki.openwrt.org/_media/toh/telsey/telsey_abajo.jpg?w=400&amp;h=300&amp;tok=fd04fd" class="media" alt="" width="400" height="300" /></a>
</p>

<p>
<strong>CPVA502+</strong>
</p>

<p>
 <a href="http://wiki.openwrt.org/_detail/media/toh/telsey/cpva502a.jpg?id=toh%3Atelsey%3Acpva502.w" class="media" title="media:toh:telsey:cpva502a.jpg"><img src="http://wiki.openwrt.org/_media/media/toh/telsey/cpva502a.jpg?h=260&amp;tok=ee71a7" class="media" alt="" height="260" /></a>  <a href="http://wiki.openwrt.org/_detail/media/toh/telsey/cpva502b.jpg?id=toh%3Atelsey%3Acpva502.w" class="media" title="media:toh:telsey:cpva502b.jpg"><img src="http://wiki.openwrt.org/_media/media/toh/telsey/cpva502b.jpg?h=260&amp;tok=b3c1f2" class="media" alt="" height="260" /></a>
</p>

</div>

<h3 class="sectionedit30" id="serial">Serial</h3>
<div class="level3">

<p>
→ <a href="../../OpenWrtDocs/Customizing/Hardware/Serial_Console" class="wikilink1" title="doc:hardware:port.serial">port.serial</a> general information about the serial port, serial port cable, etc.
</p>

<p>
How to connect to the Serial Port of this specific device:
</p>

<p>
<a href="http://wiki.openwrt.org/_media/media/toh/telsey/cpva502-serialttl.jpg" class="media" title="media:toh:telsey:cpva502-serialttl.jpg"><img src="http://wiki.openwrt.org/_media/media/toh/telsey/cpva502-serialttl.jpg?w=500&amp;tok=41e9e7" class="media" alt="" width="500" /></a>
</p>

<p>
<strong>Settings:</strong>
</p>
<ul>
<li class="level1"><div class="li"> Baudrate: 115200</div>
</li>
<li class="level1"><div class="li"> Data bits: 8</div>
</li>
<li class="level1"><div class="li"> Parity: None</div>
</li>
<li class="level1"><div class="li"> Stop bits: 1</div>
</li>
</ul>

</div>

<h3 class="sectionedit31" id="jtag">JTAG</h3>
<div class="level3">

<p>
→ <a href="../../doc/hardware/port.jtag" class="wikilink1" title="doc:hardware:port.jtag">port.jtag</a> general information about the JTAG port, JTAG cable, etc.
</p>

<p>
How to connect to the JTAG Port of this specific device:
</p>

<p>
J202 pin Header. Verified pinout:
</p>
<div class="table sectionedit32"><table class="inline">
	<tr class="row0">
		<td class="col0 rightalign">  nTRST </td><th class="col1 centeralign">  1  </th><th class="col2 centeralign">  2  </th><td class="col3"> GND </td>
	</tr>
	<tr class="row1">
		<td class="col0 rightalign">  TDI </td><th class="col1 centeralign">  3  </th><th class="col2 centeralign">  4  </th><td class="col3 leftalign"> GND  </td>
	</tr>
	<tr class="row2">
		<td class="col0 rightalign">  TDO </td><th class="col1 centeralign">  5  </th><th class="col2 centeralign">  6  </th><td class="col3"> GND </td>
	</tr>
	<tr class="row3">
		<td class="col0 rightalign">  TMS </td><th class="col1 centeralign">  7  </th><th class="col2 centeralign">  8  </th><td class="col3"> GND </td>
	</tr>
	<tr class="row4">
		<td class="col0 rightalign">  TCK </td><th class="col1 centeralign">  9  </th><th class="col2 centeralign">  10  </th><td class="col3"> GND </td>
	</tr>
	<tr class="row5">
		<td class="col0 rightalign">  nSRST </td><th class="col1 centeralign">  11  </th><th class="col2 centeralign">  12  </th><td class="col3"> GND </td>
	</tr>
</table></div>

<p>
<strong>Debrick</strong>
</p>

<p>
This is a session of flashing a new CFE (AKA debrick) with urjtag employing a WIGGLER custom made cable:
</p>

<p style="padding: 10px;border:1px solid grey;height:320px;font:12px/14px Georgia, Garamond, Serif;overflow:Auto;background-color:#DEE4E7">
<code>jtag> cable wiggler ppdev /dev/parport0    
Initializing ppdev port /dev/parport0
jtag> detect
IR length: 5
Chain length: 1
Device Id: 00000110001101001000000101111111 (0x0634817F)
  Manufacturer: Broadcom (0x17F)
  Part(0):      BCM6348 (0x6348)
  Stepping:     V1
  Filename:     /usr/share/urjtag/broadcom/bcm6348/bcm6348
jtag> endian big
jtag> initbus ejtag_dma
ImpCode=00000000100000000000100100000100
EJTAG version: <= 2.0
EJTAG Implementation flags: R4k DMA MIPS32
Clear memory protection bit in DCR
Clear Watchdog
Potential flash base address: [0x1f00000b], [0x1800]
Processor successfully switched in debug mode.
jtag> detectflash 0x1fc00000 
Query identification string:
        Primary Algorithm Command Set and Control Interface ID Code: 0x0002 (AMD/Fujitsu Standard Command Set)
        Alternate Algorithm Command Set and Control Interface ID Code: 0x0000 (null)
Query system interface information:
        Vcc Logic Supply Minimum Write/Erase or Write voltage: 2700 mV
        Vcc Logic Supply Maximum Write/Erase or Write voltage: 3600 mV
        Vpp [Programming] Supply Minimum Write/Erase voltage: 0 mV
        Vpp [Programming] Supply Maximum Write/Erase voltage: 0 mV
        Typical timeout per single byte/word program: 16 us
        Typical timeout for maximum-size multi-byte program: 0 us
        Typical timeout per individual block erase: 1024 ms
        Typical timeout for full chip erase: 0 ms
        Maximum timeout for byte/word program: 512 us
        Maximum timeout for multi-byte program: 0 us
        Maximum timeout per individual block erase: 16384 ms
        Maximum timeout for chip erase: 0 ms
Device geometry definition:
        Device Size: 4194304 B (4096 KiB, 4 MiB)
        Flash Device Interface Code description: 0x0002 (x8/x16)
        Maximum number of bytes in multi-byte program: 1
        Number of Erase Block Regions within device: 2
        Erase Block Region Information:
                Region 0:
                        Erase Block Size: 65536 B (64 KiB)
                        Number of Erase Blocks: 63
                Region 1:
                        Erase Block Size: 8192 B (8 KiB)
                        Number of Erase Blocks: 8
Primary Vendor-Specific Extended Query:
        Major version number: 1
        Minor version number: 1
        Address Sensitive Unlock: Required
        Erase Suspend: Read/write
        Sector Protect: 4 sectors per group
        Sector Temporary Unprotect: Not supported
        Sector Protect/Unprotect Scheme: 29BDS640 mode (Software Command Locking)
        Simultaneous Operation: Not supported
        Burst Mode Type: Supported
        Page Mode Type: Not supported
        ACC (Acceleration) Supply Minimum: 11500 mV
        ACC (Acceleration) Supply Maximum: 12500 mV
        Top/Bottom Sector Flag: Top boot device
jtag> flashmem 0x1fc00000 CFE.bin 
Chip: AMD Flash
        Manufacturer: Macronix
        Chip: MX29LV320CT
        Protected: 0000
program:
flash_unlock_block 0x1FC00000 IGNORE

block 0 unlocked
flash_erase_block 0x1FC00000
flash_erase_block 0x1FC00000 DONE
erasing block 0: 0
addr: 0x1FC0FFFE
verify:                                                                                                                                     
addr: 0x1FC0FFFE                                                                                                                            
Done.                                                                                                                                       
jtag> quit        
</code>
</p>

</div>

<h3 class="sectionedit33" id="voip">VoIP</h3>
<div class="level3">

<p>
The board is equiped with a FXS port and a <a href="http://www.microsemi.com/products/voice-line-circuits/ve950/le9581#overview" class="urlextern" title="http://www.microsemi.com/products/voice-line-circuits/ve950/le9581#overview"  rel="nofollow">Le9581blc</a> Digital SLIC chip. However there aren&#039;t available <abbr title="Free &amp; Open-Source Software">FOSS</abbr> drivers for this part.
</p>

<p>
<a href="http://wiki.openwrt.org/_media/media/toh/telsey/cpva502-slic.jpg" class="media" title="media:toh:telsey:cpva502-slic.jpg"><img src="http://wiki.openwrt.org/_media/media/toh/telsey/cpva502-slic.jpg?w=400&amp;h=300&amp;tok=66c393" class="media" alt="" width="400" height="300" /></a>
</p>

</div>

<h2 class="sectionedit34" id="debricking">Debricking</h2>
<div class="level2">

<p>
→ <a href="../../doc/howto/generic.debrick" class="wikilink1" title="doc:howto:generic.debrick">generic.debrick</a>
</p>

</div>

<h2 class="sectionedit35" id="bootloader_mods">Bootloader Mods</h2>
<div class="level2">

<p>
you could read about <a href="../../doc/techref/bootloader.1" class="wikilink1" title="doc:techref:bootloader">bootloader</a> in general
</p>

<p>
About the possible boards with the CFE OEM bootlader
<pre class="code">CFE&gt; b
Press:  &lt;enter&gt; to use current value

        &#039;-&#039; to go previous parameter

        &#039;.&#039; to clear the current value

        &#039;x&#039; to exit this command

Board Id Name (0-7)
96348W2          -------- 0
96348GW-10       -------- 1
CPVA4            -------- 2
MAGIC            -------- 3
MAGIC+           -------- 4
CPVA4V2          -------- 5
CPVL4            -------- 6
CPVA502+         -------- 7       :  7  </pre>

</p>

<p>
Bootloaders available for this board:
</p>
<div class="table sectionedit36"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> link </th><th class="col1"> description </th><th class="col2"> md5sum </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <a href="https://docs.google.com/uc?export=download&amp;id=0B-EMoBe-_OdBSllSMXZjZWhmRlU" class="urlextern" title="https://docs.google.com/uc?export=download&amp;id=0B-EMoBe-_OdBSllSMXZjZWhmRlU"  rel="nofollow">CFE-telsey_CPVA502plus-OEM.bin</a> </td><td class="col1"> original bootloader backup, reset button doesn&#039;t work </td><td class="col2"> <span style='color:grey; '>5578a0855ee2d1cff7ea383929963ad6</span> </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <a href="https://docs.google.com/uc?export=download&amp;id=0B-EMoBe-_OdBdGc3eWxTeEJhRGs" class="urlextern" title="https://docs.google.com/uc?export=download&amp;id=0B-EMoBe-_OdBdGc3eWxTeEJhRGs"  rel="nofollow">CFE-telsey_CPVA502plus-mod.bin</a> </td><td class="col1"> modded bootloader, reset button works for entering CFE failsafe mode, no firmware checksum </td><td class="col2"> <span style='color:grey; '>51fdfbe21e9199dec2c5eb99da6512fa</span> </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit37" id="hardware_mods">Hardware mods</h2>
<div class="level2">

<p>
as a beginner, you really should inform yourself about <a href="../../doc/hardware/soldering" class="wikilink1" title="doc:hardware:soldering">soldering</a> in general and then obtain some practical experience!
</p>

</div>

<h3 class="sectionedit38" id="usb_mod">USB Mod</h3>
<div class="level3">

<p>
Probably the USB slave could be converted to host. See → <a href="../inventel/dv4210#usbmod" class="wikilink1" title="toh:inventel:dv4210">Livebox1: Slave to Host MOD</a>
</p>

</div>

<h2 class="sectionedit39" id="bootlogs">Bootlogs</h2>
<div class="level2">

</div>

<h3 class="sectionedit40" id="oem_bootlog">OEM bootlog</h3>
<div class="level3">

<p style="padding: 10px;border:1px solid grey;height:600px;font:12px/14px Georgia, Garamond, Serif;overflow:Auto;background-color:#FFFFFF">
<code>CFE version 1.0.37-3.6 for BCM96348 (32bit,SP,BE)
Build Date: ven lug 21 09:44:42 CEST 2006 (oliale@oliale.telsey.loc)
Copyright (C) 2003,2004,2005 Telsey Telecommunications.

Boot Address 0xbfc00000

Initializing Arena.
Initializing Devices.
Parallel flash device: name MX29LV320AT, id 0x22a7, size 4096KB
Auto-negotiation timed-out
10 MB Half-Duplex (assumed)
Check consistency for image tag [1]: Found good image at partition [1]
Check consistency for image tag [2]: No image found at partition [2]
CPU type 0x29107: 256MHz, Bus: 128MHz, Ref: 32MHz
Total memory: 16777216 bytes (16MB)

Total memory used by CFE:  0x80401000 - 0x80526FA0 (1204128)
Initialized Data:          0x8041E610 - 0x80420480 (7792)
BSS Area:                  0x80420480 - 0x80424FA0 (19232)
Local Heap:                0x80424FA0 - 0x80524FA0 (1048576)
Stack Area:                0x80524FA0 - 0x80526FA0 (8192)
Text (code) segment:       0x80401000 - 0x8041E60C (120332)
Boot area (physical):      0x00527000 - 0x00567000
Relocation Factor:         I:00000000 - D:00000000

Board IP address                  : 192.168.1.1  
Host IP address                   : 192.168.1.100  
Gateway IP address                :   
Run from flash/host (f/h)         : f  
Default host run file name        : vmlinux  
Default host flash file name      : bcm963xx_fs_kernel  
Boot delay (0-9 seconds)          : 1  
Board Id Name                     : CPVA502+  
Psi size in KB                    : 24
Number of MAC Addresses (1-32)    : 8  
Base MAC Address                  : 00:03:XX:XX:XX:XX  
Ethernet PHY Type                 : Internal
Memory size in MB                 : 16

mac server test........................### 
### Not default mac address
### 00 03 6f 75 de 58 
*** Press any key to stop auto run (1 seconds) ***
Auto run second count down: 110
Code Address: 0x80010000, Entry Address: 0x801a2018
Decompression OK!
Entry at 0x801a2018
Closing network.
Starting program at 0x801a2018
Linux version 2.6.8.1 (devluc@pisaur.telsey.loc) (gcc version 3.4.2) #1 Mon Oct 9 13:15:54 CEST 2006

Parallel flash device: name MX29LV320AT, id 0x22a7, size 4096KB

Total Flash size: 4096K with 71 sectors

CPVA502+ prom init

CPU revision is: 00029107

Determined physical RAM map:

 memory: 00fa0000 @ 00000000 (usable)

On node 0 totalpages: 4000

  DMA zone: 4000 pages, LIFO batch:1

  Normal zone: 0 pages, LIFO batch:1

  HighMem zone: 0 pages, LIFO batch:1

Built 1 zonelists

Kernel command line: root=31:0 ro noinitrd

brcm mips: enabling icache and dcache...

Primary instruction cache 16kB, physically tagged, 2-way, linesize 16 bytes.

Primary data cache 8kB 2-way, linesize 16 bytes.

PID hash table entries: 64 (order 6: 512 bytes)

Using 128.000 MHz high precision timer.

Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)

Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)

Memory: 14008k/16000k available (1321k kernel code, 1972k reserved, 282k data, 72k init, 0k highmem)

Calibrating delay loop... 255.59 BogoMIPS

Mount-cache hash table entries: 512 (order: 0, 4096 bytes)

Checking for 'wait' instruction...  unavailable.

NET: Registered protocol family 16

Can't analyze prologue code at 80158e14

PPP generic driver version 2.4.2

NET: Registered protocol family 24

Using noop io scheduler

bcm963xx_mtd driver v1.0

bcm963xx_mtd: rootfs_addr = 0xBFC10100, kernel_addr = 0xBFEAC100

brcmboard: brcm_board_init entry


 GPIO (0x4) LOW -- KIT ON POTS 

A confirm button interrupt is not configured on this board

CPU monitor calibration

Calibration loops: 51134656

bcm963xx_serial driver v2.0

NET: Registered protocol family 2

IP: routing cache hash table of 512 buckets, 4Kbytes

TCP: Hash tables configured (established 512 bind 1024)

NET: Registered protocol family 1

NET: Registered protocol family 17

Ebtables v2.0 registered

NET: Registered protocol family 8

NET: Registered protocol family 20

VFS: Mounted root (squashfs filesystem) readonly.

Freeing unused kernel memory: 72k freed


init started:  BusyBox v1.00 (2006.10.09-11:20+0000) multi-call binary
Algorithmics/MIPS FPU Emulator v1.5

BusyBox v1.00 (2006.10.09-11:20+0000) Built-in shell (msh)
Enter 'help' for a list of built-in commands.


Loading drivers and kernel modules... 

atmapi: module license 'Proprietary' taints kernel.

blaadd: blaa_detect entry

adsl: adsl_init entry

Broadcom BCMPROCFS v1.0 initialized

Broadcom BCM6348B0 Ethernet Network Device v0.3 Oct  9 2006 13:14:25

Config Internal PHY Through MDIO

BCM63xx_ENET: Auto-negotiation timed-out

BCM63xx_ENET: 10 MB Half-Duplex (assumed)

eth0: MAC Address: 00:03:XX:XX:XX:XX

Broadcom BCM6348B0 Ethernet Network Device v0.3 Oct  9 2006 13:14:25

Config External PHY Through MDIO

mii_init: mii hardware reset

BCM63xx_ENET: Auto-negotiation timed-out

BCM63xx_ENET: 10 MB Half-Duplex (assumed)

eth1: MAC Address: 00:03:XX:XX:XX:XX

Telsey BCM6348B0 USB Network Device v0.4 Oct  9 2006 13:14:29

usb0: MAC Address: 00 03 XX XX XX XX

usb0: Host MAC Address: 00 03 XX XX XX XX

Telsey CPVA502+-W, hwVer = 0xb, USB product ID set to 6310

MAGIC USB configuration

Endpoint: endpoint_init entry

BOS: Enter bosInit 

Enter bosAppInit 

Exit bosAppInit 

BOS: Exit bosInit 

Endpoint: endpoint_init COMPLETED

loading Broadcom WIFI module
PCI: Setting latency timer of device 0000:00:01.0 to 64

PCI: Enabling device 0000:00:01.0 (0004 -> 0006)

wl: srom not detected, using main memory mapped srom info (wombo board)

wl0: wlc_attach: using main board MAC address base in NVRAM (wombo board)

wl0 MAC Address: 00:03:XX:XX:XX:XX

wl0: Broadcom BCM4318 802.11 Wireless Controller 3.131.35.0.cpe2.3

dgasp: kerSysRegisterDyingGaspHandler: wl0 registered 

wlctl: wlctl: BcmAdsl_Initialize=0xC005E218, g_pFnNotifyCallback=0xC0078AD4

pSdramPHY=0xA0FFFFF8, 0x7995F 0xDEADBECF

AdslCoreHwReset: AdslOemDataAddr = 0xA0FF68A0

dgasp: kerSysRegisterDyingGaspHandler: dsl0 registered 

ip_tables: (C) 2000-2002 Netfilter core team

ip_conntrack version 2.1 (125 buckets, 0 max) - 368 bytes per conntrack

ip_conntrack_pptp version 2.1 loaded

ip_nat_pptp version 2.0 loaded

ip_conntrack_h323: init 

ip_nat_h323: initialize the module!

insmod: cannot open module `/lib/modules/2.6.8.1/kernel/net/ipv4/netfilter/broadcom/ip_conntrack_ipsec.ko': No such file or directory
insmod: cannot open module `/lib/modules/2.6.8.1/kernel/net/ipv4/netfilter/broadcom/ip_nat_ipsec.ko': No such file or directory
insmod: cannot open module `/lib/modules/2.6.8.1/kernel/net/ipv4/netfilter/ip_conntrack_sip.ko': No such file or directory

==>   Bcm963xx Software Version: 3.4.6V-h323.A2pB020a1.d17e   <==

device usb0 entered promiscuous mode

bcm63xxenet: Command 35318 not supported.

app: configure ethernet eth0 speed failed.
bcm63xxenet: Command 35317 not supported.

app: configure ethernet eth0 duplex type failed.
br0: port 1(usb0) entering learning state

br0: topology change detected, propagating

br0: port 1(usb0) entering forwarding state

device eth0 entered promiscuous mode

br0: port 2(eth0) entering learning state

br0: topology change detected, propagating

br0: port 2(eth0) entering forwarding state

bcm63xxenet: Command 35318 not supported.

app: configure ethernet eth1 speed failed.
bcm63xxenet: Command 35317 not supported.

app: configure ethernet eth1 duplex type failed.
device eth1 entered promiscuous mode

br0: port 3(eth1) entering learning state

br0: topology change detected, propagating

br0: port 3(eth1) entering forwarding state

Setting SSID "Telsey502plus"
Setting SSID "Guest"
pvc2684d: Interface "nas_0_44" created sucessfully

pvc2684d: Communicating over ATM 0.0.44, encapsulation: LLC

Starting the H323 application with the following parameters:H323 Gatekeeper address: 0.0.0.0H323 Gatekeeper ID: H323 Secondary Gatekeeper address: 0.0.0.0H323 Secondary Gatekeeper ID: H323 Gatekeeper port: 1719H323 Time to Live: 3600H323 Keep Alive Interval: 75 % of Time to LiveH323 Terminal Type: terminalH323 FastStart: Off (connect)H323 Alias: TelseyPhone Line1: Phone Line2: Dialplan Line1: .t4-Dialplan Line2: .t4-Supp. Services enable mask: 0x0:0x0User defined Supp. Services codes: Call Waiting Timeout (in seconds): 15Override Category: OffQ931 T301 Timer (in seconds): 180Q931 T303 Timer (in seconds): 4Q931 T310 Timer (in seconds): 120Starting restorebtnd...
No-answer timeout (in seconds): 120Offhook timeout (in seconds): 100H245 Tunneling: OffH245 Channel After Fast Start: OffEarly H245: OffOOB DTMF: OffAlerting PI: 8Progress PI: 8Bearer Capability: SpeechPlug change timeout (in seconds): OffH323 TOS: OffH323 Debugger: mode = Off --- level = ERRORCurrent global voice parameters:Codec G711U: Packet=20(ms) ec=On ss=Off Codec G711A: Packet=20(ms) ec=On ss=Off Codec G729: Packet=20(ms) ec=On ss=Off Codec priority order: G711U,G711A,G729 Country: ITALYCLID signal type: FSKHookFlash interval: 50-200 (ms)On-Hook detection timeout: 600 (ms)Squelch inband DTMF: OffFax feature: OnModem feature: OnPass through codec: OffNLP on Modem detection: OffNLP on Fax detection: OnRTP TOS: A0VodslSettings::getStrParam: Set default G729 configuration parameters (ec and ss)VodslSettings::setVar varName = codec_G729_ec, varValue = On
VodslSettings::setVar varName = codec_G729_ss, varValue = Off
Starting cpumond...
BcmWan_startInterface: vpi = 0, vci = 33, conId = 1
pWanId status = 0
BUFFER=vodsl h323start -p 0.0.0.0:1719-3600-75-terminal-Off-'' -i br0 -g 0.0.0.0-'' -G connect -c ITALY -s FSK -I 'Telsey' -n num:: -d ".t4-:.t4-" -m G711U,G711A,G729,:20-On-Off:20-On-Off:20-On-Off -t 50 -T 200 -H 600 -X 'Off' -Y 'Off' -S 'Off-A0' -e 'Off-On' -f 'On-On' -u none=0:0=0:0 -W 15 -O Off -L Off -N Off -E Off -B Speech -C Off -U 180 -V 4 -Z 120 -A 120 -F 100 -P 8:8 -o Off -D Off:ERROR &
BcmWan_startInterface: vpi = 0, vci = 44, conId = 1
pWanId status = 0
process `snmp' is using obsolete setsockopt SO_BSDCOMPAT

br0: port 2(eth0) entering disabled state

main(404): pppd 2.4.1 started by admin, uid 0
br0: port 3(eth1) entering disabled state

br0: port 1(usb0) entering disabled state

BOS: Enter bosInit 
Enter bosAppInit 
Exit bosAppInit 
BOS: Exit bosInit 
00:00:28 Address for host 0.0.0.0 resolved to 0.0.0.0 

00:00:28 Address for host 0.0.0.0 resolved to 0.0.0.0 

kernel::endpoint_open

kernel::endpoint_open COMPLETED

00:00:28 EndpointProvis entering: provisioning item 54

00:00:28 EndpointProvis  item=54 value=1

kernel:: endpoint provisioning

00:00:28 EndpointProvis entering: provisioning item 34

00:00:28 EndpointProvis  item=34 value=50

kernel:: endpoint provisioning

00:00:28 EndpointProvis entering: provisioning item 35

00:00:28 EndpointProvis  item=35 value=200

kernel:: endpoint provisioning

00:00:28 EndpointProvis entering: provisioning item 36

00:00:28 EndpointProvis  item=36 value=600

kernel:: endpoint provisioning

00:00:28 EndpointProvis entering: provisioning item 37

00:00:28 EndpointProvis  item=37 value=0

kernel:: endpoint provisioning

00:00:28 EndpointProvis entering: provisioning item 38

00:00:28 EndpointProvis  item=38 value=0

kernel:: endpoint provisioning

00:00:28 EndpointProvis entering: provisioning item 39

00:00:28 EndpointProvis  item=39 value=0

kernel:: endpoint provisioning

00:00:28 EndpointProvis entering: provisioning item 40

00:00:28 EndpointProvis  item=40 value=1

kernel:: endpoint provisioning

00:00:28 EndpointProvis entering: provisioning item 41

00:00:28 EndpointProvis  item=41 value=0

kernel:: endpoint provisioning

00:00:28 Endpoint Event task started with pid 389...

00:00:28 Endpoint Packet task started with pid 390 ...

Enter bosStartApp



bosAppRootTask() - Is it morning already? Spawning app task (epoch #0)...


Enter TaskCreate aoAP

TaskCreate - spawn new task aoAP

Exit TaskCreate 

AppResetDetectionEnable() - Enabled reset detection.

Exit bosStartApp

Enter TaskCreate HRTBEAT

TaskCreate - spawn new task HRTBEAT

Exit TaskCreate 

HEARTBEAT: Initialized!

slacLe9581Init: Init SLAC for country 10

slac6348Le9581.c: OpenSlac, boardId = 16777219

slac6348Le9581.c: OpenSlac, ABAT disabled

HEARTBEAT: Patient (AC power) pid=0 registered (1 of 16 max registered)

bosMsgQCreate: Created message queue VRGEVQ at address 0x0 

Enter TaskCreate VRGEVPR

TaskCreate - spawn new task VRGEVPR

Exit TaskCreate 

Enter TaskCreate HCAS

TaskCreate - spawn new task HCAS

Exit TaskCreate 


ENDPT: hdspVhdOpen Secondary Connection VHD success. DSP 0, VHD (0x50) of type: 0x3

HEARTBEAT: Patient (Cnx state) pid=1 registered (2 of 16 max registered)

HEARTBEAT: Patient (Endpt hookstate) pid=2 registered (3 of 16 max registered)

HEARTBEAT: Patient (Endpt On/Off signal) pid=3 registered (4 of 16 max registered)

HEARTBEAT: Patient (Endpt Caller ID signal) pid=4 registered (5 of 16 max registered)

HEARTBEAT: Patient (Endpt signal) pid=5 registered (6 of 16 max registered)

HEARTBEAT: Patient (Cnx signal) pid=6 registered (7 of 16 max registered)


ENDPT: hdspVhdOpen Primary Connection VHD success. DSP 0, VHD (0x51) of type: 0x0

HEARTBEAT: Patient (Cnx state) pid=7 registered (8 of 16 max registered)


ENDPT: hdspVhdOpen Line VHD success. DSP 0, VHD (0x52) of type: 0x7

ENDPT 0: Fax Custom Options set to 0x0

Default value for provItemId '47' did not exist

Default value for provItemId '210' did not exist

Default value for provItemId '63' did not exist

ENDPT: Initialization completed successfully for endpt 0


00:00:29 cmCallConfig: entering...
WO........0=*43#
WF........1=#43#
WQ........2=*#43#
RT........12=*31#
RO........13=*32#
RF........17=*33#
RESTORE DEFAULT........11=###*1973*5*2846*147896325*###
ENDPOINT 0:
00:00:29 rtpInit: RTCP task created, taskId = 5126
udpRawOpen: copying socketHandle b
00:00:29  RTP read thread started with pid 398 

udpRawSetSendHandle: copying rawHdl 0 senddesc b
udpRawOpen: copying socketHandle e
00:00:29  RTP read thread started with pid 399 

udpRawSetSendHandle: copying rawHdl 1 senddesc e
00:00:29  RTCP thread started with pid 397
</code>
</p>

</div>

<h3 class="sectionedit41" id="openwrt_bootlog_backfire">OpenWrt bootlog (Backfire)</h3>
<div class="level3">

<p style="padding: 10px;border:1px solid grey;height:600px;font:12px/14px Georgia, Garamond, Serif;overflow:Auto;background-color:#FFFFFF">
<code>CFE version 1.0.37-3.6 for BCM96348 (32bit,SP,BE)
Build Date: ven lug 21 09:44:42 CEST 2006 (oliale@oliale.telsey.loc)
Copyright (C) 2003,2004,2005 Telsey Telecommunications.

Boot Address 0xbfc00000

Initializing Arena.
Initializing Devices.
Parallel flash device: name MX29LV320AT, id 0x22a7, size 4096KB
100 MB Full-Duplex (auto-neg)
Check consistency for image tag [1]: Found good image at partition [1]
Check consistency for image tag [2]: No image found at partition [2]
CPU type 0x29107: 256MHz, Bus: 128MHz, Ref: 32MHz
Total memory: 16777216 bytes (16MB)

Total memory used by CFE:  0x80401000 - 0x80526FA0 (1204128)
Initialized Data:          0x8041E610 - 0x80420480 (7792)
BSS Area:                  0x80420480 - 0x80424FA0 (19232)
Local Heap:                0x80424FA0 - 0x80524FA0 (1048576)
Stack Area:                0x80524FA0 - 0x80526FA0 (8192)
Text (code) segment:       0x80401000 - 0x8041E60C (120332)
Boot area (physical):      0x00527000 - 0x00567000
Relocation Factor:         I:00000000 - D:00000000

Board IP address                  : 192.168.1.1
Host IP address                   : 192.168.1.100
Gateway IP address                : 
Run from flash/host (f/h)         : f
Default host run file name        : vmlinux
Default host flash file name      : bcm963xx_fs_kernel
Boot delay (0-9 seconds)          : 9
Board Id Name                     : CPVA502+
Psi size in KB                    : 24
Number of MAC Addresses (1-32)    : 8
Base MAC Address                  : 00:30:ab:00:00:01
Ethernet PHY Type                 : Internal
Memory size in MB                 : 16

mac server test........................
### Not default mac address
### 00 30 ab 00 00 01
*** Press any key to stop auto run (9 seconds) ***
Auto run second count down: 0
Code Address: 0x80010000, Entry Address: 0x80010000
Decompression OK!
Entry at 0x80010000
Closing network.
Starting program at 0x80010000
Linux version 2.6.32.27 (dani@tool) (gcc version 4.3.3 (GCC) ) #2 Sun Jan 27 20:42:36 CET 2013
Detected Broadcom 0x6348 CPU revision b0
CPU frequency is 256 MHz
16MB of RAM installed
registering 37 GPIOs
board_bcm963xx: CFE version: 1.0.37-3.6
bootconsole [early0] enabled
CPU revision is: 00029107 (Broadcom BCM6348)
board_bcm963xx: board name: CPVA502+
Determined physical RAM map:
 memory: 01000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal   0x00000000 -> 0x00001000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -> 0x00001000
Built 1 zonelists in Zone order, mobility grouping off.  Total pages: 4064
Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 noinitrd console=ttyS0,115200
PID hash table entries: 64 (order: -4, 256 bytes)
Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)
Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)
Primary instruction cache 16kB, VIPT, 2-way, linesize 16 bytes.
Primary data cache 8kB, 2-way, VIPT, no aliases, linesize 16 bytes
Memory: 13472k/16384k available (2053k kernel code, 2912k reserved, 360k data, 132k init, 0k highmem)
Hierarchical RCU implementation.
NR_IRQS:128
Calibrating delay loop... 254.97 BogoMIPS (lpj=509952)
Mount-cache hash table entries: 512
NET: Registered protocol family 16
registering PCI controller with io_map_base unset
bio: create slab <bio-0> at 0
Switching to clocksource MIPS
PCI: Enabling device 0000:00:01.0 (0000 -> 0002)
ssb: Sonics Silicon Backplane found on PCI device 0000:00:01.0
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 512 (order: 0, 4096 bytes)
TCP bind hash table entries: 512 (order: -1, 2048 bytes)
TCP: Hash tables configured (established 512 bind 512)
TCP reno registered
NET: Registered protocol family 1
audit: initializing netlink socket (disabled)
type=2000 audit(0.312:1): initialized
squashfs: version 4.0 (2009/01/31) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  Â© 2001-2006 Red Hat, Inc.
msgmni has been set to 26
io scheduler noop registered
io scheduler deadline registered (default)
gpiodev: gpio device registered with major 254
gpiodev: gpio platform device registered with access mask FFFFFFFF
bcm63xx_uart.0: ttyS0 at MMIO 0xfffe0300 (irq = 10) is a bcm63xx_uart
console [ttyS0] enabled, bootconsole disabled
console [ttyS0] enabled, bootconsole disabled
bcm963xx_flash: 0x00400000 at 0x1fc00000
bcm963xx: Found 1 x16 devices at 0x0 in 16-bit bank
 CFI mfr 0x000000c2
 CFI id  0x000022a7
 Amd/Fujitsu Extended Query Table at 0x0040
  Amd/Fujitsu Extended Query version 1.1.
bcm963xx: Swapping erase regions for broken CFI table.
number of CFI chips: 1
cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.
bcm963xx_flash: Read Signature value of CFE1CFE1
bcm963xx_flash: CFE bootloader detected
bcm963xx_flash: CFE boot tag found with version 6 and board type 96348GW
bcm963xx_flash: Partition 0 is CFE offset 0 and length 10000
bcm963xx_flash: Partition 1 is kernel offset 10100 and length dff00
bcm963xx_flash: Partition 2 is rootfs offset f0000 and length 300000
bcm963xx_flash: Partition 3 is nvram offset 3f0000 and length 10000
bcm963xx_flash: Partition 4 is linux offset 10000 and length 3e0000
bcm963xx_flash: Spare partition is 280000 offset and length 170000
Creating 5 MTD partitions on "bcm963xx":
0x000000000000-0x000000010000 : "CFE"
0x000000010100-0x0000000f0000 : "kernel"
mtd: partition "kernel" must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
0x0000000f0000-0x0000003f0000 : "rootfs"
mtd: partition "rootfs" set to be root filesystem
mtd: partition "rootfs_data" created automatically, ofs=280000, len=170000
0x000000280000-0x0000003f0000 : "rootfs_data"
0x0000003f0000-0x000000400000 : "nvram"
0x000000010000-0x0000003f0000 : "linux"
bcm63xx_enet MII bus: probed
bcm63xx_enet MII bus: probed
bcm63xx_wdt started, timer margin: 30 sec
Registered led device: phone
Registered led device: link
Registered led device: eth1-nrst
TCP westwood registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear <greearb@candelatech.com>
All bugs added by David S. Miller <davem@redhat.com>
VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
Freeing unused kernel memory: 132k freed
Please be patient, while OpenWrt loads ...
- preinit -
Press the [f] key and hit [enter] to enter failsafe mode
- regular preinit -
switching to jffs2
mini_fo: using base directory: /
mini_fo: using storage directory: /overlay
- init -

Please press Enter to activate this console. bcm63xx_enet bcm63xx_enet.0: attached PHY at address 1 [Broadcom BCM63XX (1)]
bcm63xx_enet bcm63xx_enet.1: attached PHY at address 0 [Generic PHY]
device eth1 entered promiscuous mode
eth0: link UP - 100/full - flow control off
Compat-wireless backport release: compat-wireless-2011-11-29
Backport based on wireless-testing.git master-2011-12-01
cfg80211: Calling CRDA to update world regulatory domain
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
cfg80211: World regulatory domain updated:
cfg80211:     (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
cfg80211:     (2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
cfg80211:     (2457000 KHz - 2482000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
cfg80211:     (2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
cfg80211:     (5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
cfg80211:     (5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
usbcore: registered new device driver usb
b43-phy0: Broadcom 4318 WLAN found (core revision 9)
Registered led device: b43-phy0::tx
Registered led device: b43-phy0::rx
Registered led device: b43-phy0::radio
Broadcom 43xx driver loaded [ Features: PL ]
PPP generic driver version 2.4.2
ip_tables: (C) 2000-2006 Netfilter Core Team
NET: Registered protocol family 24
nf_conntrack version 0.5.0 (212 buckets, 848 max)
ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
bcm63xx_ohci bcm63xx_ohci.0: BCM63XX integrated OHCI controller
bcm63xx_ohci bcm63xx_ohci.0: new USB bus registered, assigned bus number 1
bcm63xx_ohci bcm63xx_ohci.0: irq 20, io mem 0xfffe1b00
usb usb1: configuration #1 chosen from 1 choice
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 2 ports detected



BusyBox v1.15.3 (2013-01-27 14:49:55 CET) built-in shell (ash)
Enter 'help' for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 ---------------------------------------------------
 Backfire (10.03.x Snapshot, r33081)
 ---------------------------------------------------
  * 1/3 shot Kahlua    In a shot glass, layer Kahlua
  * 1/3 shot Bailey's  on the bottom, then Bailey's,
  * 1/3 shot Vodka     then Vodka.
 ---------------------------------------------------
root@OpenWrt:/#
</code>
</p>

</div>

<h2 class="sectionedit42" id="tags">Tags</h2>
<div class="level2">
<div class="tags"><span>
	<a href="../../tag/bcm63xx?do=showtag&amp;tag=bcm63xx" class="wikilink1" title="tag:bcm63xx" rel="tag">bcm63xx</a>,
	<a href="../../tag/bcm6348?do=showtag&amp;tag=bcm6348" class="wikilink1" title="tag:bcm6348" rel="tag">bcm6348</a>
</span></div>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/telsey/cpva502.w.txt</bdi> · Last modified: 2015/03/21 12:28 by <bdi>danitool</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="http://wiki.openwrt.org/toh/telsey/cpva502.w?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="http://wiki.openwrt.org/toh/telsey/cpva502.w?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="http://wiki.openwrt.org/toh/telsey/cpva502.w?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="cpva502.w#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="http://wiki.openwrt.org/lib/exe/indexer.php?id=toh%3Atelsey%3Acpva502.w&amp;1432282985" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
