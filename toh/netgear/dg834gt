<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>Netgear DG834GT [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="bcm63xx,bcm6348"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="dg834gt?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:netgear"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/netgear/dg834gt"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/netgear/dg834gt"/>
<link rel="canonical" href="dg834gt"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:netgear';var JSINFO = {"id":"toh:netgear:dg834gt","namespace":"toh:netgear"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432266242 166.182.3.99';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="dg834gt#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="dg834gt?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="dg834gt?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:netgear:dg834gt" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="dg834gt?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="dg834gt?do=media&amp;ns=toh%253Anetgear"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="dg834gt?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:netgear:start">Netgear</a></bdi> » <bdi><span class="curid"><a href="dg834gt" class="wikilink1" title="toh:netgear:dg834gt">Netgear DG834GT</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/netgear/dg834gt" class="media" title="cz:toh:netgear:dg834gt"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/netgear/dg834gt" class="media" title="de:toh:netgear:dg834gt"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="dg834gt" class="media" title="toh:netgear:dg834gt"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/netgear/dg834gt" class="media" title="es:toh:netgear:dg834gt"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/netgear/dg834gt" class="media" title="fr:toh:netgear:dg834gt"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/netgear/dg834gt" class="media" title="hu:toh:netgear:dg834gt"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/netgear/dg834gt" class="media" title="jp:toh:netgear:dg834gt"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/netgear/dg834gt" class="media" title="pl:toh:netgear:dg834gt"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/netgear/dg834gt" class="media" title="pt-br:toh:netgear:dg834gt"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/netgear/dg834gt" class="media" title="ru:toh:netgear:dg834gt"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/netgear/dg834gt" class="media" title="tr:toh:netgear:dg834gt"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/netgear/dg834gt" class="media" title="zh-cn:toh:netgear:dg834gt"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/netgear/dg834gt" class="media" title="zh-tw:toh:netgear:dg834gt"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:netgear:dg834gt</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="dg834gt#hardware_highlights">Hardware Highlights</a></div></li>
<li class="level1"><div class="li"><a href="dg834gt#installation">Installation</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="dg834gt#how_to_flash_firmware_using_linux">How to flash firmware using Linux</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="dg834gt#create_the_image">Create the image</a></div></li>
<li class="level3"><div class="li"><a href="dg834gt#install_using_nftp">Install using NFTP</a></div></li>
<li class="level3"><div class="li"><a href="dg834gt#install_using_web_interface">Install using web interface</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="dg834gt#oem_installation_on_windows_using_the_firmware_recovery_tool">OEM installation on Windows using the Firmware Recovery Tool</a></div></li>
<li class="level2"><div class="li"><a href="dg834gt#tftp_and_serial_port_method">TFTP and serial port method</a></div></li>
<li class="level2"><div class="li"><a href="dg834gt#enjoy_openwrt">Enjoy OpenWrt</a></div></li>
<li class="level2"><div class="li"><a href="dg834gt#wifi">WiFi</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="dg834gt#assigning_a_wan_port_with_dhcp">Assigning a WAN port with DHCP</a></div></li>
<li class="level3"><div class="li"><a href="dg834gt#using_a_gnulinux_pc_to_forward_internet">Using a GNU/Linux PC to forward internet</a></div></li>
<li class="level3"><div class="li"><a href="dg834gt#installing_the_driver">Installing the driver</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="dg834gt#hardware">Hardware</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="dg834gt#info">Info</a></div></li>
<li class="level2"><div class="li"><a href="dg834gt#serial">Serial</a></div></li>
<li class="level2"><div class="li"><a href="dg834gt#jtag">JTAG</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="dg834gt#recovery">Recovery</a></div></li>
<li class="level1"><div class="li"><a href="dg834gt#hardware_mods">Hardware mods</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="dg834gt#usb_port">USB port</a></div></li>
<li class="level2"><div class="li"><a href="dg834gt#spi_port">SPI port</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="dg834gt#tags">Tags</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="netgear_dg834gt">Netgear DG834GT</h1>
<div class="level1">
<div class="table sectionedit2"><table class="inline">
	<tr class="row0">
		<td class="col0"> <a href="../../_detail/meta/icons/tango/48px-dialog-warning.svg.png?id=toh%253Anetgear%253Adg834gt" class="media" title="meta:icons:tango:48px-dialog-warning.svg.png"><img src="../../_media/meta/icons/tango/48px-dialog-warning.svg.png" class="media" alt="" /></a> </td><td class="col1"> <strong>WARNING:</strong> Do not confuse the DG834<strong>GT</strong> with the <a href="dg834.v4" class="wikilink1" title="toh:netgear:dg834.v4">DG834G V4</a>!<br/>
Also note that the <strong>Wifi</strong> chip for this router is the <strong>Atheros</strong> AR2414 chip and <em>not</em> the Broadcom. </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit3" id="hardware_highlights">Hardware Highlights</h2>
<div class="level2">
<div class="table sectionedit4"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> SoC </th><th class="col1"> Ram </th><th class="col2"> Flash </th><th class="col3"> <abbr title="Local Area Network">LAN</abbr> </th><th class="col4"> USB </th><th class="col5"> Serial </th><th class="col6"> JTag </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0">Broadcom BCM6348@256MHz </td><td class="col1"> 16MiB </td><td class="col2"> 4MiB </td><td class="col3"> 4 x 1</td><td class="col4"> USB 1.1 Host </td><td class="col5"> Yes </td><td class="col6"> Yes </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit5" id="installation">Installation</h2>
<div class="level2">

<p>
The OEM firmware is Linux, you can reach it via telnet after opening the following web page of the router: <a href="http://your_router_ip_address_here/setup.cgi?todo=debug" class="urlextern" title="http://your_router_ip_address_here/setup.cgi?todo=debug"  rel="nofollow">http://your_router_ip_address_here/setup.cgi?todo=debug</a>
</p>

<p>
The DG834GT became supported in  OpenWrt release 10.03 &#039;Backfire&#039;.
The image needed to flash onto a Broadcom 63xx-series board depends on the board, method you are using to flash, and, for web-based flash, on the version of the Broadcom code your router uses. The board name is 96348GW-10 and it has CFE codeversion 3.02. However, the quickest way to get OpenWRT on the device is using a precompiled image - the image file will be named openwrt-DG834GT_DG834PN-&lt;file_system&gt;-cfe.bin. Take a look in <a href="http://downloads.openwrt.org/backfire/10.03.1/brcm63xx/" class="urlextern" title="http://downloads.openwrt.org/backfire/10.03.1/brcm63xx/"  rel="nofollow">Backfire 10.03.1</a>
</p>
<ul>
<li class="level1"><div class="li"> There is <strong>NO</strong> support for the ADSL modem currently!</div>
</li>
<li class="level1"><div class="li"> The image file does NOT have support for WiFi, so you&#039;ll have to add it with <pre class="code">opkg update</pre>
 then <pre class="code">  opkg install kmod-ath
  opkg install kmod-ath5k</pre>
</div>
</li>
</ul>

<p>
There are three known methods to install OpenWRT on the DG834GT:
</p>

</div>

<h3 class="sectionedit6" id="how_to_flash_firmware_using_linux">How to flash firmware using Linux</h3>
<div class="level3">

<p>
Convert an OpenWRT build (.bin file) to Netgear format (.img), and then use either NFTP or the router&#039;s web interface to flash the new image.
</p>

</div>

<h4 id="create_the_image">Create the image</h4>
<div class="level4">
<ol>
<li class="level1"><div class="li"> Download the build image (.bin) from OpenWrt, e.g.: <a href="http://downloads.openwrt.org/backfire/10.03.1/brcm63xx/openwrt-DG834GT_DG834PN-squashfs-cfe.bin" class="urlextern" title="http://downloads.openwrt.org/backfire/10.03.1/brcm63xx/openwrt-DG834GT_DG834PN-squashfs-cfe.bin"  rel="nofollow">openwrt-DG834GT_DG834PN-squashfs-cfe.bin</a> (recommended) OR <a href="http://downloads.openwrt.org/backfire/10.03.1/brcm63xx/openwrt-DG834GT_DG834PN-jffs2-128k-cfe.bin" class="urlextern" title="http://downloads.openwrt.org/backfire/10.03.1/brcm63xx/openwrt-DG834GT_DG834PN-jffs2-128k-cfe.bin"  rel="nofollow">openwrt-DG834GT_DG834PN-jffs2-128k-cfe.bin</a> OR <a href="http://downloads.openwrt.org/backfire/10.03.1/brcm63xx/openwrt-DG834GT_DG834PN-jffs2-64k-cfe.bin" class="urlextern" title="http://downloads.openwrt.org/backfire/10.03.1/brcm63xx/openwrt-DG834GT_DG834PN-jffs2-64k-cfe.bin"  rel="nofollow">openwrt-DG834GT_DG834PN-jffs2-64k-cfe.bin</a>.</div>
</li>
<li class="level1"><div class="li"> Get <a href="ftp://downloads.netgear.com/files/GPL/DG834GT_V1.02.16_NA_src.zip" class="urlextern" title="ftp://downloads.netgear.com/files/GPL/DG834GT_V1.02.16_NA_src.zip"  rel="nofollow">ftp://downloads.netgear.com/files/GPL/DG834GT_V1.02.16_NA_src.zip</a> and unzip the  directory DG834GT_V1.02.16_NA_src. </div>
<ul>
<li class="level3"><div class="li"> Note : source code can now be found at <a href="http://kb.netgear.com/app/answers/detail/a_id/2649/~/netgear---open-source-code-for-programmers-%28gpl%29" class="urlextern" title="http://kb.netgear.com/app/answers/detail/a_id/2649/~/netgear---open-source-code-for-programmers-%28gpl%29"  rel="nofollow">http://kb.netgear.com/app/answers/detail/a_id/2649/~/netgear---open-source-code-for-programmers-%28gpl%29</a></div>
</li>
<li class="level3"><div class="li"> Direct link for the last firmware (1.03.23) : <a href="http://www.downloads.netgear.com/files/GPL/DG834GT_V1.03.23_src.tar.bz2.zip" class="urlextern" title="http://www.downloads.netgear.com/files/GPL/DG834GT_V1.03.23_src.tar.bz2.zip"  rel="nofollow">http://www.downloads.netgear.com/files/GPL/DG834GT_V1.03.23_src.tar.bz2.zip</a></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> In DG834GT_V1.02.16_NA_src directory create an empty file named mkimage.sh and insert the code from post 424 on <a href="https://forum.openwrt.org/viewtopic.php?pid=89333#p89333" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=89333#p89333"  rel="nofollow">https://forum.openwrt.org/viewtopic.php?pid=89333#p89333</a>.</div>
</li>
<li class="level1"><div class="li"> Put the OpenWrt image (.bin) in the DG834GT_V1.02.16_NA_src directory.</div>
</li>
<li class="level1"><div class="li"> In a terminal cd into DG834GT_V1.02.16_NA_src and execute something like <pre class="code">./mkimage.sh DG834GT_V1.02.16.img openwrt-96348gw-10-squashfs-cfe.bin openwrt-DG834GT-2.6.27.11.img</pre>
 Where first file is the Netgear supplied image, second file is OpenWrt downloaded one and third file is whatever you want to name the new image.</div>
</li>
</ol>

</div>

<h4 id="install_using_nftp">Install using NFTP</h4>
<div class="level4">
<ol>
<li class="level1"><div class="li"> Get code for patched NFTP program from here <a href="http://forum.kitz.co.uk/index.php/topic,5842.msg148308.html#msg1483088" class="urlextern" title="http://forum.kitz.co.uk/index.php/topic,5842.msg148308.html#msg1483088"  rel="nofollow">http://forum.kitz.co.uk/index.php/topic,5842.msg148308.html#msg1483088</a> then compile NFTP to get a binary.</div>
</li>
<li class="level1"><div class="li"> Put the newly created image e.g. named &quot;openwrt-DG834GT-2.6.27.11.img&quot; in this example in the same folder as the binary NFTP file.</div>
</li>
<li class="level1"><div class="li"> Put router in flashing mode by pulling out the power plug, start pressing the reset button, inserting power and then keep pressing reset until LEDs flash alternatively. Then execute something like <pre class="code">sudo ./ntfp -u eth0 openwrt-DG834GT-2.6.27.11.img</pre>
 where the last file is the new image created by mkimage.sh file earlier on.</div>
</li>
<li class="level1"><div class="li"> Power cycle the router around 3 times, making sure everything has initialized properly before going for the next cycle.</div>
</li>
</ol>

</div>

<h4 id="install_using_web_interface">Install using web interface</h4>
<div class="level4">

<p>
For an easier upload method than messing around with NFTP, once you have made the <code>openwrt-DG834GT-2.6.27.11.img</code> file, it can be uploaded through the original web interface / flash upgrade router procedure.
</p>

<p>
I used the instructions above and loaded Backfire 10.03.1 successfully.
</p>

<p>
NOTE: for users of a SKY DG834GT with the locked bootloader you still need to use NFTP to flash because the web interface will not work. The bootloader checks the image and it does not allow flashing.
</p>

</div>

<h3 class="sectionedit7" id="oem_installation_on_windows_using_the_firmware_recovery_tool">OEM installation on Windows using the Firmware Recovery Tool</h3>
<div class="level3">

<p>
On Windows you can use Netgear&#039;s supplied firmware recovery tool, but you need to make some alterations to the image file before it will be acceptable to the tool. You need to prepend the second stage bootloader to the image, then pad the image out to make it a multiple of 1024 bytes, and then ensure that the Netgear model and version information is present.
</p>

<p>
The first few parts of this are done based around the instructions found in <a href="https://forum.openwrt.org/viewtopic.php?pid=144111#p144111" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=144111#p144111"  rel="nofollow">this forum post</a>. Roughly speaking the steps you&#039;ll need to follow are:
</p>
<ol>
<li class="level1"><div class="li"> Start with an official firmware, and extract the first 65536 bytes. <em> head -c 65536 &lt;netgear-firmware.img&gt; &gt; 2bl.bin </em></div>
</li>
<li class="level1"><div class="li"> Figure out how much padding is needed to make the file length a multiple of 1024 bytes. <em> dd if=/dev/zero of=padding.bin bs=&lt;bytesneeded&gt; count=1</em></div>
</li>
<li class="level1"><div class="li"> Prepend the extracted data to the beginning of the openwrt firmware and append the padding to the end. <em> cat 2bl.bin openwrt.bin padding.bin &gt;file_to_flash.img </em></div>
</li>
<li class="level1"><div class="li"> Use the <a href="http://www.ph-mb.com/downloads/brcm_firmware_tool/Broadcom_Firmware_Tool_v1.0_Beta1_standalone.rar" class="urlextern" title="http://www.ph-mb.com/downloads/brcm_firmware_tool/Broadcom_Firmware_Tool_v1.0_Beta1_standalone.rar"  rel="nofollow">Broadcom Firmware Tool</a> found from <a href="http://www.skyuser.co.uk/forum/technical-discussion/32854-firmware-image-editing-tool-dg834gt-sagem-f-st-broadcom-based-routers.html#post235918" class="urlextern" title="http://www.skyuser.co.uk/forum/technical-discussion/32854-firmware-image-editing-tool-dg834gt-sagem-f-st-broadcom-based-routers.html#post235918"  rel="nofollow">SkyUser Forum</a> to add the Netgear <a href="http://fixithere.net/" class="urlextern" title="http://fixithere.net/"  rel="nofollow"> information</a> to the firmware file. This is done by loading the firmware image (file_to_flash.img) into the tool, selecting the Netgear/Sercomm tab, then adding &quot;DG834GT&quot; as the target platform and a version number as the &quot;version ID&quot;. You can then &quot;Save As&quot;, ensuring the file is saved as a &quot;Netgear Firmware Image&quot; rather than the default Broadcom Firmware Image&quot;.</div>
</li>
<li class="level1"><div class="li"> Boot the DG834GT into recovery mode by holding the reset button down whilst powering it up. The power and status lights should flash alternately.</div>
</li>
<li class="level1"><div class="li"> Ensure the new firmware file is in the same directory as the Netgear Firmware Recovery Tool (remove the existing firmware file to avoid confusion).</div>
</li>
<li class="level1"><div class="li"> Use the Recovery Tool to flash the firmware on a 32bit Windows system. </div>
</li>
</ol>

<p>
If you are working on Windows, this author would strongly suggest having UNIX tools at your disposal to make life a little easier. This could be as simple as <a href="http://sourceforge.net/projects/unxutils/" class="urlextern" title="http://sourceforge.net/projects/unxutils/"  rel="nofollow">UnxUtils</a> or as complex as <a href="http://www.cygwin.com/" class="urlextern" title="http://www.cygwin.com/"  rel="nofollow">Cygwin</a>. Note that if you&#039;re using UnxUtils, you can&#039;t point dd at /dev/zero. Instead, point it at a real file, on the understanding that first few bytes (up to 1023) of the real file will turn up at the end of the image.
</p>

<p>
If you don&#039;t get the padding right, then the Firmware Recovery Tool will hang at 99%, and the power and status lights will flash quickly. Don&#039;t panic - the chances are that the firmware has flashed ok, but you&#039;ll need to power cycle the router.
</p>

<p>
The Netgear Firmware Recovery tool basically does the same as the NFTP tool, discovering the device using type 0x8888 Ethernet frames, and then communicating with the firmware using the same frame type. No TFTP is used by the Firmware Recovery tool or by NFTP. 
</p>

</div>

<h3 class="sectionedit8" id="tftp_and_serial_port_method">TFTP and serial port method</h3>
<div class="level3">
<div class="table sectionedit9"><table class="inline">
	<tr class="row0">
		<td class="col0"> <img src="../../_media/meta/icons/tango/48px-dialog-warning.svg.png?w=24&amp;h=24&amp;tok=cb4d70" class="media" alt="" width="24" height="24" /> </td><td class="col1"> <strong>WARNING:</strong> Some DG834GT devices appear to have problems with the bootloader and serial port. This may make the device&#039;s serial port effectively inaccessible! </td>
	</tr>
</table></div>

<p>
The second method needs access to the device serial port. You will need a level shifter to connect an RS232 port, or alternatively you may be able to use one of the older USB to mobile phone serial connection cable, or even something like the BusPirate. The DG834GT operates at 3.3V, so whatever you use must be able to interface at this voltage. The UART connection is a row of four pads below the WiFi card connector, see below for pinout. You will need to solder either pins or wires to the pads.  
</p>
<ol>
<li class="level1"><div class="li"> Connect to the serial port on the DG834GT with the power off on the device.</div>
</li>
<li class="level1"><div class="li"> Set your PC to have a static IP address in the 192.168.1.xxx/24 range.</div>
</li>
<li class="level1"><div class="li"> Start a TFTP server on your PC, and put the OpenWrt firmware file in it&#039;s root directory. (E.G. openwrt-DG834GT_DG834PN-squashfs-cfe.bin)</div>
</li>
<li class="level1"><div class="li"> Ensure you have your terminal software set to 115200 baud, 8N1.</div>
</li>
<li class="level1"><div class="li"> Power the DG834GT up, and quickly hit any key on your terminal.</div>
</li>
<li class="level1"><div class="li"> This should get you the CFE&gt; prompt. If you just got random rubbish on the screen, you have a DG834GT that has problems with the serial port and bootloader. You may have to try using NFTP or the Netgear Firmware Recovery tool instead.</div>
</li>
<li class="level1"><div class="li"> In the serial terminal, type <pre class="code">flashimage [your_pc_ip_address]:openwrt-DG834GT_DG834PN-squashfs-cfe.bin</pre>
</div>
</li>
</ol>

</div>

<h3 class="sectionedit10" id="enjoy_openwrt">Enjoy OpenWrt</h3>
<div class="level3">

<p>
After the flashing has finished your router reboots. Wait for about two minutes until OpenWrt has booted, get a static IP address in <code>192.168.1.xxx/24</code> range and then connect to the router at <code>192.168.1.1</code> via telnet. This is the default address for a fresh OpenWrt installation.  Set the password with <code>passwd</code> and log out using <code>exit</code>. Telnet will not work anymore from this point on, but SSH will.
</p>

<p>
Beside SSH you can now access the web interface on <code><a href="http://192.168.1.1" class="urlextern" title="http://192.168.1.1"  rel="nofollow">http://192.168.1.1</a></code> to complete basic configuration of your new router.
</p>

</div>

<h3 class="sectionedit11" id="wifi">WiFi</h3>
<div class="level3">

<p>
The OpenWrt image file does NOT have support for WiFi, so you&#039;ll have to install the necessary kernel modules. To do so the router needs internet access, which you can get in two ways:
</p>
<ul>
<li class="level1"><div class="li"> Connect the router to a wired network (easiest). Most probably you will have to <span class="curid"><a href="dg834gt#assigningawanportwithdhcp" class="wikilink1" title="toh:netgear:dg834gt">assign a port from the switch to WAN and use DHCP</a></span> to get a valid IP address.</div>
</li>
<li class="level1"><div class="li"> If there is only a wireless network available you can <span class="curid"><a href="dg834gt#usingagnulinuxpctoforwardinternet" class="wikilink1" title="toh:netgear:dg834gt">use a GNU/Linux PC with two network interfaces (wireless and ethernet) to forward internet</a></span> to the DG834GT.</div>
</li>
</ul>

</div>

<h4 id="assigning_a_wan_port_with_dhcp">Assigning a WAN port with DHCP</h4>
<div class="level4">

<p>
The OpenWrt image has a static IP address (<code>192.168.1.1</code>) which may not be in the subnet of the network the DG834GT is plugged into. To circumvent this you can use the VLAN functionality to separate one of the switch ports for usage as WAN port with DHCP. To do so replace the <code>/etc/config/network</code> with the following:
<pre class="code">config &#039;switch&#039; &#039;eth1&#039;
	option &#039;enable&#039; &#039;1&#039;
	option &#039;enable_vlan&#039; &#039;1&#039;
	option &#039;reset&#039; &#039;1&#039;

config &#039;switch_vlan&#039; &#039;vlan0&#039;
	option &#039;vlan&#039; &#039;0&#039;
	option &#039;device&#039; &#039;eth1&#039;
	option &#039;ports&#039; &#039;1 2 3 5*&#039;

config &#039;switch_vlan&#039; &#039;vlan1&#039;
	option &#039;vlan&#039; &#039;1&#039;
	option &#039;device&#039; &#039;eth1&#039;
	option &#039;ports&#039; &#039;0 5t&#039;

config &#039;interface&#039; &#039;loopback&#039;
	option &#039;ifname&#039; &#039;lo&#039;
	option &#039;proto&#039; &#039;static&#039;
	option &#039;ipaddr&#039; &#039;127.0.0.1&#039;
	option &#039;netmask&#039; &#039;255.0.0.0&#039;

config &#039;interface&#039; &#039;lan&#039;
	option &#039;type&#039; &#039;bridge&#039;
	option &#039;ifname&#039; &#039;eth1.0&#039;
	option &#039;proto&#039; &#039;static&#039;
	option &#039;ipaddr&#039; &#039;192.168.1.1&#039;
	option &#039;netmask&#039; &#039;255.255.255.0&#039;
	option &#039;nat&#039; &#039;1&#039;
	option &#039;mtu&#039; &#039;1500&#039;

config &#039;interface&#039; &#039;wan&#039;
	option &#039;ifname&#039; &#039;eth1.1&#039;
	option &#039;mtu&#039; &#039;1492&#039;
	option &#039;proto&#039; &#039;dhcp&#039;</pre>

This <a href="http://www.hwupgrade.it/forum/showpost.php?p=34766046&amp;postcount=130" class="urlextern" title="http://www.hwupgrade.it/forum/showpost.php?p=34766046&amp;postcount=130"  rel="nofollow">configuration by misteroX</a> separates port number 4 of the switch to be used as a WAN interface. It will try to automatically get an IP address using DHCP.
</p>

<p>
Connect the router to your wired network using port 4 and use one of the remaining ports to connect to your PC. Reboot the router and use <code>ifconfig</code> to check if you have an IP assigned for <code>eth1.1</code>. If so you can proceed to <span class="curid"><a href="dg834gt#installingthedriver" class="wikilink1" title="toh:netgear:dg834gt">Installing the driver</a></span>.
</p>

</div>

<h4 id="using_a_gnulinux_pc_to_forward_internet">Using a GNU/Linux PC to forward internet</h4>
<div class="level4">

<p>
During the Installation of the wireless driver the device self-reboots. This works around that. The following assumes that you have left the default IP address on the DG834GT.
</p>

<p>
On the GNU/Linux PC configure the ethernet controller to the DG834GT with a static IP so you can telnet then SSH to it.
<pre class="code">sudo ifconfig eth0 192.168.1.3 netmask 255.255.255.0</pre>

</p>

</div>

<h5 id="configure_dg834gt_to_use_pc_as_internet_provider">Configure DG834GT to use PC as internet provider</h5>
<div class="level5">

<p>
Modify <code>/etc/config/network</code> so the gateway is the laptop. Add the following gateway line to the <code>config interface lan</code> section.
<pre class="code">config interface lan
	option type     bridge
	option ifname   eth1
	option gateway  192.168.1.3</pre>

</p>

<p>
Add to the <code>System;Startup;Local Startup</code> post boot script (via web interface) so it appends an external nameserver to resolve.conf. Alternatively you could edit <code>/etc/rc.local</code>. <code>8.8.8.8</code> is a valid name server.  
<pre class="code">echo search lan &gt; /etc/resolv.conf
echo nameserver 8.8.8.8 &gt;&gt; /etc/resolv.conf
exit 0</pre>

</p>

</div>

<h5 id="pc_forwarding">PC forwarding</h5>
<div class="level5">

<p>
Configure the GNU/Linux PC to forward traffic from the ethernet to the internet with the following script. Tailor the interfaces to your environment.
<pre class="code">#!/bin/bash
#assumes PC eth0 is connected to DG834GT and will have IP 192.168.1.3
#allow the netgear to get info from the inet via this laptop.

function verbose 
{
    echo $*
    $*
}

echo 1 &gt; /proc/sys/net/ipv4/ip_forward

IP=192.168.1.3
#internal
INT=eth0
EXT=wlan0

#setup static IP on interface to the netgear
verbose ifconfig eth0 $IP netmask 255.255.255.0

#set up routing
verbose iptables -t nat -A POSTROUTING -o $EXT -j MASQUERADE
#allow router to connect out and remote servers to respond
verbose iptables -A FORWARD -i $INT -o $EXT -j ACCEPT
verbose iptables -A FORWARD -i $EXT -o $INT -m state    --state RELATED,ESTABLISHED -j ACCEPT
exit</pre>

</p>

</div>

<h5 id="pc_looses_internet">PC looses internet</h5>
<div class="level5">

<p>
Occasionally the PC may loose the internet. It might prioritize routing traffic through the DG834GT rather than the interface to the internet. In the following replace 10.0.2.1 with your router&#039;s IP.
<pre class="code">sudo route del default
sudo route add default gw 10.0.2.1</pre>

</p>

</div>

<h4 id="installing_the_driver">Installing the driver</h4>
<div class="level4">

<p>
At the shell:
<pre class="code">opkg update
opkg install kmod-ath
opkg install kmod-ath5k</pre>

The DG834GT can appear to hang, as the files being downloaded and configured are large.   Downloading the dependencies separately is unnecessary, but gives more feedback. Note that the device may reboot between drivers.
</p>

<p>
After the installation has finished edit <code>/etc/config/wireless</code> and comment out or delete the line:
<pre class="code">option disabled 1</pre>

</p>

<p>
Enter command <code>wifi</code>. You should now see a wireless network with SSID &quot;OpenWrt&quot; (if you did not change the default settings). The web interface will now have <code>Network;Wifi</code> available.
</p>

<p>
If you used the internet forwarding method with a PC undo the changes to <code>/etc/config/network</code> and <code>System;Startup;Local Startup</code>.
</p>

</div>

<h2 class="sectionedit12" id="hardware">Hardware</h2>
<div class="level2">

</div>

<h3 class="sectionedit13" id="info">Info</h3>
<div class="level3">
<div class="table sectionedit14"><table class="inline">
	<tr class="row0">
		<td class="col0 leftalign"> <strong><a href="http://en.wikipedia.org/wiki/Instruction set" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Instruction set">Architecture</a>:</strong>    </td><td class="col1"> <a href="http://en.wikipedia.org/wiki/MIPS architecture" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/MIPS architecture">MIPS</a> big endian </td>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign"> <strong>Vendor:</strong>          </td><td class="col1"> <a href="http://en.wikipedia.org/wiki/Broadcom" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Broadcom">Broadcom</a> </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> <strong><a href="../../doc/techref/bootloader.1" class="wikilink1" title="doc:techref:bootloader">Bootloader</a>:</strong>     </td><td class="col1"> <a href="../../doc/techref/bootloader/cfe" class="wikilink1" title="doc:techref:bootloader:cfe">CFE</a> </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> <strong>Board Id:</strong>      </td><td class="col1"> 96348GW-10 </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/soc.1" class="wikilink1" title="doc:hardware:soc">System-On-Chip</a>:</strong>  </td><td class="col1"> BCM6348KPBG </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/cpu" class="wikilink1" title="doc:hardware:cpu">CPU</a>/Speed</strong>        </td><td class="col1"> BMIPS3300 V0.7 / 256 <abbr title="Megahertz">MHz</abbr> </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> <strong>Flash-Chip:</strong>      </td><td class="col1"> MX 29LV320BTC-70G </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> <strong>Flash size:</strong>      </td><td class="col1"> 4 MiB </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> <strong>RAM:</strong>             </td><td class="col1 leftalign"> IC42S32400<br/>
W9812G2DH-7  </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> <strong>RAM size:</strong>             </td><td class="col1"> 16 MiB (1Mx4x32bit) </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign"> <strong>Wireless:</strong>        </td><td class="col1"> Atheros AR2414 MiniPCI (802.11bg) </td>
	</tr>
	<tr class="row11">
		<td class="col0 leftalign"> <strong>Ethernet:</strong>        </td><td class="col1"> BCM5325 w/ vlan support <a href="../../doc/techref/swconfig" class="wikilink1" title="doc:techref:swconfig">swconfig</a> </td>
	</tr>
	<tr class="row12">
		<td class="col0 leftalign"> <strong>Internet:</strong>        </td><td class="col1 leftalign"> ADSL2+  </td>
	</tr>
	<tr class="row13">
		<td class="col0 leftalign"> <strong>USB:</strong>             </td><td class="col1 leftalign"> Yes USB 1.1 unpopulated  </td>
	</tr>
	<tr class="row14">
		<td class="col0 leftalign"> <strong><a href="../../OpenWrtDocs/Customizing/Hardware/Serial_Console" class="wikilink1" title="doc:hardware:port.serial">Serial</a>:</strong>  </td><td class="col1"> <a href="dg834gt#serial" title="toh:netgear:dg834gt ↵" class="wikilink1">Yes</a> </td>
	</tr>
	<tr class="row15">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/port.jtag" class="wikilink1" title="doc:hardware:port.jtag">JTAG</a>:</strong>      </td><td class="col1 leftalign"> <a href="dg834gt#jtag" title="toh:netgear:dg834gt ↵" class="wikilink1">Yes</a>  </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit15" id="serial">Serial</h3>
<div class="level3">

<p>
Serial console is J503, below the Wifi card connector. No pins are pre-soldered. Settings are: 115200, 8, n, 1.
</p>
<div class="table sectionedit16"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> pin </th><th class="col1"> signal </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> 1 </td><td class="col1"> GND </td>
	</tr>
	<tr class="row2">
		<td class="col0"> 2 </td><td class="col1"> TX </td>
	</tr>
	<tr class="row3">
		<td class="col0"> 3 </td><td class="col1"> 3V3 </td>
	</tr>
	<tr class="row4">
		<td class="col0"> 4 </td><td class="col1"> RX </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit17" id="jtag">JTAG</h3>
<div class="level3">

<p>
Jtag Port is J201 this port is verified.
</p>

<p>
Disposition on the board:
</p>
<div class="table sectionedit18"><table class="inline">
	<tr class="row0">
		<td class="col0"> 2 </td><td class="col1"> 4 </td><td class="col2"> 6 </td><td class="col3"> 8 </td><td class="col4"> 10 </td><td class="col5"> 12 </td>
	</tr>
	<tr class="row1">
		<td class="col0"> 1 </td><td class="col1"> 3 </td><td class="col2"> 5 </td><td class="col3"> 7 </td><td class="col4 rightalign">  9 </td><td class="col5"> 11 </td>
	</tr>
</table></div>

<p>
JTAG signals and pins
</p>
<div class="table sectionedit19"><table class="inline">
	<tr class="row0">
		<td class="col0"> nTRST </td><td class="col1 rightalign">  1 </td><td class="col2 rightalign">  2 </td><td class="col3 rightalign">  GND </td>
	</tr>
	<tr class="row1">
		<td class="col0"> TDI </td><td class="col1 rightalign">  3 </td><td class="col2 rightalign">  4 </td><td class="col3 rightalign">  GND </td>
	</tr>
	<tr class="row2">
		<td class="col0"> TDO </td><td class="col1 rightalign">  5 </td><td class="col2 rightalign">  6 </td><td class="col3 rightalign">  GND </td>
	</tr>
	<tr class="row3">
		<td class="col0"> TMS </td><td class="col1 rightalign">  7 </td><td class="col2 rightalign">  8 </td><td class="col3 rightalign">  GND </td>
	</tr>
	<tr class="row4">
		<td class="col0"> TCK </td><td class="col1 rightalign">  9 </td><td class="col2"> 10 </td><td class="col3 rightalign">  GND </td>
	</tr>
	<tr class="row5">
		<td class="col0"> nSRST </td><td class="col1"> 11 </td><td class="col2"> 12 </td><td class="col3 rightalign">  GND </td>
	</tr>
</table></div>

<p>
See <a href="../../doc/hardware/port.jtag" class="wikilink1" title="doc:hardware:port.jtag">port.jtag</a> for more JTAG details.
</p>

</div>

<h2 class="sectionedit20" id="recovery">Recovery</h2>
<div class="level2">

<p>
With access to Serial Console is possible to restore the firmware on the router from bootloader CFE. CFE can download the image with TFTP see the installation method 2.
</p>

<p>
<strong>Attention</strong> to use the command <strong><em>e</em></strong> for erase the whole flash when CFE can&#039;t read the tag it delete all flash also the CFE. For example if the flash is empty by <em>dd if=/dev/zero of=/dev/mtd1</em> the tag not exist. When the CFE is erased the only method to restore it is the JTAG Port. Dump of the CFE with dd if=/dev/mtd2 is in format BigEndian, but the dump with JTag Cable is in format LittleEndian so for restore a CFE need convert the image file.
</p>

<p>
Without access to Serail Console, if you wish to restore the unit to OPENWRT&#039;s defaults, you can execute the command &quot;
 mtd -r erase rootfs_data &quot;, as a side note, DO NOT erase &#039;rootfs&#039; or the device will be semi bricked, and your probably going to need to use a serial cable to recover it, as I do. I was hoping to trigger CFE to drop into a mode it might accept tftp, but instead Im pretty sure its stalling after the bootloader has finished, but cant find where to move onto next.
</p>

</div>

<h2 class="sectionedit21" id="hardware_mods">Hardware mods</h2>
<div class="level2">

</div>

<h3 class="sectionedit22" id="usb_port">USB port</h3>
<div class="level3">

<p>
There is an unpopulated USB port near right from reset button.
</p>

<p>
<a href="../../_detail/oldwiki/openwrtdocs/hardware/netgear/100_6268.jpg?id=toh%253Anetgear%253Adg834gt" class="media" title="oldwiki:openwrtdocs:hardware:netgear:100_6268.jpg"><img src="../../_media/oldwiki/openwrtdocs/hardware/netgear/100_6268.jpg" class="mediacenter" title="100_6268.jpg" alt="100_6268.jpg" /></a>
</p>

<p>
 If you want to use it you need to solder the USB connector and the following parts:
</p>
<div class="table sectionedit23"><table class="inline">
	<tr class="row0">
		<td class="col0"> C515 </td><td class="col1"> Polarized capacitor, 470 uF </td>
	</tr>
	<tr class="row1">
		<td class="col0"> C516 </td><td class="col1"> Capacitor 100nF size: 0805 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> FB1 </td><td class="col1"> Resistor 0 Ohm size: 0805 </td>
	</tr>
	<tr class="row3">
		<td class="col0"> C124 </td><td class="col1"> Capacitor 100nF size: 1210 </td>
	</tr>
	<tr class="row4">
		<td class="col0"> U102 </td><td class="col1"> 5 Volt voltage regulator SOT-223 package </td>
	</tr>
	<tr class="row5">
		<td class="col0"> J502 </td><td class="col1"> Simply short it with a wire </td>
	</tr>
</table></div>

<p>
Warning!Be careful with the voltage regulator! If you want to use an USB device which is powered from the USB port (usb stick, webcamera, etc.), you <strong>should not use SOT-223</strong> package regulator, because it could not dissipate the amount of power.
</p>

<p>
Let&#039;s<a href="http://www.acalculator.com" class="urlextern" title="http://www.acalculator.com"  rel="nofollow">calculate</a>. The input voltage is 12 Volt (or a bit more) the output is 5 Volt. So the regulator will dissipate (12-5)*current power. For example my webcam need 100 mA power according to it&#039;s description. So the regulator in my case will dissipate 7 V *0,1A = 0,7 W power. This amount of power cannot be handled by an SOT-223 package. Regulators in TO-220 package will do it better. The best choice is a small switching mode DC-DC converter.
</p>

<p>
<a href="../../_detail/oldwiki/openwrtdocs/hardware/netgear/100_6269bc.jpg?id=toh%253Anetgear%253Adg834gt" class="media" title="oldwiki:openwrtdocs:hardware:netgear:100_6269bc.jpg"><img src="../../_media/oldwiki/openwrtdocs/hardware/netgear/100_6269bc.jpg" class="mediacenter" title="100_6269bc.jpg" alt="100_6269bc.jpg" /></a>
</p>

<p>
Unfortunatelly there are some hardly solderable 0402 size parts are missing too.
</p>
<div class="table sectionedit24"><table class="inline">
	<tr class="row0">
		<td class="col0"> R515, R514 </td><td class="col1"> between 16 and 44 Ohm </td>
	</tr>
	<tr class="row1">
		<td class="col0"> R516, R517 </td><td class="col1"> 15 KOhm </td>
	</tr>
	<tr class="row2">
		<td class="col0"> C511, C512 </td><td class="col1"> 47 or 50 pF </td>
	</tr>
</table></div>

<p>
There is an other thing what is have to be done:
You have to pull the BCM6348&#039;s USB_FLT pin to the 3V3. This pin is connected to a via located in the half way between C702 and C423.
</p>

<p>
<a href="../../_detail/inbox/usb_2_blog.jpg?id=toh%253Anetgear%253Adg834gt" class="media" title="inbox:usb_2_blog.jpg"><img src="../../_media/inbox/usb_2_blog.jpg" class="mediacenter" title="usb_2_blog.jpg" alt="usb_2_blog.jpg" /></a>
</p>

<p>
Solder a thin Cuz wire to it and connect it to the 3V3. The easiest place to find the 3V3 is the serial connector (J503) third pin.
Connect to it with an 2K resistor. 
</p>

<p>
Power up your device, and do
<pre class="code">cat /proc/bus/usb/devices</pre>

and you should see your olugged in usb devices details there.
</p>

</div>

<h3 class="sectionedit25" id="spi_port">SPI port</h3>
<div class="level3">

<p>
There is a place to an unpopulated footprint for an SPI flash: the U504 right to the main flash.
</p>

<p>
Pinout:
</p>
<div class="table sectionedit26"><table class="inline">
	<tr class="row0">
		<td class="col0"> SPI_SSB (Chip select) </td><td class="col1 rightalign">  1 </td><td class="col2 rightalign">  2 </td><td class="col3 rightalign">  3V3 </td>
	</tr>
	<tr class="row1">
		<td class="col0"> SPI_MISO </td><td class="col1 rightalign">  3 </td><td class="col2 rightalign">  4 </td><td class="col3 rightalign">  3V3 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> GND </td><td class="col1 rightalign">  5 </td><td class="col2 rightalign">  6 </td><td class="col3 rightalign">  SPI_CLK </td>
	</tr>
	<tr class="row3">
		<td class="col0"> GND </td><td class="col1 rightalign">  7 </td><td class="col2 rightalign">  8 </td><td class="col3 rightalign">  SPI_MOSI </td>
	</tr>
</table></div>

<p>
This pinout is verified on a board with desoldered CPU using this pad layout which is generated from the CPU&#039;s BSDL file:
</p>

<p>
<a href="../../_detail/doc/hardware/soc/bcm6348_kpbg_pinout.png?id=toh%253Anetgear%253Adg834gt" class="media" title="doc:hardware:soc:bcm6348_kpbg_pinout.png"><img src="../../_media/doc/hardware/soc/bcm6348_kpbg_pinout.png?w=300&amp;tok=e6a795" class="mediacenter" alt="" width="300" /></a>
</p>

<p>
I think it is possible to attach SPI devices to it, but until this time I have not succeded with the spidevtest.
The spi device file could be created with:
<pre class="code">mknod /dev/spi0 c 153 0 </pre>

</p>

</div>

<h1 class="sectionedit27" id="gpios">GPIOs</h1>
<div class="level1">

<p>
I have traced all the GPIO signals on my device. 
The connected means that there is a trace connected to the pad.
The nc means the pad is not connected.
Any placement notifications are mentioned in the <abbr title="Local Area Network">LAN</abbr> ports upper orientation.
</p>
<div class="table sectionedit28"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0">GPIO </th><th class="col1"> BGA pad </th><th class="col2">connected </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0">GPIO_0</td><td class="col1 rightalign">	AB5 </td><td class="col2">_ (Power LED)</td>
	</tr>
	<tr class="row2">
		<td class="col0">GPIO_1</td><td class="col1 rightalign">	AC5 </td><td class="col2">LED 2 (Orange Tick LED)</td>
	</tr>
	<tr class="row3">
		<td class="col0">GPIO_2</td><td class="col1 rightalign">	AD1 </td><td class="col2">connected (Orange ADSL LED)</td>
	</tr>
	<tr class="row4">
		<td class="col0">GPIO_3</td><td class="col1 rightalign">	AD2 </td><td class="col2">LED 4 (Wireless LED)</td>
	</tr>
	<tr class="row5">
		<td class="col0">GPIO_4</td><td class="col1 rightalign">	AD4 </td><td class="col2">connected reset</td>
	</tr>
	<tr class="row6">
		<td class="col0">GPIO_5</td><td class="col1 rightalign">	AD3 </td><td class="col2">LED 3 (Hidden LED)</td>
	</tr>
	<tr class="row7">
		<td class="col0">GPIO_6</td><td class="col1 rightalign">	AE3 </td><td class="col2">connected </td>
	</tr>
	<tr class="row8">
		<td class="col0">GPIO_7</td><td class="col1 rightalign">	AD5 </td><td class="col2">connected via left from the R514 label (Green ADSL LED)</td>
	</tr>
	<tr class="row9">
		<td class="col0">GPIO_8</td><td class="col1 rightalign">	AE5 </td><td class="col2">connected</td>
	</tr>
	<tr class="row10">
		<td class="col0">GPIO_9</td><td class="col1 rightalign">	AE4 </td><td class="col2">connected</td>
	</tr>
	<tr class="row11">
		<td class="col0">GPIO_10</td><td class="col1 rightalign">	AF4 </td><td class="col2">connected near the GPIO_13 via</td>
	</tr>
	<tr class="row12">
		<td class="col0">GPIO_11</td><td class="col1 rightalign">	AF3 </td><td class="col2">connected via under the BGA</td>
	</tr>
	<tr class="row13">
		<td class="col0">GPIO_12</td><td class="col1 rightalign">	AB9 </td><td class="col2">connected</td>
	</tr>
	<tr class="row14">
		<td class="col0">GPIO_13</td><td class="col1 rightalign">	AF5 </td><td class="col2">connected via at the C511 upper left corner </td>
	</tr>
	<tr class="row15">
		<td class="col0">GPIO_14</td><td class="col1 rightalign">	AC9 </td><td class="col2">connected</td>
	</tr>
	<tr class="row16">
		<td class="col0">GPIO_15</td><td class="col1 rightalign">	AD9 </td><td class="col2">connected</td>
	</tr>
	<tr class="row17">
		<td class="col0">GPIO_16</td><td class="col1 centeralign">	H4  </td><td class="col2">connected via near at the right upper corner of R204</td>
	</tr>
	<tr class="row18">
		<td class="col0">GPIO_17</td><td class="col1 centeralign">	J2  </td><td class="col2">connected the trace goes under the R617</td>
	</tr>
	<tr class="row19">
		<td class="col0">GPIO_18</td><td class="col1 centeralign">	E1  </td><td class="col2">NC</td>
	</tr>
	<tr class="row20">
		<td class="col0">GPIO_19</td><td class="col1 centeralign">	J4  </td><td class="col2">connected th the via near the J letter at the left side of the CPU</td>
	</tr>
	<tr class="row21">
		<td class="col0">GPIO_20</td><td class="col1 centeralign">	E4  </td><td class="col2">NC</td>
	</tr>
	<tr class="row22">
		<td class="col0">GPIO_21</td><td class="col1 centeralign">	M3  </td><td class="col2">NC</td>
	</tr>
	<tr class="row23">
		<td class="col0">GPIO_22</td><td class="col1 rightalign">	AB4 </td><td class="col2">NC</td>
	</tr>
	<tr class="row24">
		<td class="col0">GPIO_23</td><td class="col1 rightalign">	AB3 </td><td class="col2">NC</td>
	</tr>
	<tr class="row25">
		<td class="col0">GPIO_24</td><td class="col1 centeralign">	Y5  </td><td class="col2">NC</td>
	</tr>
	<tr class="row26">
		<td class="col0">GPIO_25</td><td class="col1 rightalign">	AA3 </td><td class="col2">NC</td>
	</tr>
	<tr class="row27">
		<td class="col0">GPIO_26</td><td class="col1 rightalign">	AA4 </td><td class="col2">NC</td>
	</tr>
	<tr class="row28">
		<td class="col0">GPIO_27</td><td class="col1 rightalign">	AA5 </td><td class="col2">NC</td>
	</tr>
	<tr class="row29">
		<td class="col0">GPIO_28</td><td class="col1 rightalign">	AC4 </td><td class="col2">NC</td>
	</tr>
	<tr class="row30">
		<td class="col0">GPIO_29</td><td class="col1 rightalign">	AC3 </td><td class="col2">connected</td>
	</tr>
	<tr class="row31">
		<td class="col0">GPIO_30</td><td class="col1 rightalign">	AC2 </td><td class="col2">NC</td>
	</tr>
	<tr class="row32">
		<td class="col0">GPIO_31</td><td class="col1 rightalign">	AC1 </td><td class="col2">NC</td>
	</tr>
	<tr class="row33">
		<td class="col0">GPIO_32</td><td class="col1 rightalign">	AF9 </td><td class="col2">connected</td>
	</tr>
	<tr class="row34">
		<td class="col0">GPIO_33</td><td class="col1 rightalign">	Y24 </td><td class="col2">NC</td>
	</tr>
	<tr class="row35">
		<td class="col0">GPIO_34</td><td class="col1 rightalign">	Y25 </td><td class="col2">NC</td>
	</tr>
	<tr class="row36">
		<td class="col0">GPIO_35</td><td class="col1 rightalign">	W24 </td><td class="col2">NC</td>
	</tr>
	<tr class="row37">
		<td class="col0">GPIO_36</td><td class="col1 rightalign">	W25 </td><td class="col2">NC</td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit29" id="tags">Tags</h2>
<div class="level2">
<div class="tags"><span>
	<a href="../../tag/bcm63xx?do=showtag&amp;tag=bcm63xx" class="wikilink1" title="tag:bcm63xx" rel="tag">bcm63xx</a>,
	<a href="../../tag/bcm6348?do=showtag&amp;tag=bcm6348" class="wikilink1" title="tag:bcm6348" rel="tag">bcm6348</a>
</span></div>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/netgear/dg834gt.txt</bdi> · Last modified: 2015/04/11 11:34 by <bdi>drumcfr</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="dg834gt?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="dg834gt?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="dg834gt?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="dg834gt#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Anetgear%253Adg834gt&amp;1432266242" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
