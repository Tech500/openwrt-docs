<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>Netgear WNDR3700 and WNDR37AV [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="gigabitethernet,5port,2nic,usb,1usb,jtag,802.11abgn,802.11abgn simultan,ath9k,4ant,detachableantenna,64ram,16flash,mips,mips32,24kc"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="wndr3700?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:netgear"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/netgear/wndr3700"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/netgear/wndr3700"/>
<link rel="canonical" href="wndr37av"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:netgear';var JSINFO = {"id":"toh:netgear:wndr3700","namespace":"toh:netgear"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432278946 166.182.3.101';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="wndr37av#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="wndr3700?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="wndr3700?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:netgear:wndr3700" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="wndr3700?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="wndr3700?do=media&amp;ns=toh%253Anetgear"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="wndr3700?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:netgear:start">Netgear</a></bdi> » <bdi><span class="curid"><a href="wndr37av" class="wikilink1" title="toh:netgear:wndr3700">Netgear WNDR3700 and WNDR37AV</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/netgear/wndr3700" class="media" title="cz:toh:netgear:wndr3700"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/netgear/wndr3700" class="media" title="de:toh:netgear:wndr3700"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="wndr37av" class="media" title="toh:netgear:wndr3700"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/netgear/wndr3700" class="media" title="es:toh:netgear:wndr3700"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/netgear/wndr3700" class="media" title="fr:toh:netgear:wndr3700"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/netgear/wndr3700" class="media" title="hu:toh:netgear:wndr3700"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/netgear/wndr3700" class="media" title="jp:toh:netgear:wndr3700"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/netgear/wndr3700" class="media" title="pl:toh:netgear:wndr3700"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/netgear/wndr3700" class="media" title="pt-br:toh:netgear:wndr3700"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/netgear/wndr3700" class="media" title="ru:toh:netgear:wndr3700"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/netgear/wndr3700" class="media" title="tr:toh:netgear:wndr3700"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <a href="../../zh-cn/toh/netgear/wndr3700" class="media" title="zh-cn:toh:netgear:wndr3700"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/netgear/wndr3700" class="media" title="zh-tw:toh:netgear:wndr3700"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:netgear:wndr3700</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="wndr37av#device_info_and_specifics">Device Info and Specifics</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="wndr37av#hardware_highlights">Hardware Highlights</a></div></li>
<li class="level2"><div class="li"><a href="wndr37av#supported_versions">Supported Versions</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="wndr37av#downloading">Downloading</a></div></li>
<li class="level1"><div class="li"><a href="wndr37av#installation">Installation</a></div>
<ul class="toc">
<li class="clear">
<ul class="toc">
<li class="level3"><div class="li"><a href="wndr37av#how_to_flash_the_firmware_to_device">How to flash the firmware to device?</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="wndr37av#upgrading">Upgrading</a></div></li>
<li class="level1"><div class="li"><a href="wndr37av#configuration">Configuration</a></div></li>
<li class="level1"><div class="li"><a href="wndr37av#advanced_operation">Advanced Operation</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="wndr37av#pre-built_customized_firmware">Pre-built Customized firmware</a></div></li>
<li class="level2"><div class="li"><a href="wndr37av#flash_layout">Flash Layout</a></div></li>
<li class="level2"><div class="li"><a href="wndr37av#specific_configuration">Specific Configuration</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="wndr37av#interfaces">Interfaces</a></div></li>
<li class="level3"><div class="li"><a href="wndr37av#switch_ports_for_vlans">Switch Ports (for VLANs)</a></div></li>
<li class="level3"><div class="li"><a href="wndr37av#switch_led_configuration">Switch LED configuration</a></div></li>
<li class="level3"><div class="li"><a href="wndr37av#deactivate_all_leds">Deactivate all LEDs</a></div></li>
<li class="level3"><div class="li"><a href="wndr37av#activate_usb_led_in_backfire">Activate USB LED in Backfire</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="wndr37av#hardware_buttons">Hardware Buttons</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="wndr37av#monitor_button_actions">Monitor button actions</a></div></li>
<li class="level3"><div class="li"><a href="wndr37av#activate_the_buttons">Activate the buttons</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="wndr37av#usb_serial_console">USB serial console</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="wndr37av#hardware_modding">Hardware Modding</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="wndr37av#hardware_specifics">Hardware Specifics</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="wndr37av#info">Info</a></div></li>
<li class="level3"><div class="li"><a href="wndr37av#photos">Photos</a></div></li>
<li class="level3"><div class="li"><a href="wndr37av#opening_the_case">Opening the case</a></div></li>
<li class="level3"><div class="li"><a href="wndr37av#serial">Serial</a></div></li>
<li class="level3"><div class="li"><a href="wndr37av#jtag">JTAG</a></div></li>
<li class="level3"><div class="li"><a href="wndr37av#vreg">VReg</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="wndr37av#serial_cables_optional">Serial cables (optional)</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="wndr37av#construction">Construction</a></div></li>
<li class="level3"><div class="li"><a href="wndr37av#flashing_over_serial">Flashing over serial</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="wndr37av#u-boot_mods">U-Boot Mods</a></div></li>
<li class="level2"><div class="li"><a href="wndr37av#hardware_mods">Hardware Mods</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="wndr37av#mib_ram_mod">128 MiB RAM Mod</a></div></li>
<li class="level3"><div class="li"><a href="wndr37av#antenna_mod">Antenna Mod</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="wndr37av#troubleshooting_and_recovery">Troubleshooting and Recovery</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="wndr37av#wireless_regulatory_issues">Wireless Regulatory Issues?</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="wndr37av#backfire">Backfire</a></div></li>
<li class="level3"><div class="li"><a href="wndr37av#attitude_adjustment">Attitude Adjustment</a></div></li>
<li class="level3"><div class="li"><a href="wndr37av#openwrt_trunk">OpenWrt Trunk</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="wndr37av#known_problemsissues_stability">Known problems/issues (stability)</a></div></li>
<li class="level2"><div class="li"><a href="wndr37av#recovery_flash_in_failsafe_mode">Recovery flash in failsafe mode</a></div></li>
<li class="level2"><div class="li"><a href="wndr37av#entering_openwrt_failsafe_mode">Entering Openwrt failsafe mode</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="wndr37av#resources">Resources</a></div></li>
<li class="level1"><div class="li"><a href="wndr37av#custom_openwrt_image_with_luci_integrated">Custom OpenWrt image with LuCi integrated</a></div></li>
<li class="level1"><div class="li"><a href="wndr37av#tags">Tags</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="netgear_wndr3700_and_wndr37av">Netgear WNDR3700 and WNDR37AV</h1>
<div class="level1">

<p>
The Netgear WNDR3700 has five different versions to date. Versions 1 and 2 are fully supported by OpenWrt and are based on the <a href="../../doc/hardware/soc/soc.qualcomm.ar71xx" class="wikilink1" title="doc:hardware:soc:soc.qualcomm.ar71xx">Atheros ar71xx platform</a>. Version 3 uses a <a href="../../doc/hardware/soc/soc.broadcom.bcm47xx.1" class="wikilink1" title="doc:hardware:soc:soc.broadcom.bcm47xx">Broadcom SoC</a> and has preliminar support in trunk (e.g. don&#039;t expect working wireless). The fourth version is a 2T2R version of the <a href="wndr4300" class="wikilink1" title="toh:netgear:wndr4300">WNDR4300 v1</a>. The fifth version uses a MediaTek SoC.
</p>

</div>

<h2 class="sectionedit2" id="device_info_and_specifics">Device Info and Specifics</h2>
<div class="level2">

</div>

<h3 class="sectionedit3" id="hardware_highlights">Hardware Highlights</h3>
<div class="level3">
<div class="table sectionedit4"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Ver </th><th class="col1"> CPU </th><th class="col2"> Ram </th><th class="col3"> Flash </th><th class="col4"> Network </th><th class="col5"> Wireless </th><th class="col6"> USB </th><th class="col7"> Serial </th><th class="col8"> JTag </th><th class="col9"> Wiki </th><th class="col10"> FCC </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> v1 </td><td class="col1"> Atheros AR7161 rev 2 680MHz </td><td class="col2"> 64MiB </td><td class="col3"> 8MiB </td><td class="col4"> 1 WAN + 4x <abbr title="Local Area Network">LAN</abbr> (GBit) </td><td class="col5"> AR9220 [an 2x2:2] + AR9223 [bgn 2x2:2] </td><td class="col6"> Yes </td><td class="col7"> Yes </td><td class="col8"> Yes </td><td class="col9"> <a href="https://wikidevi.com/wiki/Netgear_WNDR3700v1" class="urlextern" title="https://wikidevi.com/wiki/Netgear_WNDR3700v1"  rel="nofollow">here</a> </td><td class="col10"> <a href="https://apps.fcc.gov/oetcf/eas/reports/ViewExhibitReport.cfm?mode=Exhibits&amp;RequestTimeout=500&amp;calledFromFrame=N&amp;application_id=278475&amp;fcc_id='PY308300092'" class="urlextern" title="https://apps.fcc.gov/oetcf/eas/reports/ViewExhibitReport.cfm?mode=Exhibits&amp;RequestTimeout=500&amp;calledFromFrame=N&amp;application_id=278475&amp;fcc_id=&#039;PY308300092&#039;"  rel="nofollow">here</a> </td>
	</tr>
	<tr class="row2">
		<td class="col0"> v2 </td><td class="col1"> Atheros AR7161 rev 2 680MHz </td><td class="col2"> 64MiB </td><td class="col3"> 16MiB </td><td class="col4"> 1 WAN + 4x <abbr title="Local Area Network">LAN</abbr> (GBit) </td><td class="col5"> AR9220 [an 2x2:2] + AR9223 [bgn 2x2:2] </td><td class="col6"> Yes </td><td class="col7"> Yes </td><td class="col8"> Yes </td><td class="col9"> <a href="https://wikidevi.com/wiki/Netgear_WNDR3700v2" class="urlextern" title="https://wikidevi.com/wiki/Netgear_WNDR3700v2"  rel="nofollow">here</a> </td><td class="col10"> <a href="https://apps.fcc.gov/oetcf/eas/reports/ViewExhibitReport.cfm?mode=Exhibits&amp;RequestTimeout=500&amp;calledFromFrame=N&amp;application_id=290558&amp;fcc_id='PY308300092'" class="urlextern" title="https://apps.fcc.gov/oetcf/eas/reports/ViewExhibitReport.cfm?mode=Exhibits&amp;RequestTimeout=500&amp;calledFromFrame=N&amp;application_id=290558&amp;fcc_id=&#039;PY308300092&#039;"  rel="nofollow">here</a> </td>
	</tr>
	<tr class="row3">
		<td class="col0"> v3 </td><td class="col1"> Broadcom BCM4718A1 </td><td class="col2"> 64MiB </td><td class="col3"> 8MiB </td><td class="col4"> 1 WAN + 4x <abbr title="Local Area Network">LAN</abbr> (GBit) </td><td class="col5"> BCM4331 [an 2x2:2] + BCM4718A1 [bgn 2x2:2] </td><td class="col6"> Yes </td><td class="col7"> ? </td><td class="col8"> ? </td><td class="col9"> <a href="https://wikidevi.com/wiki/Netgear_WNDR3700v3" class="urlextern" title="https://wikidevi.com/wiki/Netgear_WNDR3700v3"  rel="nofollow">here</a> </td><td class="col10"> <a href="https://apps.fcc.gov/oetcf/eas/reports/ViewExhibitReport.cfm?mode=Exhibits&amp;RequestTimeout=500&amp;calledFromFrame=N&amp;application_id=651807&amp;fcc_id='PY311200166'" class="urlextern" title="https://apps.fcc.gov/oetcf/eas/reports/ViewExhibitReport.cfm?mode=Exhibits&amp;RequestTimeout=500&amp;calledFromFrame=N&amp;application_id=651807&amp;fcc_id=&#039;PY311200166&#039;"  rel="nofollow">here</a> </td>
	</tr>
	<tr class="row4">
		<td class="col0"> v4 </td><td class="col1"> Atheros AR9344 560MHz </td><td class="col2"> 128MiB </td><td class="col3"> 128MiB NAND </td><td class="col4"> 1 WAN + 4x <abbr title="Local Area Network">LAN</abbr> (GBit) </td><td class="col5"> AR9582 [an 2x2:2] + AR9344 [bgn 2x2:2] </td><td class="col6"> Yes </td><td class="col7"> Yes </td><td class="col8"> Yes </td><td class="col9"> <a href="https://wikidevi.com/wiki/Netgear_WNDR3700v4" class="urlextern" title="https://wikidevi.com/wiki/Netgear_WNDR3700v4"  rel="nofollow">here</a> </td><td class="col10"> <a href="https://apps.fcc.gov/oetcf/eas/reports/ViewExhibitReport.cfm?mode=Exhibits&amp;RequestTimeout=500&amp;calledFromFrame=N&amp;application_id=847398&amp;fcc_id='PY312100186'" class="urlextern" title="https://apps.fcc.gov/oetcf/eas/reports/ViewExhibitReport.cfm?mode=Exhibits&amp;RequestTimeout=500&amp;calledFromFrame=N&amp;application_id=847398&amp;fcc_id=&#039;PY312100186&#039;"  rel="nofollow">here</a> </td>
	</tr>
	<tr class="row5">
		<td class="col0"> v5 </td><td class="col1"> MediaTek MT7621ST </td><td class="col2"> 128MiB </td><td class="col3"> 128MiB </td><td class="col4"> 1 WAN + 4x <abbr title="Local Area Network">LAN</abbr> (GBit) </td><td class="col5"> ? </td><td class="col6"> ? </td><td class="col7"> ? </td><td class="col8"> ? </td><td class="col9"> ? </td><td class="col10"> FCC ID PY314200275 </td>
	</tr>
</table></div>
<div class="wrap_left wrap_round wrap_important plugin_wrap" style="width: 80%;">
<p>
Netgear has sold a number of these units in boxes marked WNDR37AV.  This was done for marketing purposes solely, the hardware is exactly identical to version 2 (even to the point of many users finding a router physically labeled &quot;WNDR3700&quot; or &quot;WNDR3700v2&quot; inside of a box labeled &quot;WNDR37AV&quot;).
</p>
</div>
</div>

<h3 class="sectionedit7" id="supported_versions">Supported Versions</h3>
<div class="level3">
<div class="table sectionedit8"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Ver </th><th class="col1"> Supported since </th><th class="col2"> Notes </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> v1 </td><td class="col1"> Backfire 10.03.1 </td><td class="col2 leftalign"> aka WNDR37AV-100PES, WNDR3700-100PES  </td>
	</tr>
	<tr class="row2">
		<td class="col0"> v2 </td><td class="col1"> Backfire 10.03.1 </td><td class="col2"> Box side panel lists WNDR3700<strong>v2</strong>, aka WNDRMAC-100PES, WNDR3700-100PRS </td>
	</tr>
	<tr class="row3">
		<td class="col0"> v3 </td><td class="col1"> <span style='color:red; '>Not supported</span> </td><td class="col2"> Broadcom SoC, preliminar support in trunk. Only 2,4 <abbr title="Gigahertz">GHz</abbr> wireless supported. <abbr title="Your mileage may vary">YMMV</abbr>. </td>
	</tr>
	<tr class="row4">
		<td class="col0"> v4 </td><td class="col1"> Barrier Breaker 14.07 </td><td class="col2"> Atheros platform like v1 and v2, NAND flash, same PCB as <a href="wndr4300" class="wikilink1" title="toh:netgear:wndr4300">WNDR4300</a>, but only 2T2R. See also <a href="https://forum.openwrt.org/viewtopic.php?id=41094" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=41094"  rel="nofollow">this forum thread</a>. May be labeled as WNDR3700-100PES on the packaging&#039;s side panel (like some v1 models). </td>
	</tr>
	<tr class="row5">
		<td class="col0"> v5 </td><td class="col1"> <span style='color:red; '>Not supported</span> </td><td class="col2"> See <a href="https://forum.openwrt.org/viewtopic.php?id=56737" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=56737"  rel="nofollow">this forum thread</a> for info and actual status. </td>
	</tr>
</table></div>
<div class="wrap_left wrap_round wrap_important plugin_wrap" style="width: 80%;">
<p>
You can not tell the version number by looking at the revision number. V1 and v2 seem to share the same EAN barcodes. <a href="http://forum1.netgear.com/showthread.php?t=63234" class="urlextern" title="http://forum1.netgear.com/showthread.php?t=63234"  rel="nofollow">Here</a> you can read how to determine your versions within Netgear&#039;s firmware. Another way is to look at the box your router came in - under &quot;Package Contents&quot; it will say &quot;N600 Wireless Dual Band Gigabit Router (WNDR3700<strong>v2</strong>)&quot; for version 2, and plain WNDR3700 for version 1.
</p>
</div><div class="wrap_left wrap_round wrap_info plugin_wrap" style="width: 80%;">
<p>
There are rumours that a certain batch of version 1 routers have problems with the 2,4 <abbr title="Gigahertz">GHz</abbr> radio suddenly dying. These came in boxes marked as -01R14 or -01R15 on the barcode label. It is also said that -01R21 or -02R01 are expected to be working o.k. Board version 4 is said to be reliable. If you look at the pictures you may see at least 3 places with some kind of &quot;version&quot; numbering.  See <a href="http://spreadsheets.google.com/pub?key=0AjNDNODfzgytdEJvZ0N0SkFLejFJZzBHcnFaaUg4OGc&amp;hl=en&amp;output=html" class="urlextern" title="http://spreadsheets.google.com/pub?key=0AjNDNODfzgytdEJvZ0N0SkFLejFJZzBHcnFaaUg4OGc&amp;hl=en&amp;output=html"  rel="nofollow">this spreadsheet</a>.
</p>
</div>
</div>

<h2 class="sectionedit13" id="downloading">Downloading</h2>
<div class="level2">
<div class="table sectionedit14"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Version </th><th class="col1"> Download link </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> v1 (North America) </td><td class="col1"> <a href="http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-wndr3700-squashfs-factory-NA.img" class="urlextern" title="http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-wndr3700-squashfs-factory-NA.img"  rel="nofollow">http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-wndr3700-squashfs-factory-NA.img</a> </td>
	</tr>
	<tr class="row2">
		<td class="col0"> v1 (rest of the world) </td><td class="col1"> <a href="http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-wndr3700-squashfs-factory.img" class="urlextern" title="http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-wndr3700-squashfs-factory.img"  rel="nofollow">http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-wndr3700-squashfs-factory.img</a> </td>
	</tr>
	<tr class="row3">
		<td class="col0"> v2 </td><td class="col1"> <a href="http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-wndr3700v2-squashfs-factory.img" class="urlextern" title="http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-wndr3700v2-squashfs-factory.img"  rel="nofollow">http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-wndr3700v2-squashfs-factory.img</a> </td>
	</tr>
	<tr class="row4">
		<td class="col0"> v3 </td><td class="col1"> <a href="http://downloads.openwrt.org/barrier_breaker/14.07/brcm47xx/mips74k/openwrt-wndr3700_v3-squashfs.chk" class="urlextern" title="http://downloads.openwrt.org/barrier_breaker/14.07/brcm47xx/mips74k/openwrt-wndr3700_v3-squashfs.chk"  rel="nofollow">http://downloads.openwrt.org/barrier_breaker/14.07/brcm47xx/mips74k/openwrt-wndr3700_v3-squashfs.chk</a> </td>
	</tr>
	<tr class="row5">
		<td class="col0"> v4 </td><td class="col1"> <a href="http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/nand/openwrt-ar71xx-nand-wndr3700v4-ubi-factory.img" class="urlextern" title="http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/nand/openwrt-ar71xx-nand-wndr3700v4-ubi-factory.img"  rel="nofollow">http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/nand/openwrt-ar71xx-nand-wndr3700v4-ubi-factory.img</a> </td>
	</tr>
</table></div>

<p>
The files ending with <code>-sysupgrade.bin</code> are for upgrading existing OpenWrt installations.
</p>

<p>
To create your own customized firmware, see <a href="../../doc/howtobuild/build.wndr3700" class="wikilink1" title="doc:howtobuild:build.wndr3700">build.wndr3700</a>.
</p>

</div>

<h2 class="sectionedit15" id="installation">Installation</h2>
<div class="level2">

</div>

<h4 id="how_to_flash_the_firmware_to_device">How to flash the firmware to device?</h4>
<div class="level4">

<p>
Please consult →<a href="../../doc/howto/installing" class="wikilink1" title="doc:howto:generic.flashing">Installing OpenWrt (generic)</a> and additionally read on here for WNDR3700 specifics.
</p>

</div>

<h5 id="oem_easy_installation">OEM easy installation</h5>
<div class="level5">

<p>
To install simply use the stock WNDR3700 <abbr title="Graphical User Interface">GUI</abbr> to upload and install OpenWrt. Remember to use a <strong>factory.img</strong> image. Non North American users will get an warning regarding that OpenWrt identifies itself an NA, don&#039;t worry. You can just simple ignore this.
<a href="https://forum.openwrt.org/viewtopic.php?id=24993" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=24993"  rel="nofollow">Netgear WNDR3700 - OpenWrt New User(s)</a>
</p>

</div>

<h5 id="oem_installation_using_the_tftp_method_recommended">OEM installation using the TFTP method (recommended)</h5>
<div class="level5">

<p>
Hold the &#039;System Restore&#039; button on the underside of the router while powering it on, and hold the button until the power led blinks <strong>green</strong>. Then, upload the .img firmware as described in <a href="../../doc/howto/tftp" class="wikilink1" title="doc:howto:generic.flashing.tftp">Installing OpenWrt via TFTP</a> (see the section titled Bootloader contains TFTP server). However, note that the router will not accept the firmware when the filename is too long! Using firmware.img as filename should work.  After upload, the power led is turned off and flashing starts, after that is finished the router will restart and the power led will eventually become stable green (it will be stable orange for quite some time first).
</p>

</div>

<h5 id="oem_installation_via_serial_console_and_tftp">OEM installation via serial console and TFTP</h5>
<div class="level5">
<ul>
<li class="level1"><div class="li"> Connect via serial console (also accounts for <span class="curid"><a href="wndr37av#usbserialconsole" class="wikilink1" title="toh:netgear:wndr3700">USB Serial Console</a></span>)</div>
</li>
<li class="level1"><div class="li"> Interrupt U-Boot by pressing any key</div>
</li>
<li class="level1"><div class="li"> You may need to enable writes to the flash by issuing &quot;protect off all&quot;</div>
</li>
<li class="level1"><div class="li"> At the U-Boot promt enter the <code>fsload</code> command</div>
</li>
<li class="level1"><div class="li"> A TFTP server starts listening on port 192.168.1.1</div>
</li>
<li class="level1"><div class="li"> Start TFTPing the image now</div>
<ul>
<li class="level2"><div class="li"> For the V1: <code>openwrt-ar71xx-generic-wndr3700-squashfs-factory.img</code></div>
</li>
<li class="level2"><div class="li"> For the V2: <code>openwrt-ar71xx-generic-wndr3700<strong>v2</strong>-squashfs-factory.img</code></div>
</li>
</ul>
</li>
</ul>

<p>
<pre class="code">tftp 192.168.1.1
mode binary
put openwrt-ar71xx-generic-wndr3700XXX-squashfs-factory.img
quit</pre>

</p>

</div>

<h2 class="sectionedit16" id="upgrading">Upgrading</h2>
<div class="level2">

<p>
See <a href="../../doc/howto/generic.sysupgrade" class="wikilink1" title="doc:howto:generic.sysupgrade">generic.sysupgrade</a>.
</p>

</div>

<h2 class="sectionedit17" id="configuration">Configuration</h2>
<div class="level2">

<p>
See <a href="../../doc/howto/configuration" class="wikilink1" title="doc:howto:basic.config">basic.config</a>.
</p>

</div>

<h2 class="sectionedit18" id="advanced_operation">Advanced Operation</h2>
<div class="level2">

</div>

<h3 class="sectionedit19" id="pre-built_customized_firmware">Pre-built Customized firmware</h3>
<div class="level3">

<p>
Besides generic OpenWRT firmware distribution, there are customized builds based on it and managed by individuals in the community.
</p>

<p>
<a href="https://forum.openwrt.org/viewforum.php?id=16" class="urlextern" title="https://forum.openwrt.org/viewforum.php?id=16"  rel="nofollow">Announcements and updates</a> can be found on the OpenWRT users forum.
</p>

<p>
Typically, these builds are intended to extend functionality and/or to improve performance of the firmware, as well as provide the end-user with a preconfigured setup.
</p>

<p>
<strong>Warning</strong>: As custom builds are mostly based on the <a href="../../about/history#bleeding_edgetrunk" class="wikilink1" title="about:history">trunk (bleeding edge) branch</a>, they are much more prone to bugs and regressions.
</p>

<p>
In order to address this, some members also release builds based on the <a href="../../about/history#stablereleases" class="wikilink1" title="about:history">stable branch</a>, thus reducing the potential of regressions, yet providing the advantages of customization (check out the link to hnyman&#039;s build below).
</p>

<p>
Specifically for WNDR3700, these are the longer maintained and the more frequently updated builds (as of January, 3 / 2015):
</p>
<ul>
<li class="level1"><div class="li"> <a href="https://forum.openwrt.org/viewtopic.php?id=28392" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=28392"  rel="nofollow">IPv6 oriented Openwrt build for WNDR3700</a> (managed by hnyman; trunk and stable builds)</div>
</li>
<li class="level1"><div class="li"> <a href="https://forum.openwrt.org/viewtopic.php?id=47382" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=47382"  rel="nofollow">OpenWRT builds (BB) fully featured for various routers</a> (managed by mk13139; trunk and stable builds)</div>
</li>
<li class="level1"><div class="li"> <a href="https://forum.openwrt.org/viewtopic.php?id=27722" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=27722"  rel="nofollow">Fully featured OpenWrt build for the WNDR3700</a> (managed by arokh; trunk-only builds) (no longer maintained since November 2012)</div>
</li>
<li class="level1"><div class="li"> <a href="https://forum.openwrt.org/viewtopic.php?id=50914" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=50914"  rel="nofollow">Optimized and feature rich trunk build for select routers</a> (managed by arokh; trunk-only builds)</div>
</li>
</ul>

</div>

<h3 class="sectionedit20" id="flash_layout">Flash Layout</h3>
<div class="level3">

<p>
→<a href="../../doc/techref/flash.layout" class="wikilink1" title="doc:techref:flash.layout">flash.layout</a>
</p>

</div>

<h3 class="sectionedit21" id="specific_configuration">Specific Configuration</h3>
<div class="level3">

</div>

<h4 id="interfaces">Interfaces</h4>
<div class="level4">

<p>
The default network configuration is:
</p>
<div class="table sectionedit22"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Interface Name </th><th class="col1"> Description </th><th class="col2"> Default configuration </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> br-lan </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> &amp; WiFi </td><td class="col2"> 192.168.1.1/24 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> eth0 </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> ports (1 to 4) </td><td class="col2"> None </td>
	</tr>
	<tr class="row3">
		<td class="col0"> eth1 </td><td class="col1"> WAN port </td><td class="col2"> DHCP </td>
	</tr>
	<tr class="row4">
		<td class="col0"> wlan0 </td><td class="col1"> WiFi </td><td class="col2"> Disabled </td>
	</tr>
	<tr class="row5">
		<td class="col0"> wlan1 </td><td class="col1"> WiFi </td><td class="col2"> Disabled </td>
	</tr>
</table></div>

</div>

<h4 id="switch_ports_for_vlans">Switch Ports (for VLANs)</h4>
<div class="level4">

<p>
<img src="../../lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /> There seems to be an issue with the internal switch. I&#039;ve observed this with all kinds of laptops and <abbr title="Operating System">OS</abbr>&#039;s on a dozen access points. The problem is that sometimes traffic with a destination of a wifi client will no longer be routed to it, leading to a non-working wifi client. My advice would be to uncheck &#039;learning and aging&#039; under Network → Switch in LUCI, although this effectively may turn your switch into a hub. See <a href="https://dev.openwrt.org/ticket/13612" class="urlextern" title="https://dev.openwrt.org/ticket/13612"  rel="nofollow">https://dev.openwrt.org/ticket/13612</a>
</p>

<p>
Numbers 0-3 are Ports 4 to 1 as labeled on the unit, 5 is the internal connection to the router itself. Don&#039;t be fooled: Port 1 on the unit is number 3 when configuring VLANs. vlan0 = eth0.0, vlan1 = eth0.1 and so on.
</p>
<div class="table sectionedit23"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Port </th><th class="col1"> Switch port </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> CPU (eth0) </td><td class="col1"> 5 </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> No port    </td><td class="col1"> 4 </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> <abbr title="Local Area Network">LAN</abbr> 1      </td><td class="col1"> 3 </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> <abbr title="Local Area Network">LAN</abbr> 2      </td><td class="col1"> 2 </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> <abbr title="Local Area Network">LAN</abbr> 3      </td><td class="col1"> 1 </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> <abbr title="Local Area Network">LAN</abbr> 4      </td><td class="col1"> 0 </td>
	</tr>
</table></div>

<p>
<a href="../../_detail/inbox/netgear/wndr3700-c.png?id=toh%253Anetgear%253Awndr3700" class="media" title="inbox:netgear:wndr3700-c.png"><img src="../../_media/inbox/netgear/wndr3700-c.png" class="media" alt="" /></a>
</p>

<p>
WAN port is a gigabit port. VLANs can be configured to work on both <abbr title="Local Area Network">LAN</abbr> and WAN.
</p>

<p>
To create a VLANx on WAN port (eth1) declare an interface as &quot;eth1.x&quot;.
It can be further bridged with one of the switch ports if necessary.
</p>

<p>
For the <abbr title="Local Area Network">LAN</abbr> interface two actions are needed:
</p>
<ul>
<li class="level1"><div class="li"> Declare &quot;eth0.x&quot; interface</div>
</li>
<li class="level1"><div class="li"> Define switch_vlan configuration for each of the switch ports.</div>
</li>
</ul>

<p>
When vlans are defined on the switch ports VLAN0 cannot be used on eth0 any more. So the default router configuration must be changed, otherwise traffic stops on the switch ports and hard reset is needed.
</p>

<p>
Here is an example.
WAN port is trunked on VLAN6 and VLAN4. VLAN6 has dhcp protocol defined. VLAN4 is bridged with one of the switch ports.
<abbr title="Local Area Network">LAN</abbr> ports 1-3 are assigned to default VLAN1 (VLAN0 is not possible for some reason).
<abbr title="Local Area Network">LAN</abbr> port 4 is assigned to VLAN4 and bridged with WAN.
</p>

<p>
So all the traffic that goes to switch port 4 will also pass to WAN&#039;s vlan4.
Switch port numbering is other way around from physical ports.
</p>

<p>
<pre class="code">config interface lan
	option ifname	eth0.1
	option type	bridge
	option proto	static
	option ipaddr	192.168.1.1
	option netmask	255.255.255.0

config interface wan
	option ifname	eth1.6
	option proto	dhcp
	
config interface vlan4
	option type 	bridge
	option ifname	&quot;eth0.4 eth1.4&quot;
	option proto	static
	option ipaddr	192.168.20.1
	option netmask	255.255.255.0
	option defaultroute 0

config switch
	option name	rtl8366s
	option reset	1
	option enable_vlan 1
	option blinkrate 2

config switch_vlan
	option device	rtl8366s
	option vlan 	0
	option ports	&quot;5*&quot;

config switch_vlan
	option device	rtl8366s
	option vlan 	1
	option ports	&quot;1 2 3 5t&quot;

config switch_vlan
	option device	rtl8366s
	option vlan 	4
	option ports	&quot;0 5t&quot;</pre>

</p>

<p>
<strong>Note:</strong> The VLAN switch configuration in Attitude Adjustment 12.09 has a bug ( <a href="https://dev.openwrt.org/ticket/7795" class="urlextern" title="https://dev.openwrt.org/ticket/7795"  rel="nofollow">https://dev.openwrt.org/ticket/7795</a> ), so that you need to first disable VLAN trunk and than reenable it like this:
</p>

<p>
<pre class="code"># swconfig dev rtl8366s vlan 1 set ports &#039;0 1 2 3t 5&#039;
# swconfig dev rtl8366s vlan 1 set ports &#039;0 1 2 3t 5t&#039;</pre>

</p>

<p>
Note: The switch ports are not properly shown in the Backfire 10.03.1-rc4 Luci-interface, unless you add the chip name to the &#039;config switch&#039; line: like &#039;config switch rtl8366s&#039;. After making that addition, Luci shows the VLANs properly at the Network/Switch page. (Reference: <a href="https://dev.openwrt.org/ticket/7830" class="urlextern" title="https://dev.openwrt.org/ticket/7830"  rel="nofollow">https://dev.openwrt.org/ticket/7830</a> )
</p>

</div>

<h4 id="switch_led_configuration">Switch LED configuration</h4>
<div class="level4">

<p>
The switch on wndr3700 supports following led groups:
</p>
<ul>
<li class="level1"><div class="li"> Group 1: green leds for all ports on the switch</div>
</li>
<li class="level1"><div class="li"> Group 2: orange leds for all ports on the switch</div>
</li>
</ul>

<p>
Each group can be configured into one of 16 different modes:
</p>
<ul>
<li class="level1"><div class="li"> Mode 0: LED off</div>
</li>
<li class="level1"><div class="li"> Mode 1: Collision, Full duplex Indicator. Blinks when collision happens. Led is on for full duplex, and off for half duplex mode.</div>
</li>
<li class="level1"><div class="li"> Mode 2: Link, Activity Indicator. On for link established. Link/Act Blinks when the corresponding port is transmitting or receiving.</div>
</li>
<li class="level1"><div class="li"> Mode 3: 1000Mb/s Speed Indicator. On for 1000Mb/s.</div>
</li>
<li class="level1"><div class="li"> Mode 4: 100Mb/s Speed Indicator. On for 100Mb/s.</div>
</li>
<li class="level1"><div class="li"> Mode 5: 10Mb/s Speed Indicator. On for 10Mb/s.</div>
</li>
<li class="level1"><div class="li"> Mode 6: 1000Mb/s Speed/Activity Indicator. On for 1000Mb/s. Blinks when the corresponding port is transmitting or receiving.</div>
</li>
<li class="level1"><div class="li"> Mode 7: 100Mb/s Speed/Activity Indicator. On for 100Mb/s. Blinks when the corresponding port is transmitting or receiving.</div>
</li>
<li class="level1"><div class="li"> Mode 8: 10Mb/s Speed/Activity Indicator. On for 10Mb/s. Blinks when the corresponding port is transmitting or receiving.</div>
</li>
<li class="level1"><div class="li"> Mode 9: 10/100Mb/s Speed/Activity Indicator. On for 10/100Mb/s. Blinks when the corresponding port is transmitting or receiving.</div>
</li>
<li class="level1"><div class="li"> Mode 10: Fiber link Indicator. On for Fiber.</div>
</li>
<li class="level1"><div class="li"> Mode 11: Fault Indicator. On for Fault.</div>
</li>
<li class="level1"><div class="li"> Mode 12: Link, Activity Indicator. On for link established. Link/Rx Blinks when the corresponding port is transmitting.</div>
</li>
<li class="level1"><div class="li"> Mode 13: Link, Activity Indicator. On for link established. Link/Tx Blinks when the corresponding port is receiving.</div>
</li>
<li class="level1"><div class="li"> Mode 14: Link on Master Indicator. On for link Master established.</div>
</li>
<li class="level1"><div class="li"> Mode 15: LED value is read from a separate register</div>
</li>
</ul>

<p>
A sample configuration is orange LEDs for 10/100 Mb/s connections and green for 1000 Mb/s which are blinking on activity.
<pre class="code">swconfig dev rtl8366s port 1 set led 6
swconfig dev rtl8366s port 2 set led 9</pre>

</p>

<p>
(Notice how swconfig port number is actually the led group number and last number is the desired mode)
</p>

<p>
You can also control blinkrate of the leds with values: 0 = 43ms, 1 = 84ms, 2 = 120ms, 3 = 170ms, 4 = 340ms, 5 = 670ms.
<pre class="code">swconfig dev rtl8366s set blinkrate 2</pre>

</p>

<p>
Note: The default LED config built into Backfire 10.03.1-rc4 (and earlier) does not match the explanation printed on the router&#039;s bottom. To make the LED behaviour match the printed explanation (green LED for 1000Mb/s), use mode 6 for port 1, mode 9 for port 2 and mode 2 for port 5. This has later been patched to <a href="../../about/history#bleedingedgetrunk" class="wikilink1" title="about:history">trunk (bleeding edge)</a> and Backfire branch. You can either use the swconfig command or directly edit the file &#039;/etc/config/network&#039;. Reference: <a href="https://dev.openwrt.org/ticket/8103" class="urlextern" title="https://dev.openwrt.org/ticket/8103"  rel="nofollow">https://dev.openwrt.org/ticket/8103</a>
</p>

</div>

<h4 id="deactivate_all_leds">Deactivate all LEDs</h4>
<div class="level4">

<p>
Put below in rc.local
<pre class="code">for i in /sys/class/leds/* ; do echo 0 &gt; &quot;$i&quot;/brightness; done
for i in 0 1 2 3 4; do swconfig dev switch0 port $i set led 0; done</pre>

</p>

</div>

<h4 id="activate_usb_led_in_backfire">Activate USB LED in Backfire</h4>
<div class="level4">

<p>
Install the package &#039;kmod-leds-wndr3700-usb&#039;. 
</p>

<p>
Add a USB LED configuration entry to /etc/config/system (you can edit the file manually or use Luci/System/LED_Configuration page) 
</p>

<p>
<pre class="code">config &#039;led&#039;
	option &#039;name&#039; &#039;USB LED&#039;
	option &#039;sysfs&#039; &#039;wndr3700:green:usb&#039;
	option &#039;default&#039; &#039;0&#039;</pre>

</p>

<p>
But that still just adds a default state to the LED. The LED will not yet turn itself on. You need to create an entry for the hotplug config: 
</p>

<p>
You should add an entry to &#039;/etc/hotplug.d/usb/10-usb&#039; and your USB LED should be working. It won&#039;t do anything fancy (like blinking when there is disk activity), but it will turn on when a USB disk is connected and turn off when the device is removed. 
</p>

<p>
Code for the file /etc/hotplug.d/usb/10-usb : 
<pre class="code bash"><span class="co0">#!/bin/sh</span>
<span class="co0"># Copyright (C) 2009 OpenWrt.org</span>
<span class="kw1">case</span> <span class="st0">&quot;<span class="es2">$ACTION</span>&quot;</span> <span class="kw1">in</span>
    add<span class="br0">&#41;</span>
        <span class="co0"># update LEDs</span>
        <span class="kw3">echo</span> <span class="st0">&quot;255&quot;</span> <span class="sy0">&gt;/</span>sys<span class="sy0">/</span>devices<span class="sy0">/</span>platform<span class="sy0">/</span>wndr3700-led-usb<span class="sy0">/</span>leds<span class="sy0">/</span>wndr3700:green:usb<span class="sy0">/</span>brightness
        <span class="sy0">;;</span>
    remove<span class="br0">&#41;</span>
        <span class="co0"># update LEDs</span>
        <span class="kw3">echo</span> <span class="st0">&quot;0&quot;</span> <span class="sy0">&gt;/</span>sys<span class="sy0">/</span>devices<span class="sy0">/</span>platform<span class="sy0">/</span>wndr3700-led-usb<span class="sy0">/</span>leds<span class="sy0">/</span>wndr3700:green:usb<span class="sy0">/</span>brightness
        <span class="sy0">;;</span>
<span class="kw1">esac</span></pre>

</p>

<p>
The LED should now react to inserting/removing USB devices. 
</p>

<p>
Note: Reference to original info: <a href="https://forum.openwrt.org/viewtopic.php?pid=105502#p105502" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=105502#p105502"  rel="nofollow">https://forum.openwrt.org/viewtopic.php?pid=105502#p105502</a>
</p>

</div>

<h3 class="sectionedit24" id="hardware_buttons">Hardware Buttons</h3>
<div class="level3">

<p>
→<a href="http://wiki.openwrt.org/doc/howto/hardware.buttons" class="wikilink2" title="doc:howto:hardware.buttons" rel="nofollow">hardware.buttons</a>
</p>

</div>

<h4 id="monitor_button_actions">Monitor button actions</h4>
<div class="level4">

<p>
WNDR3700 buttons have currently (r25360) different names in Backfire and in <a href="../../about/history#bleedingedgetrunk" class="wikilink1" title="about:history">trunk</a> :
</p>
<div class="table sectionedit25"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign">          </th><th class="col1"> Reset </th><th class="col2 leftalign"> WPS   </th><th class="col3 leftalign"> WiFi  </th>
	</tr>
	</thead>
	<tr class="row1">
		<th class="col0"> Backfire </th><td class="col1"> BTN_0 </td><td class="col2"> BTN_1 </td><td class="col3"> BTN_2 </td>
	</tr>
	<tr class="row2">
		<th class="col0 leftalign"> Trunk    </th><td class="col1"> reset </td><td class="col2 leftalign"> wps   </td><td class="col3"> BTN_2 </td>
	</tr>
</table></div>

</div>

<h4 id="activate_the_buttons">Activate the buttons</h4>
<div class="level4">

</div>

<h5 id="wifi_button">WiFi button</h5>
<div class="level5">

<p>
The button automatics is done with the <code>wifitoggle</code> package. It only requires hotplugging the button event to the &#039;/sbin/wifi&#039; script.
</p>
<ul>
<li class="level1"><div class="li"> The button toggles WiFi off, it at least one radio was on. </div>
</li>
<li class="level1"><div class="li"> And if both radios were off, it toggles WiFi on according to the specs set in normal wireless config.</div>
</li>
</ul>

<p>
To install the <code>wifitoggle</code> package and configure it just follow the steps below:
</p>

<p>
<pre class="code">opkg update
opkg install wifitoggle</pre>

</p>

<p>
<pre class="code">uci set wifitoggle.@wifitoggle[0].button=BTN_2
uci set wifitoggle.@wifitoggle[0].timer=0
uci commit wifitoggle</pre>

</p>

</div>

<h5 id="wps_button">WPS button</h5>
<div class="level5">

<p>
There is support for the WPS button removing the <code>wpad-mini</code> package and installing the full version of <code>wpad</code> &amp; <code>hostapd-utils</code> packages.
</p>

<p>
<img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> Apparently changeset 33393 enables WPS support also for wpad-mini, but that is still unverified.  <em>hnyman 14-09-2012</em>
</p>

<p>
If you have a WPS enabled network device (like a modern USB dongle), you can negotiate joining the routers wireless network without manually entering SSID &amp; passkey. You just initiate &quot;WPS authentication&quot; by pushing the similar WPS button on the device (or launching the process by its driver/control software). After the device has initiated the authentication process, you can accept the transaction by using the WPS button on WNDR3700. The connection should then get negotiated, and in most cases in future your PC should remember the received network settings from then on.
</p>

<p>
After finding the information and browsing the hostapd package sourcecode, the needed actions for enabling the WPS button are pretty simple:
</p>
<ol>
<li class="level1"><div class="li"> Using WPS authentication in requires replacing the default <code>wpad-mini</code> package with <code>wpad</code> and <code>hostapd-utils</code>. The reason is that the tool &quot;hostapd_cli&quot; and some needed support functions are not included in &#039;wpad-mini&#039;. WPS authentication itself is launched with a command:<pre class="code">hostapd_cli -p /var/run/hostapd-phy0 wps_pbc</pre>
It tells the running hostapd daemon to participate in ongoing WPS authentication sequence. It needs to be run separately for each radio (= each existing hostapd process). </div>
</li>
<li class="level1"><div class="li"> And it only works if the &#039;/etc/config/wireless&#039; has been modified to include info about WPS authentication being allowed by adding the option &#039;wps_pushbutton&#039; &#039;1&#039; to the wifi-iface section of (each) radio. (Looks like the version of hostapd scripts in OpenWrt does not support the full scope of hostapd&#039;s capabilities, so many of the config options documented in hostapd docs are left unused.)</div>
</li>
<li class="level1"><div class="li"> That config file is read when radios are turned on, so after editing the config, restart the radios in WNDR3700. At this point, you should be able to test it by running it from command line.<br/>
If the message gets passed to hostapd, you should see there result &#039;OK&#039; there. Otherwise the result is &#039;FAIL&#039;.<pre class="code">root@OpenWrt:~# wifi
[..]
root@OpenWrt:~# hostapd_cli -p /var/run/hostapd-phy0 wps_pbc
Selected interface &#039;wlan0&#039;
OK
root@OpenWrt:~#</pre>
</div>
</li>
<li class="level1"><div class="li"> Add a hotplug button event script to launch the process. I modified directly the hostapd package source ( /package/hostapd/files/wps-hotplug.sh ), as the hotplug script gets automatically installed to <code>/etc/hotplug.d/button/50-wps</code> with the package. See below.<br/>
The script launches hostapd_cli for each radio and lights the WPS led for 10 seconds. There is no monitoring of the result, or anything like that. It is just a dumb script using the hostapd_cli command to pass the message to the hostapd daemon.<br/>
Note: button is called <code>BTN_1</code> in Backfire, <code>wps</code> in trunk. /etc/hotplug.d/button/50-wps<pre class="code">if [ &quot;$ACTION&quot; = &quot;pressed&quot; -a &quot;$BUTTON&quot; = &quot;BTN_1&quot; ]; then
        for dir in /var/run/hostapd-*; do
                [ -d &quot;$dir&quot; ] || continue
                logger &quot;WPS button active: $dir&quot;
                hostapd_cli -p &quot;$dir&quot; wps_pbc
        done
fi</pre>
/etc/config/wireless<pre class="code">config &#039;wifi-iface&#039;
        option &#039;device&#039; &#039;radio0&#039;
        option &#039;network&#039; &#039;lan&#039;
        option &#039;mode&#039; &#039;ap&#039;
        option &#039;ssid&#039; &#039;public&#039;
        option &#039;encryption&#039; &#039;psk2&#039;
        option &#039;key&#039; &#039;SecretKey&#039;
        option &#039;wps_pushbutton&#039; &#039;1&#039;</pre>
 If everything goes ok, you should see in Syslog not only the button events, but also succesful WPS authentication.</div>
</li>
</ol>

</div>

<h5 id="reset_button">Reset button</h5>
<div class="level5">

<p>
If you just want a straightforward simple reset button functionality, you can install the <code>restorefactory</code> package and configure it:
</p>

<p>
<pre class="code">opkg update
opkg install restorefactory</pre>

</p>

<p>
Minimum configuration is to set the right value for the reset button. Reset button is &#039;reset&#039; in trunk, &#039;BTN_0&#039; in Backfire final.
<pre class="code">uci set system.@restorefactory[0].button=reset
uci commit system</pre>

</p>

<p>
After you reset to the factory defaults you have to reinstall and reconfigure the <code>restorefactory</code> package. You can skip this step if you build your own image which contains a preconfigured <code>restorefactory</code> configuration.
</p>

</div>

<h3 class="sectionedit26" id="usb_serial_console">USB serial console</h3>
<div class="level3">

<p>
Using a USB-serial adapter one can easily create a USB-serial console for this device. See <a href="../../OpenWrtDocs/Customizing/Hardware/Serial_Console#usbenabledrouters" class="wikilink1" title="doc:hardware:port.serial">usb.enabled.routers</a> for more on setting it up.
</p>

<p>
To connect to the console use your favorite terminal software - mine is miniterm and the default baud rate on my system was 9600:
<code>miniterm -b9600 -d/dev/ttyS0</code>
</p>

</div>

<h2 class="sectionedit27" id="hardware_modding">Hardware Modding</h2>
<div class="level2">

</div>

<h3 class="sectionedit28" id="hardware_specifics">Hardware Specifics</h3>
<div class="level3">

</div>

<h4 id="info">Info</h4>
<div class="level4">
<div class="table sectionedit29"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> </th><th class="col1"> v1 </th><th class="col2"> v2 </th><th class="col3"> v3 </th><th class="col4"> v4 </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> <strong><a href="http://en.wikipedia.org/wiki/Instruction set" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Instruction set">Architecture</a>:</strong>    </td><td class="col1" colspan="4"> <a href="http://en.wikipedia.org/wiki/MIPS architecture" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/MIPS architecture">MIPS</a> </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> <strong>Vendor:</strong>          </td><td class="col1"> <a href="http://en.wikipedia.org/wiki/Qualcomm Atheros" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Qualcomm Atheros">Qualcomm Atheros</a> </td><td class="col2"> <a href="http://en.wikipedia.org/wiki/Qualcomm Atheros" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Qualcomm Atheros">Qualcomm Atheros</a> </td><td class="col3"> Broadcom </td><td class="col4"> <a href="http://en.wikipedia.org/wiki/Qualcomm Atheros" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Qualcomm Atheros">Qualcomm Atheros</a> </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> <strong><a href="../../doc/techref/bootloader.1" class="wikilink1" title="doc:techref:bootloader">Bootloader</a>:</strong>     </td><td class="col1" colspan="4"> crippled <a href="../../doc/techref/bootloader/uboot" class="wikilink1" title="doc:techref:bootloader:uboot">U-Boot</a> </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/soc.1" class="wikilink1" title="doc:hardware:soc">System-On-Chip</a>:</strong>  </td><td class="col1" colspan="2"> <a href="http://www.qca.qualcomm.com/networking/brand.php?brand=4&amp;product=68" class="urlextern" title="http://www.qca.qualcomm.com/networking/brand.php?brand=4&amp;product=68"  rel="nofollow">AR7161 </a> </td><td class="col3"> Broadcom </td><td class="col4"> AR9344 </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/cpu" class="wikilink1" title="doc:hardware:cpu">CPU</a>/Speed</strong>        </td><td class="col1"> <a href="http://www.mips.com/products/processor-cores/mips32-24k/" class="urlextern" title="http://www.mips.com/products/processor-cores/mips32-24k/"  rel="nofollow">MIPS32 24Kc</a> V7.4 680 <abbr title="Megahertz">MHz</abbr>   <sup><a href="wndr37av#fn__1" id="fnt__1" class="fn_top">1)</a></sup> </td><td class="col2"> </td><td class="col3"> </td><td class="col4"> </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> <strong>Flash-Chip:</strong>  </td><td class="col1"> v1: <a href="http://www.spansion.com/Support/Datasheets/S25FL064P_00_03_e.pdf" class="urlextern" title="http://www.spansion.com/Support/Datasheets/S25FL064P_00_03_e.pdf"  rel="nofollow">Spansion S25FL064P (FL064PIF)</a> or <a href="http://www.macronix.com/QuickPlace/hq/PageLibrary4825740B00298A3B.nsf/$defaultview/3F21BAC2E121E17848257639003A3146/$File/MX25L6405D%2C%203V%2C%2064Mb%2C%20v1.5.pdf?OpenElement" class="urlextern" title="http://www.macronix.com/QuickPlace/hq/PageLibrary4825740B00298A3B.nsf/$defaultview/3F21BAC2E121E17848257639003A3146/$File/MX25L6405D%2C%203V%2C%2064Mb%2C%20v1.5.pdf?OpenElement"  rel="nofollow">Macronix MX25L6405DMI-12G</a> </td><td class="col2 rightalign">  <a href="http://www.macronix.com/QuickPlace/hq/PageLibrary4825740B00298A3B.nsf/$defaultview/3F21BAC2E121E17848257639003A3146/$File/MX25L12845E%2C%203V%2C%20128Mb%2C%20v1.7.pdf" class="urlextern" title="http://www.macronix.com/QuickPlace/hq/PageLibrary4825740B00298A3B.nsf/$defaultview/3F21BAC2E121E17848257639003A3146/$File/MX25L12845E%2C%203V%2C%20128Mb%2C%20v1.7.pdf"  rel="nofollow">Macronix MX25L12845EWI-10G</a> </td><td class="col3"> ? </td><td class="col4"> ? </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> <strong>Flash size:</strong>      </td><td class="col1"> 8192 KiB </td><td class="col2"> 16384 KiB </td><td class="col3">8192 KiB </td><td class="col4"> 128 MiB NAND </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> <strong>RAM-Chip:</strong>        </td><td class="col1"> 2X <a href="http://www.nanya.com/NanyaAdmin/GetFiles.ashx?ID=116" class="urlextern" title="http://www.nanya.com/NanyaAdmin/GetFiles.ashx?ID=116"  rel="nofollow">Nanya NT5DS16M16CS-5T</a> </td><td class="col2"> ? </td><td class="col3"> ? </td><td class="col4"> ? </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> <strong>RAM:</strong>             </td><td class="col1" colspan="3"> 64 MiB </td><td class="col4"> 128 MiB </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign"> <strong>Wireless:</strong>        </td><td class="col1"> Atheros AR9223 802.11bgn / Atheros AR9220 802.11an </td><td class="col2"> ? </td><td class="col3"> ? </td><td class="col4"> ? </td>
	</tr>
	<tr class="row11">
		<td class="col0 leftalign"> <strong>Ethernet:</strong>        </td><td class="col1"> <a href="http://realtek.info/pdf/rtl8366_8369_datasheet_1-1.pdf" class="urlextern" title="http://realtek.info/pdf/rtl8366_8369_datasheet_1-1.pdf"  rel="nofollow">Realtek RTL8366SR</a> </td><td class="col2"> ? </td><td class="col3"> ? </td><td class="col4"> ? </td>
	</tr>
	<tr class="row12">
		<td class="col0 leftalign"> <strong>Internet:</strong>        </td><td class="col1 leftalign" colspan="4"> n/a  </td>
	</tr>
	<tr class="row13">
		<td class="col0 leftalign"> <strong>USB:</strong>             </td><td class="col1" colspan="4"> Yes 1 x 2.0 </td>
	</tr>
	<tr class="row14">
		<td class="col0 leftalign"> <strong>Serial:</strong>          </td><td class="col1" colspan="4"> <a href="wndr37av#serial" title="toh:netgear:wndr3700 ↵" class="wikilink1">Yes</a> </td>
	</tr>
	<tr class="row15">
		<td class="col0 leftalign"> <strong>JTAG:</strong>            </td><td class="col1" colspan="4"> <a href="wndr37av#jtag" title="toh:netgear:wndr3700 ↵" class="wikilink1">Yes</a> </td>
	</tr>
	<tr class="row16">
		<td class="col0 leftalign"> <strong>Voltage Reg:</strong>     </td><td class="col1" colspan="4"> <a href="wndr37av#vreg" title="toh:netgear:wndr3700 ↵" class="wikilink1">Yes</a> </td>
	</tr>
</table></div>

</div>

<h4 id="photos">Photos</h4>
<div class="level4">

<p>
<a href="../../_detail/toh/netgear/s_wndr3700c.jpg?id=toh%253Anetgear%253Awndr3700" class="media" title="toh:netgear:s_wndr3700c.jpg"><img src="../../_media/toh/netgear/s_wndr3700c.jpg?w=700&amp;tok=106e76" class="media" alt="" width="700" /></a>
<a href="../../_detail/toh/netgear/s_wndr3700s.jpg?id=toh%253Anetgear%253Awndr3700" class="media" title="toh:netgear:s_wndr3700s.jpg"><img src="../../_media/toh/netgear/s_wndr3700s.jpg?w=700&amp;tok=26b3ec" class="media" alt="" width="700" /></a>
</p>

</div>

<h4 id="opening_the_case">Opening the case</h4>
<div class="level4">

<p>
<strong>Note:</strong> This will void your warranty!
</p>
<ul>
<li class="level1"><div class="li">To remove the cover use a Torx (T-8) screwdriver.</div>
</li>
<li class="level1"><div class="li">There are two screws easily visible on the bottom of the case.</div>
</li>
<li class="level1"><div class="li">There are four more screws under the rubber feet. The feet are not glued to the plastic and can easily be removed and pushed back into place once reassembled. The feet have rubber tethers, but you can slide them out gently without damaging them, and later you can reinsert them just as easily. Don&#039;t forget to put them in a plastic baggie so you don&#039;t lose them!</div>
</li>
</ul>

</div>

<h4 id="serial">Serial</h4>
<div class="level4">

<p>
Internal J1 4-pin connector
</p>
<div class="table sectionedit30"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0">Pin Out</th><th class="col1">Description</th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0">Pin1</td><td class="col1">3.3V</td>
	</tr>
	<tr class="row2">
		<td class="col0">Pin2</td><td class="col1">TX</td>
	</tr>
	<tr class="row3">
		<td class="col0">Pin3</td><td class="col1">RX</td>
	</tr>
	<tr class="row4">
		<td class="col0">Pin4</td><td class="col1">GND</td>
	</tr>
</table></div>

<p>
<a href="../../_detail/toh/netgear/wndr3700-serial.jpg?id=toh%253Anetgear%253Awndr3700" class="media" title="toh:netgear:wndr3700-serial.jpg"><img src="../../_media/toh/netgear/wndr3700-serial.jpg" class="media" title="WNDR3700 serial pin connector" alt="WNDR3700 serial pin connector" /></a>
</p>

<p>
3.3V serial port voltage !!!
</p>

<p>
COM port settings: Speed:115200, Data bits:8, Stop bits:1, Parity:none, Flow control:none
</p>

</div>

<h4 id="jtag">JTAG</h4>
<div class="level4">

<p>
Internal J3 connector
</p>

<p>
14 Pin header
</p>
<div class="table sectionedit31"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0">Pin Out</th><td class="col1"></td><td class="col2"></td><td class="col3"></td>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0">Pin1</td><td class="col1">TRST</td><td class="col2">Pin2</td><td class="col3">GND</td>
	</tr>
	<tr class="row2">
		<td class="col0">Pin3</td><td class="col1">TDI</td><td class="col2">Pin4</td><td class="col3">GND</td>
	</tr>
	<tr class="row3">
		<td class="col0">Pin5</td><td class="col1">TDO</td><td class="col2">Pin6</td><td class="col3">GND</td>
	</tr>
	<tr class="row4">
		<td class="col0">Pin7</td><td class="col1">TMS</td><td class="col2">Pin8</td><td class="col3">GND</td>
	</tr>
	<tr class="row5">
		<td class="col0">Pin9</td><td class="col1">TCK</td><td class="col2">Pin10</td><td class="col3">GND</td>
	</tr>
	<tr class="row6">
		<td class="col0">Pin11</td><td class="col1">RST</td><td class="col2">Pin12</td><td class="col3">NC</td>
	</tr>
	<tr class="row7">
		<td class="col0">Pin13</td><td class="col1">NC</td><td class="col2">Pin14</td><td class="col3">3.3VDC</td>
	</tr>
</table></div>

<p>
See <a href="../../doc/hardware/port.jtag" class="wikilink1" title="doc:hardware:port.jtag">port.jtag</a> for more JTAG details.
</p>

</div>

<h4 id="vreg">VReg</h4>
<div class="level4">

<p>
Onboard Voltage Regulator is a STMicroelectronics ST1S10 which is described by ST as a
</p>

<p>
3A, 900 kHz, monolithic synchronous step-down regulator IC
</p>

<p>
Full details of the onboard ST1S10 Voltage Regulator are here 
</p>

<p>
<a href="http://www.st.com/stonline/stappl/st/com/TECHNICAL_RESOURCES/TECHNICAL_LITERATURE/DATASHEET/CD00169322.pdf" class="urlextern" title="http://www.st.com/stonline/stappl/st/com/TECHNICAL_RESOURCES/TECHNICAL_LITERATURE/DATASHEET/CD00169322.pdf"  rel="nofollow">http://www.st.com/stonline/stappl/st/com/TECHNICAL_RESOURCES/TECHNICAL_LITERATURE/DATASHEET/CD00169322.pdf</a>
</p>

<p>
There are three total ST1S10 chips near the capacitors on the upper right of the board.
</p>

<p>
<a href="../../_detail/toh/netgear/wndr3700-4.jpg?id=toh%253Anetgear%253Awndr3700" class="media" title="toh:netgear:wndr3700-4.jpg"><img src="../../_media/toh/netgear/wndr3700-4.jpg?w=700&amp;tok=9ec80a" class="media" alt="" width="700" /></a>
</p>

</div>

<h3 class="sectionedit32" id="serial_cables_optional">Serial cables (optional)</h3>
<div class="level3">

</div>

<h4 id="construction">Construction</h4>
<div class="level4">

<p>
If you have a basic familiarity with RS232 signals and putting together basic electronic components, you should be able to follow these instructions to create a cable to attach to the WNDR3700&#039;s serial port.
</p>

<p>
The author of this section prefers a two-step process, that of using a USB-to-9-pin-serial (DB9) connector for the computer, and then building a separate 9-pin-serial-to-board interface. This allows you to leave the connector plugged into the board all of the time (and close the plastic case of the router!), without having a USB dongle hanging around when not using it. If you use a ribbon cable to connect to the header on the router, you can actually snake it out between the 4-port <abbr title="Local Area Network">LAN</abbr> jack and the WAN jack and still get the router&#039;s case back on (albeit a bit snugly), so the system looks pretty clean and polished even after adding the serial port connector.
</p>

<p>
For the computer-to-9-pin-serial part, you probably have two options:
</p>
<ol>
<li class="level1"><div class="li"> Buy a Nokia CA-42 cable and be comfortable stripping wires and using a multimeter.</div>
</li>
<li class="level1"><div class="li"> Buy a premade USB-to-DB9 RS232 serial cable. <strong>IMPORTANT NOTE</strong> I haven&#039;t bothered to look to see if the standard RS232 voltages are compatible with the WNDR3700 board. I think I recall reading somewhere that the CA-42 cable is 3.3V, and I don&#039;t recall offhand what RS232 calls for. If you buy a premade USB-to-DB9 RS232 cable, make sure to check the output levels with a voltmeter to ensure that you don&#039;t fry anything!</div>
</li>
</ol>

<p>
<strong>Never ever connect RS232 directly to your router board !!!</strong>
The +/- 12V RS232 will be frying your board. You need a 3V-TTL to RS232 level shifter like MAX3223 in between.
</p>

<p>
For step 1:
</p>

<p>
If you buy a premade USB-to-DB9 RS232 cable, this step is already done. (Whichever method you use, make sure that your <abbr title="Operating System">OS</abbr> has drivers for the USB converter that you are planning to use!)
</p>

<p>
If you go the CA-42 cable route, follow the &quot;Determining the wiring assignment of your cable&quot; steps listed in this page: <a href="http://buffalo.nas-central.org/index.php/Use_a_Nokia_Serial_Cable_on_an_ARM9_Linkstation" class="urlextern" title="http://buffalo.nas-central.org/index.php/Use_a_Nokia_Serial_Cable_on_an_ARM9_Linkstation"  rel="nofollow">http://buffalo.nas-central.org/index.php/Use_a_Nokia_Serial_Cable_on_an_ARM9_Linkstation</a>. This page refers to a different router product, but the CA-42 cable being used is the same and your goal is to determine the pin/color assignments. You have to chop off the fancy Nokia connector and then strip wires to test  wire colors with your multimeter to figure out which color corresponds to which Nokia pin number. Once you&#039;ve figured that out:
</p>

<p>
Pin 6 of the Nokia connector should be wired to pin 3 on the DB9.
Pin 7 of the Nokia connector should be wired to pin 2 on the DB9.
Pin 8 of the Nokia connector should be wired to pin 5 on the DB9.
</p>

<p>
You should wire this cable with a male DB9 connector, which will connect to the female connector that you put on the board side of things.
</p>

<p>
For step 2:
</p>

<p>
For connecting to the WNDR3700 itself, forum user <strong>whiskas</strong> previously posted the pinout of the connector at <a href="http://img387.imageshack.us/i/26102009417.jpg/" class="urlextern" title="http://img387.imageshack.us/i/26102009417.jpg/"  rel="nofollow">http://img387.imageshack.us/i/26102009417.jpg/</a>. The four pins on the board (reading from left to right in whiskas&#039;s photo) correspond to DB9 pin numbers 5, 3, 2 and no connection. You&#039;ll probably want to buy a crimp-style socket (I used a &quot;IDC 10-pin dual row socket&quot;, which has more pins than we need but which works fine) and a ribbon cable that connects to it. Buy a 9-pin female DB9, carefully sort out which pins in the ribbon cable need to be connected to what, and crimp them into the right place. If you use crimp-style connectors, you can do this with no tools other than steady hands, and the IDC socket will slide right onto the board without having to solder anything.
</p>

</div>

<h4 id="flashing_over_serial">Flashing over serial</h4>
<div class="level4">

<p>
If, for whatever reason, you would prefer to avoid tftp flashing, it&#039;s possible to load a new image with ymodem (<em>loady</em>) or kermit (<em>loadb</em>).  It&#039;s a good idea to use <em>iminfo</em> to verify the image&#039;s checksum before copying it to flash with <em>cp.b</em>.  Remember to use the sysupgrade .bin file even if this is your initial flash from the factory firmware; the extra header in the factory .img is NOT required when flashing from U-Boot.
</p>

<p>
<pre class="code">ar7100&gt; loady 80800000
## Ready for binary (ymodem) download to 0x80800000 at 115200 bps... </pre>
<em>(Begin the ymodem or kermit transfer)</em>
<pre class="code">## Total Size      = 0x004d0004 = 5046276 Bytes
ar7100&gt; iminfo 80800000

## Checking Image at 80800000 ...
   Image Name:   MIPS OpenWrt Linux-3.3.8
   Created:      2012-07-01  17:49:09 UTC
   Image Type:   MIPS Linux Unknown Image (uncompressed)
   Data Size:    914224 Bytes = 892.8 kB
   Load Address: bf070000
   Entry Point:  bf070000
   Verifying Checksum ... OK
ar7100&gt; erase 0xbf070000 +0x004d0004
Erase Flash from 0xbf070000 to 0xbf54ffff in Bank # 1 
First 0x7 last 0x54 sector size 0x10000
  84
Erased 78 sectors
ar7100&gt; cp.b 0x80800000 0xbf070000 0x004d0004
Copy to Flash... write addr: bf070000
done
ar7100&gt; boot</pre>

</p>

<p>
Note that the size value (0x004d0004 in this case) will vary from one image to another.  Don&#039;t omit the &quot;+&quot; in the erase command as it&#039;s part of the command&#039;s syntax.
</p>

</div>

<h3 class="sectionedit33" id="u-boot_mods">U-Boot Mods</h3>
<div class="level3">

<p>
According to the release notes in the NETGEAR-supplied <abbr title="GNU General Public License">GPL</abbr> firmware, U-Boot can be upgraded using the following procedure. Note that you do not need to update U-Boot in order to install OpenWrt. Additionally, this has not yet been tested by the author of this wiki page, and you can permanently brick your router (with little hope of recovery, other than possibly finding a JTAG interface) if your U-boot image becomes corrupted:
</p>

<p>
<pre class="code">Please burn u-boot-wndr3700-dni6-V1.7.bin
Set up a tftp server on your PC, its ip address is 192.168.1.12.
Entering into boot loader
ag7100&gt; set serverip 192.168.1.12
ag7100&gt; tftp 0x80010000 u-boot-wndr3700-dni6-V1.7.bin
ag7100&gt; erase 0xbf000000 +0x70000
ag7100&gt; cp.b 0x80010000 0xbf000000 0x50000
ag7100&gt; reset
Entering into boot loader again
ag7100&gt;bootm
Then the device should be in tftp recovery mode. Please run the command
&quot;tftp -i 192.168.1.1 put WNDR3700U-V1.0.4.49.img&quot; on MS-DOS of your PC.</pre>

</p>

</div>

<h3 class="sectionedit34" id="hardware_mods">Hardware Mods</h3>
<div class="level3">

</div>

<h4 id="mib_ram_mod">128 MiB RAM Mod</h4>
<div class="level4">

<p>
<strong>NEW: More and More people reports serious issues after correctly replace ram chips on WNDR3700V2. For now users are advised to stay away from extending RAM on WNDR 3700V2 untill we will have positive feedback on this procedure.</strong>
</p>

<p>
<strong>Warning: There are reports (User batu at <a href="http://eko.one.pl/forum/viewtopic.php?id=2454" class="urlextern" title="http://eko.one.pl/forum/viewtopic.php?id=2454"  rel="nofollow">http://eko.one.pl/forum/viewtopic.php?id=2454</a>) that 333Mhz chips dont work with wndr3700v2. Use 400Mhz chips if available.</strong>
</p>

<p>
I used two Samsung K4H511638D-UCCC. You can use chips from other manufacturers, but they should be DDR400 32Mx16 organization in the package TSOP-II 66pin. Chips with other organizations, such as 64Mx8, do not fit.
</p>

<p>
A list of compatible chips:
</p>
<div class="table sectionedit35"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0">Manufacturers </th><th class="col1">Mark</th><th class="col2">Comments</th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0">Samsung</td><td class="col1">K4H511638D-UCCC</td><td class="col2">400Mhz - definitely not working with wndr3700v2</td>
	</tr>
	<tr class="row2">
		<td class="col0">Samsung</td><td class="col1">K4H511638B-TCB3</td><td class="col2">333Mhz - not working with wndr3700v2</td>
	</tr>
	<tr class="row3">
		<td class="col0">Samsung</td><td class="col1">K4H511638D-UCB3</td><td class="col2">333Mhz - definitely not working with wndr3700v2</td>
	</tr>
	<tr class="row4">
		<td class="col0">Hynix</td><td class="col1">HY5DU121622CTP-J</td><td class="col2">333Mhz - definitely not working with wndr3700v2</td>
	</tr>
	<tr class="row5">
		<td class="col0">Hynix</td><td class="col1">HY5DU121622CTP-D43</td><td class="col2">333/400Mhz mixed reports. Propably not working with wndr3700v2</td>
	</tr>
	<tr class="row6">
		<td class="col0">Hynix</td><td class="col1">HY5DU121622CLTP</td><td class="col2"></td>
	</tr>
	<tr class="row7">
		<td class="col0">Hynix</td><td class="col1">HY5DU121622DTP</td><td class="col2"></td>
	</tr>
	<tr class="row8">
		<td class="col0">Hynix</td><td class="col1">HY5DU121622DLTP</td><td class="col2"></td>
	</tr>
	<tr class="row9">
		<td class="col0">Kingston</td><td class="col1">K4H511638C-UCB3</td><td class="col2"></td>
	</tr>
	<tr class="row10">
		<td class="col0">Elpida</td><td class="col1">D5116AFTA-5B-E</td><td class="col2"></td>
	</tr>
	<tr class="row11">
		<td class="col0">NCP</td><td class="col1">NP25D3216512K-5</td><td class="col2"></td>
	</tr>
	<tr class="row12">
		<td class="col0">Nanya</td><td class="col1">NT5DS32M16BS</td><td class="col2"></td>
	</tr>
	<tr class="row13">
		<td class="col0">infineon</td><td class="col1">HYB25D512160BE</td><td class="col2"></td>
	</tr>
	<tr class="row14">
		<td class="col0">Micron</td><td class="col1">MT46V32M16TG</td><td class="col2"></td>
	</tr>
	<tr class="row15">
		<td class="col0">Micron</td><td class="col1">MT46V32M16TG?</td><td class="col2"></td>
	</tr>
	<tr class="row16">
		<td class="col0">Elixir</td><td class="col1">N2DS51216BT-5T</td><td class="col2"></td>
	</tr>
	<tr class="row17">
		<td class="col0">Elixir</td><td class="col1">N2DS51216CS-5T</td><td class="col2"></td>
	</tr>
	<tr class="row18">
		<td class="col0">Zentel</td><td class="col1">A3S12D40ETP</td><td class="col2"></td>
	</tr>
</table></div>

<p>
<a href="../../_detail/toh/netgear/img_1184_1.jpg?id=toh%253Anetgear%253Awndr3700" class="media" title="toh:netgear:img_1184_1.jpg"><img src="../../_media/toh/netgear/img_1184_1.jpg?w=243&amp;h=162&amp;tok=d7a464" class="media" title="Netgear WNDR3700 v1 with 128 MB RAM Mod" alt="Netgear WNDR3700 v1 with 128 MB RAM Mod" width="243" height="162" /></a>
<a href="../../_detail/toh/netgear/img_1189_1.jpg?id=toh%253Anetgear%253Awndr3700" class="media" title="toh:netgear:img_1189_1.jpg"><img src="../../_media/toh/netgear/img_1189_1.jpg?w=162&amp;h=243&amp;tok=700f7f" class="media" title="Netgear WNDR3700 v1 with 128 MB RAM Mod" alt="Netgear WNDR3700 v1 with 128 MB RAM Mod" width="162" height="243" /></a>
</p>

<p>
<strong>U-Boot report after adding memory</strong><br/>

</p>

<p>
<pre class="code">&#039;&#039;U-Boot 1.1.4DNI1.6 (May 22 2009 - 16:37:44)

WNDR3700U (ar7100) U-boot 0.0.12
DRAM:  b8050000: 0xc0140180
**128 MB**
Top of RAM usable for U-Boot at: 88000000
Reserving 315k for U-Boot at: 87fb0000
Reserving 192k for malloc() at: 87f80000
Reserving 44 Bytes for Board Info at: 87f7ffd4
Reserving 36 Bytes for Global Data at: 87f7ffb0
Reserving 128k for boot params() at: 87f5ffb0
Stack Pointer at: 87f5ff98
Now running in RAM - U-Boot at: 87fb0000
id read 0x100000ff
flash size 8MB, sector count = 128
Flash:  8 MB
In:    serial
Out:   serial
Err:   serial
Net:   ag7100_enet_initialize...
&#039;&#039;</pre>

</p>

</div>

<h4 id="antenna_mod">Antenna Mod</h4>
<div class="level4">

<p>
The procedure below covers hardware revision 1. Revision 2 only has U.FL connectors for the 5 <abbr title="Gigahertz">GHz</abbr> antennas (PJ2 and PJ4), while the 2.4 <abbr title="Gigahertz">GHz</abbr> connectors are replaced with dummy connectors (presumably a Hirose testing connectors used in production). So for revision 2 the PJ5 and PJ6 connectors will have to bypassed and the coax cable soldered directly to the PCB.
</p>

<p>
You will need:
</p>
<ul>
<li class="level1"><div class="li"> 4 cable U.FL-F (female) to RPSMA-F (female) app. 13 centimeters long</div>
</li>
<li class="level1"><div class="li"> 4 Antenna (preferably 2 2.4 <abbr title="Gigahertz">GHz</abbr> and 2 5 <abbr title="Gigahertz">GHz</abbr> antenna), e.g. Level One (OAN-0501).</div>
</li>
</ul>

<p>
On board removes:
</p>
<ol>
<li class="level1"><div class="li"> Connectors (SWD) PJ2, PJ4, PJ5, PJ6</div>
</li>
<li class="level1"><div class="li"> Switches AS6, AS8, AS9, AS10</div>
</li>
<li class="level1"><div class="li"> Capacitors AC77, AC113, AC148, AC186</div>
</li>
</ol>

<p>
In place of the connector solder in U. FL connectors.<br/>

Solder shorts instead of capacitors AC77, AC113, AC148, AC186.<br/>

Solder shorts between 3 and 5-pin AS6 and AS8.<br/>

Solder shorts between 3 and 6 pin AS8 and AS10.<br/>

</p>

<p>
Drill four drill holes 6.5mm in the left side of the upper lid.<br/>

In a hole fasten cables UFL-F/RPSMA-F.<br/>

Insert the connector into the board as in the photo, and assemble the router.<br/>

Fasten to the connectors RPSMA-F antenna and turn on.<br/>

</p>

<p>
<a href="../../_detail/toh/netgear/img_1182.jpg?id=toh%253Anetgear%253Awndr3700" class="media" title="toh:netgear:img_1182.jpg"><img src="../../_media/toh/netgear/img_1182.jpg?w=243&amp;h=162&amp;tok=25bdb1" class="media" title="Netgear WNDR3700 v1 Antenn Mod" alt="Netgear WNDR3700 v1 Antenn Mod" width="243" height="162" /></a>
<a href="../../_detail/toh/netgear/img_1186.jpg?id=toh%253Anetgear%253Awndr3700" class="media" title="toh:netgear:img_1186.jpg"><img src="../../_media/toh/netgear/img_1186.jpg?w=243&amp;h=162&amp;tok=763b56" class="media" title="Netgear WNDR3700 v1 Antenn Mod" alt="Netgear WNDR3700 v1 Antenn Mod" width="243" height="162" /></a>
<a href="../../_detail/toh/netgear/img_1187.jpg?id=toh%253Anetgear%253Awndr3700" class="media" title="toh:netgear:img_1187.jpg"><img src="../../_media/toh/netgear/img_1187.jpg?w=243&amp;h=162&amp;tok=644f4d" class="media" title="Netgear WNDR3700 v1 Antenn Mod" alt="Netgear WNDR3700 v1 Antenn Mod" width="243" height="162" /></a>
<a href="../../_detail/toh/netgear/img_1197.jpg?id=toh%253Anetgear%253Awndr3700" class="media" title="toh:netgear:img_1197.jpg"><img src="../../_media/toh/netgear/img_1197.jpg?w=243&amp;h=162&amp;tok=c2eaf0" class="media" title="Netgear WNDR3700 v1 Antenn Mod" alt="Netgear WNDR3700 v1 Antenn Mod" width="243" height="162" /></a>
<a href="../../_detail/toh/netgear/img_1198.jpg?id=toh%253Anetgear%253Awndr3700" class="media" title="toh:netgear:img_1198.jpg"><img src="../../_media/toh/netgear/img_1198.jpg?w=243&amp;h=162&amp;tok=fe78d7" class="media" title="Netgear WNDR3700 v1 Antenn Mod" alt="Netgear WNDR3700 v1 Antenn Mod" width="243" height="162" /></a>
<a href="../../_detail/toh/netgear/img_1201.jpg?id=toh%253Anetgear%253Awndr3700" class="media" title="toh:netgear:img_1201.jpg"><img src="../../_media/toh/netgear/img_1201.jpg?w=243&amp;h=162&amp;tok=14b9a4" class="media" title="Netgear WNDR3700 v1 Antenn Mod" alt="Netgear WNDR3700 v1 Antenn Mod" width="243" height="162" /></a>
<a href="../../_detail/toh/netgear/img_1202.jpg?id=toh%253Anetgear%253Awndr3700" class="media" title="toh:netgear:img_1202.jpg"><img src="../../_media/toh/netgear/img_1202.jpg?w=243&amp;h=162&amp;tok=c9c65d" class="media" title="Netgear WNDR3700 v1 Antenn Mod" alt="Netgear WNDR3700 v1 Antenn Mod" width="243" height="162" /></a>
<a href="../../_detail/toh/netgear/img_1203.jpg?id=toh%253Anetgear%253Awndr3700" class="media" title="toh:netgear:img_1203.jpg"><img src="../../_media/toh/netgear/img_1203.jpg?w=243&amp;h=162&amp;tok=6e5a72" class="media" title="Netgear WNDR3700 v1 Antenn Mod" alt="Netgear WNDR3700 v1 Antenn Mod" width="243" height="162" /></a>
<a href="../../_detail/toh/netgear/img_1205.jpg?id=toh%253Anetgear%253Awndr3700" class="media" title="toh:netgear:img_1205.jpg"><img src="../../_media/toh/netgear/img_1205.jpg?w=243&amp;h=162&amp;tok=5ef4a5" class="media" title="Netgear WNDR3700 v1 Antenn Mod" alt="Netgear WNDR3700 v1 Antenn Mod" width="243" height="162" /></a>
<a href="../../_detail/toh/netgear/img_1209.jpg?id=toh%253Anetgear%253Awndr3700" class="media" title="toh:netgear:img_1209.jpg"><img src="../../_media/toh/netgear/img_1209.jpg?w=243&amp;h=162&amp;tok=0c1f7e" class="media" title="Netgear WNDR3700 v1 Antenn Mod" alt="Netgear WNDR3700 v1 Antenn Mod" width="243" height="162" /></a>
</p>

</div>

<h2 class="sectionedit36" id="troubleshooting_and_recovery">Troubleshooting and Recovery</h2>
<div class="level2">

</div>

<h3 class="sectionedit37" id="wireless_regulatory_issues">Wireless Regulatory Issues?</h3>
<div class="level3">

<p>
Unless you are American, BOTH 2.4GHz and 5GHz will likely not be fully available on OpenWrt 10.03 Backfire (you will experience loss of channels 12, 13 and 14 if these are available where you are, as well as potentially incorrect 5GHz channel availability. Power output levels may be incorrect for your country as well).
</p>

<p>
<img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> Does this problem still exist in version 12.x? I&#039;m using Barrier Breaker r36692+ and I don&#039;t have to manually download any sort of file as mentioned below. Just be sure to configure your country in the web interface (LUCI) under Network → Wifi → your wifi (EDIT) → Advanced settings → Country code, or manually set wireless.radio0.country and wireless.radio1.country and restart wifi. If I choose &#039;NL&#039; for The Netherlands it makes channel 13 available perfectly fine.
</p>

<p>
To sum up the background for this:
</p>
<ul>
<li class="level1"><div class="li"> Netgear ships the WNDR3700 with <a href="http://en.wikipedia.org/wiki/EEPROM" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/EEPROM">EEPROM</a> chip stating that the router should restrict to US settings. Outside America, they ship software that ignores this chip. This is a bad thing as it means that your OpenWrt can&#039;t work properly for the next two reasons.</div>
</li>
<li class="level1"><div class="li"> In the USA, it is illegal to ship router firmware that can (through incorrect settings) bypass radio regulations.</div>
</li>
<li class="level1"><div class="li"> Atheros (the wireless chip maker in the WNDR3700) asks open source folks not to ship compiled builds that bypass radio restrictions, even though their hardware vendors do this. This means if you bought hardware from one of the manufacturers (and you&#039;re one of the 95% of the world&#039;s population that doesn&#039;t live in the USA) that doesn&#039;t set the value in the EEPROM correctly, you&#039;re kinda screwed if you want to use OpenWrt…</div>
</li>
</ul>

<p>
Personally, I think this is a ridiculous situation, but there seem to be issues with fixing it. You can do the job yourself as follows:
</p>

</div>

<h4 id="backfire">Backfire</h4>
<div class="level4">

<p>
You may partially fix this by compiling a custom image with CONFIG_ATH_USER_REGD set in the Ath9k driver. This will, however, take a significant time to compile and result in a restriction to 20dBm max power output across all channels (this is apparently due to a bug according to my reading, but it&#039;s not fixed yet as far as I can tell). A much better option that will allow you to use the full legal power output in your country would be to follow the instructions here:
</p>

<p>
<a href="http://smorgasbord.gavagai.nl/2010/09/wifi-regulatory-compliance-and-how-to-fix-it/" class="urlextern" title="http://smorgasbord.gavagai.nl/2010/09/wifi-regulatory-compliance-and-how-to-fix-it/"  rel="nofollow">http://smorgasbord.gavagai.nl/2010/09/wifi-regulatory-compliance-and-how-to-fix-it/</a>
</p>

<p>
They&#039;re a little complex, so I&#039;ve uploaded my fixed regulatory.bin to RapidShare to save you all the hassle of learning to compile one yourself. Hopefully someone will move it somewhere more permanent and update this. Anyhow, this is me doing my bit to make this whole process better and usable for more people…what you need to do is as follows:
</p>
<ol>
<li class="level1"><div class="li"> If you&#039;re living in the USA, congratulations. You don&#039;t need to do any of this as you live in the only country anyone seems to care about making things easy for.</div>
</li>
<li class="level1"><div class="li"> Set up your router so that it is able to access the internet or the later step involving wget will fail (unless you host the file on your local network).</div>
</li>
<li class="level1"><div class="li"> Enter the following:</div>
</li>
</ol>

<p>
<pre class="code">cd /etc/config
vi wireless</pre>

</p>

<p>
Add the following to each radio for your router (this will prevent you exceeding the regulatory limits in your country when you do the next bits):
</p>
<div class="table sectionedit38"><table class="inline">
	<tr class="row0">
		<td class="col0"><code>option &#039;country&#039; &#039;XX&#039;
</code></td>
	</tr>
</table></div>

<p>
(Where XX is the two letter country code for your country. For example, Australia is AU).
</p>

<p>
(if those are ISO 2 letter country codes, a list is available here: <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2" class="urlextern" title="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2"  rel="nofollow">http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2</a> If not, then someone please clarify what codes are those.)
</p>

<p>
2. Download the following file: <a href="https://rapidshare.com/files/458836427/regulatory.bin" class="urlextern" title="https://rapidshare.com/files/458836427/regulatory.bin"  rel="nofollow">https://rapidshare.com/files/458836427/regulatory.bin</a>. Put it on a web server (sorry I can&#039;t give you a direct link, or you&#039;d be able to do without this step (RapidShare doesn&#039;t allow direct downloads without looking at their page, so don&#039;t try to skip putting it on a web server or server on your network - hopefully someone can improve this process using their private server as the file&#039;s only tiny)). 
NEW: Instead of your own webserver, you can also use <a href="http://datatomb.de/mirror/stuff/regulatory.bin" class="urlextern" title="http://datatomb.de/mirror/stuff/regulatory.bin"  rel="nofollow">http://datatomb.de/mirror/stuff/regulatory.bin</a>
</p>

<p>
Enter the following:
</p>

<p>
<pre class="code">cd /usr/lib/crda/
rm regulatory.bin
wget &lt;web server URL&gt;/regulatory.bin
reboot</pre>

</p>

<p>
3. When your router comes up again, log in with SSH as you did before. Check the available channels and power outputs are as desired by entering:
</p>

<p>
<pre class="code">iw list</pre>

</p>

<p>
4. If you want to see what settings I put in the regulatory DB (they&#039;re as per the article I linked at the beginning) you can get them here: <a href="https://rapidshare.com/files/458836748/db.txt" class="urlextern" title="https://rapidshare.com/files/458836748/db.txt"  rel="nofollow">https://rapidshare.com/files/458836748/db.txt</a> . If for some reason you want to use this to set the proper regulatory settings for the USA, you need to use UX as the country code…otherwise all country codes are still correct.
</p>

</div>

<h4 id="attitude_adjustment">Attitude Adjustment</h4>
<div class="level4">

<p>
SSH to the router and run the following:
</p>

<p>
<pre class="code">cd /tmp/
wget http://luci.subsignal.org/~jow/reghack/old/reghack.mips.elf
chmod +x reghack.mips.elf 
cp /lib/modules/*/ath.ko .
cp /lib/modules/*/cfg80211.ko .
./reghack.mips.elf ath.ko
./reghack.mips.elf cfg80211.ko
mv *.ko /lib/modules/*/
reboot</pre>

</p>

</div>

<h4 id="openwrt_trunk">OpenWrt Trunk</h4>
<div class="level4">

<p>
SSH to the router and run the following:
</p>

<p>
<pre class="code">cd /tmp/
wget http://luci.subsignal.org/~jow/reghack/reghack.mips.elf
chmod +x reghack.mips.elf 
cp /lib/modules/*/ath.ko .
cp /lib/modules/*/cfg80211.ko .
./reghack.mips.elf ath.ko
./reghack.mips.elf cfg80211.ko
mv *.ko /lib/modules/*/
reboot</pre>

</p>

</div>

<h3 class="sectionedit39" id="known_problemsissues_stability">Known problems/issues (stability)</h3>
<div class="level3">

<p>
While the WNDR3700 (and WNDR3800) are great routers, there have been a number of issues with them. Some have been recently fixed, others are still present. Note that most of these issues are related to the Atheros chipset and are not unique to the WNDR3700.
Here&#039;s a short list of major issues:
</p>
<ul>
<li class="level1"><div class="li"> Wifi stopped working after a while (fixed in AA 12.09 in April 2013, <a href="https://dev.openwrt.org/ticket/11894" class="urlextern" title="https://dev.openwrt.org/ticket/11894"  rel="nofollow">https://dev.openwrt.org/ticket/11894</a>)</div>
</li>
<li class="level1"><div class="li"> Problems with internal switch causing traffic to a particular wifi client to be ignored (workaround present, <a href="https://dev.openwrt.org/ticket/13612" class="urlextern" title="https://dev.openwrt.org/ticket/13612"  rel="nofollow">https://dev.openwrt.org/ticket/13612</a>)</div>
</li>
<li class="level1"><div class="li"> Failed to stop TX DMA messages in syslog (in AA 12.09 and later these are likely harmless and can be ignored, <a href="https://dev.openwrt.org/ticket/11862" class="urlextern" title="https://dev.openwrt.org/ticket/11862"  rel="nofollow">https://dev.openwrt.org/ticket/11862</a>)</div>
</li>
<li class="level1"><div class="li"> For more issues, you can search on tickets at <a href="http://dev.openwrt.org/" class="urlextern" title="http://dev.openwrt.org/"  rel="nofollow">http://dev.openwrt.org/</a> for &quot;wndr3700&quot; or the chipset (usually &quot;ar71&quot;)</div>
</li>
</ul>

<p>
<img src="../../lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /> Previous versions had major trouble with regards to stability in an office environment. Starting with AA 12.09 however, combined with the internal switch workaround mentioned above, these access points seem finally stable. I (Syzop) use around 20 of these on a high school which are used intensively with many associate/disassociate events.
</p>

</div>

<h3 class="sectionedit40" id="recovery_flash_in_failsafe_mode">Recovery flash in failsafe mode</h3>
<div class="level3">

<p>
If you happen to brick your router, do not fear. You can use TFTP file transfer to flash the router with a new firmware. Note that this TFTP recovery mode is separate from Openwrt&#039;s own &quot;<a href="../../doc/howto/generic.failsafe" class="wikilink1" title="doc:howto:generic.failsafe">failsafe mode</a>&quot; and is offered by the original u-boot boot manager by Netgear, so it should be enabled with either an original Netgear firmware, a working Openwrt firmware or a bricked Openwrt firmware.
</p>

<p>
Note:  WNDR3700 may also automatically enter the TFTP recovery mode, if you have flashed a bad firmware image. That is indicated by the power led blinking slowly and steadily, much slower that during a normal Openwrt boot.
</p>

<p>
For TFTP recovery you need:
</p>
<ul>
<li class="level1"><div class="li"> A TFTP client for your computer. There are both command-line tools and <abbr title="Graphical User Interface">GUI</abbr> versions available.</div>
</li>
<li class="level1"><div class="li"> Your computer must have an IP address from the 192.168.1.x network, as the router failsafe mode defaults to 192.168.1.1. You might need to manually config the address, as some operating systems change the IP to a link-local 196.254.x.x address after a while if there is no DHCP server.</div>
</li>
<li class="level1"><div class="li"> A new firmware to flash in. Either an original Netgear firmware or an Openwrt &quot;factory.img&quot; firmware. &quot;Sysupgrade&quot; version will not work.</div>
</li>
<li class="level1"><div class="li"> Access to router&#039;s reset button</div>
</li>
</ul>

<p>
Steps needed in the flashing process:
</p>
<ol>
<li class="level1"><div class="li"> configure and connect PC</div>
</li>
<li class="level1"><div class="li"> power on the router</div>
</li>
<li class="level1"><div class="li"> press and hold the RESET button as soon as the switch LEDs light up.</div>
</li>
<li class="level1"><div class="li"> keep holding RESET until the power LED begins to flash orange and then green.</div>
</li>
<li class="level1"><div class="li"> once the power LED is flashing green, release RESET</div>
</li>
<li class="level1"><div class="li"> start the TFTP transfer to router at 192.168.1.1. </div>
</li>
<li class="level1"><div class="li"> wait a few minutes for the router to complete flash. It should reboot automatically.</div>
</li>
</ol>

<p>
Please note that the TFTP transfer is quick, as the file is stored in RAM. However, <strong>the flashing process itself will take several minutes</strong>, after which the router should reboot automatically. Be patient – it will eventually come up as a brand new factory-fresh router with NETGEAR firmware (or Openwrt if you used the Openwrt &#039;factory&#039; firmware version for debricking).
Original source: <a href="https://forum.openwrt.org/viewtopic.php?pid=103295#p103295" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=103295#p103295"  rel="nofollow">https://forum.openwrt.org/viewtopic.php?pid=103295#p103295</a>
</p>

<p>
<strong>Alternative advice</strong>
</p>

<p>
Forum user <strong>ole.h</strong> previously posted a method for unbricking the router easily with a TFTP client. Further to his post, if you use the factory reset button method, you don&#039;t need to worry about building a serial cable, trying to tap into any crazy boot timing sequence, or do anything else particularly tricky. It is simple and the following step-by-step process (cribbed from the ole.h&#039;s earlier notes, as well as from <a href="http://cyberstorm.altervista.org/wag354g/guides/howto_unbricking_wag354g_en.txt" class="urlextern" title="http://cyberstorm.altervista.org/wag354g/guides/howto_unbricking_wag354g_en.txt"  rel="nofollow">http://cyberstorm.altervista.org/wag354g/guides/howto_unbricking_wag354g_en.txt</a>) will get you going. This assumes that you have a copy of the stock NETGEAR firmware in the current directory.
</p>
<ol>
<li class="level1"><div class="li"> Configure your ethernet connection (on the client machine you&#039;re using to configure the WNDR3700) using a static IP as 192.168.1.2, netmask 255.255.255.0. (The WNDR3700 in factory reset mode is going to come up as 192.168.1.1.)</div>
</li>
<li class="level1"><div class="li"> Connect your computer to one of the <abbr title="Local Area Network">LAN</abbr> (not WAN) ports on the router.</div>
</li>
<li class="level1"><div class="li"> Start a continuous ping from your client computer to 192.168.1.1 (Linux and Mac <abbr title="Operating System">OS</abbr> ping will continue until stopped by default; Windows ping by default sends 4 pings and then stops, so use &quot;ping -t&quot; under Windows); probably nothing will answer these pings yet, but you can use the output to tell you when the router is ready in the next couple steps.</div>
</li>
<li class="level1"><div class="li"> Power the router off.</div>
</li>
<li class="level1"><div class="li"> Hold down the factory reset button on the bottom of the case. Now turn the router back on while continuing to hold the factory reset button…</div>
</li>
<li class="level1"><div class="li"> Wait until the router is listening on 192.168.1.1 (this takes 45-60 seconds; to confirm, you can ping 192.168.1.1, and see if it responds; it&#039;s best to start a sequence of ping requests above, before your hands get busy with the factory reset button).</div>
</li>
<li class="level1"><div class="li"> Release the factory reset button. (If you happen to have a serial cable connected, you&#039;ll see that the system is in firmware recovery mode and that it will be waiting for you to upload firmware. But you don&#039;t need the serial cable at all.)</div>
</li>
<li class="level1"><div class="li"> Run a tftp CLIENT on your computer (enter no hostname on the command line) and enter the following:<pre class="code bash">verbose
trace
rexmt <span class="nu0">1</span>
binary
connect 192.168.1.1
put WNDR3700-V1.0.4.35NA.img <span class="br0">&#40;</span>or whatever the filename is that you are trying to flash<span class="br0">&#41;</span></pre>
</div>
</li>
</ol>

<p>
Once done, the router will flash itself to the stock NETGEAR firmware file that you provided and reboot automatically. 
</p>

</div>

<h3 class="sectionedit41" id="entering_openwrt_failsafe_mode">Entering Openwrt failsafe mode</h3>
<div class="level3">

<p>
Openwrt offers a generic <a href="../../doc/howto/generic.failsafe" class="wikilink1" title="doc:howto:generic.failsafe">failsafe mode</a>, which can be launched during a few seconds early in the boot process. With WNDR3700 the correct moment is <strong>when the power LED changes from steady orange to blinking green</strong>. If you at that moment <strong>press any button</strong> (WPS, Wifi or reset) during the next two seconds, you enter the failsafe mode, in which you can access the console with telnet. Successful entrance to the failsafe mode is indicated by a rapidly blinking power LED.
</p>

<p>
WNDR3700 provides the failsafe waiting moment indication messages both to the serial console and to the network, just like described in the <a href="../../doc/howto/generic.failsafe" class="wikilink1" title="doc:howto:generic.failsafe">failsafe mode</a> article.
</p>
<hr />

</div>

<h2 class="sectionedit42" id="resources">Resources</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> OEM source code and toolchain: <a href="ftp://downloads.netgear.com/files/GPL/" class="urlextern" title="ftp://downloads.netgear.com/files/GPL/"  rel="nofollow">ftp://downloads.netgear.com/files/GPL/</a></div>
</li>
</ol>

</div>

<h2 class="sectionedit43" id="custom_openwrt_image_with_luci_integrated">Custom OpenWrt image with LuCi integrated</h2>
<div class="level2">

<p>
<a href="http://www.superwrt.eu/en/firmware/netgear-wndr3700/" class="urlextern" title="http://www.superwrt.eu/en/firmware/netgear-wndr3700/"  rel="nofollow">http://www.superwrt.eu/en/firmware/netgear-wndr3700/</a>
</p>

</div>

<h2 class="sectionedit44" id="tags">Tags</h2>
<div class="level2">

<p>
<a href="../../meta/tags" class="wikilink1" title="meta:tags">tags</a>
</p>
<div class="tags"><span>
	<a href="../../tag/gigabitethernet?do=showtag&amp;tag=GigabitEthernet" class="wikilink1" title="tag:gigabitethernet" rel="tag">GigabitEthernet</a>,
	<a href="../../tag/5port?do=showtag&amp;tag=5Port" class="wikilink1" title="tag:5port" rel="tag">5Port</a>,
	<a href="../../tag/2nic?do=showtag&amp;tag=2NIC" class="wikilink1" title="tag:2nic" rel="tag">2NIC</a>,
	<a href="../../tag/usb?do=showtag&amp;tag=USB" class="wikilink1" title="tag:usb" rel="tag">USB</a>,
	<a href="../../tag/1usb?do=showtag&amp;tag=1USB" class="wikilink1" title="tag:1usb" rel="tag">1USB</a>,
	<a href="../../tag/jtag?do=showtag&amp;tag=JTAG" class="wikilink1" title="tag:jtag" rel="tag">JTAG</a>,
	<a href="../../tag/802.11abgn?do=showtag&amp;tag=802.11abgn" class="wikilink1" title="tag:802.11abgn" rel="tag">802.11abgn</a>,
	<a href="../../tag/802.11abgn_simultan?do=showtag&amp;tag=802.11abgn_simultan" class="wikilink1" title="tag:802.11abgn_simultan" rel="tag">802.11abgn simultan</a>,
	<a href="../../tag/ath9k?do=showtag&amp;tag=ath9k" class="wikilink1" title="tag:ath9k" rel="tag">ath9k</a>,
	<a href="../../tag/4ant?do=showtag&amp;tag=4Ant" class="wikilink1" title="tag:4ant" rel="tag">4Ant</a>,
	<a href="../../tag/detachableantenna" class="wikilink1" title="tag:detachableantenna" rel="tag">DetachableAntenna</a>,
	<a href="../../tag/64ram?do=showtag&amp;tag=64RAM" class="wikilink1" title="tag:64ram" rel="tag">64RAM</a>,
	<a href="../../tag/16flash?do=showtag&amp;tag=16Flash" class="wikilink1" title="tag:16flash" rel="tag">16Flash</a>,
	<a href="../../tag/mips?do=showtag&amp;tag=MIPS" class="wikilink1" title="tag:mips" rel="tag">MIPS</a>,
	<a href="../../tag/mips32?do=showtag&amp;tag=MIPS32" class="wikilink1" title="tag:mips32" rel="tag">MIPS32</a>,
	<a href="../../tag/24kc?do=showtag&amp;tag=24Kc" class="wikilink1" title="tag:24kc" rel="tag">24Kc</a>
</span></div>

</div>
<div class="footnotes">
<div class="fn"><sup><a href="wndr37av#fnt__1" id="fn__1" class="fn_bot">1)</a></sup> 
<a href="http://www.mips.com/secure-download/index.dot?product_name=/auth/MD00346%2D2B%2D24K%2DDTS%2D04.00.pdf" class="urlextern" title="http://www.mips.com/secure-download/index.dot?product_name=/auth/MD00346%2D2B%2D24K%2DDTS%2D04.00.pdf"  rel="nofollow">Datasheet specific to the 24Kc CPU core (free registration required)</a></div>
</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/netgear/wndr3700.txt</bdi> · Last modified: 2015/05/09 23:37 by <bdi>Bernini</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="wndr3700?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="wndr3700?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="wndr3700?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="wndr37av#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="http://wiki.openwrt.org/lib/exe/indexer.php?id=toh%3Anetgear%3Awndr3700&amp;1432278946" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
