<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>Netgear WGT634U [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="toh,netgear,wgt634u"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="wgt634u?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:netgear"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/netgear/wgt634u"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/netgear/wgt634u"/>
<link rel="canonical" href="wgt634u"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:netgear';var JSINFO = {"id":"toh:netgear:wgt634u","namespace":"toh:netgear"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432266241 166.182.3.99';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="wgt634u#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="wgt634u?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="wgt634u?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:netgear:wgt634u" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="wgt634u?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="wgt634u?do=media&amp;ns=toh%253Anetgear"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="wgt634u?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:netgear:start">Netgear</a></bdi> » <bdi><span class="curid"><a href="wgt634u" class="wikilink1" title="toh:netgear:wgt634u">Netgear WGT634U</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/netgear/wgt634u" class="media" title="cz:toh:netgear:wgt634u"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/netgear/wgt634u" class="media" title="de:toh:netgear:wgt634u"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="wgt634u" class="media" title="toh:netgear:wgt634u"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/netgear/wgt634u" class="media" title="es:toh:netgear:wgt634u"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/netgear/wgt634u" class="media" title="fr:toh:netgear:wgt634u"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/netgear/wgt634u" class="media" title="hu:toh:netgear:wgt634u"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/netgear/wgt634u" class="media" title="jp:toh:netgear:wgt634u"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/netgear/wgt634u" class="media" title="pl:toh:netgear:wgt634u"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/netgear/wgt634u" class="media" title="pt-br:toh:netgear:wgt634u"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/netgear/wgt634u" class="media" title="ru:toh:netgear:wgt634u"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/netgear/wgt634u" class="media" title="tr:toh:netgear:wgt634u"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/netgear/wgt634u" class="media" title="zh-cn:toh:netgear:wgt634u"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/netgear/wgt634u" class="media" title="zh-tw:toh:netgear:wgt634u"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:netgear:wgt634u</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="wgt634u#supported_versions">Supported Versions</a></div></li>
<li class="level1"><div class="li"><a href="wgt634u#hardware_highlights">Hardware Highlights</a></div></li>
<li class="level1"><div class="li"><a href="wgt634u#installation">Installation</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="wgt634u#oem_easy_installation">OEM easy installation</a></div></li>
<li class="level2"><div class="li"><a href="wgt634u#tftp_from_cfe_and_serial_console">TFTP from CFE and serial console</a></div></li>
<li class="level2"><div class="li"><a href="wgt634u#upgrading_openwrt">Upgrading OpenWrt</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="wgt634u#luci_web_upgrade_process">LuCI Web Upgrade Process</a></div></li>
<li class="level3"><div class="li"><a href="wgt634u#terminal_upgrade_process">Terminal Upgrade Process</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="wgt634u#hardware">Hardware</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="wgt634u#info">Info</a></div></li>
<li class="level2"><div class="li"><a href="wgt634u#photos">Photos</a></div></li>
<li class="level2"><div class="li"><a href="wgt634u#opening_the_case">Opening the case</a></div></li>
<li class="level2"><div class="li"><a href="wgt634u#serial">Serial</a></div></li>
<li class="level2"><div class="li"><a href="wgt634u#jtag">JTAG</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="wgt634u#specific_configuration">Specific Configuration</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="wgt634u#interfaces">Interfaces</a></div></li>
<li class="level2"><div class="li"><a href="wgt634u#switch_ports_for_vlans">Switch Ports (for VLANs)</a></div></li>
<li class="level2"><div class="li"><a href="wgt634u#failsafe_mode">Failsafe mode</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="wgt634u#basic_configuration">Basic configuration</a></div></li>
<li class="level1"><div class="li"><a href="wgt634u#hardware_mods">Hardware mods</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="wgt634u#replacing_the_radio">Replacing the radio</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="wgt634u#other_notes">Other notes</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="wgt634u#host_usb_port_uses">Host USB port uses</a></div></li>
<li class="level2"><div class="li"><a href="wgt634u#avoid_8091">Avoid 8.09.1!</a></div></li>
<li class="level2"><div class="li"><a href="wgt634u#recovering_from_board_information_overwrites">Recovering from Board Information Overwrites</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="netgear_wgt634u">Netgear WGT634U</h1>
<div class="level1">

<p>
A router that was end-of-lifed by Netgear on October 1, 2005, it remains a useful and versatile device.  It includes the typical 4+1 ethernet ports, plus a USB host port (you might have to install package kmod-usb2 to get certain USB hardware working) and a mini-PCI slot holding an Atheros b/g radio (though it might happen that the necessary wifi kernel modules are not included in the firmware-image, which means you have to install either the package kmod-madwifi or (the more recent) kmod-ath5k, while it&#039;s safe to remove the unneeded packages kmod-b43 and kmod-b43legacy; cf. <a href="https://dev.openwrt.org/ticket/8722" class="urlextern" title="https://dev.openwrt.org/ticket/8722"  rel="nofollow">https://dev.openwrt.org/ticket/8722</a> ).  It was designed with the idea that you could host data on an attached USB drive and access it from your wireless devices.  However, apparently consumers didn&#039;t want to do that in sufficient numbers to support a price premium.
</p>

<p>
Note: A lot of good information is on the OldWiki page:  <a href="http://wiki.openwrt.org/oldwiki/OpenWrtDocs/Hardware/Netgear/WGT634U" class="urlextern" title="http://wiki.openwrt.org/oldwiki/OpenWrtDocs/Hardware/Netgear/WGT634U"  rel="nofollow">http://wiki.openwrt.org/oldwiki/OpenWrtDocs/Hardware/Netgear/WGT634U</a>
</p>

<p>
<img src="../../lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /> Untested: Trunk introduced a legacy target ( <a href="https://dev.openwrt.org/changeset/41041" class="urlextern" title="https://dev.openwrt.org/changeset/41041"  rel="nofollow">https://dev.openwrt.org/changeset/41041</a> ) for old brcm47xx units like this one.
</p>

</div>

<h2 class="sectionedit2" id="supported_versions">Supported Versions</h2>
<div class="level2">

<p>
There are two versions of the WGT634U, but they are not labelled in a distinguishing manner.  The first version is very rare and appears to represent the first production run, almost all extant versions are the latter.  The difference between the two is principally in that the first lacks a heatsink on the CPU and populates both serial ports and the JTAG interface with headers.  The early version also populates some resistors for the JTAG.  Later models, presumably, can enable JTAG by installing the 0603 SMD resistors, though this has not been known to be tested yet.
</p>

</div>

<h2 class="sectionedit3" id="hardware_highlights">Hardware Highlights</h2>
<div class="level2">
<div class="table sectionedit4"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> CPU </th><th class="col1"> Ram </th><th class="col2"> Flash </th><th class="col3"> Network </th><th class="col4"> USB </th><th class="col5"> Serial </th><th class="col6"> JTag </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Broadcom BCM3302@200MHz </td><td class="col1"> 32MiB </td><td class="col2"> 8MiB </td><td class="col3"> 4 x 1</td><td class="col4"> Yes </td><td class="col5"> Yes </td><td class="col6"> Yes* </td>
	</tr>
</table></div>

<p>
Also notable are the mini-PCI slot and Atheros b/g radio.
</p>

<p>
The JTAG is not confirmed to work, but differences between the early versions and later ones show missing resistors on what looks almost certainly to be a JTAG interface.
</p>

</div>

<h2 class="sectionedit5" id="installation">Installation</h2>
<div class="level2">

<p>
There are numerous ways to install OpenWrt on the WGT634U.  Unlike many other devices, the WGT634U does not automatically try to fetch an image via TFTP or automatically accept one that is sent.  TFTP can only be initiated from a serial console.  Images can also be flashed from a running system, either the stock firmware or using the mtd utility from a previous version of OpenWrt.
</p>

</div>

<h3 class="sectionedit6" id="oem_easy_installation">OEM easy installation</h3>
<div class="level3">

<p>
<img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" />!
</p>

</div>

<h3 class="sectionedit7" id="tftp_from_cfe_and_serial_console">TFTP from CFE and serial console</h3>
<div class="level3">

<p>
Unless you manage to overwrite the CFE bootloader, you can flash any image using this method from any state, even semi-bricked, non-booting ones:
</p>

<p>
 * Setup a TFTP server on the local network, place a .bin image in the TFTP server space.
</p>
<ul>
<li class="level1"><div class="li"> Note, if your image is larger than 4194304 bytes, you will need to flash it in two steps.  This appears to be a limitation of CFE.  You will need to cut the image into parts using /bin/dd or a similar tool.</div>
</li>
</ul>

<p>
 * Attach a serial console (115200 baud, N-8-1, no flow control)
</p>

<p>
 * Attach a network cable to the WAN port.
</p>

<p>
 * While holding down Ctrl-C in the serial console, apply power to the WGT634U and the boot should abort at the CFE&gt; prompt
</p>

<p>
 * Configure the network interface:
<pre class="code">CFE&gt; ifconfig eth0 -auto</pre>

</p>

<p>
 * Flash the binary file (the first part if there are two):
<pre class="code">CFE&gt; flash -noheader &lt;ipaddr-of-TFTP-server&gt;:&lt;path-to-your-image&gt;.bin flash0.os</pre>

</p>

<p>
 * If there is a second part:
<pre class="code">CFE&gt; flash -noheader -offset=&lt;size-of-part1-in-bytes&gt; &lt;ipaddr-of-TFTP-server&gt;:&lt;path-to-part2&gt;.bin flash0.os</pre>

</p>

<p>
 * Reboot:
<pre class="code">CFE&gt; reboot</pre>

</p>

</div>

<h3 class="sectionedit8" id="upgrading_openwrt">Upgrading OpenWrt</h3>
<div class="level3">

</div>

<h4 id="luci_web_upgrade_process">LuCI Web Upgrade Process</h4>
<div class="level4">

<p>
<img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" />!
</p>

</div>

<h4 id="terminal_upgrade_process">Terminal Upgrade Process</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> Login as root via SSH</div>
</li>
<li class="level1"><div class="li"> Use the following commands to upgrade:</div>
</li>
</ul>

<p>
<pre class="code">cd /tmp/
wget http://&lt;hostname&gt;/openwrt-brcm47xx-squashfs.trx
mtd -r write /tmp/openwrt-brcm47xx-squashfs.trx linux</pre>

</p>

</div>

<h2 class="sectionedit9" id="hardware">Hardware</h2>
<div class="level2">

</div>

<h3 class="sectionedit10" id="info">Info</h3>
<div class="level3">
<div class="table sectionedit11"><table class="inline">
	<tr class="row0">
		<td class="col0"> <strong>Architecture:</strong> MIPS </td>
	</tr>
	<tr class="row1">
		<td class="col0"> <strong>Vendor:</strong> Broadcom </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <strong>Bootloader:</strong> CFE </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <strong>System-On-Chip:</strong> Broadcom BCM3302 V0.7 (from /proc/cpuinfo) </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <strong>CPU Speed:</strong> 200 Mhz </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <strong>Flash-Chip:</strong> <a href="http://download.intel.com/design/flcomp/datashts/29066721.pdf" class="urlextern" title="http://download.intel.com/design/flcomp/datashts/29066721.pdf"  rel="nofollow">Intel te28f640</a> </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <strong>Flash size:</strong> 8 MiB </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <strong>RAM:</strong> 32 MiB </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <strong>Wireless:</strong> Atheros b/g with soldered antenna pigtail </td>
	</tr>
	<tr class="row9">
		<td class="col0"> <strong>Ethernet:</strong> Switch in CPU </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <strong>USB:</strong> Yes </td>
	</tr>
	<tr class="row11">
		<td class="col0"> <strong>Serial:</strong> <a href="wgt634u#serial" title="toh:netgear:wgt634u ↵" class="wikilink1">Yes</a> </td>
	</tr>
	<tr class="row12">
		<td class="col0"> <strong>JTAG:</strong> <a href="wgt634u#jtag" title="toh:netgear:wgt634u ↵" class="wikilink1">Yes</a> </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit12" id="photos">Photos</h3>
<div class="level3">

<p>
Model Number
</p>

<p>
<em>Front:</em>
</p>

<p>
<strong>Photo of front</strong>
</p>

<p>
<em>Back:</em>
</p>

<p>
<strong>Photo of back</strong>
</p>

</div>

<h3 class="sectionedit13" id="opening_the_case">Opening the case</h3>
<div class="level3">

<p>
There are four screws on the bottom.  They are either phillips head or T-8 Torx.  Refurbs tend to have phillips, the originals from Netgear tend to have torx.  In the absence of a T-8, a small flathead screwdriver can be used in a pinch.  I recommend a Torx if you are going to be opening it more than once.
</p>

<p>
<em>Main PCB</em>
</p>

<p>
<strong>Photo of PCB</strong>
</p>

</div>

<h3 class="sectionedit14" id="serial">Serial</h3>
<div class="level3">

<p>
The serial console is available on J7.  Numbered from the ethernet port side of the board, they are:
</p>
<ol>
<li class="level1"><div class="li"> VCC (3.3V)</div>
</li>
<li class="level1"><div class="li"> TX</div>
</li>
<li class="level1"><div class="li"> RX</div>
</li>
<li class="level1"><div class="li"> GROUND</div>
</li>
</ol>

<p>
The serial port is the typical 3.3V TTL serial commonly found on router and router-like devices, NOT a PC-style RS-232 serial, with it&#039;s different signaling voltages.  It&#039;s 115200 8-N-1 without hardware or software control.
</p>

</div>

<h3 class="sectionedit15" id="jtag">JTAG</h3>
<div class="level3">

<p>
There is a JTAG looking port (2 x 7 holes) on the board.  Except for the very early versions of the board, however, needed surface mount resistors are missing.  On the bottom of the board, early versions are populated with 0603 SMD resistors:
</p>
<ul>
<li class="level1"><div class="li"> R66 = 10k ohms</div>
</li>
<li class="level1"><div class="li"> R65 = 33 ohms</div>
</li>
<li class="level1"><div class="li"> R67 = 10k ohms</div>
</li>
<li class="level1"><div class="li"> R68 = 10k ohms</div>
</li>
<li class="level1"><div class="li"> R73 = 0 ohms (shunt)</div>
</li>
</ul>

<p>
The pinout is *probably* standard 14-pin, but check and report back.  For more information on reflashing the device, see these <a href="http://downloads.openwrt.org/tools/oem/jtag/tools.zip" class="urlextern" title="http://downloads.openwrt.org/tools/oem/jtag/tools.zip"  rel="nofollow">JTAG tools</a>
</p>

<p>
See <a href="../../doc/hardware/port.jtag" class="wikilink1" title="doc:hardware:port.jtag">port.jtag</a> for more JTAG details.
</p>

</div>

<h2 class="sectionedit16" id="specific_configuration">Specific Configuration</h2>
<div class="level2">

</div>

<h3 class="sectionedit17" id="interfaces">Interfaces</h3>
<div class="level3">

<p>
The default network configuration is:
</p>
<div class="table sectionedit18"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Interface Name </th><th class="col1"> Description </th><th class="col2"> Default configuration </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> br-lan </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> &amp; WiFi </td><td class="col2"> 192.168.1.1/24 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> vlan0 (eth0.0) </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> ports (1 to 4) </td><td class="col2"> None </td>
	</tr>
	<tr class="row3">
		<td class="col0"> vlan1 (eth0.1) </td><td class="col1"> WAN port </td><td class="col2"> DHCP </td>
	</tr>
	<tr class="row4">
		<td class="col0"> ath0 </td><td class="col1"> WiFi </td><td class="col2"> Disabled </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit19" id="switch_ports_for_vlans">Switch Ports (for VLANs)</h3>
<div class="level3">

<p>
<img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" />!
</p>

<p>
NOTE:  By default, the physical WAN port lands on the <abbr title="Local Area Network">LAN</abbr> and the last physical <abbr title="Local Area Network">LAN</abbr> port (identified as #4 on the device) is the WAN port.
</p>

</div>

<h3 class="sectionedit20" id="failsafe_mode">Failsafe mode</h3>
<div class="level3">

<p>
Failsafe mode does not work on the WGT634U.  If you discover different, report back here.
</p>

</div>

<h2 class="sectionedit21" id="basic_configuration">Basic configuration</h2>
<div class="level2">

<p>
Link to <a href="../../doc/howto/configuration" class="wikilink1" title="doc:howto:basic.config">Generic basic config secion</a>
</p>

</div>

<h2 class="sectionedit22" id="hardware_mods">Hardware mods</h2>
<div class="level2">

</div>

<h3 class="sectionedit23" id="replacing_the_radio">Replacing the radio</h3>
<div class="level3">

<p>
Because the radio comes in a mini-PCI slot, it is possible to replace it with a different radio.  The principal obstacle to this is that the stock antenna is soldered on, and the coax pigtail must be cut or desoldered to remove it.  With minor case modifications, it is possible to replace the radio with a Wistron CM-9 or similar and a u.fl to RP-SMA pigtail using the original antenna hole.  The stock radio has a cut-out to accomodate a plastic internal screw peg, so a little delicate dremel work is needed to make room for the CM-9.
</p>

<p>
The mini-PCI slot is reported to have limited power, making the use of higher powered radios like the Ubiquiti SR2 problematic.
</p>

</div>

<h2 class="sectionedit24" id="other_notes">Other notes</h2>
<div class="level2">

</div>

<h3 class="sectionedit25" id="host_usb_port_uses">Host USB port uses</h3>
<div class="level3">

<p>
The USB host port was unique at the time the WGT634U was introduced.  Diverse device driver availability allow the USB port to connect any number of various hardware.  For example, by connecting a 4-port hub, a WGT634U with a connected USB GPS, USB Storage and USB sound was used as a kismet wireless stumbling device, playing MP3 audio clips for feedback.  
</p>

<p>
Note however, that although the USB port is advertised as USB2 and indeed it is detected as such, it is limited to 12Mbps data rates.
</p>

<p>
Another use employed a zd1211 usb radio as a way of implementing a two-radio repeater.  Separating the two radios with a USB extension (up to 5 meters) is probably wise.
</p>

</div>

<h3 class="sectionedit26" id="avoid_8091">Avoid 8.09.1!</h3>
<div class="level3">

<p>
See the following section for an explanation what happens if you flash 8.09.1 on these devices and how to recover if you do.
</p>

</div>

<h3 class="sectionedit27" id="recovering_from_board_information_overwrites">Recovering from Board Information Overwrites</h3>
<div class="level3">

<p>
Despite the amazing functionality of these devices, they do not get as much love and attention from OpenWrt developers as they once did.  At various stages of history, the board detection logic has become messed up, and distributed versions of the OpenWrt image (see in particular 8.09.1, and Kamikaze Trunk mid-July 2010 to the end of 2010) have overwritten crucial parts of the board configuration information on flash, which renders the device unbootable thereafter.  Recovery is not terribly difficult however, with a serial console.  Attach the console, boot up to a CFE prompt, and type the following commands:
</p>

<p>
<pre class="code">CFE&gt; setenv -p STARTUP &quot;ifconfig eth0 -addr=192.168.1.1 -mask=255.255.255.0; boot -elf flash0.os:&quot;
CFE&gt; setenv -p kernel_args &quot;console=ttyS1,115200 root=/dev/ram0 init=/linuxrc rw syst_size=8M&quot;
CFE&gt; setenv -p et0phyaddr 254
CFE&gt; setenv -p et0mdcport 0
CFE&gt; setenv -p configvlan 0x1
CFE&gt; setenv -p et0macaddr 00-0f-b5-3d-58-b6
CFE&gt; setenv -p et1macaddr 00-0f-b5-3d-58-b7
CFE&gt; reboot</pre>

</p>

<p>
(substituting your own macaddrs, which are printed on the case.)
</p>
<hr />
<ul>
<li class="level1"><div class="li"> <a href="http://wiki.openwrt.org/toh/categorymodel" class="wikilink2" title="toh:categorymodel" rel="nofollow">CategoryModel</a> <a href="http://wiki.openwrt.org/toh/categorynicfe4x1" class="wikilink2" title="toh:categorynicfe4x1" rel="nofollow">100MB Network with 4x1 ports</a> </div>
</li>
</ul>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/netgear/wgt634u.txt</bdi> · Last modified: 2014/06/14 14:18 by <bdi>theoradicus</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="wgt634u?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="wgt634u?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="wgt634u?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="wgt634u#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Anetgear%253Awgt634u&amp;1432266241" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
