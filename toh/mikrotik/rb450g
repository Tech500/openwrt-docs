<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>Mikrotik RouterBoard RB450G [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="gigabitethernet,256ram,devboard"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="rb450g?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:mikrotik"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/mikrotik/rb450g"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/mikrotik/rb450g"/>
<link rel="canonical" href="rb450g"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:mikrotik';var JSINFO = {"id":"toh:mikrotik:rb450g","namespace":"toh:mikrotik"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432266283 166.182.3.99';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="rb450g#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="rb450g?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="rb450g?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:mikrotik:rb450g" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="rb450g?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="rb450g?do=media&amp;ns=toh%253Amikrotik"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="rb450g?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:mikrotik:start">Mikrotik</a></bdi> » <bdi><span class="curid"><a href="rb450g" class="wikilink1" title="toh:mikrotik:rb450g">Mikrotik RouterBoard RB450G</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/mikrotik/rb450g" class="media" title="cz:toh:mikrotik:rb450g"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/mikrotik/rb450g" class="media" title="de:toh:mikrotik:rb450g"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="rb450g" class="media" title="toh:mikrotik:rb450g"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/mikrotik/rb450g" class="media" title="es:toh:mikrotik:rb450g"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/mikrotik/rb450g" class="media" title="fr:toh:mikrotik:rb450g"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/mikrotik/rb450g" class="media" title="hu:toh:mikrotik:rb450g"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/mikrotik/rb450g" class="media" title="jp:toh:mikrotik:rb450g"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/mikrotik/rb450g" class="media" title="pl:toh:mikrotik:rb450g"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/mikrotik/rb450g" class="media" title="pt-br:toh:mikrotik:rb450g"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/mikrotik/rb450g" class="media" title="ru:toh:mikrotik:rb450g"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/mikrotik/rb450g" class="media" title="tr:toh:mikrotik:rb450g"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/mikrotik/rb450g" class="media" title="zh-cn:toh:mikrotik:rb450g"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/mikrotik/rb450g" class="media" title="zh-tw:toh:mikrotik:rb450g"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:mikrotik:rb450g</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="rb450g#installing_a_new_firmware_image">Installing a New Firmware Image</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="rb450g#create_a_netboot_image_for_the_rb450g">Create a netboot image for the RB450G</a></div></li>
<li class="level2"><div class="li"><a href="rb450g#boot_the_rb450g_from_the_network">Boot the RB450G from the network</a></div></li>
<li class="level2"><div class="li"><a href="rb450g#install_the_openwrt_distribution">Install the OpenWRT distribution</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="rb450g#info">Info</a></div></li>
<li class="level1"><div class="li"><a href="rb450g#photos">Photos</a></div></li>
<li class="level1"><div class="li"><a href="rb450g#serial">Serial</a></div></li>
<li class="level1"><div class="li"><a href="rb450g#jtag">JTAG</a></div></li>
<li class="level1"><div class="li"><a href="rb450g#microsd_card_slot">MicroSD Card Slot</a></div></li>
<li class="level1"><div class="li"><a href="rb450g#switch_ports_for_vlans">Switch Ports (for VLANs)</a></div></li>
<li class="level1"><div class="li"><a href="rb450g#buttons_and_jumpers">Buttons and Jumpers</a></div></li>
<li class="level1"><div class="li"><a href="rb450g#tags">Tags</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="mikrotik_routerboard_rb450g">Mikrotik RouterBoard RB450G</h1>
<div class="level1">

<p>
The good news: Attitude Adjustment 12.09 works very well on the RB-450G.  The device is built with good hardware, almost all of which is fully supported.  The switch chipset (Atheros AR8316) however does not provide support for mixing tagged and untagged VLAN&#039;s on the same port. With a fast processor, gigabit ethernet, and relatively huge amounts of RAM and flash, this is a very capable device once OpenWRT is installed.
</p>

<p>
The bad news: getting OpenWRT installed in the first place is not straightforward.
</p>

</div>

<h2 class="sectionedit2" id="installing_a_new_firmware_image">Installing a New Firmware Image</h2>
<div class="level2">

<p>
OpenWRT doesn&#039;t provide a firmware image that can be written directly to the flash memory via the firmware update system in Mikrotik&#039;s RouterOS.  So installing OpenWRT is a two step process that requires two separate kernel images.
</p>

<p>
You&#039;re going to need a computer that can build OpenWRT from source.  You&#039;re also going to need a desktop computer that has a working serial port and an ethernet interface.  This computer will also need to have:
</p>
<ul>
<li class="level1"><div class="li"> some kind of serial terminal software</div>
</li>
<li class="level1"><div class="li"> a DHCP server; this documentation will use <code>dnsmasq</code></div>
</li>
<li class="level1"><div class="li"> a TFTP server; also <code>dnsmasq</code></div>
</li>
</ul>

<p>
The following instructions illustrate installing Attitude Adjustment 12.09, but should be easily adaptable to other versions.
</p>

</div>

<h3 class="sectionedit3" id="create_a_netboot_image_for_the_rb450g">Create a netboot image for the RB450G</h3>
<div class="level3">
<ol>
<li class="level1"><div class="li"> <a href="../../doc/howto/buildroot.exigence" class="wikilink1" title="doc:howto:buildroot.exigence">Get the OpenWRT source code</a></div>
</li>
<li class="level1"><div class="li"> You could configure the system entirely by hand, but it&#039;s easier to just start with an <a href="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/nand/config.ar71xx_nand" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/nand/config.ar71xx_nand"  rel="nofollow">existing configuration</a> that works for the RB450G.</div>
<ul>
<li class="level2"><div class="li"> <a href="http://www.pitt-pladdy.com/blog/_20101117-184005_0000_OpenWrt_on_RB450G_for_AAISP_FTTC/rb450g-netboot.config" class="urlextern" title="http://www.pitt-pladdy.com/blog/_20101117-184005_0000_OpenWrt_on_RB450G_for_AAISP_FTTC/rb450g-netboot.config"  rel="nofollow">here</a> is a smaller configuration made for Backfire (r24027).  It will not take as long to compile as the default OpenWRT configuration, and works fine for Attitude Adjustment 12.09-rc1. </div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Configure the system to use a ramdisk:<pre class="code">Target Images  ---&gt;
    [*] ramdisk</pre>
</div>
</li>
<li class="level1"><div class="li"> <a href="../../doc/howto/obtain.firmware.compile" class="wikilink1" title="doc:howto:build">Build OpenWRT from source</a></div>
</li>
<li class="level1"><div class="li"> The build will create the file <code>bin/ar71xx/openwrt-ar71xx-nand-vmlinux-initramfs-lzma.elf</code>.  This is the kernel+ramdisk that the RB450G will use to boot.</div>
</li>
</ol>

<p>
TODO: is it possible to directly combine a kernel and the rootfs provided by OpenWRT?  This would get around needing to build an image from source.
</p>

</div>

<h3 class="sectionedit4" id="boot_the_rb450g_from_the_network">Boot the RB450G from the network</h3>
<div class="level3">
<ol>
<li class="level1"><div class="li"> Connect the ethernet adapter of your desktop computer to Eth1 of the RB450G using either a straight or crossover cable.  The RB450G will figure out the crossover on its own.</div>
</li>
<li class="level1"><div class="li"> Manually assign an IPv4 address (anything other than 192.168.1.1, or anything in the range of IPs used in your local <abbr title="Local Area Network">LAN</abbr>) to the ethernet adapter on your desktop computer.  Here I&#039;ll use <code>10.2.3.4</code>.</div>
</li>
<li class="level1"><div class="li"> Set up <code>dnsmasq</code> on the desktop computer.</div>
<ol>
<li class="level2"><div class="li"> The RB450G&#039;s bootloader apparently ignores all DHCP options, such as <code>tftp-server</code> or <code>bootp-filename</code>, normally used to instruct a netboot device how to find its image.  So you need to set up <code>dnsmasq</code> with specific options to work around this quirk.</div>
</li>
<li class="level2"><div class="li"> Copy the file <code>openwrt-ar71xx-nand-vmlinux-initramfs-lzma.elf</code> from your OpenWRT build tree to a clean directory like <code>~/tftproot/</code>.  Rename the file to <code>vmlinux</code>.</div>
</li>
<li class="level2"><div class="li"> Run <code>sudo dnsmasq -a 10.2.3.4 -z -d -p 0 -F 10.2.3.5,10.2.3.6 –enable-tftp –tftp-root=~/tftproot/ –dhcp-boot=~/tftproot/vmlinux</code>.</div>
</li>
<li class="level2"><div class="li"> <code>dnsmasq</code> should start in the foreground writing all its output to the terminal; you&#039;re only going to run it temporarily, and having the debugging information may come in handy.</div>
</li>
</ol>
</li>
</ol>
<ol>
<li class="level1"><div class="li"> Connect the serial port of your desktop computer to the serial port of your RB450G using a <a href="http://en.wikipedia.org/wiki/null modem cable" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/null modem cable">null modem cable</a>.  Start your terminal server program.  The RB450G serial interface uses 8N1 with hardware flow control at 115200 bps.</div>
</li>
</ol>

<p>
TIP: Try setting hardware flow control to off if you can&#039;t get to the bootloader menu (i.e. it always times out without detecting a key press). If using minicom, try <code>minicom -o –color=on –device=/dev/ttyS#</code>, then once minicom opens, type <code>CONTROL A Z</code> and find your way to disable hardware flow control. Or try <code>screen /dev/ttyS# 115200</code> To figure out which ttyS device you should use, the command <code>dmesg | grep ttyS</code> can be helpful.
</p>
<ol>
<li class="level1"><div class="li"> Power up the RB450G.  Immediately hit any key to go to the bootloader menu:<pre class="code">What do you want to configure?
  d - boot delay
  k - boot key
  s - serial console
  o - boot device
  u - cpu mode
  f - cpu frequency
  r - reset booter configuration
  e - format nand
  g - upgrade firmware
  i - board info
  p - boot protocol
  t - do memory testing
  x - exit setup</pre>
</div>
</li>
<li class="level1"><div class="li"> Select <code>o - boot device</code> and then select <code>1</code> to boot once from the network, and then boot from the nand after that.  Hit <code>x</code> to exit setup.</div>
</li>
<li class="level1"><div class="li"> The RB450G will reboot.  Let the bootloader menu time out, and it should get an address via DHCP and then load the netboot image from your desktop computer.  After a minute or so, you should be able to hit &lt;enter&gt; and get to the OpenWRT prompt.</div>
</li>
</ol>

</div>

<h3 class="sectionedit5" id="install_the_openwrt_distribution">Install the OpenWRT distribution</h3>
<div class="level3">
<ol>
<li class="level1"><div class="li"> Don&#039;t bother configuring anything while in netboot.  Any changes you make won&#039;t be written back to the original image, so they&#039;ll all be lost when you reboot anyway.</div>
</li>
<li class="level1"><div class="li"> You can disconnect the ethernet connection between your RB450G and your desktop system.  <strong>Do not disconnect the serial connection.</strong></div>
</li>
<li class="level1"><div class="li"> Wipe out any network self-configuration that the RB450 has done: <code>ifconfig eth0 down</code> and <code>ifconfig br-lan down</code>.  While not absolutely necessary, I suggest doing this so that anything that the RB450G has done on its own doesn&#039;t conflict with your existing <abbr title="Local Area Network">LAN</abbr> setup.</div>
</li>
<li class="level1"><div class="li"> Now you&#039;ll need to establish a connection between the RB450G and the internet so that it can download the OpenWRT packages it needs for installation.  Since personal LANs vary so much, I will leave this as an exercise to the reader.</div>
</li>
</ol>
<ul>
<li class="level1"><div class="li"> Use Eth0/PoE port to connect the RB450G to your local <abbr title="Local Area Network">LAN</abbr> because the netboot image will only have this port with a dynamic DHCP config. All other ports are static to 192.168.1.1, so they will require further configuration changes which are pointless at this stage given that anything you do to your system now will not be persisted;</div>
</li>
<li class="level2"><div class="li"> You may need to change the dns nameserver by editing the file <code>/etc/resolv.conf</code> (<code>vi /etc/resolv.conf</code>). Replace 127.0.0.1 with 8.8.8.8 or any other public dns server. For vi beginners: once the file is open type <code>*i</code> to enter editing mode and when done type <code>ESC</code> and then <code>:wq</code>;</div>
</li>
<li class="level2"><div class="li"> Issue the command <code>/etc/init.d/network restart</code> so all configuration changes are reloaded and applied;</div>
</li>
<li class="level2"><div class="li"> Try <code>ping bing.com</code> and see if it works;</div>
</li>
<li class="level2"><div class="li"> If networking is not okay, try editing <code>/etc/config/network</code> to your needs and remember to <code>/etc/init.d/network restart</code> after you make any changes;</div>
</li>
</ul>
<ol>
<li class="level1"><div class="li"> Once the internet connection is established, use the <code>wget2nand</code> script to install OpenWRT into the flash of the RB450G: <code>wget2nand <a href="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/nand/" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/nand/"  rel="nofollow">http://downloads.openwrt.org/attitude_adjustment/12.09/ar71xx/nand/</a></code>.</div>
</li>
<li class="level3"><div class="li"> Once <code>wget2nand</code> finishes, you can reboot the router.  This time, the router should boot from flash and give you a working OpenWRT installation that you can configure as you like.</div>
</li>
</ol>

</div>

<h1 class="sectionedit6" id="hardware">Hardware</h1>
<div class="level1">
<div class="table sectionedit7"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> CPU </th><th class="col1"> Ram </th><th class="col2"> Flash </th><th class="col3"> Network </th><th class="col4"> Gigabit </th><th class="col5"> USB </th><th class="col6"> Serial </th><th class="col7"> JTag </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Atheros</td><td class="col1"> 256MB </td><td class="col2"> 512MB </td><td class="col3"> 5x1 </td><td class="col4"> Yes </td><td class="col5"> No </td><td class="col6"> Yes </td><td class="col7"> <del>Yes</del> </td>
	</tr>
</table></div>

<p>
<a href="http://routerboard.com/RB450G" class="urlextern" title="http://routerboard.com/RB450G"  rel="nofollow">Official Specification for Microtik RouterBoard 450G </a>
</p>

</div>

<h2 class="sectionedit8" id="info">Info</h2>
<div class="level2">
<div class="table sectionedit9"><table class="inline">
	<tr class="row0">
		<td class="col0"> <strong>Architecture:</strong> MIPS </td>
	</tr>
	<tr class="row1">
		<td class="col0"> <strong>Vendor:</strong> Atheros </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <strong>Bootloader:</strong> RouterBoot </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <strong>System-On-Chip:</strong> Atheros (AR7161) MIPS 24K </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <strong>CPU Speed:</strong> 680Mhz (Max 800Mhz) </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <strong>Flash-Chip:</strong> Hynix NAND 512MiB 3,3V 8-bit (HY27UF082G2A, HY27UT084G2A) or Samsung 4Gibit (K9F4G08U0B-PIB0) </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <strong>Flash size:</strong> 512 MiB </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <strong>RAM:</strong> 256 MiB DDR </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <strong>Boot Flash:</strong> PMC Pm25LV512 512Kbit 3.0V </td>
	</tr>
	<tr class="row9">
		<td class="col0"> <strong>Wireless:</strong> No extension ports </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <strong>Switch:</strong> Atheros AR8316 </td>
	</tr>
	<tr class="row11">
		<td class="col0"> <strong>CPLD:</strong> Xilinx XC9536XL </td>
	</tr>
	<tr class="row12">
		<td class="col0"> <strong>Ethernet ports:</strong> 1+4 Gbit </td>
	</tr>
	<tr class="row13">
		<td class="col0"> <strong>Storage:</strong> MicroSD </td>
	</tr>
	<tr class="row14">
		<td class="col0"> <strong>USB:</strong> No </td>
	</tr>
	<tr class="row15">
		<td class="col0"> <strong>Extras:</strong> Beeper </td>
	</tr>
	<tr class="row16">
		<td class="col0"> <strong>Serial:</strong> <a href="http://wiki.openwrt.org/inbox#serial" class="wikilink2" title="inbox" rel="nofollow">Yes</a> (Standard RS232) </td>
	</tr>
	<tr class="row17">
		<td class="col0"> <strong>JTAG:</strong> <a href="http://wiki.openwrt.org/inbox#jtag" class="wikilink2" title="inbox" rel="nofollow">Yes</a> (But no pins) </td>
	</tr>
</table></div>
<ul>
<li class="level1"><div class="li"> Some information about Atheros AR8316 network Switch capabilities is available on the <a href="http://wiki.mikrotik.com/wiki/Switch_Chip_Features" class="urlextern" title="http://wiki.mikrotik.com/wiki/Switch_Chip_Features"  rel="nofollow">MikroTik Wiki</a></div>
</li>
<li class="level1"><div class="li"> CPU can be overclocked to 800Mhz from firmware (bootloader)</div>
</li>
<li class="level1"><div class="li"> <img src="../../lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /> <strong>Warning:</strong> Unit uses a proprietary max. 28V PoE (Power over Ethernet), the RB450G <strong>don&#039;t work with standard 48V PoE</strong> solutions !!! </div>
</li>
</ul>

</div>

<h2 class="sectionedit10" id="photos">Photos</h2>
<div class="level2">

<p>
<a href="../../lib/exe/fetch.php?tok=6a92a4&amp;media=http%253A%252F%252Frouterboard.com%252Fimg%252Fpricelist%252F%252F143_l.png" class="media" title="http://routerboard.com/img/pricelist//143_l.png"><img src="../../lib/exe/fetch.php?tok=6a92a4&amp;media=http%253A%252F%252Frouterboard.com%252Fimg%252Fpricelist%252F%252F143_l.png" class="mediacenter" alt="" /></a>
</p>

<p>
<a href="../../lib/exe/fetch.php?tok=4a4b7b&amp;media=http%253A%252F%252Frouterboard.com%252Fimg%252Fpricelist%252F%252F150_l.png" class="media" title="http://routerboard.com/img/pricelist//150_l.png"><img src="../../lib/exe/fetch.php?tok=4a4b7b&amp;media=http%253A%252F%252Frouterboard.com%252Fimg%252Fpricelist%252F%252F150_l.png" class="mediacenter" alt="" /></a>
</p>

<p>
<a href="../../_detail/toh/mikrotik/dsc_4595.jpg?id=toh%253Amikrotik%253Arb450g" class="media" title="toh:mikrotik:dsc_4595.jpg"><img src="../../_media/toh/mikrotik/dsc_4595.jpg" class="media" alt="" /></a>
</p>

<p>
Schematic Component layout with naming is in <a href="http://routerboard.com/pdf/78/rb450GmA.pdf" class="urlextern" title="http://routerboard.com/pdf/78/rb450GmA.pdf"  rel="nofollow">RB450G Quick Guide</a>
</p>

</div>

<h2 class="sectionedit11" id="serial">Serial</h2>
<div class="level2">

<p>
RB450G have standard RS232 connector, work with simple null modem cable. Testing with standard port in PC.
Connection use 1150008n, with hardware flow control (handshaking).
</p>

<p>
Serial connection is last resort for bootloare RouterBOOT update with XMODEM <a href="http://wiki.mikrotik.com/wiki/Manual:Bootloader_upgrade" class="urlextern" title="http://wiki.mikrotik.com/wiki/Manual:Bootloader_upgrade"  rel="nofollow">Microtik Manual:Bootloader upgrade</a>.
</p>

</div>

<h2 class="sectionedit12" id="jtag">JTAG</h2>
<div class="level2">

<p>
<strong>JTag port is present on board, but pins are not soldered and there is no empty to solder in pins holes.</strong>
</p>

<p>
Another product from Microtik RB443 use this JTAG configuration:
</p>
<pre class="code">   CPU JTAG in RB433 includes this 7 pins.
      7    6    5    4   3   2    1
    TRST  TDI  TDO  TMS  X  TCK  GND</pre>

<p>
How to connect to JTAG interface, and how to reflash the device with <a href="http://downloads.openwrt.org/tools/oem/jtag/tools.zip" class="urlextern" title="http://downloads.openwrt.org/tools/oem/jtag/tools.zip"  rel="nofollow">JTAG tools</a>
</p>

<p>
See <a href="../../doc/hardware/port.jtag" class="wikilink1" title="doc:hardware:port.jtag">port.jtag</a> for more JTAG details.
</p>

</div>

<h2 class="sectionedit13" id="microsd_card_slot">MicroSD Card Slot</h2>
<div class="level2">

<p>
The MicroSD slot needs the <code>kmod-mmc</code>, <code>kmod-mmc-over-gpio</code>, and <code>kmod-mmc-spi</code> kernel module packages.  The driver configuration is:<pre class="code">DI_pin 1
DO_pin 3
CLK_pin 4
CS_pin 7</pre>
.  The SD card device will be called <code>/dev/mmcblk0</code>, with the first partition called <code>/dev/mmcblk0p1</code>.  You will need to format the card from the command line before you can use it.  For more information about setting up the card as a permanently-mounted filesystem, the <a href="../../doc/howto/usb.storage" class="wikilink1" title="doc:howto:usb.storage">USB storage</a> instructions can be adapted, using <code>/dev/mmcblk0*</code> as the device names.
</p>

<p>
Some users of the RB450G state that the MicroSD slot is not designed for regular push/pull operations and microSD cards are now fit there well, plus the microSD slot is on the opposite side of the board and is not accessible in many RB450G enclosures designed originally for older RB450 model (no access hole), so when using an old RB450 enclosure you need to fully disassemble the unit to fix / add / remove the microSD card.
</p>

<p>
<a href="http://wiki.mikrotik.com/wiki/Supported_Hardware#Memory_cards" class="urlextern" title="http://wiki.mikrotik.com/wiki/Supported_Hardware#Memory_cards"  rel="nofollow">List of microSD cards know to work on RB450G with original Microtik RouterOS</a>.  Note that since RouterOS uses a different kernel version and MMC driver, cards that don&#039;t work with RouterOS may work with OpenWRT, and vice versa.
</p>

</div>

<h1 class="sectionedit14" id="specific_configuration">Specific Configuration</h1>
<div class="level1">

</div>

<h2 class="sectionedit15" id="switch_ports_for_vlans">Switch Ports (for VLANs)</h2>
<div class="level2">

<p>
<img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> Verify and make a nice table after similar to one in <a href="../ubiquiti/routerstation.pro" class="urlextern" title="http://wiki.openwrt.org/toh/ubiquiti/routerstation.pro"  rel="nofollow">RouterStation Pro</a>
</p>

<p>
From <a href="https://forum.openwrt.org/viewtopic.php?pid=104521#p104521" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=104521#p104521"  rel="nofollow">AR8316 Switch Support</a> forum
</p>

<p>
The AR7161 has two Ethernet controllers, therefore there are two interfaces, eth0 and eth1. one of these is the wan port, the other is the connection to the CPU port of the switch. The AR8316 provides the physical ports for both controllers, but they are separated internally.
</p>

<p>
On the RB450G, it looks like this:
</p>
<pre class="code">  +-----------+       +-----------+
  |           | eth0  |           |
  |           +-------+----------5+-Eth1 (POE)
  |           |       |           |
  |  AR7161   |       | AR8316 +-1+-Eth2
  |           | eth1  |        +-4+-Eth3
  |           +-------+0-------+-3+-Eth4
  |           |       |        +-2+-Eth5
  +-----------+       +-----------+</pre>

</div>

<h2 class="sectionedit16" id="buttons_and_jumpers">Buttons and Jumpers</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> <strong>BIOS Reset Button</strong> between Power and LEDs – loads backup <strong>RouterBOOT Loader Firmware</strong>. Just hold button after power unit on.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <strong>ROS Reset Jumper</strong> – Inside unit (on board) in corner market <strong>reset</strong>, originally used in RouterOS to reset (load) RouterOS software to defaults. </div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Note: On board is also one classic Jumper - just another power connection.</div>
</li>
</ul>

<p>
<img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> Categories …
</p>
<hr />
<ul>
<li class="level1"><div class="li"> <a href="http://wiki.openwrt.org/toh/categorymodel" class="wikilink2" title="toh:categorymodel" rel="nofollow">CategoryModel</a> </div>
</li>
</ul>

</div>

<h2 class="sectionedit17" id="tags">Tags</h2>
<div class="level2">
<div class="tags"><span>
	<a href="../../tag/gigabitethernet?do=showtag&amp;tag=GigabitEthernet" class="wikilink1" title="tag:gigabitethernet" rel="tag">GigabitEthernet</a>,
	<a href="../../tag/256ram?do=showtag&amp;tag=256RAM" class="wikilink1" title="tag:256ram" rel="tag">256RAM</a>,
	<a href="../../tag/devboard?do=showtag&amp;tag=devBoard" class="wikilink1" title="tag:devboard" rel="tag">devBoard</a>
</span></div>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/mikrotik/rb450g.txt</bdi> · Last modified: 2015/04/20 04:31 by <bdi>toerless</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="rb450g?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="rb450g?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="rb450g?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="rb450g#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Amikrotik%253Arb450g&amp;1432266283" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
