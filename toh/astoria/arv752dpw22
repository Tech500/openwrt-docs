<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>Astoria networks ARV752DPW22 [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="fastethernet,4port,usb,3usb,serial,internalantenna,64ram,8flash,mips,mips32,24k,adsl2,lantiq,danube,802.11bgn,fxo"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="arv752dpw22?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:astoria"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/astoria/arv752dpw22"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/astoria/arv752dpw22"/>
<link rel="canonical" href="arv752dpw22"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:astoria';var JSINFO = {"id":"toh:astoria:arv752dpw22","namespace":"toh:astoria"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432269480 166.182.3.249';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="arv752dpw22#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="arv752dpw22?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="arv752dpw22?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:astoria:arv752dpw22" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="arv752dpw22?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="arv752dpw22?do=media&amp;ns=toh%253Aastoria"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="arv752dpw22?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:astoria:start">Astoria</a></bdi> » <bdi><span class="curid"><a href="arv752dpw22" class="wikilink1" title="toh:astoria:arv752dpw22">Astoria networks ARV752DPW22</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/astoria/arv752dpw22" class="media" title="cz:toh:astoria:arv752dpw22"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/astoria/arv752dpw22" class="media" title="de:toh:astoria:arv752dpw22"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="arv752dpw22" class="media" title="toh:astoria:arv752dpw22"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/astoria/arv752dpw22" class="media" title="es:toh:astoria:arv752dpw22"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/astoria/arv752dpw22" class="media" title="fr:toh:astoria:arv752dpw22"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/astoria/arv752dpw22" class="media" title="hu:toh:astoria:arv752dpw22"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/astoria/arv752dpw22" class="media" title="jp:toh:astoria:arv752dpw22"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/astoria/arv752dpw22" class="media" title="pl:toh:astoria:arv752dpw22"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/astoria/arv752dpw22" class="media" title="pt-br:toh:astoria:arv752dpw22"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/astoria/arv752dpw22" class="media" title="ru:toh:astoria:arv752dpw22"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/astoria/arv752dpw22" class="media" title="tr:toh:astoria:arv752dpw22"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/astoria/arv752dpw22" class="media" title="zh-cn:toh:astoria:arv752dpw22"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/astoria/arv752dpw22" class="media" title="zh-tw:toh:astoria:arv752dpw22"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:astoria:arv752dpw22</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="arv752dpw22#hardware">Hardware</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="arv752dpw22#highlights">Highlights</a></div></li>
<li class="level2"><div class="li"><a href="arv752dpw22#overview">Overview</a></div></li>
<li class="level2"><div class="li"><a href="arv752dpw22#details">Details</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="arv752dpw22#cpu">CPU</a></div></li>
<li class="level3"><div class="li"><a href="arv752dpw22#pci">PCI</a></div></li>
<li class="level3"><div class="li"><a href="arv752dpw22#usb">USB</a></div></li>
<li class="level3"><div class="li"><a href="arv752dpw22#lan">LAN</a></div></li>
<li class="level3"><div class="li"><a href="arv752dpw22#wlan">WLAN</a></div></li>
<li class="level3"><div class="li"><a href="arv752dpw22#isdn">ISDN</a></div></li>
<li class="level3"><div class="li"><a href="arv752dpw22#pots">POTS</a></div></li>
<li class="level3"><div class="li"><a href="arv752dpw22#leds">LEDs</a></div></li>
<li class="level3"><div class="li"><a href="arv752dpw22#buttons">buttons</a></div></li>
<li class="level3"><div class="li"><a href="arv752dpw22#serial_port">serial port</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="arv752dpw22#opening_the_case">Opening the case</a></div></li>
<li class="level2"><div class="li"><a href="arv752dpw22#photos">Photos</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="arv752dpw22#bootlogs">Bootlogs</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="arv752dpw22#oem_bootlog">OEM bootlog</a></div></li>
<li class="level2"><div class="li"><a href="arv752dpw22#linux_bootlog">Linux bootlog</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="arv752dpw22#backup_flash">backup flash</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="arv752dpw22#brntool">brntool</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="arv752dpw22#layout_of_the_original_flash_image">Layout of the original Flash Image</a></div></li>
<li class="level1"><div class="li"><a href="arv752dpw22#u-boot">U-Boot</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="arv752dpw22#run_u-boot_noninvasive_via_serial_port">run u-boot noninvasive via serial port</a></div></li>
<li class="level2"><div class="li"><a href="arv752dpw22#install_openwrt_via_serial_port">install OpenWRT via serial port</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="arv752dpw22#wlan1">WLAN</a></div></li>
<li class="level1"><div class="li"><a href="arv752dpw22#uart_mode">UART Mode</a></div></li>
<li class="level1"><div class="li"><a href="arv752dpw22#running_cc">Running CC</a></div></li>
<li class="level1"><div class="li"><a href="arv752dpw22#tags">Tags</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<p>
<em class="u">This is mainly a draft. Will be completed soon.</em>
</p>

<p>
Please correct spelling and wording. I&#039;m not a native speaker.
</p>

<h1 class="sectionedit1" id="astoria_networks_arv752dpw22">Astoria networks ARV752DPW22</h1>
<div class="level1">

<p>
In Germany also sold as <strong>Arcor/<span style='color:red; '>Vodafone DSL-EasyBox 803A</span></strong>.
</p>

</div>

<h2 class="sectionedit2" id="hardware">Hardware</h2>
<div class="level2">

</div>

<h3 class="sectionedit3" id="highlights">Highlights</h3>
<div class="level3">
<div class="table sectionedit4"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> CPU </th><th class="col1"> Ram </th><th class="col2"> Flash </th><th class="col3"> Network </th><th class="col4"> USB </th><th class="col5"> Serial </th><th class="col6"> UART mode </th><th class="col7"> FXS </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 centeralign">  <a href="../../doc/hardware/soc/soc.lantiq" class="wikilink1" title="doc:hardware:soc:soc.lantiq">Lantiq Xway Danube</a> @333Mhz Dual Core  </td><td class="col1 centeralign">  64MB  </td><td class="col2 centeralign">  8MB  </td><td class="col3 centeralign">  4 Ports  </td><td class="col4 centeralign">  Yes  </td><td class="col5 centeralign">  Yes  </td><td class="col6 centeralign">  Yes  </td><td class="col7"> 2xPOTS, 1xISDN </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit5" id="overview">Overview</h3>
<div class="level3">
<div class="table sectionedit6"><table class="inline">
	<tr class="row0">
		<td class="col0"> <strong>Architecture:</strong> </td><td class="col1"> MIPS </td>
	</tr>
	<tr class="row1">
		<td class="col0"> <strong>Target:</strong> </td><td class="col1"> <a href="../../doc/hardware/soc/soc.lantiq" class="wikilink1" title="doc:hardware:soc:soc.lantiq">Lantiq</a> Xway Danube </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <strong>Vendor:</strong> </td><td class="col1"> Arcadyan </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <strong>Bootloader:</strong> </td><td class="col1"> <a href="../../doc/techref/bootloader/brnboot" class="wikilink1" title="doc:techref:bootloader:brnboot">brnboot</a> </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <strong>System-On-Chip:</strong> </td><td class="col1 leftalign">  </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <strong>CPU/Speed</strong> </td><td class="col1"> 333 Mhz </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <strong>Flash-Chip:</strong> </td><td class="col1"> </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <strong>Flash size:</strong> </td><td class="col1"> 8MB </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <strong>RAM:</strong> </td><td class="col1"> 64MB </td>
	</tr>
	<tr class="row9">
		<td class="col0"> <strong>RAM Chip:</strong> </td><td class="col1"> </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <strong>Wireless:</strong> </td><td class="col1"> RaLink RT3062F; 802.11b/g/n, 2 fixed internal antennas</td>
	</tr>
	<tr class="row11">
		<td class="col0"> <strong>Ethernet:</strong> </td><td class="col1"> Atheros AR8216; 4x <abbr title="Local Area Network">LAN</abbr> 100MBit/s</td>
	</tr>
	<tr class="row12">
		<td class="col0"> <strong>Internet:</strong> </td><td class="col1"> ADSL2+ (Annex A, B, J) (Firmware 30.05.225) </td>
	</tr>
	<tr class="row13">
		<td class="col0"> <strong>ADSL standard:</strong> </td><td class="col1"> G.992.1 (G.DMT), G.992.3 (ADSL2), G.992.5 (ADSL2+), G.992.3 (Annex J), G.992.5 (Annex J) </td>
	</tr>
	<tr class="row14">
		<td class="col0"> <strong>FXS:</strong> </td><td class="col1"> 2x POTS + 1x ISDN S<sub>0</sub></td>
	</tr>
	<tr class="row15">
		<td class="col0"> <strong>ISDN:</strong> </td><td class="col1"> Infineon T-SMINTO PEF 80902, <a href="http://www.colognechip.com/isdn/controllers/frame-xhfc-2su.htm" class="urlextern" title="http://www.colognechip.com/isdn/controllers/frame-xhfc-2su.htm"  rel="nofollow">Cologne Chip XHFC-2SU ISDN 4511</a> </td>
	</tr>
	<tr class="row16">
		<td class="col0"> <strong>USB:</strong> </td><td class="col1"> Yes 3 x 2.0 </td>
	</tr>
	<tr class="row17">
		<td class="col0"> <strong>Serial:</strong> </td><td class="col1"> <a href="../../OpenWrtDocs/Customizing/Hardware/Serial_Console" class="wikilink1" title="doc:hardware:port.serial">Yes</a> 3.3V </td>
	</tr>
	<tr class="row18">
		<td class="col0"> <strong>JTAG:</strong> </td><td class="col1"> ? </td>
	</tr>
	<tr class="row19">
		<td class="col0"> <strong>Power:</strong> </td><td class="col1"> external PSU, 15V DC, max 1,6A (16W typical) polarity: -(+) </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit7" id="details">Details</h3>
<div class="level3">

</div>

<h4 id="cpu">CPU</h4>
<div class="level4">

<p>
<pre class="code"># cat /proc/cpuinfo 
system type             : Danube rev 1.5
machine                 : ARV752DPW22 - Arcor A803
processor               : 0
cpu model               : MIPS 24KEc V4.1
BogoMIPS                : 221.18
wait instruction        : yes
microsecond timers      : yes
tlb_entries             : 16
extra interrupt vector  : yes
hardware watchpoint     : yes, count: 4, address/irw mask: [0x0000, 0x07d0, 0x0b40, 0x0f50]
ASEs implemented        : mips16 dsp
shadow register sets    : 1
kscratch registers      : 0
core                    : 0
VCED exceptions         : not available
VCEI exceptions         : not available</pre>

</p>

</div>

<h4 id="pci">PCI</h4>
<div class="level4">

<p>
<pre class="code"># lspci
00:0e.0 Network controller: Ralink corp. Device 3592
00:0f.0 USB controller: VIA Technologies, Inc. VT82xxxxx UHCI USB 1.1 Controller (rev 62)
00:0f.1 USB controller: VIA Technologies, Inc. VT82xxxxx UHCI USB 1.1 Controller (rev 62)
00:0f.2 USB controller: VIA Technologies, Inc. USB 2.0 (rev 65)</pre>

</p>

</div>

<h4 id="usb">USB</h4>
<div class="level4">

<p>
<pre class="code"># lsusb
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 003 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 004 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub</pre>

</p>

<p>
The external USB ports are connected to the USB 2.0 root hubs.<br/>

The port behind the small cover (meant for an UMTS stick) is connected to bus 001 the other two are connected to bus 002.
</p>

</div>

<h4 id="lan">LAN</h4>
<div class="level4">

<p>
eth0 is connected to port #0 of the Atheros AR8216 switch.<br/>

The switch has 6 ports. Port #1 is not connected.<br/>

The ports #2 to #5 are the ports LAN1 to LAN4 on the backside of the router.
</p>

<p>
The max MTU size of eth0 is 1500.
</p>

<p>
The switch can manage up to 16 <a href="../../doc/networking/network.interfaces#vlanandbridgingconcepts" class="wikilink1" title="doc:networking:network.interfaces">VLANS</a>.
</p>

<p>
<pre class="code"># swconfig dev eth0 help
switch0: eth0(Atheros AR8216), ports: 6 (cpu @ 0), vlans: 16
     --switch
        Attribute 1 (int): enable_vlan (Enable VLAN mode)
        Attribute 2 (none): apply (Activate changes in the hardware)
        Attribute 3 (none): reset (Reset the switch)
     --vlan
        Attribute 1 (int): vid (VLAN ID (0-4094))
        Attribute 2 (ports): ports (VLAN port mapping)
     --port
        Attribute 1 (int): pvid (Primary VLAN ID)
        Attribute 2 (string): link (Get port link information)</pre>

</p>

<p>
<pre class="code"># swconfig dev eth0 show
Global attributes:
        enable_vlan: 0
Port 0:
        pvid: 0
        link: port:0 link:up speed:100baseT full-duplex 
Port 1:
        pvid: 0
        link: port:1 link:down
Port 2:
        pvid: 0
        link: port:2 link:down
Port 3:
        pvid: 0
        link: port:3 link:down
Port 4:
        pvid: 0
        link: port:4 link:down
Port 5:
        pvid: 0
        link: port:5 link:down</pre>

</p>

</div>

<h5 id="ascii_layout">ascii layout</h5>
<div class="level5">

<p>
<pre class="code">                           _____________________________________________
                          /                 switch  AR8216              \
                         | port0   port1   port2   port3   port4   port5 |
                          \_____________________________________________/
                             |               |       |       |       |
WLAN---CPU---eth0-----------/              LAN 1   LAN 2   LAN 3   LAN 4</pre>

</p>

</div>

<h4 id="wlan">WLAN</h4>
<div class="level4">

</div>

<h4 id="isdn">ISDN</h4>
<div class="level4">

</div>

<h4 id="pots">POTS</h4>
<div class="level4">

</div>

<h4 id="leds">LEDs</h4>
<div class="level4">
<div class="table sectionedit8"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0">Symbol</th><th class="col1">Color</th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign">Power   </td><td class="col1"> <span style='color:red; '>red</span> + <span style='color:blue; '>blue</span> </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign">WAN     </td><td class="col1"> <span style='color:red; '>red</span> + <span style='color:blue; '>blue</span> </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign">VoIP    </td><td class="col1"> <span style='color:red; '>red</span> + <span style='color:blue; '>blue</span> </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign">WLan    </td><td class="col1"> <span style='color:red; '>red</span> </td>
	</tr>
	<tr class="row5">
		<td class="col0">UMTS USB<br/>
looks a bit like a mic symbol</td><td class="col1"> <span style='color:red; '>red</span> </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign">Mail    </td><td class="col1"> <span style='color:red; '>red</span></td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign">LAN1    </td><td class="col1"> <span style='color:green; '>green</span> </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign">LAN2    </td><td class="col1"> <span style='color:green; '>green</span> </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign">LAN3    </td><td class="col1"> <span style='color:green; '>green</span> </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign">LAN4    </td><td class="col1"> <span style='color:green; '>green</span> </td>
	</tr>
	<tr class="row11">
		<td class="col0 leftalign">ISDN    </td><td class="col1"> <span style='color:green; '>green</span> </td>
	</tr>
	<tr class="row12">
		<td class="col0 leftalign">POTS 1  </td><td class="col1"> <span style='color:green; '>green</span> </td>
	</tr>
	<tr class="row13">
		<td class="col0 leftalign">POTS 2  </td><td class="col1"> <span style='color:green; '>green</span> </td>
	</tr>
</table></div>

<p>
The following mapping is wrong [2012/10/11]:
<pre class="code">[    0.748000] Registered led device: soc:blue:power
[    0.748000] Registered led device: soc:red:internet
[    0.748000] Registered led device: soc:red:power
[    0.748000] Registered led device: soc:red:wps
[    0.752000] Registered led device: soc:red:fxo
[    0.752000] Registered led device: soc:red:voice
[    0.752000] Registered led device: soc:green:usb
[    0.752000] Registered led device: soc:green:wifi
[    0.752000] Registered led device: soc:green:wifi1
[    0.752000] Registered led device: soc:blue:wifi
[    0.756000] Registered led device: soc:blue:wifi1
[    0.756000] Registered led device: soc:green:eth1
[    0.756000] Registered led device: soc:green:eth2
[    0.756000] Registered led device: soc:green:eth3
[    0.756000] Registered led device: soc:green:eth4</pre>

</p>

</div>

<h4 id="buttons">buttons</h4>
<div class="level4">

<p>
There are 4 buttons on the device.<br/>

One on the side was originally meant to switch the WLan on and off.<br/>

One on the back was meant as a reset button.<br/>

A protected one on the back side was meant to get back to the original configuration.<br/>

And then there is a 4th button near the leds on the back side.
</p>

</div>

<h4 id="serial_port">serial port</h4>
<div class="level4">

<p>
Board voltage is 3.3V so you will need a cheap usb to serial adapter which are already at 3.3v.
</p>

<p>
For compatible USB to serial cables see: <a href="../../doc/hardware/port.serial.cables" class="wikilink1" title="doc:hardware:port.serial.cables">port.serial.cables</a>
</p>

<p>
Pinout:
</p>
<div class="table sectionedit9"><table class="inline">
	<tr class="row0">
		<td class="col0">4</td><td class="col1"> GND </td>
	</tr>
	<tr class="row1">
		<td class="col0">3</td><td class="col1"> RX </td>
	</tr>
	<tr class="row2">
		<td class="col0">2</td><td class="col1"> TX </td>
	</tr>
	<tr class="row3">
		<td class="col0">1</td><td class="col1"> Vcc 3.3V </td>
	</tr>
</table></div>

<p>
<a href="../../_detail/toh/astoria/backside.803a-serial.jpg?id=toh%253Aastoria%253Aarv752dpw22" class="media" title="toh:astoria:backside.803a-serial.jpg"><img src="../../_media/toh/astoria/backside.803a-serial.jpg?w=250&amp;tok=8c2094" class="media" alt="" width="250" /></a>
</p>

</div>

<h3 class="sectionedit10" id="opening_the_case">Opening the case</h3>
<div class="level3">

<p>
<strong>Note:</strong> This will void your warranty!
</p>

<p>
To get to the board you need:
</p>
<ul>
<li class="level1"><div class="li"> unscrew 2 Phillips screws underneath the cover,</div>
</li>
<li class="level1"><div class="li"> pull (strong!) the upper cover which is connected by click.</div>
</li>
</ul>

</div>

<h3 class="sectionedit11" id="photos">Photos</h3>
<div class="level3">

</div>

<h5 id="case">case</h5>
<div class="level5">

<p>
<a href="../../_detail/toh/astoria/front.803a.jpg?id=toh%253Aastoria%253Aarv752dpw22" class="media" title="toh:astoria:front.803a.jpg"><img src="../../_media/toh/astoria/front.803a.jpg?w=250&amp;tok=a99a8f" class="media" title="front" alt="front" width="250" /></a>
<a href="../../_detail/toh/astoria/back.803a.jpg?id=toh%253Aastoria%253Aarv752dpw22" class="media" title="toh:astoria:back.803a.jpg"><img src="../../_media/toh/astoria/back.803a.jpg?w=250&amp;tok=cc9020" class="media" title="back" alt="back" width="250" /></a>
</p>

</div>

<h5 id="pcb">PCB</h5>
<div class="level5">

<p>
<a href="../../_detail/toh/astoria/pcb.front.803a.jpg?id=toh%253Aastoria%253Aarv752dpw22" class="media" title="toh:astoria:pcb.front.803a.jpg"><img src="../../_media/toh/astoria/pcb.front.803a.jpg?w=250&amp;tok=1ca9d4" class="media" alt="" width="250" /></a>
<a href="../../_detail/toh/astoria/pcb-back.803a.jpg?id=toh%253Aastoria%253Aarv752dpw22" class="media" title="toh:astoria:pcb-back.803a.jpg"><img src="../../_media/toh/astoria/pcb-back.803a.jpg?w=250&amp;tok=b01c64" class="media" alt="" width="250" /></a>
</p>

</div>

<h5 id="wlan_antennas">WLan antennas</h5>
<div class="level5">

<p>
<a href="../../_detail/toh/astoria/internal.antennas.803a.jpg?id=toh%253Aastoria%253Aarv752dpw22" class="media" title="toh:astoria:internal.antennas.803a.jpg"><img src="../../_media/toh/astoria/internal.antennas.803a.jpg?w=250&amp;tok=6629aa" class="media" alt="" width="250" /></a>
</p>

</div>

<h2 class="sectionedit12" id="bootlogs">Bootlogs</h2>
<div class="level2">

</div>

<h3 class="sectionedit13" id="oem_bootlog">OEM bootlog</h3>
<div class="level3">

<p style="padding: 10px;border:1px solid grey;height:500px;font:10px/14px Georgia, Garamond, Serif;overflow:Auto;background-color:#FFFFFF">
<code>þ
ROM VER: 1.0.3
CFG 01
Readà
ROM VER: 1.0.3
CFG 01
Read EEPROMX
 X




=======================================================================

Wireless ADSL Gateway DANUBE Loader V1.04.00 build Mar 19 2010 10:00:29

                    Arcadyan Technology Corporation

=======================================================================

MXIC MX29LV640BB bottom boot 16-bit mode found


Copying boot params.....DONE



Press Space Bar 3 times to enter command mode ...

Flash Checking 

Flash Checking - fw/ui... Passed.

Image[1] at 0xb00b0000, len:1999780, type:0

Image[2] at 0xb0298400, len:968414, type:10

Image[3] at 0xb0384c00, len:272391, type:11

Image[4] at 0xb03c7800, len:259453, type:12

Image[5] at 0xb0407000, len:150508, type:60

Image[6] at 0xb042c000, len:452105, type:90

Firmware image at 0, ART image at -1


Run-up Normal Firmware...


Unzipping firmware at 0x80002000 ... [ZIP 3] [ZIP 1]  done

Run-time code running ...



In c_entry() function ...

install_exception 

Co config = 80008483

[INIT] Interrupt ...





 DANUBE_BCU_CON:0x4009FFFF

 DANUBE_BCU_ECON:0x00000000

 DANUBE_BCU_EADD:0x00000000

 DANUBE_BCU_ECON:0x00000000



 DANUBE_SLAVE_BCU_CON:0x4009FFFF

 DANUBE_SLAVE_BCU_ECON:0x00000000

 DANUBE_SLAVE_BCU_EADD:0x00000000

 DANUBE_SLAVE_BCU_EDAT:0x00000000##### _ftext      = 0x80002000

##### _fdata      = 0x807989C0

##### __bss_start = 0x808425E4

##### end         = 0x83467160

allocate_memory_after_end> len 695332, ptr 0x8346f160

##### Backup Data from 0x807989C0 to 0x8346F160~0x83518D84 len 695332

##### Backup Data completed

##### Backup Data verified

[GPIO FLOW] SetGpio() Begin ..

gptu: totally 6 16-bit timers/counters

Init timer = 0

************************ LED all ON

************************ LED all OFF

[GPIO FLOW] SetGpio() End.

[INIT] System Log Pool startup ...

[INIT] MTinitialize ..

[INIT] usrclk

CPU Clock 333333334 Hz

mips_counter_frequency:166666667

r4k_offset: 00028b0a(166666)

init_US_counter : time1 = 260467 , time2 = 40260499, diff 40000032

US_counter = 48

 cnt1 40987793 cnt2 40990037, diff 2244

Runtime code version: 30.05.211

System startup...

[INIT] Memory COLOR 0, 5000000 bytes ..

[INIT] Memory COLOR 1, 262144 bytes ..

[INIT] Memory COLOR 2, 8516576 bytes ..

danube pci startup...

PCI clock 33.3MHz

cut-off PCI internal clock

DANUBE_GPIO_P1_ALTSEL0=65c7

DANUBE_GPIO_P1_ALTSEL1=0

DANUBE_GPIO_P1_DIR=c1fe

[PCI-SCAN] get PCI dev-0e, func-00(0x70), class:0x0280, vid:0x1814, did:0x3592

[PCI-SCAN] get PCI dev-0f, func-00(0x78), class:0x0c03, vid:0x1106, did:0x3038

[PCI-SCAN] get PCI dev-0f, func-01(0x79), class:0x0c03, vid:0x1106, did:0x3038

[PCI-SCAN] get PCI dev-0f, func-02(0x7a), class:0x0c03, vid:0x1106, did:0x3104

Scanning bus 00

Found 00:70 [1814/3592] 000280 00

Found 00:78 [1106/3038] 000c03 00

Found 00:79 [1106/3038] 000c03 00

Found 00:7a [1106/3104] 000c03 00

Fixups for bus 00

Bus scan for 00 returning with max=00

[pcibios_init] PCI slot 0e, function 00...

35921814 04000007 02800000 00008000 18000000 00000000 00000000 00000000 

00000000 00000000 00000000 35921814 00000000 00000040 00000000 04020100 


[pcibios_init] PCI slot 0f, function 00...

30381106 02100000 0c030062 00801600 00000000 00000000 00000000 00000000 

1ae00001 00000000 00000000 30381106 00000000 00000080 00000000 00000100 


[pcibios_init] PCI slot 0f, function 01...

30381106 02100000 0c030062 00801600 00000000 00000000 00000000 00000000 

1ae00021 00000000 00000000 30381106 00000000 00000080 00000000 00000200 


[pcibios_init] PCI slot 0f, function 02...

31041106 02100000 0c032065 00801600 18010000 00000000 00000000 00000000 

00000000 00000000 00000000 31041106 00000000 00000080 00000000 00000300 


interrupt pin 2 not supported!

wrong interrupt pin 2

interrupt pin 3 not supported!

wrong interrupt pin 3

MXIC MX29LV640BB bottom boot 16-bit mode found

Set flash memory layout to Boot Parameters found !!!

Bootcode version: V1.04.00

Serial number: R0340020162

Hardware version: 01B

01.07.2011-10:36:41

[BUILD-PIN] PIN:R0340020162, MAC:88252C6207E0, Key:NULL

[BUILD-WPA]: Key:6981010EE

[BUILD-PIN]: PIN:23037601, len=8

MXIC MX29LV640BB bottom boot 16-bit mode found

MXIC MX29LV640BB bottom boot 16-bit mode found

read_config_from_flash> unknown config

[CONFIG] read_config_from_flash ret=0

MXIC MX29LV640BB bottom boot 16-bit mode found



nLen:98, Magic:0x33343536


my CFGVersionMagic = 33343536, old CFGVersionMagic on flash = 33343536

my CFGsize = 234464, my CFGDescSize = 38365

my Version = 30.05.211, Version on flash= 30.05.211

[CONFIG] old cfg version:[30.05.211], [3.0.5.2.11.100]

source CFGsize = 234464, CFGDescSize = 38365

MXIC MX29LV640BB bottom boot 16-bit mode found

OldCfgHexSize:12499

Unzipping from 816C2EB0 to 816B98C0 ... [ZIP 2] allocate_memory_after_end> len 81516, ptr 0x83518da0

done

Uncompressed size = 38363

Tail1 : END_III_Config_t


Size of Old CFG_DESC is :38363!!!

useCfgDesc:1

MyCfgHexSize:12499

Unzipping from 816B67D4 to 816AD1E4 ... [ZIP 2] done

Uncompressed size = 38363

My CFGDescSize:38365

useCfgDesc:1

Tail : END_III_Config_t


useCfgDesc:3


Restore Config file from ver:30.05.211!!!


[CONFIG] DS_Tail:[t_ARV752DPW]

[CONFIG] load_config ret=1

[updateConfig] flash version:[30.05.211], [3.0.5.2.11.100]

[updateConfig] code version:[30.05.211], [3.0.5.2.11.100]

##@@!! voip_generate_LACDN> accountidx=0, outboundProxy = 030.sip.arcor.de

##@@!! userId = 03080610473

##@@!! local_area = 030

##@@!! destination_number = 80610473

##@@!! voip_generate_LACDN> accountidx=1, outboundProxy = 

##@@!! userId = 

##@@!! local_area = 

##@@!! destination_number = 

##@@!! voip_generate_LACDN> accountidx=2, outboundProxy = 

##@@!! userId = 

##@@!! local_area = 

##@@!! destination_number = 

##@@!! voip_generate_LACDN> accountidx=3, outboundProxy = 

##@@!! userId = 

##@@!! local_area = 

##@@!! destination_number = 

##@@!! voip_generate_LACDN> accountidx=4, outboundProxy = 

##@@!! userId = 

##@@!! local_area = 

##@@!! destination_number = 

##@@!! voip_generate_LACDN> accountidx=5, outboundProxy = 

##@@!! userId = 

##@@!! local_area = 

##@@!! destination_number = 

##@@!! voip_generate_LACDN> accountidx=6, outboundProxy = 

##@@!! userId = 

##@@!! local_area = 

##@@!! destination_number = 

##@@!! voip_generate_LACDN> accountidx=7, outboundProxy = 

##@@!! userId = 

##@@!! local_area = 

##@@!! destination_number = 

##@@!! voip_generate_LACDN> accountidx=8, outboundProxy = 

##@@!! userId = 

##@@!! local_area = 

##@@!! destination_number = 

##@@!! voip_generate_LACDN> accountidx=9, outboundProxy = 

##@@!! userId = 

##@@!! local_area = 

##@@!! destination_number = 

!!! Invalid wireless channel range 0 ~ 0

!!! Use default value 1 ~ 13

update Ethernet Uplink related parameters

default route: 0.0.0.0

[CheckUSBBackConf]Erase the garbage config in usbBackConf_s

BufferInit:

BUF_HDR_SZ=160 BUF_ALIGN_SZ=4 BUFFER_OFFSET=416

BUF_BUFSZ0=576 BUF_BUFSZ1=4352

NUM_OF_B0=0 NUM_OF_B1=2000

BUF_POOL0_SZ=0 BUF_POOL1_SZ=9024000

sizeof(BUFFER0)=736,sizeof(BUFFER1)=4512

*BUF0=0x82859be4 *BUF1=0x81fbe9c4

Altgn *BUF0=0x82859c00 *BUF1=0x81fbe9e0

End at BUF0:0x82859c00, BUF1:0x82859be0


BUF0[0]=0x82859c00 BUF1[0]=0x81fbe9e0


buffer0 pointer init OK!

buffer1 pointer init OK!

[qm_lnk_init] CLOCKHZ=1000 ...

[qm_lnk_init] add if 3 into QM link 0

[qm_lnk_init] add if 4 into QM link 0

[qm_cbq_enable] no QM attached

[qm_cbq_detach] no QM is attached at link 0

pkt_avgsz=250, pkt_maxsz=1600, mtu=1600

f=1054199/100000, ns_per_byte=758869/1000

ptime=2000000000/1000, cptime=0/1000, offtime=0/1000

New cls: id=0, bw=758 ns/byte, maxd=0 ms,

         maxb=32, minb=2, avgpktsz=250, maxpktsz=1600,

         offtime=0, parent=0, borrow=0

         pri=0, maxidle=31, minidle=-2428,

         maxq=96, clsfg=17

pkt_avgsz=1600, pkt_maxsz=1600, mtu=1600

f=10542/100000, ns_per_byte=75886927/1000

ptime=18446744073709551615/1000, cptime=18446744073709551615/1000, offtime=18446744073709551615/1000

New cls: id=1, bw=75886 ns/byte, maxd=0 ms,

         maxb=16, minb=1, avgpktsz=1600, maxpktsz=1600,

         offtime=108619, parent=81203e50, borrow=81203e50

         pri=5, maxidle=28942, minidle=-242838,

         maxq=48, clsfg=21

qm_cbq_attach(): cbqp->cbq_res=104

pkt_avgsz=250, pkt_maxsz=1600, mtu=1600

f=1043657/100000, ns_per_byte=766534/1000

ptime=2000000000/1000, cptime=0/1000, offtime=0/1000

New cls: id=2, bw=766 ns/byte, maxd=0 ms,

         maxb=32, minb=4, avgpktsz=250, maxpktsz=1600,

         offtime=0, parent=81203e50, borrow=81203e50

         pri=5, maxidle=31, minidle=-2452,

         maxq=48, clsfg=21

pkt_avgsz=250, pkt_maxsz=1600, mtu=1600

f=1/100000, ns_per_byte=4294967295/1000

[qm_cbq_newcls] warning: bandwidth of the class may be low enough to cause INT overflow

ptime=2000000000/1000, cptime=18446744073709551615/1000, offtime=18446744073709551615/1000

New cls: id=3, bw=1342177 ns/byte, maxd=0 ms,

         maxb=16, minb=4, avgpktsz=250, maxpktsz=1600,

         offtime=1366279, parent=81202850, borrow=81202850

         pri=6, maxidle=0, minidle=-4294966,

         maxq=48, clsfg=20

pkt_avgsz=250, pkt_maxsz=1600, mtu=1600

f=1/100000, ns_per_byte=4294967295/1000

[qm_cbq_newcls] warning: bandwidth of the class may be low enough to cause INT overflow

ptime=2000000000/1000, cptime=18446744073709551615/1000, offtime=18446744073709551615/1000

New cls: id=4, bw=1342177 ns/byte, maxd=0 ms,

         maxb=16, minb=4, avgpktsz=250, maxpktsz=1600,

         offtime=1366279, parent=81202850, borrow=81202850

         pri=0, maxidle=0, minidle=-4294966,

         maxq=96, clsfg=21

pkt_avgsz=250, pkt_maxsz=1600, mtu=1600

f=1/100000, ns_per_byte=4294967295/1000

[qm_cbq_newcls] warning: bandwidth of the class may be low enough to cause INT overflow

ptime=2000000000/1000, cptime=18446744073709551615/1000, offtime=18446744073709551615/1000

New cls: id=5, bw=1342177 ns/byte, maxd=0 ms,

         maxb=16, minb=4, avgpktsz=250, maxpktsz=1600,

         offtime=1366279, parent=81202850, borrow=81202850

         pri=1, maxidle=0, minidle=-4294966,

         maxq=48, clsfg=23

pkt_avgsz=250, pkt_maxsz=1600, mtu=1600

f=1/100000, ns_per_byte=4294967295/1000

[qm_cbq_newcls] warning: bandwidth of the class may be low enough to cause INT overflow

ptime=2000000000/1000, cptime=18446744073709551615/1000, offtime=18446744073709551615/1000

New cls: id=6, bw=1342177 ns/byte, maxd=0 ms,

         maxb=16, minb=4, avgpktsz=250, maxpktsz=1600,

         offtime=1366279, parent=81202850, borrow=81202850

         pri=2, maxidle=0, minidle=-4294966,

         maxq=48, clsfg=23

pkt_avgsz=250, pkt_maxsz=1600, mtu=1600

f=1/100000, ns_per_byte=4294967295/1000

[qm_cbq_newcls] warning: bandwidth of the class may be low enough to cause INT overflow

ptime=2000000000/1000, cptime=18446744073709551615/1000, offtime=18446744073709551615/1000

New cls: id=7, bw=1342177 ns/byte, maxd=0 ms,

         maxb=16, minb=4, avgpktsz=250, maxpktsz=1600,

         offtime=1366279, parent=81202850, borrow=81202850

         pri=3, maxidle=0, minidle=-4294966,

         maxq=48, clsfg=23

pkt_avgsz=250, pkt_maxsz=1600, mtu=1600

f=1/100000, ns_per_byte=4294967295/1000

[qm_cbq_newcls] warning: bandwidth of the class may be low enough to cause INT overflow

ptime=2000000000/1000, cptime=18446744073709551615/1000, offtime=18446744073709551615/1000

New cls: id=8, bw=1342177 ns/byte, maxd=0 ms,

         maxb=16, minb=4, avgpktsz=250, maxpktsz=1600,

         offtime=1366279, parent=81202850, borrow=81202850

         pri=4, maxidle=0, minidle=-4294966,

         maxq=48, clsfg=23

pkt_avgsz=250, pkt_maxsz=1600, mtu=1600

f=1043657/100000, ns_per_byte=766534/1000

ptime=2000000000/1000, cptime=0/1000, offtime=0/1000

New cls: id=9, bw=766 ns/byte, maxd=0 ms,

         maxb=16, minb=4, avgpktsz=250, maxpktsz=1600,

         offtime=0, parent=81202850, borrow=81202850

         pri=6, maxidle=31, minidle=-2452,

         maxq=48, clsfg=20

CLOCKHZ=1000

gConfig.Interface[0].IP_Addr = 127.0.0.1

gConfig.Interface[0].Subnet_Mask = 255.255.255.255

***** [iput_IpLinkUp] ifno=0, link_type:12

TRAP(linkUp) : send ok!

Interface 0 ip = 127.0.0.1


gConfig.Interface[1].IP_Addr = 192.168.2.1

gConfig.Interface[1].Subnet_Mask = 255.255.255.0

ifno=1, vlan=0, vid=1, port_mask=0xf

DANUBE_RCU_RST_STAT Watchdog 0 reset cause flag 0 Watchdog 1 reset cause flag 0

DMA g_desc_list=0x816A7FA0

danube_sw_chip_init: in MII mode

Probe switch chip....RTL8306 ver.series 0 ver.chipid 590 ver.revision 0

Atheros8216 detected

chip_id = 2

init switch chip deriverdanube_sw_chip_init: switch_chip= 2

init QoS for switch 

enter athr_VLANInit

[VLAN] port: 0x000f, ifCount=1

------->add port 2 to vlan 1

------->add port 3 to vlan 1

------->add port 4 to vlan 1

------->add port 5 to vlan 1

mac_0_init: interface 1 registered to VLAN 1, port_mask=f

MAC Address: 88:25:2c:62:07:e0

***** [iput_IpLinkUp] ifno=1, link_type:12

TRAP(linkUp) : send ok!

Interface 1 ip = 192.168.2.1


gConfig.Interface[2].IP_Addr = 0.0.0.0

gConfig.Interface[2].Subnet_Mask = 0.0.0.0

[HWLAN] ifno=2 irno=7 port=0x00000000

pci_find_slot bus 0 devfn 70

dev->bus->number 0 dev->devfn 70

pci_find_slot bus 0 devfn 70

dev->bus->number 0 dev->devfn 70

pci_find_slot bus 0 devfn 70

dev->bus->number 0 dev->devfn 70

pci_find_slot bus 0 devfn 70

dev->bus->number 0 dev->devfn 70

pci_find_slot bus 0 devfn 70

dev->bus->number 0 dev->devfn 70

===> rt2860_probe

PCI: Enabling device 00:0e.0 (0007 -> 0006)

pcibios_set_master> lat=0x80

--> RTMPAllocAdapterBlock

RTMP_ADAPTER_mem : 80b009c4, sizeof(RTMP_ADAPTER) 415336



=== pAd = FFFFFFFF80B009C4, size = 415336 ===


<-- RTMPAllocAdapterBlock, Status=0

pAd->CSRBaseAddress =0xffffffffb8000000

AP Driver version-2.2.5.0

NVM is EEPROM

Allocate a net device with private data size=0!

RtmpOSNetDevAttach()--->

<---RtmpOSNetDevAttach(), ret=0

<=== rt2860_probe

***** [iput_IpLinkUp] ifno=2, link_type:12

TRAP(linkUp) : send ok!

Interface 2 ip = 192.168.2.1


gConfig.Interface[3].IP_Addr = 0.0.0.0

gConfig.Interface[3].Subnet_Mask = 0.0.0.0

ppe: ATM init succeeded (firmware version 1.1.0.2.1.13)

ATM_UBR

Init SAR ifno:3 g_atm_vcc[0] CONN:1 VPI/VCI:1/32

MAC Address: 88:25:2c:62:07:e1

Interface 3 ip = 0.0.0.0


gConfig.Interface[4].IP_Addr = 0.0.0.0

gConfig.Interface[4].Subnet_Mask = 0.0.0.0

ATM_CBR

Init SAR ifno:4 g_atm_vcc[1] CONN:2 VPI/VCI:2/32

MAC Address: 88:25:2c:62:07:e2

Interface 4 ip = 0.0.0.0


gConfig.Interface[11].IP_Addr = 0.0.0.0

gConfig.Interface[11].Subnet_Mask = 0.0.0.0

IFLNK_PPPOE init : (Linkp)ifno = 11 idx = 2

IFLNK_PPPOE init : (Driverp)ifno = 11 idx = 3

pppInit> set (PPPShutdownRequest[ifno] = 0)

[pppoe_init]

Interface 11 ip = 0.0.0.0


gConfig.Interface[12].IP_Addr = 0.0.0.0

gConfig.Interface[12].Subnet_Mask = 0.0.0.0

IFLNK_PPPOE init : (Linkp)ifno = 12 idx = 2

IFLNK_PPPOE init : (Driverp)ifno = 12 idx = 3

pppInit> set (PPPShutdownRequest[ifno] = 0)

[pppoe_init]

[PPPoE]gInitOk==1 , So Not Do pppoe_init

Interface 12 ip = 0.0.0.0


gConfig.Interface[20].IP_Addr = 0.0.0.0

gConfig.Interface[20].Subnet_Mask = 0.0.0.0

[HWLAN] ifno=20 irno=7 port=0x00000000

***** [iput_IpLinkUp] ifno=20, link_type:12

TRAP(linkUp) : send ok!

Interface 20 ip = 192.168.2.1


gConfig.Interface[21].IP_Addr = 0.0.0.0

gConfig.Interface[21].Subnet_Mask = 0.0.0.0

[HWLAN] ifno=21 irno=7 port=0x00000000

***** [iput_IpLinkUp] ifno=21, link_type:12

TRAP(linkUp) : send ok!

Interface 21 ip = 192.168.2.1


gConfig.Interface[22].IP_Addr = 0.0.0.0

gConfig.Interface[22].Subnet_Mask = 0.0.0.0

[HWLAN] ifno=22 irno=7 port=0x00000000

***** [iput_IpLinkUp] ifno=22, link_type:12

TRAP(linkUp) : send ok!

Interface 22 ip = 192.168.2.1


gConfig.Interface[23].IP_Addr = 0.0.0.0

gConfig.Interface[23].Subnet_Mask = 0.0.0.0

[HWLAN] ifno=23 irno=7 port=0x00000000

***** [iput_IpLinkUp] ifno=23, link_type:12

TRAP(linkUp) : send ok!

Interface 23 ip = 192.168.2.1


gConfig.Interface[25].IP_Addr = 0.0.0.0

gConfig.Interface[25].Subnet_Mask = 0.0.0.0

pppInit> set (PPPShutdownRequest[ifno] = 0)

if_umts_init() WAN interface 25, UMTS-COM1: baudrate=115200 

if_umts_init() MAC:88:25:2C:62:07:E1

umtsReceQueueInit() Host controller disable, bypass queue init...

RUNTASK id=2 umtsReceQueueTsk...

RUNTASK id=3 umtsReceTsk...

RUNTASK id=4 umtsWritTsk...

Interface 25 ip = 0.0.0.0


ruleCheck()> Group: 0,  Error: Useless rule index will be truncated, from idx:1

ruleCheck()> Group: 1,  Error: Useless rule index will be truncated, from idx:27

ruleCheck()> Group: 2,  Error: Useless rule index will be truncated, from idx:0

CBAC rule format check succeed !!

reqCBACBuf()> init match pool, Have: 1000

Memory Address: 0xffffffff81166c90 ~ 0xffffffff8116da0c

reqCBACBuf()> init timeGap pool, Have: 10000

Memory Address: 0xffffffff8116da0c ~ 0xffffffff8119e760

reqCBACBuf()> init sameHost pool, Have: 2000

Memory Address: 0xffffffff8119e760 ~ 0xffffffff811ae180

CBAC rule pool initialized !!

[init_if] local_if_mask=0xf80007

[init_if] local_wiredif_mask=0x80002

[init_if] local_wirelessif_mask=0xf00004

[init_if] localorVPN_if_mask=0xf80007

Init NAT data structure

RUNTASK id=5 if_task if0...

RUNTASK id=6 if_task if1...

RUNTASK id=7 if_task if2...

RUNTASK id=8 if_task if3...

RUNTASK id=9 if_task if4...

RUNTASK id=10 if_task if20...

RUNTASK id=11 if_task if21...

RUNTASK id=12 if_task if22...

RUNTASK id=13 if_task if23...

RUNTASK id=14 if_task if25...

RUNTASK id=15 timer_task...

RUNTASK id=16 conn_mgr...

RUNTASK id=17 main_8021x...

Build Day = Jun 30 2011

RUNTASK id=18 saveRandomSeedTask...

[VFS_init] Start...

[VFS_init] vfsState:1

vfs_codepage_init() TimeZone:23, vfs_cp_idx:23, vfs_cp_ID:5

fat_codePageInit() TimeZone:23, codePage:CP850, cPID:5, cpSize:256, toUpSize:30

ntfs_codepage timezone:23, lan= 0

ntfs_codePageInit() TimeZone:23, codePage:5

==[vfs_register_filesystem]============================

list size:7,  Method:0x807ba324

  1) Type:0x01, Name:FAT12

  2) Type:0x04, Name:FAT16

  3) Type:0x06, Name:FAT16

  4) Type:0x0b, Name:FAT32

  5) Type:0x0c, Name:FAT32

  6) Type:0x0e, Name:FAT16

  7) Type:0x81, Name:Minix

=================================================================

[VFS_init] FAT init OK

==[vfs_register_filesystem]============================

list size:1,  Method:0x807baee0

  1) Type:0x07, Name:NTFS/HPFS

=================================================================

[VFS_init] NTFS init OK

[VFS_init]-[vfs_mount_root] Start...

[VFS_init]-[vfs_mount_root] Init <root> OK...

[VFS_init]-[vfs_mount_root] Init <dev> OK...

[VFS_init]-[vfs_mount_root] Init <mnt> OK...

[0-START]=========================================

  Node 000,  DIR, MountFlag:0x00

[0-END]===========================================

  [1-START]=========================================

    Node 001,  DIR, MountFlag:0x00

  [1-END]===========================================

  [1-START]=========================================

    Node 002,  DIR, MountFlag:0x00

  [1-END]===========================================

dump_inode() freeCnt:77, usedCnt:3

[USB-INIT] main() ====== call UsbSysInit() ... 

[USB] UsbSPoolArray: 80C0F928H ~ 80D87D27, UsbSPool:80C0F980

[USB] UsbMPoolArray: 80D87D28H ~ 80E76127, UsbMPool:80D87D80

[USB] UsbLPoolArray: 80E76128H ~ 80ECE1A7, UsbLPool:80E76180

[USB] Small  Un-Cached Memory(8025): 80C0F980 ~ 80D87C3F

[USB] Medium Un-Cached Memory(230): 80D87D80 ~ 80E7507F

[USB] Large  Un-Cached Memory(21): 80E76180 ~ 80ECA17F

35921814 04000006 02800000 00008000 18000000 00000000 00000000 00000000 

00000000 00000000 00000000 35921814 00000000 00000040 00000000 04020116 

00030001 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 


30381106 02100000 0c030062 00801600 00000000 00000000 00000000 00000000 

1ae00001 00000000 00000000 30381106 00000000 00000080 00000000 00000116 

00031040 00000000 00000800 00000000 00000000 00000000 00000000 00000000 

00000010 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

7e0a0001 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

00002000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

00000000 00000000 00000000 00000000 00000000 03000000 00000000 00000000 


pci_find_slot bus 0 devfn 78

dev->bus->number 0 dev->devfn 70

dev->bus->number 0 dev->devfn 78

setUsbPciInfo() cpu_to_usb_addr_shift[0]:0x60000000, usb_to_cpu_addr_shift[0]:0xa0000000

usb_pci_probe() Found VIA UHCI-1 device in PCI slot 0x78, function 0, baseAddr:0xbae00000

30381106 02100000 0c030062 00801600 00000000 00000000 00000000 00000000 

1ae00021 00000000 00000000 30381106 00000000 00000080 00000000 00000200 

00031040 00000000 00000800 00000000 00000000 00000000 00000000 00000000 

00000010 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

7e0a0001 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

00002000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

00000000 00000000 00000000 00000000 00000000 03000000 00000000 00000000 


pci_find_slot bus 0 devfn 79

dev->bus->number 0 dev->devfn 70

dev->bus->number 0 dev->devfn 78

dev->bus->number 0 dev->devfn 79

setUsbPciInfo() cpu_to_usb_addr_shift[1]:0x60000000, usb_to_cpu_addr_shift[1]:0xa0000000

usb_pci_probe() Found VIA UHCI-2 device in PCI slot 0x79, function 1, baseAddr:0xbae00020

31041106 02100000 0c032065 00801600 18010000 00000000 00000000 00000000 

00000000 00000000 00000000 31041106 00000000 00000080 00000000 00000300 

000b0000 00000000 090020a0 ffff0000 80005a00 00000000 88880b04 00000033 

00012020 00000000 00000001 80000000 00000000 00000000 00000000 00000000 

7e0a0001 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

00000000 00000000 00000000 00000000 00000000 03000000 00000000 00000000 


pci_find_slot bus 0 devfn 7a

dev->bus->number 0 dev->devfn 70

dev->bus->number 0 dev->devfn 78

dev->bus->number 0 dev->devfn 79

dev->bus->number 0 dev->devfn 7a

setUsbPciInfo() cpu_to_usb_addr_shift[2]:0x60000000, usb_to_cpu_addr_shift[2]:0xa0000000

usb_pci_probe() Found VIA EHCI device in PCI slot 0x7a, function 2, baseAddr:0xb8010000

setUsbPciInfo() cpu_to_usb_addr_shift[3]:0x00000000, usb_to_cpu_addr_shift[3]:0x00000000

usb_pci_probe() Found Synopsis OTG, baseAddr:0xbe101000

usb_power_set() isOn:1

usb_power_set() Previous power off:0, current time:0

usb_power_set(1) min time delay:6000, current delay:0

usb_power_set() Need delay:6500 **********

usb_power_set(2) min time delay:6000, current delay:0

usb_hcd_init() func(0):1

localhc_init() install uhci driver(self->driver = 0x8081EDB0, uhci_driver=0x8081EDB0).

usb_pci_attach_device() Enable PCI device...PCI: Enabling device 00:0f.0 (0000 -> 0001)

OK

usb_pci_attach_device() Set latency timer...OK

usb_pci_attach_device() Set bus master...PCI: Enabling bus mastering for device 00:0f.0

pcibios_set_master> lat=0x16

OK

usb_pci_attach_device() Set VIA-UHCI special parameters...OK

usb_pci_attach_device(UHCI) Attach succ...

30381106 02100005 0c030062 00801600 00000000 00000000 00000000 00000000 

1ae00001 00000000 00000000 30381106 00000000 00000080 00000000 00000116 

00030040 00000000 00000800 00000000 00000000 00000000 00000000 00000000 

00000010 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

7e0a0001 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

00002000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

00000000 00000000 00000000 00000000 00000000 03000000 00000000 00000000 


usb_hcd_init() func(1):1

localhc_init() install uhci driver(self->driver = 0x8081EDB0, uhci_driver=0x8081EDB0).

usb_pci_attach_device() Enable PCI device...PCI: Enabling device 00:0f.1 (0000 -> 0001)

OK

usb_pci_attach_device() Set latency timer...OK

usb_pci_attach_device() Set bus master...PCI: Enabling bus mastering for device 00:0f.1

pcibios_set_master> lat=0x16

OK

usb_pci_attach_device() Set VIA-UHCI special parameters...OK

usb_pci_attach_device(UHCI) Attach succ...

30381106 02100005 0c030062 00801600 00000000 00000000 00000000 00000000 

1ae00021 00000000 00000000 30381106 00000000 00000080 00000000 00000200 

00030040 00000000 00000800 00000000 00000000 00000000 00000000 00000000 

00000010 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

7e0a0001 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

00002000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

00000000 00000000 00000000 00000000 00000000 03000000 00000000 00000000 


usb_hcd_init() func(2):1

localhc_init() install ehci driver(self->driver = 0x8081ED84, ehci_driver=0x8081ED84).

usb_pci_attach_device() Enable PCI device...PCI: Enabling device 00:0f.2 (0000 -> 0002)

OK

usb_pci_attach_device() Set latency timer...OK

usb_pci_attach_device() Set bus master...PCI: Enabling bus mastering for device 00:0f.2

pcibios_set_master> lat=0x16

OK

usb_pci_attach_device() Set write invalidate...OK

usb_pci_attach_device() Set VIA-EHCI special parameters...OK

usb_pci_attach_device(EHCI) Attach succ...

31041106 02100016 0c032065 00801600 18010000 00000000 00000000 00000000 

00000000 00000000 00000000 31041106 00000000 00000080 00000000 00000300 

000b0000 00000000 290020a0 ffff0000 80005a00 00000000 88880b04 00000033 

00012020 00000000 00000001 c0000000 00000000 00000000 00000000 00000000 

7e0a0001 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 

00000000 00000000 00000000 00000000 00000000 03000000 00000000 00000000 


usb_hcd_init() func(3):1

localhc_init() install otg driver(self->driver = 0x8081ED58, otg_driver=0x8081ED58).

usb_hcd_init(): succ.

[USB-INIT] main() ====== after call UsbSysInit() 

InitCommSys: RESOURCE_BASE = 113, NUMRES = 640

InitCommSys: EVENT_BASE = 239, NUMEVT = 768

InitCommSys: MAILBOX_BASE = 6, NUMMBX = 64

RUNTASK id=20 period_task...


========== ADSL Modem initialization OK ! ======


[Dhcpd_Start]

RUNTASK id=21 dhcp_daemon...

main()> usb:1, ftp:0

found signature: 78h 56h 34h 12h

ulImgLens=1999780, LENGTH[3]-12=7602164, type:0

length checking OK

[0]2 find End at 0xFFFFFFFFB0298000 len=1999780, type=0

found signature: 78h 56h 34h 12h

ulImgLens=968414, LENGTH[3]-12=7602164, type:10

length checking OK

[1]2 find End at 0xFFFFFFFFB0384800 len=968414, type=10

found signature: 78h 56h 34h 12h

ulImgLens=272391, LENGTH[3]-12=7602164, type:11

length checking OK

[2]2 find End at 0xFFFFFFFFB03C7400 len=272391, type=11

found signature: 78h 56h 34h 12h

ulImgLens=259453, LENGTH[3]-12=7602164, type:12

length checking OK

[3]2 find End at 0xFFFFFFFFB0406C00 len=259453, type=12

---[ LZMA head start in 0xFFFFFFFFB0407000 ]---

found signature: 78h 56h 34h 12h

ulImgLens=150508, LENGTH[3]-12=7602164, type:60

length checking OK

[4]2 find End at 0xFFFFFFFFB042BC00 len=150508, type=60

---[ LZMA head start in 0xFFFFFFFFB042C000 ]---

found signature: 78h 56h 34h 12h

ulImgLens=452105, LENGTH[3]-12=7602164, type:90

length checking OK

[5]2 find End at 0xFFFFFFFFB049A400 len=452105, type=90

Image[1] at 0xB00B0000, len=1999780, type=0

Image[2] at 0xB0298400, len=968414, type=10

Image[3] at 0xB0384C00, len=272391, type=11

Image[4] at 0xB03C7800, len=259453, type=12

Image[5] at 0xB0407000, len=150508, type=60

Image[6] at 0xB042C000, len=452105, type=90

[get_web_address] Web-0:  addr:0xb0298400, len:968414, type:10

[get_web_address] Web-1:  addr:0xb0384c00, len:272391, type:11

[get_web_address] Web-2:  addr:0xb03c7800, len:259453, type:12

getUnZipFileLength: [ZIP 3]

getUnZipFileLength: [ZIP 1]

Unzipping from B0298400 to 83D88800 ... [ZIP 3] [ZIP 2] done

Uncompressed size = 1471846

getUnZipFileLength: [ZIP 3]

getUnZipFileLength: [ZIP 1]

[absread] flash_init: pfs image found at ffffffffb0384c00, size is 1507881 bytes

Unzipping from B0384C00 to 83C18200 ... [ZIP 3] [ZIP 2] done

Uncompressed size = 1507881

RUNTASK httpd...

RUNTASK id=24 SSLClient ...

g_Client_Cert_Array=0x81f28800

RUNTASK id=25 dnsproxy...

RUNTASK id=26 snmp_task...

RUNTASK id=27 padmin_task_entry...

RUNTASK id=28 dhcpd_mgmt_task...

runDDNS(0) ddns_enable:0, DDNSTaskRun:0, needReRunDDNS:1

runDDNS(1) ddns_enable:0, DDNSTaskRun:0, needReRunDDNS:1

UPnP task run-up... upnpFunc:1

UPNP Device initialize success! slot=29

update_device_OUI: OUI_str=88252C

[0] Allocate mailbox 6

[0] Allocate mailbox 7

FirstUseDate:2011-07-20T20:21:08

RUNTASK id=32 push_daemon...

RUNTASK id=33 wscmain...

RUNTASK id=34 wsc_Send_eap_packet...

RUNTASK id=35 wsc_Send_UPNP_packet...

RUNTASK id=36 WSC_WaitUserAction_Task...

UART RX Output


rzMemory start: 0x81DC8FF0, end 0x81F287F0, size 1439744[0] Allocate resource 113, FreeResource = 1

fpiclk=83333333, rmc=16, fpiclk/rmc=5208333

ifx_ssc_clock = 5208333, baud=2000000

ifx_ssc_set_baud: br = 0


call ifx_ssc_init() = 0

call ifx_ssc_open() = 0

SPI_Init!

RUNTASK id=39 apAppInit...

RUNTASK id=41 isdn_main...

RUNTASK id=42 pppFailBackPeriodCheckTask()...

RUNTASK id=43 detect_acs_connect_task...

RUNTASK id=44 pid_cc_err_stats_task...

start http redir.

RUNTASK id=45 hr_daemon...

RUNTASK id=46 hr_misc_daemon...

RUNTASK id=47 ncidd_main...,  in run_project_task()

Starting Multitask...

phy_change_check... pass

enter adsl_disable_annex_j_b43_carrier_set()

Danube MEI version:1.00.07

Image[1] at 0xB00B0000, len=1999780, type=0

Image[2] at 0xB0298400, len=968414, type=10

Image[3] at 0xB0384C00, len=272391, type=11

Image[4] at 0xB03C7800, len=259453, type=12

Image[5] at 0xB0407000, len=150508, type=60

Image[6] at 0xB042C000, len=452105, type=90

[get_datapump_address] Datapump for Annex A0:-1, B0:4, C0:-1

[get_datapump_address] Datapump for Annex A1:-1, B1:-1, C1:-1

[get_datapump_address] r_img=4, t_img=6

Unzip DSP firmware ...

Unzipping from B0407000 to 81053400 ... [ZIP 2] xSpeedtsk priority is 80

done

Uncompressed size = 302464

ifno2dot1x_if[2]=0

dot1x_wireless_if_mask=0x4

fwrite_specialConfigPara() Save random seed:1333391205

MXIC MX29LV640BB bottom boot 16-bit mode found

init psock cnt=1

XHFC r16(CHIP ID)= 0x61

erase from location b00a0000. done

write length 0x5b0

0update_img_hdr = FFFFFFFFA1053400

idx=0 mem_ptr=0xA1053400 size=65536

idx=1 mem_ptr=0xA1063400 size=65536

idx=2 mem_ptr=0xA1073400 size=65536

idx=3 mem_ptr=0xA1083400 size=65536

idx=4 mem_ptr=0xA1093400 size=40320

RUNTASK id=51 Atheros_NetTask .Got MODEM_READY_MSG

..

<-- RTMPAllocTxRxRingMemory, Status=0

Channel=0

ADSL Firmware: 2.1.5.2.1.2 [Annex B:0x4208 0x0]

rtmp_read_wds_from_file() is called !!!

rtmp_read_wds_from_file : WDS disabled 

Magic No. in Boot Param check OK!!!

sould check E2PROM MAC ?????????????????

NICReadEEPROMParameters 882 

NICReadEEPROMParameters 945 

NICReadEEPROMParameters 970 

Change w14 from 9 to 1

Change w14 from 99 to 91

Change w14 from a9 to a1

!! arcISDNIrqEnable: chipId=0

!! arcISDNIrqEnable: chipId=0

[41] Allocate resource 114, FreeResource = 2

[41] Allocate resource 115, FreeResource = 3

[41] Allocate resource 116, FreeResource = 4

[41] Allocate resource 117, FreeResource = 5

sizeof(struct ap_cm)=256

RUNTSK ISDN_ApCM 18

### CAPI 2.0 / 2.024

### Nbr. of ctrls = 2

     ctrl 1: nbr. of B-chnls=2, global opts=0x451

             B1 prots=0x3, B2 prots=0x2, B3 prots=0x1

     ctrl 2: nbr. of B-chnls=2, global opts=0x451

             B1 prots=0x3, B2 prots=0x2, B3 prots=0x1

>>> CAPI_REGISTER (2048/1/8/2048), applId=1

ce_l4_proc: 7h cause ah 1h

>>> CAPI_REGISTER (2048/1/8/2048), applId=2

>>> CAPI_REGISTER (2048/1/8/2048), applId=3

>>> CAPI_REGISTER (2048/1/8/2048), applId=4

>>> CAPI_REGISTER (2048/1/8/2048), applId=5

ce_l4_proc: 7h cause ah 2h

[24] SSLClient> SSLClient() run

[24] sslc_conf_init> ssl client info:

[24] PrivateKey=

[24] MyCertificate=

[24] CaCertificate=

[24] SSL_method=31

[24] verify_mode=1

[24] cipher_suites=ADH:SHA1:HIGH:EXP

[24] tftp_server_ip=140.92.61.131

[24] fn_myCerttificate=ServCert.pem

[24] fn_privateKey=PrivKey.pem

[24] fn_caCertificate=CaCert.pem

[24] sslc_conf_init> ssl client info end:

PKCS12_PBE_add>

PKCS12_PBE_add> support RC4

PKCS12_PBE_add> support DES

PKCS12_PBE_add> support RC2

[24] sslc_conf_init> pCtx=0x81da9a7c in ssld_conf_init


[24] sslc_ctx_reset_cert> re-LoadCACertificate( 3rdCA ) ok!!

[24] sslc_ctx_reset_cert> re-LoadCACertificate( 2ndCA ) ok!!

[24] sslc_ctx_reset_cert> re-LoadCACertificate( 1stCA ) ok!!sslc_ctx_reset_cert> this is pkcs12 type certificate


[24] sslc_ctx_reset_cert : re-LoadServerCertAndKey() ok!!

[24] sslc_conf_init> sslc_conf_init() ok

[24] SSLClient> want to bind socket for client application!

TRAP(coldStart) : send ok!

[USBLPT] Printer Initialize Fail : Plug Out !!

padmin_task_entry() task running

********** upnp_main() Unsupportted UPnP root device[0]: UPnP

upnp_main(1-0) Run-up UPnP device IGD...

push_daemon> enter. (0, 0)

pd_get_server_socket> listen_port=54999

*********************************************

****Wi-Fi Simple Config Application***** 

Version: Build 2.02.2.DTM1.1, Jun 14 2011 15:01:58

*********************************************

hr_daemon> port 32769.

hr_daemon> ssl port 32770.

Init_SSLServer> input listen_protocol=6, nListenPort=32770

[ncidd]: [ncidd]: <Network Port: 3333>

[ncidd]: lan ip=0xffffffffc0a80201

[ncidd]: ncidd_nwsk() sndlog_sock = 49

[HWLAN] [53] rapi_tmr_task running 

uhci_pci_attach: begin ... 

ptp Daemon task running

TR069: The connection request port is 62718 

lpd Daemon task running

[USB ROOTHUB_LOOP] RUNTASK id=57 lpd_main ...

[USB] lpd_init() End.

[45] ssld_conf_init> ssl server info:

[45] PrivateKey=

[45] MyCertificate=

[45] CaCertificate=

[45] SSL_method=31

[45] verify_mode=0

[45] cipher_suites=ADH:SHA1:HIGH:EXP

[45] tftp_server_ip=140.92.61.131

[45] fn_myCerttificate=ServCert.pem

[45] fn_privateKey=PrivKey.pem

[45] fn_caCertificate=CaCert.pem

[45] ssld_conf_init> ssl server info end:

[45] pCtx=0x81d94f04 in ssld_conf_init

ssld_ctx_reset_cert> this is pkcs12 type certificate


[45] ssld_ctx_reset_cert : re-LoadServerCertAndKey() ok!!


[45] ssld_ctx_reset_cert> re-LoadCACertificate( 1stCA ) ok!![45] ssld_conf_init> ssld_conf_init() ok

printer schedule task running

upnp_Init(0) upnpGlobalInit[1]:0

SSDP Initialization completed...

GenaInit : event_hook is NULL!!


>> Parse Service 'urn:schemas-microsoft-com:service:OSInfo:1' : TRUE

>> Parse Service 'urn:schemas-upnp-org:service:Layer3Forwarding:1' : TRUE

>> Parse Service 'urn:schemas-upnp-org:service:WANCommonInterfaceConfig:1' : TRUE

>> Parse Service 'urn:schemas-upnp-org:service:WANEthernetLinkConfig:1' : TRUE

>> Parse Service 'urn:schemas-upnp-org:service:WANPPPConnection:1' : TRUE

>> Parse Service 'urn:schemas-upnp-org:service:WANIPConnection:1' : TRUE

>> Parse Device 'urn:schemas-upnp-org:device:WANConnectionDevice:1' : TRUE

>> Parse Device 'urn:schemas-upnp-org:device:WANDevice:1' : TRUE

>> Parse Device 'urn:schemas-upnp-org:device:InternetGatewayDevice:1' : TRUE

********** upnp_main1() Record pDevRoot[1]:81d7e3e8


>>>> UPNP init IGD device successfully ...


********** upnp_main() Unsupportted UPnP root device[2]: TR64

upnp_main(3-0) Run-up UPnP device WPS-WCN...

upnp_Init(0) upnpGlobalInit[3]:0


>> Parse Service 'urn:schemas-wifialliance-org:service:WFAWLANConfig:1' : TRUE

>> Parse Device 'urn:schemas-wifialliance-org:device:WFADevice:1' : TRUE

********** upnp_main1() Record pDevRoot[3]:81d53fb0


>>>> UPNP init WPS-WCN device successfully ...


********** upnp_main() Unsupportted UPnP root device[4]: AV Media Server

********** upnp_main() Unsupportted UPnP root device[5]: AV Media Renderer

********** upnp_main() Unsupportted UPnP root device[6]: Printer

uhci_init() UHCI_FRAMELIST_COUNT=1024, alloc size:4096

uhci_init() UHCI_FLBASEADDR:0x00e77000, physicalMem:0x00e77000

[1;32m


>>>>>> usbd_new_device: adding unit bus:1, addr=1, rev=0100, class=9, subclass=0, protocol=0, maxpacket=64, len=18, speed=2


[0m[40] Allocate resource 118, FreeResource = 6

Reset Duslic High begin

Reset Duslic end

IFX TAPI, version 3.7.1.5, (c) 2001-2008 Infineon Technologies AG


[29] Allocate mailbox 8

TAPI_init_task_queue: enter loop..8

[40] Allocate resource 119, FreeResource = 7

IFX VMMC device driver, version 1.3.0.5, (c) 2006-2008 Infineon Technologies AG


IFX MIPS24KEc MPS driver, version 2.0.0.0, (c) 2006-2008 Infineon Technologies AG

123ifx_mps_init_structures request_irq 1 146

ifx_mps_init_structures request_irq 2 147

ifx_mps_init_structures request_irq 3 0 142

ifx_mps_init_structures request_irq 3 1 143

ifx_mps_init_structures request_irq 3 2 144

ifx_mps_init_structures request_irq 3 3 145

VMMC_Open : Major 122 Minor 10 

IFX_TAPI_Create_Device: ndev = 0, TapiDev 81D4C000

[40] Allocate resource 120, FreeResource = 8

[40] Allocate resource 121, FreeResource = 9

[40] Allocate resource 122, FreeResource = 10

[40] Allocate resource 123, FreeResource = 11

[40] Allocate resource 124, FreeResource = 12

[40] Allocate event 239

>>>>>>>>>> OS_GetEventNumber: event 239

VMMC_AddCaps: CODECS = 0

VMMC_AddCaps: CODECS = 0

ifx_tapi_Prepare_Ch: nChannel 0

[40] Allocate resource 125, FreeResource = 13

[40] Allocate resource 126, FreeResource = 14

[40] Allocate resource 127, FreeResource = 15

VMMC_Prepare_Ch: nChannel = 1

[40] Allocate resource 128, FreeResource = 16

[40] Allocate event 240

>>>>>>>>>> OS_GetEventNumber: event 240

ifx_tapi_Prepare_Ch: nChannel 1

[40] Allocate resource 129, FreeResource = 17

[40] Allocate resource 130, FreeResource = 18

[40] Allocate resource 131, FreeResource = 19

VMMC_Prepare_Ch: nChannel = 2

[40] Allocate resource 132, FreeResource = 20

[40] Allocate event 241

>>>>>>>>>> OS_GetEventNumber: event 241

ifx_tapi_Prepare_Ch: nChannel 2

[40] Allocate resource 133, FreeResource = 21

[40] Allocate resource 134, FreeResource = 22

[40] Allocate resource 135, FreeResource = 23

VMMC_Prepare_Ch: nChannel = 3

[40] Allocate resource 136, FreeResource = 24

[40] Allocate event 242

>>>>>>>>>> OS_GetEventNumber: event 242

ifx_tapi_Prepare_Ch: nChannel 3

[40] Allocate resource 137, FreeResource = 25

[40] Allocate resource 138, FreeResource = 26

[40] Allocate resource 139, FreeResource = 27

VMMC_Prepare_Ch: nChannel = 4

[40] Allocate resource 140, FreeResource = 28

[40] Allocate event 243

ADSL> READY

>>>>>>>>>> OS_GetEventNumber: event 243

ifx_tapi_Prepare_Ch: nChannel 4

[40] Allocate resource 141, FreeResource = 29

[40] Allocate resource 142, FreeResource = 30

[40] Allocate resource 143, FreeResource = 31

VMMC_Prepare_Ch: nChannel = 5

[40] Allocate resource 144, FreeResource = 32

[40] Allocate event 244

>>>>>>>>>> OS_GetEventNumber: event 244

ifx_tapi_Prepare_Ch: nChannel 5

[40] Allocate resource 145, FreeResource = 33

[40] Allocate resource 146, FreeResource = 34

[40] Allocate resource 147, FreeResource = 35

VMMC_Prepare_Ch: nChannel = 6

[40] Allocate resource 148, FreeResource = 36

[40] Allocate event 245

>>>>>>>>>> OS_GetEventNumber: event 245

ifx_tapi_Prepare_Ch: nChannel 6

[40] Allocate resource 149, FreeResource = 37

[40] Allocate resource 150, FreeResource = 38

[40] Allocate resource 151, FreeResource = 39

VMMC_Prepare_Ch: nChannel = 7

[40] Allocate resource 152, FreeResource = 40

[40] Allocate event 246

>>>>>>>>>> OS_GetEventNumber: event 246

ifx_tapi_Prepare_Ch: nChannel 7

[40] Allocate resource 153, FreeResource = 41

[40] Allocate resource 154, FreeResource = 42

[40] Allocate resource 155, FreeResource = 43

VMMC_Prepare_Ch: nChannel = 8

[40] Allocate resource 156, FreeResource = 44

[40] Allocate event 247

>>>>>>>>>> OS_GetEventNumber: event 247

VMMC_LL_Open, nDev 0, inode 0 mpsCh 1

ifx_mps_open, inode 1

VMMC_Open --> 81d4c000

VMMC_handle[0] : 81d4c000

VMMC_Open : Major 122 Minor 11 

VMMC_LL_Open, nDev 0, inode 1 mpsCh 2

ifx_mps_open, inode 2

VMMC_Open --> 81d49c90

VMMC_handle[1] : 81d49c90

VMMC_Open : Major 122 Minor 12 

VMMC_LL_Open, nDev 0, inode 2 mpsCh 3

ifx_mps_open, inode 3

VMMC_Open --> 81d4a0fc

VMMC_handle[2] : 81d4a0fc

VMMC_Open : Major 122 Minor 13 

VMMC_LL_Open, nDev 0, inode 3 mpsCh 4

ifx_mps_open, inode 4

VMMC_Open --> 81d4a568

VMMC_handle[3] : 81d4a568

VMMC_Open : Major 122 Minor 14 

VMMC_LL_Open, nDev 0, inode 4 mpsCh 5

ifx_mps_open, inode 5

VMMC_Open --> 81d4a9d4

VMMC_handle[4] : 81d4a9d4

VMMC_Open : Major 122 Minor 15 

VMMC_LL_Open, nDev 0, inode 5 mpsCh 6

ifx_mps_open, inode 6

VMMC_Open --> 81d4ae40

VMMC_handle[5] : 81d4ae40

VMMC_Open : Major 122 Minor 16 

VMMC_LL_Open, nDev 0, inode 6 mpsCh 7

ifx_mps_open, inode 7

VMMC_Open --> 81d4b2ac

VMMC_handle[6] : 81d4b2ac

VMMC_Open : Major 122 Minor 17 

VMMC_LL_Open, nDev 0, inode 7 mpsCh 8

VMMC_Open --> 81d4b718

VMMC_handle[7] : 81d4b718

VMMC_Open : Major 122 Minor 18 

VMMC_LL_Open, nDev 0, inode 8 mpsCh 9

VMMC_Open --> 81d4bb84

VMMC_handle[8] : 81d4bb84

===> 

Set PCM I/F 0 VMMC_handle:81d4c000

ifx_mps_ioctl: FIO_MPS_DOWNLOAD...1

[get_vcpufirmware_address] DSP firmware: [5 -1], dCnt:1

Unzipping from B042C000 to 82D6CD84 ... [ZIP 2] usbd_probe_and_attach,probe 1!

uhci_pci_attach: begin ... 

uhci_init() UHCI_FRAMELIST_COUNT=1024, alloc size:4096

uhci_init() UHCI_FLBASEADDR:0x00ea3000, physicalMem:0x00ea3000

[1;32m


>>>>>> usbd_new_device: adding unit bus:2, addr=1, rev=0100, class=9, subclass=0, protocol=0, maxpacket=64, len=18, speed=2


[0musbd_probe_and_attach,probe 1!

ehci_pci_attach: begin ... 

ehci_pci_attach: ioregs:0xb8010000, irq:95

ehci_init() flsize=1024, alloc size:4096

ehci_init() EHCI_PERIODICLISTBASE:0x00de1000, physicalMem:0x00de1900

ehci_init() sqh->physaddr:0x00c227c2

ehci_init() EHCI_ASYNCLISTADDR:0x00c227c0, physicalMem:0x00c227c0

[1;32m


>>>>>> usbd_new_device: adding unit bus:3, addr=1, rev=0200, class=9, subclass=0, protocol=1, maxpacket=64, len=18, speed=3


[0mdone

Uncompressed size = 642816

IFX_MPS: Download firmware (size 642816 bytes)... 123ok!

Version 11.2.4.1.0 up and running...

usbd_probe_and_attach,probe 1!

[USB] dwc3884_start() DWC3884 core version:0x4F54220A, 2.20a

[USB] dwc3884_reset() DANUBE_RCU_UBSCFG:0xBF203018, var:0x00000400

[USB] dwc3884_reset() rstctl:0xBE101010

[USB] dwc3884_start() intsts:0xBE101014, var:0x04008829

[1;32m


>>>>>> usbd_new_device: adding unit bus:4, addr=1, rev=0200, class=9, subclass=0, protocol=1, maxpacket=64, len=18, speed=3


[0musbd_probe_and_attach(Hub)> Reopen STATIC default pipe OK

scan channel 1 rssi -67

max_rssi[0] -67

scan channel 4 rssi -54

max_rssi[3] -54

scan channel 6 rssi -61

max_rssi[5] -61

scan channel 11 rssi -65

max_rssi[10] -65

Dirtyness = 13.2.3.14.2.13.2.2.2.1.12.1.1.

APAutoSelectChannel_ARCOR pick up ch#1

<==== rt28xx_init, Status=0

0x1300 = 00064320

ND 2 ???

ND 1 ???

pAd->VirtualIfCnt 1

usbd_probe_and_attach,probe 1!

startExplore() usb explore task run-up, slot:0, tsk_id:63, reason:0

usb_hc_install_interrupt() Interrupt disable

usb_hc_install_interrupt() Interrupt disable

usb_hc_install_interrupt() Install EHCI interrupt 95

usb_hc_install_interrupt() Install OTG interrupt 54

[0;32mUSB Module: Version 2.0.0 build Jun 30 2011 02:33:47[0m

usb_explore_task() Begin ...

[reset_802dot1x] wireless module ready

config->enablePreAuthen=1

install group key to Mac ASIC ????????????????????????

[reset_802dot1x] 802.1Xv2 ready

[htf_dbg]     - OnlineActiveWirless() 1334

WirelessMode 9 BasicRate 15

AutochannelSelect 0 Channel 0 

autoChannel : 1

NEW : channel 1, BW 0(20MHZ), EXTCHA 3(BELOW)

Set_PreAuth_Proc called, PreAuth=1

stopWlanG ... start

*********************************************

***Waiting for Registrar to connect...***

*********************************************

VMMC_AddCaps: CODECS = 7df

[40] Allocate event 248

>>>>>>>>>> OS_GetEventNumber: event 248

[40] Allocate event 249

>>>>>>>>>> OS_GetEventNumber: event 249

===> 

 VMMC_Ioctl: Phone 1 IFX_TAPI_LINE_TYPE ok!

 VMMC_Ioctl: Phone 1 IFXPHONE_SET_LINEFEED ok!

Set PCM I/F 1 VMMC_handle:81d49c90

===> 

 VMMC_Ioctl: Phone 2 IFX_TAPI_LINE_TYPE ok!

 VMMC_Ioctl: Phone 2 IFXPHONE_SET_LINEFEED ok!

Set PCM I/F 2 VMMC_handle:81d4a0fc

===> 

Set PCM I/F 3 VMMC_handle:81d4a568

===> 

Set PCM I/F 4 VMMC_handle:81d4a9d4

===> 

Set PCM I/F 5 VMMC_handle:81d4ae40

===> 

Set PCM I/F 6 VMMC_handle:81d4b2ac

===> 

Set PCM I/F 7 VMMC_handle:81d4b718

===> 

Set PCM I/F 8 VMMC_handle:81d4bb84

Setting HOOK Related Parameters 0

Setting HOOKFLASH_TIME min 80 ms max 900 ms

Setting HOOKON_TIME min 370 max 370

Setting HOOK Related Parameters 1

Setting HOOKFLASH_TIME min 80 ms max 900 ms

Setting HOOKON_TIME min 370 max 370

Setting HOOK Related Parameters 2

Setting HOOK Related Parameters 3

RUNTASK id=33 VINETIC_DRV_Task...

[68] Allocate mailbox 9

RUNTASK id=68 VINETIC_T38_Task...

RUNTASK id=70 FXO_flash_task...

RUNTASK id=69 VOICE_API_task...

stopWlanG .. done

>>>>>>>>>>>>>>>>>>>>>>tick 6837

Reset Duslic High begin

Reset Duslic end

ProDAAInitialize: begin now

ProDAAInitialize: Line-Side Device Status 0

Port 2 sytem-side revision 45, line-side revision 6

init_DTMF_data: time 7693

force_daa_offhook ch 2 onoff 1 time 7693

ProDaaOffhook 0 2 onoff 1

CID_Detect CH 2 onoff 0

FXO_PolState_DTMFCID --> Disable DTMF CID

force_daa_offhook ch 2 onoff 0 time 7752

ProDaaOffhook 1 2 onoff 0

CID_Detect CH 2 onoff 1

FXO_PolState_DTMFCID --> Detect Polarity Changed Enable DTMF CID

When * the value is 60000

When * the value is 60000

When * the value is 60000

When * the value is 60000

sys_voip_cfg->cpt.reorder = 425@-230;20(0.24/0.24/1)

TEL_DRV_TONE_REORDER  duration = 480

When * the value is 60000

[40] Allocate resource 157, FreeResource = 45

[40] Allocate mailbox 10

TEL_MGR_Init

[40] Allocate resource 158, FreeResource = 46

tel_mgr_mutex=158

[40] Allocate mailbox 11

 TEL_DM_Init

[40] Allocate resource 159, FreeResource = 47

[40] Allocate resource 160, FreeResource = 48

 TEL_MGR_VoiceChannelInit

 TEL_MGR_SetVoiceChannel 1

 !TEL_MGR_SetVoiceChannel: TEL_PORT_GetPhoneChannelId fail

 TEL_MGR_SetPhoneEC

 !TEL_MGR_SetPhoneEC: TEL_PORT_GetPhoneChannelId fail

 TEL_MGR_SetPhoneVAD

 !TEL_MGR_SetPhoneVAD: TEL_PORT_GetPhoneChannelId fail

 TEL_MGR_SetPhoneGain

Gain Tx -2, Rx -9

 TEL_MGR_SetPhoneJitter

 !TEL_MGR_SetPhoneJitter: TEL_PORT_GetPhoneChannelId fail

 TEL_MGR_SetVoiceChannel 2

 !TEL_MGR_SetVoiceChannel: TEL_PORT_GetPhoneChannelId fail

 TEL_MGR_SetPhoneEC

 !TEL_MGR_SetPhoneEC: TEL_PORT_GetPhoneChannelId fail

 TEL_MGR_SetPhoneVAD

 !TEL_MGR_SetPhoneVAD: TEL_PORT_GetPhoneChannelId fail

 TEL_MGR_SetPhoneGain

Gain Tx -2, Rx -9

 TEL_MGR_SetPhoneJitter

 !TEL_MGR_SetPhoneJitter: TEL_PORT_GetPhoneChannelId fail

 TEL_MGR_SetVoiceChannel 3

 !TEL_MGR_SetVoiceChannel: TEL_PORT_GetPhoneChannelId fail

 TEL_MGR_SetPhoneEC

 !TEL_MGR_SetPhoneEC: TEL_PORT_GetPhoneChannelId fail

 TEL_MGR_SetPhoneVAD

 !TEL_MGR_SetPhoneVAD: TEL_PORT_GetPhoneChannelId fail

 TEL_MGR_SetPhoneGain

Gain Tx -2, Rx -9

 TEL_MGR_SetPhoneJitter

 !TEL_MGR_SetPhoneJitter: TEL_PORT_GetPhoneChannelId fail

 TEL_MGR_SetVoiceChannel 4

 !TEL_MGR_SetVoiceChannel: TEL_PORT_GetPhoneChannelId fail

 TEL_MGR_SetPhoneEC

 !TEL_MGR_SetPhoneEC: TEL_PORT_GetPhoneChannelId fail

 TEL_MGR_SetPhoneVAD

 !TEL_MGR_SetPhoneVAD: TEL_PORT_GetPhoneChannelId fail

 TEL_MGR_SetPhoneGain

Gain Tx -2, Rx -9

 TEL_MGR_SetPhoneJitter

 !TEL_MGR_SetPhoneJitter: TEL_PORT_GetPhoneChannelId fail

[40] Allocate resource 161, FreeResource = 49

[40] Allocate mailbox 12

[71] Allocate resource 162, FreeResource = 50

[71] Allocate resource 163, FreeResource = 51

[SIP_CORE_Task] sip_core_ready

TEL_MGR_SetVoipPhoneEvtHookFunc

TEL_MGR_SetVoipPhoneEvtHookFunc

TEL_MGR_SetVoipPhoneEvtHookFunc

TEL_MGR_SetVoipPhoneEvtHookFunc

[40] Allocate resource 164, FreeResource = 52

[40] Allocate mailbox 13

VOICE_IVR_Init: voice_ivr_channel[0].ivrQueueId = 13

[40] Allocate mailbox 14

VOICE_IVR_Init: voice_ivr_channel[1].ivrQueueId = 14

[40] Allocate mailbox 15

VOICE_IVR_Init: voice_ivr_channel[2].ivrQueueId = 15

[40] Allocate mailbox 16

VOICE_IVR_Init: voice_ivr_channel[3].ivrQueueId = 16

[40] Allocate mailbox 17

VOICE_IVR_Init: voice_ivr_channel[4].ivrQueueId = 17

[40] Allocate mailbox 18

VOICE_IVR_Init: voice_ivr_channel[5].ivrQueueId = 18

[40] Allocate mailbox 19

VOICE_IVR_Init: voice_ivr_channel[6].ivrQueueId = 19

[40] Allocate mailbox 20

VOICE_IVR_Init: voice_ivr_channel[7].ivrQueueId = 20

TEL_MGR_DisableDebug

TEL_MGR_AutoDetection: End U high impedance state 8015

TEL_MGR_AutoDetection: Start calculate time 10015

</code>
</p>

</div>

<h3 class="sectionedit14" id="linux_bootlog">Linux bootlog</h3>
<div class="level3">

<p>
booting from u-boot from original bootloader
</p>

<p style="padding: 10px;border:1px solid grey;height:500px;font:10px/14px Georgia, Garamond, Serif;overflow:Auto;background-color:#FFFFFF">
<code>
[DANUBE Boot]:y
               
Go to Memory Address: (default:0x80002000) : 0x
Jump to address 0x80002000 ...
                              

U-Boot 2010.03 (Sep 29 2012 - 18:24:13)

Board: ARV752DPW22
SoC: Danube/Twinpass/Vinax-VE V1.5, DDR Speed 166 MHz, CPU Speed 333 MHz
DRAM:  64 MB
Flash:  8 MB
*** Warning - bad CRC, using default environment

Net:   bring up ebu gpio
initializing ar8216 switch... initialized
lq_cpe_eth
Hit any key to stop autoboot:  0 
## Booting kernel from Legacy Image at b0020000 ...
   Image Name:   MIPS OpenWrt Linux-3.3.8
   Created:      2012-09-04  19:43:16 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    1011964 Bytes = 988.2 kB
   Load Address: 80002000
   Entry Point:  80002000
   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK

Starting kernel ...

[    0.000000] Linux version 3.3.8 (blogic@Debian-60-squeeze-64-minimal) (gcc version 4.6.3 20120201 (prerelease) (Linaro GCC 4.6-2012.02) ) #4 Fri Aug 31 16:20:51 UTC 2012
[    0.000000] SoC: Danube rev 1.5
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 00019641 (MIPS 24KEc)
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 04000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone PFN ranges:
[    0.000000]   Normal   0x00000000 -> 0x00004000
[    0.000000] Movable zone start PFN for each node
[    0.000000] Early memory PFN ranges
[    0.000000]     0: 0x00000000 -> 0x00004000
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 16256
[    0.000000] Kernel command line: console=ttyLTQ1,115200 rootfstype=squashfs,jffs2 machtype=ARV752DPW22
[    0.000000] PID hash table entries: 256 (order: -2, 1024 bytes)
[    0.000000] Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Primary instruction cache 16kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 32 bytes
[    0.000000] Writing ErrCtl register=00074f68
[    0.000000] Readback ErrCtl register=00074f68
[    0.000000] Memory: 61832k/65536k available (2399k kernel code, 3704k reserved, 403k data, 176k init, 0k highmem)
[    0.000000] NR_IRQS:256
[    0.000000] CPU Clock: 333MHz
[    0.000000] Calibrating delay loop... 221.18 BogoMIPS (lpj=442368)
[    0.040000] pid_max: default: 32768 minimum: 301
[    0.044000] Mount-cache hash table entries: 512
[    0.052000] NET: Registered protocol family 16
[    0.060000] gpiochip_add: registered GPIOs 0 to 15 on device: ltq_gpio
[    0.064000] gpiochip_add: registered GPIOs 16 to 31 on device: ltq_gpio
[    0.068000] MIPS: machine is ARV752DPW22 - Arcor A803
[    0.072000] gpiochip_add: registered GPIOs 100 to 115 on device: ltq_ebu
[    0.104000] bio: create slab <bio-0> at 0
[    0.112000] PCI host bridge to bus 0000:00
[    0.116000] pci_bus 0000:00: root bus resource [mem 0x18000000-0x19ffffff]
[    0.120000] pci_bus 0000:00: root bus resource [io  0x1ae00000-0x1affffff]
[    0.128000] pci 0000:00:0e.0: BAR 0: assigned [mem 0x18000000-0x1800ffff]
[    0.132000] pci 0000:00:0f.2: BAR 0: assigned [mem 0x18010000-0x180100ff]
[    0.136000] pci 0000:00:0f.0: BAR 4: assigned [io  0x1ae00000-0x1ae0001f]
[    0.140000] pci 0000:00:0f.1: BAR 4: assigned [io  0x1ae00020-0x1ae0003f]
[    0.144000] pci 0000:00:0e.0: SLOT:14 PIN:1 IRQ:30
[    0.148000] pci 0000:00:0f.0: SLOT:15 PIN:1 IRQ:135
[    0.152000] pci 0000:00:0f.1: SLOT:15 PIN:2 IRQ:135
[    0.156000] pci 0000:00:0f.2: SLOT:15 PIN:3 IRQ:135
[    0.160000] Switching to clocksource MIPS
[    0.168000] NET: Registered protocol family 2
[    0.176000] IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.180000] TCP established hash table entries: 2048 (order: 2, 16384 bytes)
[    0.188000] TCP bind hash table entries: 2048 (order: 1, 8192 bytes)
[    0.196000] TCP: Hash tables configured (established 2048 bind 2048)
[    0.200000] TCP reno registered
[    0.204000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.212000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.216000] NET: Registered protocol family 1
[    0.220000] PCI: Enabling device 0000:00:0f.0 (0000 -> 0001)
[    0.228000] PCI: Enabling device 0000:00:0f.1 (0000 -> 0001)
[    0.232000] PCI: Enabling device 0000:00:0f.2 (0000 -> 0002)
[    0.240000] gptu: totally 6 16-bit timers/counters
[    0.244000] gptu: misc_register on minor 63
[    0.248000] gptu: succeeded to request irq 126
[    0.252000] gptu: succeeded to request irq 127
[    0.260000] gptu: succeeded to request irq 128
[    0.264000] gptu: succeeded to request irq 129
[    0.268000] gptu: succeeded to request irq 130
[    0.272000] gptu: succeeded to request irq 131
[    0.280000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.284000] JFFS2 version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.296000] msgmni has been set to 120
[    0.300000] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 254)
[    0.308000] io scheduler noop registered
[    0.312000] io scheduler deadline registered (default)
[    0.320000] ltq_asc.1: ttyLTQ1 at MMIO 0x1e100c00 (irq = 112) is a ltq_asc
[    0.324000] console [ttyLTQ1] enabled, bootconsole disabled
[    0.324000] console [ttyLTQ1] enabled, bootconsole disabled
[    0.340000] ltq_nor: Found 1 x16 devices at 0x0 in 16-bit bank. Manufacturer ID 0x0000c2 Chip ID 0x0022cb
[    0.348000] Amd/Fujitsu Extended Query Table at 0x0040
[    0.352000]   Amd/Fujitsu Extended Query version 1.1.
[    0.360000] number of CFI chips: 1
[    0.360000] Creating 4 MTD partitions on "ltq_nor":
[    0.368000] 0x000000000000-0x000000010000 : "uboot"
[    0.376000] 0x000000010000-0x000000020000 : "uboot_env"
[    0.380000] 0x000000020000-0x0000007f0000 : "linux"
[    0.388000] found squashfs behind kernel
[    0.392000] Creating 2 MTD partitions on "ltq_nor":
[    0.396000] 0x000000020000-0x00000011713c : "kernel"
[    0.400000] mtd: partition "kernel" must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.416000] 0x00000011713c-0x0000007f0000 : "rootfs"
[    0.420000] mtd: partition "rootfs" must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.432000] mtd: partition "rootfs" set to be root filesystem
[    0.440000] mtd: partition "rootfs_data" created automatically, ofs=270000, len=580000 
[    0.444000] 0x000000270000-0x0000007f0000 : "rootfs_data"
[    0.456000] 0x0000007f0000-0x000000800000 : "board_config"
[    0.464000] etop: invalid MAC, using random
[    0.612000] ltq_mii: probed
[    0.636000] eth0: Atheros AR8216 switch driver attached.
[    0.736000] eth0: attached PHY [Atheros AR8216/AR8236/AR8316] (phy_addr=ltq_etop-fffffff:00, irq=-1)
[    0.760000] TCP cubic registered
[    0.760000] NET: Registered protocol family 17
[    0.764000] 8021q: 802.1Q VLAN Support v[    0.780000] VFS: Mounted root (squashfs filesystem) readonly on device 31:4.
[    0.788000] Freeing unused kernel memory: 176k freed
- preinit -
Press the [f] key and hit [enter] to enter failsafe mode
- regular preinit -
[    7.352000] JFFS2 notice: (420) jffs2_build_xattr_subsystem: complete building xattr subsystem, 1 of xdatum (1 unchecked, 0 orphan) and 5 of xref (0 dead, 2 orphan) found.
switching to jffs2
- init -

Please press Enter to activate this console. [    8.580000] usbcore: registered new interface driver usbfs
[    8.584000] usbcore: registered new interface driver hub
[    8.592000] usbcore: registered new device driver usb
[    8.732000] NET: Registered protocol family 8
[    8.736000] NET: Registered protocol family 20
[    8.772000] Button Hotplug driver version 0.4.1
[    8.812000] PPP generic driver version 2.4.2
[    9.132000] ip_tables: (C) 2000-2006 Netfilter Core Team
[    9.404000] NET: Registered protocol family 24
[    9.428000] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
[    9.432000] ehci_hcd 0000:00:0f.2: EHCI Host Controller
[    9.440000] ehci_hcd 0000:00:0f.2: new USB bus registered, assigned bus number 1
[    9.444000] ehci_hcd 0000:00:0f.2: irq 135, io mem 0x18010000
[    9.464000] ehci_hcd 0000:00:0f.2: USB 2.0 started, EHCI 1.00
[    9.468000] hub 1-0:1.0: USB hub found
[    9.468000] hub 1-0:1.0: 4 ports detected
[    9.500000] nf_conntrack version 0.5.0 (968 buckets, 3872 max)
[   10.396000] IFX MEI Version 5.00.00
[   10.624000] 
[   10.624000] Infineon CPE API Driver version: DSL CPE API V3.24.4.4
[   10.788000]     ATM (A1) firmware version 1.0.19
[   10.792000] ifxmips_atm: ATM init succeed
[   10.824000] dwc_otg: version 2.60a 22-NOV-2006
[   11.428000] DWC_otg: Using DMA mode
[   11.428000] dwc_otg dwc_otg.0: DWC OTG Controller
[   11.436000] dwc_otg dwc_otg.0: new USB bus registered, assigned bus number 2
[   11.440000] dwc_otg dwc_otg.0: irq 62, io mem 0xffffffffbe101000
[   11.452000] DWC_otg: Init: Port Power? op_state=1
[   11.452000] DWC_otg: Init: Power Port (0)
[   11.460000] hub 2-0:1.0: USB hub found
[   11.460000] hub 2-0:1.0: 1 port detected
[   11.564000] DISCONNECTED PORT
[   11.568000] uhci_hcd: USB Universal Host Controller Interface driver
[   11.572000] uhci_hcd 0000:00:0f.0: UHCI Host Controller
[   11.580000] uhci_hcd 0000:00:0f.0: new USB bus registered, assigned bus number 3
[   11.588000] uhci_hcd 0000:00:0f.0: irq 135, io base 0x1ae00000
[   11.592000] hub 3-0:1.0: USB hub found
[   11.596000] hub 3-0:1.0: 2 ports detected
[   11.600000] uhci_hcd 0000:00:0f.1: UHCI Host Controller
[   11.604000] uhci_hcd 0000:00:0f.1: new USB bus registered, assigned bus number 4
[   11.612000] uhci_hcd 0000:00:0f.1: irq 135, io base 0x1ae00020
[   11.620000] hub 4-0:1.0: USB hub found
[   11.620000] hub 4-0:1.0: 2 ports detected
[   11.640000] input: gpio-keys-polled as /devices/platform/gpio-keys-polled/input/input0
[   16.276000] device eth0 entered promiscuous mode
[   16.288000] br-lan: port 1(eth0) entered forwarding state
[   16.292000] br-lan: port 1(eth0) entered forwarding state
[   18.296000] br-lan: port 1(eth0) entered forwarding state
</code>
</p>

</div>

<h2 class="sectionedit15" id="backup_flash">backup flash</h2>
<div class="level2">

<p>
Please backup your original firmware! Not only that you might want to go back to the original state later, but your firmware may also contain data that is unique to your device like MAC addresses (not sure about that but though).
</p>

<p>
You&#039;ll need:
</p>
<ul>
<li class="level1"><div class="li"> <a href="https://github.com/rvalles/brntool" class="urlextern" title="https://github.com/rvalles/brntool"  rel="nofollow">https://github.com/rvalles/brntool</a></div>
</li>
</ul>

</div>

<h3 class="sectionedit16" id="brntool">brntool</h3>
<div class="level3">

<p>
A dump of the firmware is done in ~1 hour. Ro dump twice as recomended by the autor of brntool you have to plan 2 hours to backup your device.
</p>

<p>
First you have to enter the &quot;Administrator Mode&quot; in DANUBE Boot.
</p>
<ol>
<li class="level1"><div class="li"> plug in USB2serial adapter</div>
</li>
<li class="level1"><div class="li"> <code>screen /dev/ttyUSB0 115200</code></div>
</li>
<li class="level1"><div class="li"> power on the device</div>
</li>
<li class="level1"><div class="li"> hurry press 3x space bar</div>
</li>
<li class="level1"><div class="li"> type an exclamation mark (!) to enter the administration mode</div>
</li>
</ol>

<p>
<pre class="code">Press Space Bar 3 times to enter command mode ...123
Yes, Enter command mode ...


[DANUBE Boot]:!

Enter Administrator Mode !

======================
 [#] Set Serial Number
 [2] Use Normal Firmware
 [3] Use ART-Testing Firmware
 [9] Taggle ART Firmware Enable/Disable
 [A] Set MAC Address
 [E] Erase Flash
 [G] Run Runtime Code
 [H] Set Options
 [M] Upload to Memory
 [P] Print Boot Params
 [R] Read from Memory
 [T] Memory Test
 [U] Upload to Flash
 [V] Set Board Version
 [W] Write to Memory
 [Y] Go to Memory
 [Z] Dump DDR Ram Register
 [0] Primary = Image 0
 [1] Primary = Image 1
======================

[DANUBE Boot]:</pre>

</p>

<p>
Kill your serial terminal (screen: &quot;<strong>[CTRL]</strong>+<strong>[A]</strong>, <strong>[K]</strong>&quot; and confirm exit with <strong>[Y]</strong>&quot;). Now you are able to dump the original firmware as shown below. 
</p>

<p>
<pre class="code"># time ./brntool.py --read=ARV752DPW22_orig.dump --addr=0xB0000000 --verbose --size=0x800000
Waiting for a prompt... Ok.
.............................. [abbreviated version, you will see **many** more dots and hopefully no exclamation marks]
real	61m27.738s
user	1m18.327s
sys	0m47.164s</pre>

</p>

<p>
Powercycle the router, enter the &quot;Admin Mode&quot; of the bootloader and dump the firmware again: 
</p>

<p>
<pre class="code"># ./brntool.py --read=ARV752DPW22_orig2.dump --addr=0xB0000000 --verbose --size=0x800000</pre>

</p>

<p>
Compare the files. If everything is ok you will end with 2 identical files:
</p>

<p>
<pre class="code"># ls -l ARV752DPW22_orig*.dump
-rw-r--r--. 1 root root 8388608 12. Feb 23:32 ARV752DPW22_orig.dump
-rw-r--r--. 1 root root 8388608 13. Feb 00:58 ARV752DPW22_orig2.dump
# diff ARV752DPW22_orig.dump ARV752DPW22_orig2.dump
# cmp ARV752DPW22_orig.dump ARV752DPW22_orig2.dump
# md5sum ARV752DPW22_orig*
7eeffb26ab4d23214b0bfd3e14a34812  ARV752DPW22_orig2.dump
7eeffb26ab4d23214b0bfd3e14a34812  ARV752DPW22_orig.dump</pre>

</p>

<p>
As you see, the two files are the same. If you compare your own output with this example you probably note the md5sums differ, thats ok: You <strong>have</strong> to end with md5sums different like shown here in this example, because my MAC Adress/Serial No./configuration its also saved in this dump.
</p>

</div>

<h2 class="sectionedit17" id="layout_of_the_original_flash_image">Layout of the original Flash Image</h2>
<div class="level2">

<p>
If you select &quot;<code>[E] Erase Flash</code>&quot; in the bootloader you can see the original flash layout:
</p>

<p>
<pre class="code">[DANUBE Boot]:e

ERASE Flash
---------------------------------------
    Area            Address      Length 
--------------------------------------- 
[0] Boot            0xB0000000     128K
[1] Configuration   0xB0020000     512K
[2] Special Area    0xB00A0000      64K
[3] Code Image      0xB00B0000    7424K
[4] Boot Params     0xB07F0000      64K
[5] Flash Image     0xB0000000    8192K
---------------------------------------
Enter area to ERASE:</pre>
 <strong><span style='color:red; '>press [ESC]!!!</span></strong>
</p>

</div>

<h5 id="explaination">Explaination</h5>
<div class="level5">

<p>
these are the assumptions:
</p>
<div class="table sectionedit18"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 centeralign">  Area         </th><th class="col1 centeralign">  content  </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> Boot          </td><td class="col1"> brnboot </td>
	</tr>
	<tr class="row2">
		<td class="col0"> Configuration </td><td class="col1"> router <abbr title="Operating System">OS</abbr> parameters</td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> Special Area  </td><td class="col1"> </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> Code Image    </td><td class="col1"> router <abbr title="Operating System">OS</abbr> </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> Boot Params   </td><td class="col1"> WLAN Firmware </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit19" id="u-boot">U-Boot</h2>
<div class="level2">

<p>
Downloads: <a href="http://downloads.openwrt.org/attitude_adjustment/12.09-rc1/lantiq/danube/" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09-rc1/lantiq/danube/"  rel="nofollow">OpenWrt 12.09-rc1 uboot</a>
</p>

<p>
There are 3 different possibilities to run u-boot:
</p>
<ol>
<li class="level1"><div class="li"> <strong>uboot-lantiq-arv752DPW22_brnboot</strong> meant to be loaded from brnboot as a 2nd stage bootloader, on memory</div>
</li>
<li class="level1"><div class="li"> <strong>uboot-lantiq-arv752DPW22_flash</strong> meant to be flashed into the unit as the main bootloader, (at 0xB0000000-0xB000FFFF ???)</div>
</li>
<li class="level1"><div class="li"> <strong>uboot-lantiq-arv752DPW22_ramboot</strong> meant to be uploaded via UART by the cpu if flash&#039;s bootloader is broken, for rescue purposes <br/>
see <span class="curid"><a href="arv752dpw22#uartmode" class="wikilink1" title="toh:astoria:arv752dpw22">below</a></span></div>
</li>
</ol>
<ul>
<li class="level1"><div class="li"> U-Boot is compatible with ARV7518PW according to <a href="https://forum.openwrt.org/viewtopic.php?pid=225575#p225575" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=225575#p225575"  rel="nofollow">this article</a>.</div>
</li>
<li class="level1"><div class="li"> There are currently no U-Boots available in <a href="https://downloads.openwrt.org/snapshots/trunk/lantiq/" class="urlextern" title="https://downloads.openwrt.org/snapshots/trunk/lantiq/"  rel="nofollow">trunk</a> (20-Apr-2015).</div>
</li>
<li class="level1"><div class="li"> For BarrierBreaker you can use <a href="https://forum.openwrt.org/viewtopic.php?pid=272879#p272879" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=272879#p272879"  rel="nofollow">this U-Boot</a> (from SNK).</div>
</li>
</ul>

</div>

<h3 class="sectionedit20" id="run_u-boot_noninvasive_via_serial_port">run u-boot noninvasive via serial port</h3>
<div class="level3">
<ol>
<li class="level1"><div class="li"> download <a href="http://downloads.openwrt.org/attitude_adjustment/12.09-rc1/lantiq/danube/uboot-lantiq-arv752DPW22_brnboot/u-boot.bin" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09-rc1/lantiq/danube/uboot-lantiq-arv752DPW22_brnboot/u-boot.bin"  rel="nofollow">u-boot.bin</a></div>
</li>
<li class="level1"><div class="li"> get into administrative mode of bootloader</div>
</li>
<li class="level1"><div class="li"> choose<br/>
<code>[M] Upload to Memory</code><br/>
at default address 0x80002000</div>
</li>
<li class="level1"><div class="li"> exit terminal</div>
</li>
<li class="level1"><div class="li"> send u-boot.bin via XMODEM protocoll:<br/>
<code>sx u-boot.bin &lt;/dev/ttyUSB0 &gt;/dev/ttyUSB0</code></div>
</li>
<li class="level1"><div class="li"> get to the console via terminal egain &amp; type <strong>[Return]</strong></div>
</li>
<li class="level1"><div class="li"> choose<br/>
<code>[Y] Go to Memory</code><br/>
to default address 0x80002000</div>
</li>
</ol>

<p>
u-boot starts like this:<br/>

<pre class="code">[DANUBE Boot]:Y

Go to Memory Address: (default:0x80002000) : 0x
Jump to address 0x80002000 ...


U-Boot 2010.03 (Sep 29 2012 - 18:24:13)

Board: ARV752DPW22
SoC: Danube/Twinpass/Vinax-VE V1.5, DDR Speed 166 MHz, CPU Speed 333 MHz
DRAM:  64 MB
Flash:  8 MB
*** Warning - bad CRC, using default environment

Net:   bring up ebu gpio
initializing ar8216 switch... initialized
lq_cpe_eth
Hit any key to stop autoboot:  0
Wrong Image Format for bootm command
ERROR: can&#039;t get kernel image!
Failed to execute bootcmd (maybe invalid u-boot environment?), starting httpd to update firmware...
starting httpd server from server 192.168.1.1
http start
..........................................................................</pre>

</p>

<p>
You can hit <strong>[Ctrl]</strong> + <strong>[C]</strong> to get to the command line or hitting a key at the requested time.
</p>

</div>

<h3 class="sectionedit21" id="install_openwrt_via_serial_port">install OpenWRT via serial port</h3>
<div class="level3">

<p>
<span style='color:red; '><strong>Attention</strong>:<br/>

In this paragraph you have to take action on <strong>bootloader [bl]</strong> cmd line and sometimes on <strong>u-boot [ub]</strong> cmd line and sometimes local <strong>[lo]</strong>.<br/>

Don&#039;t mix up!</span>
</p>

<p>
Download the squash image <a href="http://downloads.openwrt.org/attitude_adjustment/12.09/lantiq/danube/openwrt-lantiq-danube-ARV752DPW22-squashfs.image" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09/lantiq/danube/openwrt-lantiq-danube-ARV752DPW22-squashfs.image"  rel="nofollow">openwrt-lantiq-danube-ARV752DPW22-squashfs.image</a>.
</p>

<p>
At first create a flash image that doesn&#039;t destroy the original bootloader.
</p>

<p>
To do this take a copy of the original bootloader code (first 128k of the backup firmware) and attach the squash image to it:
</p>

<p>
<strong>[lo]</strong>: <code>cat ARV752DPW22_boot.dump openwrt-lantiq-danube-ARV752DPW22-squashfs.image &gt; flash.img</code>
</p>

<p>
Then erase all flash blocks not needed on the u-boot command line:
</p>

<p>
<strong>[ub]</strong>: <code>ARV752DPW22 ⇒ erase 1:9-134</code>
</p>

<p>
This takes some time.
</p>

<p>
Then reset and write the just created <code>flash.img</code> via XMODEM to the flash at area 5 (whole flash):
</p>

<p>
choose<br/>

<strong>[bl]</strong>: <code>[U] Upload to Flash</code> <br/>

<strong>[bl]</strong>: <code>[5] Flash Image     0xB0000000    8192K             </code> and transmit via<br/>

<strong>[lo]</strong>: <code>sx flash.img &lt;/dev/ttyUSB0 &gt;/dev/ttyUSB0</code>
</p>

<p>
This takes some more time to transmit and then takes some time again to get written to the flash. <strong>Be patient!!</strong>
</p>

<p>
Wait until the bootloader command line is interactive again. <strong>Be patient!!</strong>
</p>

<p>
The openwrt image is on the flash but it doesn&#039;t start automatically because u-boot isn&#039;t on flash yet.
</p>

<p>
To boot OpenWRT put u-boot into ram again and start it. That&#039;s it.
</p>

</div>

<h2 class="sectionedit22" id="wlan1">WLAN</h2>
<div class="level2">

<p>
For Wifi to work, you must preserve the original board config partition. It consists of the last sector of your flash: 0xb07f000 - 0xb07ffff.  If your wifi doesn&#039;t work, you propably have accidently erased that data. Hopefully you created a backup of your original firmware. That backup should be 8MB (8388608 bytes) long. The last 65536 (0x10000) bytes are the ones we are needing here.
</p>

<p>
You can extract them using dd. Assuming you are on the machine where the original firmware backup is stored and it is named original.dump:
</p>

<p>
<pre class="code">dd if=original.dump bs=1 skip=$((0x7f0000)) count=$((0x10000)) of=board_config.image</pre>

</p>

<p>
Now you need to get the contents of the new file board_config.image onto your device. You could use TFTP from the U-Boot prompt.
</p>

<p>
Once you have managed to load the data into the device memory (propably at $loadaddr), you erase the target flash memory from U-Boot:
</p>

<p>
<pre class="code">erase 0xb07f0000 +0x10000</pre>

</p>

<p>
Then write the board config partition from memory to the flash:
</p>

<p>
<pre class="code">cp.b $loadaddr 0xb07f0000 0x10000</pre>

</p>

<p>
I don&#039;t know if it actually helps overwriting it ever again, but it hopefully won&#039;t hurt to protect that part of the flash:
</p>

<p>
<pre class="code">protect on 0xb07f0000 +0x10000</pre>

</p>

<p>
For me at this point wifi still wouldn&#039;t work after restarting the box. OpenWRT still needs to apply the wifi EEPROM data from that partition. I tried that manually without success. What did work for me was doing an OpenWRT &quot;reset to defaults&quot; from LuCI. I can now successfully scan for nearby wifi networks.
</p>

<p>
These links provide information for older versions of OpenWRT:  
<a href="https://lists.openwrt.org/pipermail/openwrt-devel/2014-January/023459.html" class="urlextern" title="https://lists.openwrt.org/pipermail/openwrt-devel/2014-January/023459.html"  rel="nofollow">https://lists.openwrt.org/pipermail/openwrt-devel/2014-January/023459.html</a>
<a href="https://lists.openwrt.org/pipermail/openwrt-devel/2014-January/023460.html" class="urlextern" title="https://lists.openwrt.org/pipermail/openwrt-devel/2014-January/023460.html"  rel="nofollow">https://lists.openwrt.org/pipermail/openwrt-devel/2014-January/023460.html</a>
</p>

</div>

<h2 class="sectionedit23" id="uart_mode">UART Mode</h2>
<div class="level2">

<p>
There is a special mode where you can load a firmware via serial port when the bootloader is broken.
</p>

<p>
This info is taken from: <a href="http://www.arcor-user-forum.de/easybox-803a-arv752dpw22-annex-a-firmware-4583/#post31850" class="urlextern" title="http://www.arcor-user-forum.de/easybox-803a-arv752dpw22-annex-a-firmware-4583/#post31850"  rel="nofollow">Arcor-User-Forum</a>.
</p>

<p>
You need to set the hardware into UART mode by modifying the hardware:
</p>
<ul>
<li class="level1"><div class="li"> shortcut R80 and</div>
</li>
<li class="level1"><div class="li"> bring +3.3V on the left side of R65</div>
</li>
</ul>

<p>
<a href="../../_detail/toh/astoria/uart.3.3v.803a.jpg?id=toh%253Aastoria%253Aarv752dpw22" class="media" title="toh:astoria:uart.3.3v.803a.jpg"><img src="../../_media/toh/astoria/uart.3.3v.803a.jpg?w=250&amp;tok=6ffedf" class="media" alt="" width="250" /></a>
<a href="../../_detail/toh/astoria/uart.closeup.803a.jpg?id=toh%253Aastoria%253Aarv752dpw22" class="media" title="toh:astoria:uart.closeup.803a.jpg"><img src="../../_media/toh/astoria/uart.closeup.803a.jpg?w=250&amp;tok=810718" class="media" alt="" width="250" /></a>
</p>

<p>
In this mode the device will only prompt:
<pre class="code">ROM VER: 1.0.3 
CFG 04 
Read EEPROMX 
X
UART</pre>

Once you see that prompt you may carefully remove the additional circuitry (just in case you are manually bridging the connectors and need your hands to do the following steps). The device will reenter UART mode with each soft reset until you power cylce it.
</p>

<p>
If part of the prompt is repeatingly displayed, your bridging of R80 might be inaccurate.
</p>

<p>
Than you can submit e.g. an u-boot in <abbr title="American Standard Code for Information Interchange">ASCII</abbr>-format (uboot-lantiq-arv752DPW22_ramboot) with 
<pre class="code">HostPC:~# cat u-boot.asc &gt; /dev/ttyUSB0 </pre>

which will be directly loaded. 
In most cases you have to stop u-boot normal boot while pressing space, to get an u-boot console.
</p>

<p>
Possibly problems to write sth to the flash is protection
turn it off in u-boot:
<pre class="code">ARV752DPW22 =&gt; protect off 1:0-134
Un-Protect Flash Sectors 0-134 in Bank #1 </pre>

</p>

</div>

<h2 class="sectionedit24" id="running_cc">Running CC</h2>
<div class="level2">

<p>
1. compile firmware- AND u-boot-loader-images (find recipes galore in this Wiki)
</p>

<p>
2. transfer new uboot into memory (find informations above - my example assumes, that&#039;s a running u-boot on the system avail)
</p>

<p>
3. write new uboot to flash 
</p>

<p>
-REBOOT-
</p>

<p>
4. load new firmware into memory (tftp or bootp)
</p>

<p>
5. write uploaded firmware into flash (checksums may differ, addresses should be similiar) 
</p>

<p>
-REBOOT-
</p>

<p>
<pre class="code">
HostPC:~# python ./ubootwrite.py --addr=0x80500000 --write=openwrt-lantiq-arv752dpw22_nor-u-boot.img --verbose
... ... ...
Ok, prompt received
Writing: mw 8052d4e0 ffffffff at: 0x8052d4e0
Waiting for prompt...
Ok, prompt received
File successfully written. You should run command &#039;crc32 80500000 0002d4e4&#039; on the modem and the result must be 17ceed2d.
HostPC:~# 





#################### from serial-console ###############################################

crc32 80500000 0002d4e4

##### check ! (17ceed2d in my case)

protect off 0xb0000000 0xB002FFFF     
  
erase 0xb0000000 0xB002FFFF

cp.b 0x80500000 0xb0000000 0x2d4e4

protect on 0xb0000000 0xB002FFFF   




#####################   REBOOT  ##################################






ARV752DPW22 # help
?       - alias for &#039;help&#039;
base    - print or set address offset
bdinfo  - print Board Info structure
bootm   - boot application image from memory
bootp   - boot image via network using BOOTP/TFTP protocol
cmp     - memory compare
cp      - memory copy
crc32   - checksum calculation
editenv - edit environment variable
env     - environment handling commands
erase   - erase FLASH memory
exit    - exit script
false   - do nothing, unsuccessfully
flinfo  - print FLASH memory information
go      - start application at address &#039;addr&#039;
help    - print command description/usage
iminfo  - print header information for application image
loadb   - load binary file over serial line (kermit mode)
loadx   - load binary file over serial line (xmodem mode)
loady   - load binary file over serial line (ymodem mode)
loop    - infinite loop on address range
md      - memory display
mdio    - MDIO utility commands
mii     - MII utility commands
mm      - memory modify (auto-incrementing address)
mw      - memory write (fill)
nm      - memory modify (constant address)
ping    - send ICMP ECHO_REQUEST to network host
printenv- print environment variables
protect - enable or disable FLASH write protection
reset   - Perform RESET of the CPU
run     - run commands in an environment variable
saveenv - save environment variables to persistent storage
setenv  - set environment variables
showvar - print local hushshell variables
test    - minimal test like /bin/sh
tftpboot- boot image via network using TFTP protocol
true    - do nothing, successfully
version - print monitor, compiler and linker version
ARV752DPW22 # version

U-Boot 2013.10-openwrt4 (Oct 05 2014 - 01:17:14) ARV752DPW22
mips-openwrt-linux-uclibc-gcc (OpenWrt/Linaro GCC 4.8-2014.04 r42701) 4.8.3
GNU ld (GNU Binutils) 2.22


ARV752DPW22 # printenv
addconsole=setenv bootargs $bootargs console=$consoledev,$baudrate
addeth=setenv bootargs $bootargs ethaddr=$ethaddr
addip=setenv bootargs $bootargs ip=$ipaddr:$serverip::::$netdev:off
addmachtype=setenv bootargs $bootargs machtype=ARV752DPW22
baudrate=115200
bootcmd=bootm ${kernel_addr}
bootdelay=2
consoledev=ttyLTQ1
ethact=ltq-eth
ethaddr=00:01:02:03:04:05
ipaddr=192.168.1.1
kernel_addr=0xB0040000
load-uboot-nor=tftpboot u-boot.bin
load-uboot-norspl=tftpboot u-boot.ltq.norspl
load-uboot-norspl-lzma=tftpboot u-boot.ltq.lzma.norspl
load-uboot-norspl-lzo=tftpboot u-boot.ltq.lzo.norspl
loadaddr=0x81000000
netdev=eth0
serverip=192.168.1.2
stderr=serial
stdin=serial
stdout=serial
update-uboot-nor=run load-uboot-nor write-uboot-nor
write-uboot-nor=protect off 0xB0000000 +$filesize &amp;&amp; erase 0xB0000000 +$filesize &amp;&amp; cp.b $fileaddr 0xB0000000 $filesize



ARV752DPW22 # bootp
BOOTP broadcast 1
Using ltq-eth device
TFTP from server 192.168.1.50; our IP address is 192.168.1.21
Filename &#039;openwrt-lantiq-xway-ARV752DPW22-squashfs.image&#039;.
Load address: 0x81000000
Loading: #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         ##########################
         935.5 KiB/s
done
Bytes transferred = 4456452 (440004 hex)
ARV752DPW22 # crc32 81000000 440004 
CRC32 for 81000000 ... 81440003 ==&gt; 6b5cb0b5

ARV752DPW22 # flinfo

Bank # 1: CFI conformant flash (16 x 16)  Size: 8 MB in 135 Sectors
  AMD Standard command set, Manufacturer ID: 0xC2, Device ID: 0x22CB
  Erase timeout: 16384 ms, write timeout: 1 ms

  Sector Start Addresses:
  B0000000   RO   B0002000   RO   B0004000   RO   B0006000   RO   B0008000   RO 
  B000A000   RO   B000C000   RO   B000E000   RO   B0010000   RO   B0020000   RO 
  B0030000   RO   B0040000        B0050000        B0060000        B0070000      
  B0080000        B0090000        B00A0000        B00B0000        B00C0000      
  B00D0000        B00E0000        B00F0000        B0100000        B0110000      
  B0120000        B0130000        B0140000        B0150000        B0160000      
  B0170000        B0180000        B0190000        B01A0000        B01B0000      
  B01C0000        B01D0000        B01E0000        B01F0000        B0200000      
  B0210000        B0220000        B0230000        B0240000        B0250000      
  B0260000        B0270000        B0280000        B0290000        B02A0000      
  B02B0000        B02C0000        B02D0000        B02E0000        B02F0000      
  B0300000        B0310000        B0320000        B0330000        B0340000      
  B0350000        B0360000        B0370000        B0380000        B0390000      
  B03A0000        B03B0000        B03C0000        B03D0000        B03E0000      
  B03F0000        B0400000        B0410000        B0420000        B0430000      
  B0440000        B0450000        B0460000        B0470000        B0480000      
  B0490000        B04A0000        B04B0000        B04C0000        B04D0000      
  B04E0000        B04F0000        B0500000        B0510000        B0520000      
  B0530000        B0540000        B0550000        B0560000        B0570000      
  B0580000        B0590000        B05A0000        B05B0000        B05C0000      
  B05D0000        B05E0000        B05F0000        B0600000        B0610000      
  B0620000        B0630000        B0640000        B0650000        B0660000      
  B0670000        B0680000        B0690000        B06A0000        B06B0000      
  B06C0000        B06D0000        B06E0000        B06F0000        B0700000      
  B0710000        B0720000        B0730000        B0740000        B0750000      
  B0760000        B0770000        B0780000        B0790000        B07A0000      
  B07B0000        B07C0000        B07D0000        B07E0000        B07F0000      

ARV752DPW22 # erase 0xB0040000 0xB048FFFF

..................................................................... done
Erased 69 sectors
ARV752DPW22 # cp.b 0x81000000 0xB0040000 0x440004
Copy to Flash... done

#####################   REBOOT  ##################################


ARV752DPW22 # 
ROM VER: 1.0.3
CFG 01
Reaä
ROM VER: 1.0.3
CFG 01
Read EEPROMX
 X


U-Boot 2013.10-openwrt4 (Oct 05 2014 - 01:17:14) ARV752DPW22

Board: Arcadyan ARV752DPW22
SoC:   Lantiq Danube-S v1.5
CPU:   333.333 MHz
IO:    166.667 MHz
BUS:   83.333 MHz
BOOT:  NOR
DRAM:  64 MiB
Flash: 8 MiB
In:    serial
Out:   serial
Err:   serial
Net:   ltq-eth
Hit any key to stop autoboot:  0 
## Booting kernel from Legacy Image at b0040000 ...
   Image Name:   MIPS OpenWrt Linux-3.14.18
   Created:      2014-10-05   0:48:52 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    1442704 Bytes = 1.4 MiB
   Load Address: 80002000
   Entry Point:  80002000
   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK

Starting kernel ...

[    0.000000] Linux version 3.14.18 (zeissig@deb9470m) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.04 r42701) ) #1 Sun Oct 5 01:48:43 BST 2014
[    0.000000] SoC: Danube rev 1.5
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU0 revision is: 00019641 (MIPS 24KEc)
[    0.000000] MIPS: machine is ARV752DPW22 - Arcor 803
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 04000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x03ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x03ffffff]
[    0.000000] Primary instruction cache 16kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 32 bytes
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 16256
[    0.000000] Kernel command line: console=ttyLTQ0,115200 init=/etc/preinit
[    0.000000] PID hash table entries: 256 (order: -2, 1024 bytes)
[    0.000000] Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Writing ErrCtl register=0007a008
[    0.000000] Readback ErrCtl register=0007a008
[    0.000000] Memory: 60484K/65536K available (3166K kernel code, 144K rwdata, 720K rodata, 176K init, 190K bss, 5052K reserved)
[    0.000000] NR_IRQS:256
[    0.000000] CPU Clock: 333MHz
[    0.000000] Calibrating delay loop... 221.18 BogoMIPS (lpj=442368)
[    0.036000] pid_max: default: 32768 minimum: 301
[    0.040000] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.044000] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.052000] pinctrl core: initialized pinctrl subsystem
[    0.056000] NET: Registered protocol family 16
[    0.076000] pinctrl-xway 1e100b10.pinmux: Init done
[    0.080000] dma-xway 1e104100.dma: Init done - hw rev: 3, ports: 5, channels: 20
[    0.092000] PCI host bridge /fpi@10000000/pci@E105400 ranges:
[    0.096000]  MEM 0x0000000018000000..0x0000000019ffffff
[    0.100000]   IO 0x000000001ae00000..0x000000001affffff
[    0.124000] bio: create slab &lt;bio-0&gt; at 0
[    0.136000] usbcore: registered new interface driver usbfs
[    0.140000] usbcore: registered new interface driver hub
[    0.144000] usbcore: registered new device driver usb
[    0.148000] PCI host bridge to bus 0000:00
[    0.152000] pci_bus 0000:00: root bus resource [mem 0x18000000-0x19ffffff]
[    0.156000] pci_bus 0000:00: root bus resource [io  0x1ae00000-0x1affffff]
[    0.160000] pci_bus 0000:00: No busn resource found for root bus, will use [bus 00-ff]
[    0.168000] pci 0000:00:0e.0: BAR 0: assigned [mem 0x18000000-0x1800ffff]
[    0.172000] pci 0000:00:0f.2: BAR 0: assigned [mem 0x18010000-0x180100ff]
[    0.176000] pci 0000:00:0f.0: BAR 4: assigned [io  0x1ae00000-0x1ae0001f]
[    0.180000] pci 0000:00:0f.1: BAR 4: assigned [io  0x1ae00020-0x1ae0003f]
[    0.184000] Switched to clocksource MIPS
[    0.196000] NET: Registered protocol family 2
[    0.200000] TCP established hash table entries: 1024 (order: 0, 4096 bytes)
[    0.208000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
[    0.212000] TCP: Hash tables configured (established 1024 bind 1024)
[    0.220000] TCP: reno registered
[    0.224000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.228000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.236000] NET: Registered protocol family 1
[    0.240000] PCI: Enabling device 0000:00:0f.0 (0000 -&gt; 0001)
[    0.248000] PCI: Enabling device 0000:00:0f.1 (0000 -&gt; 0001)
[    0.252000] PCI: Enabling device 0000:00:0f.2 (0000 -&gt; 0002)
[    0.260000] gptu: totally 6 16-bit timers/counters
[    0.264000] gptu: misc_register on minor 63
[    0.268000] gptu: succeeded to request irq 126
[    0.272000] gptu: succeeded to request irq 127
[    0.276000] gptu: succeeded to request irq 128
[    0.280000] gptu: succeeded to request irq 129
[    0.288000] gptu: succeeded to request irq 130
[    0.292000] gptu: succeeded to request irq 131
[    0.304000] lantiq,vmmc 1f103000.vmmc: requested GPIO 209
[    0.308000] lantiq,vmmc 1f103000.vmmc: reserved 1MB at 0x03900000
[    0.316000] ralink,eeprom ralink_eep.4: using RT2860.eeprom as eeprom
[    0.328000] futex hash table entries: 256 (order: -1, 3072 bytes)
[    0.336000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.340000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.352000] msgmni has been set to 118
[    0.356000] io scheduler noop registered
[    0.360000] io scheduler deadline registered (default)
[    0.368000] 1e100c00.serial: ttyLTQ0 at MMIO 0x1e100c00 (irq = 112, base_baud = 0) is a lantiq,asc
[    0.376000] console [ttyLTQ0] enabled
[    0.376000] console [ttyLTQ0] enabled
[    0.384000] bootconsole [early0] disabled
[    0.384000] bootconsole [early0] disabled
[    0.396000] ltq_nor: Found 1 x16 devices at 0x0 in 16-bit bank. Manufacturer ID 0x0000c2 Chip ID 0x0022cb
[    0.404000] Amd/Fujitsu Extended Query Table at 0x0040
[    0.408000]   Amd/Fujitsu Extended Query version 1.1.
[    0.416000] number of CFI chips: 1
[    0.416000] 4 ofpart partitions found on MTD device ltq_nor
[    0.424000] Creating 4 MTD partitions on &quot;ltq_nor&quot;:
[    0.428000] 0x000000000000-0x000000030000 : &quot;uboot&quot;
[    0.436000] 0x000000030000-0x000000040000 : &quot;uboot_env&quot;
[    0.444000] 0x000000040000-0x0000007f0000 : &quot;firmware&quot;
[    0.460000] 2 uimage-fw partitions found on MTD device firmware
[    0.464000] 0x000000040000-0x0000001a03d0 : &quot;kernel&quot;
[    0.472000] mtd: partition &quot;kernel&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.488000] 0x0000001a03d0-0x0000007f0000 : &quot;rootfs&quot;
[    0.488000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.504000] mtd: device 4 (rootfs) set to be root filesystem
[    0.508000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=0x450000, len=0x3a0000
[    0.516000] 0x000000450000-0x0000007f0000 : &quot;rootfs_data&quot;
[    0.572000] 0x0000007f0000-0x000000800000 : &quot;board_config&quot;
[    0.616000] switch0: Atheros AR8216 rev. 1 switch registered on 1e180000.etop-ff
[    0.652000] libphy: ltq_mii: probed
[    0.812000] eth0: attached PHY [Atheros AR8216/AR8236/AR8316] (phy_addr=1e180000.etop-ff:00, irq=-1)
[    0.824000] wdt 1f8803f0.watchdog: Init done
[    0.840000] TCP: cubic registered
[    0.844000] NET: Registered protocol family 17
[    0.848000] 8021q: 802.1Q VLAN Support v1.8
[    0.860000] UBIFS error (pid 1): ubifs_mount: cannot open &quot;ubi0:rootfs&quot;, error -19
[    0.876000] VFS: Mounted root (squashfs filesystem) readonly on device 31:4.
[    0.884000] Freeing unused kernel memory: 176K (803f4000 - 80420000)
procd: Console is alive
procd: - watchdog -
[    6.228000] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
[    6.232000] ehci-platform: EHCI generic platform driver
[    6.240000] ehci-pci: EHCI PCI platform driver
[    6.244000] ehci-pci 0000:00:0f.2: EHCI Host Controller
[    6.248000] ehci-pci 0000:00:0f.2: new USB bus registered, assigned bus number 1
[    6.256000] ehci-pci 0000:00:0f.2: irq 135, io mem 0x18010000
[    6.272000] ehci-pci 0000:00:0f.2: USB 2.0 started, EHCI 1.00
[    6.276000] hub 1-0:1.0: USB hub found
[    6.280000] hub 1-0:1.0: 4 ports detected
[    6.288000] uhci_hcd: USB Universal Host Controller Interface driver
[    6.292000] uhci_hcd 0000:00:0f.0: UHCI Host Controller
[    6.300000] uhci_hcd 0000:00:0f.0: new USB bus registered, assigned bus number 2
[    6.304000] uhci_hcd 0000:00:0f.0: irq 135, io base 0x1ae00000
[    6.312000] hub 2-0:1.0: USB hub found
[    6.316000] hub 2-0:1.0: 2 ports detected
[    6.320000] uhci_hcd 0000:00:0f.1: UHCI Host Controller
[    6.324000] uhci_hcd 0000:00:0f.1: new USB bus registered, assigned bus number 3
[    6.332000] uhci_hcd 0000:00:0f.1: irq 135, io base 0x1ae00020
[    6.340000] hub 3-0:1.0: USB hub found
[    6.344000] hub 3-0:1.0: 2 ports detected
[    6.352000] IFXUSB: ifxusb_hcd: version 3.2 B110801
[    6.860000] IFXUSB: USB core #0 soft-reset
[    7.064000] IFXUSB: USB core #0 soft-reset
[    7.068000] ifxusb_hcd ifxusb_hcd: IFX USB Controller
[    7.072000] ifxusb_hcd ifxusb_hcd: new USB bus registered, assigned bus number 4
[    7.080000] ifxusb_hcd ifxusb_hcd: irq 62, io mem 0xbe101000
[    7.084000] IFXUSB: Mode Mismatch Interrupt: currently in Host mode
[    7.092000] IFXUSB: Mode Mismatch Interrupt: currently in Host mode
[    7.096000] IFXUSB: Init: Power Port (0)
[    7.104000] hub 4-0:1.0: USB hub found
[    7.108000] hub 4-0:1.0: 1 port detected
[    7.112000] ifxusb_hcd ifxusb_hcd: requested GPIO 208
procd: - preinit -
[    7.428000] random: mktemp urandom read with 99 bits of entropy available
Press the [f] key and hit [enter] to enter failsafe mode
Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level
jffs2 is not ready - marker found
procd: - early -
procd: - watchdog -
procd: - ubus -
procd: - init -
Please press Enter to activate this console.
[   12.904000] IFXOS, Version 1.5.14 (c) Copyright 2009, Lantiq Deutschland GmbH

[   12.936000] NET: Registered protocol family 10
[   12.956000] Lantiq TAPI device driver, version 3.13.0.2, (c) 2001-2010 Lantiq Deutschland GmbH
[   12.968000] NET: Registered protocol family 8
[   12.972000] NET: Registered protocol family 20
[   12.988000] PPP generic driver version 2.4.2
[   13.000000] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   13.020000] IFX MEI Version 5.00.00
[   13.036000] Infineon CPE API Driver version: DSL CPE API V3.24.4.4
[   13.048000] Loading modules backported from Linux version master-2014-09-26-0-g25e3efa
[   13.056000] Backport generated by backports.git backports-20140905-1-gde42785
[   13.080000] Lantiq MIPS24KEc MPS driver, version 2.2.2.5, (c) 2006-2010 Lantiq Deutschland GmbH
[   13.088000] request_timer(3, 0x000001AE, 1)...successful!
[   13.092000] Lantiq VMMC device driver, version 1.9.0.3, (c) 2006-2010 Lantiq Deutschland GmbH
[   13.104000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   13.128000] ATM1.0.26    ATM (A1) firmware version 0.17
[   13.132000] ifxmips_atm: ATM init succeed
[   13.156000] nf_conntrack version 0.5.0 (947 buckets, 3788 max)
[   13.192000] NET: Registered protocol family 24
[   13.236000] xt_time: kernel timezone is -0000
[   13.252000] random: nonblocking pool is initialized
[   13.304000] cfg80211: Calling CRDA to update world regulatory domain
[   13.312000] cfg80211: World regulatory domain updated:
[   13.316000] cfg80211:  DFS Master region: unset
[   13.320000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[   13.328000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   13.336000] cfg80211:   (2457000 KHz - 2482000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   13.344000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)
[   13.352000] cfg80211:   (5170000 KHz - 5250000 KHz @ 160000 KHz), (N/A, 2000 mBm), (N/A)
[   13.360000] cfg80211:   (5250000 KHz - 5330000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)
[   13.368000] cfg80211:   (5490000 KHz - 5730000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)
[   13.376000] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[   13.384000] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)
[   13.536000] PCI: Enabling device 0000:00:0e.0 (0000 -&gt; 0002)
[   13.544000] rt2800pci 0000:00:0e.0: failed to load eeprom property
[   13.548000] ieee80211 phy0: rt2x00lib_request_eeprom_file: Info - Loading EEPROM data from &#039;RT2860.eeprom&#039;.
[   13.556000] rt2800pci 0000:00:0e.0: Direct firmware load failed with error -2
[   13.564000] rt2800pci 0000:00:0e.0: Falling back to user helper
[   13.728000] ieee80211 phy0: rt2x00_set_rt: Info - RT chipset 3572, rev 0223 detected
[   13.736000] ieee80211 phy0: rt2x00_set_rf: Info - RF chipset 0008 detected
[   26.976000] device eth0.1 entered promiscuous mode
[   26.980000] device eth0 entered promiscuous mode
[   26.992000] br-lan: port 1(eth0.1) entered forwarding state
[   26.996000] br-lan: port 1(eth0.1) entered forwarding state
[   29.000000] br-lan: port 1(eth0.1) entered forwarding state
[   31.232000] jffs2_scan_eraseblock(): End of filesystem marker found at 0x0
[   31.248000] jffs2_build_filesystem(): unlocking the mtd device... done.
[   31.252000] jffs2_build_filesystem(): erasing all blocks after the end marker... done.
[   69.076000] jffs2: notice: (1110) jffs2_build_xattr_subsystem: complete building xattr subsystem, 0 of xdatum (0 unchecked, 0 orphan) and 0 of xref (0 dead, 0 orphan) found.
procd: - init complete -



BusyBox v1.22.1 (2014-10-05 01:42:11 BST) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 -----------------------------------------------------
 CHAOS CALMER (Bleeding Edge, r42701)
 -----------------------------------------------------
  * 1 1/2 oz Gin            Shake with a glassful
  * 1/4 oz Triple Sec       of broken ice and pour
  * 3/4 oz Lime Juice       unstrained into a goblet.
  * 1 1/2 oz Orange Juice
  * 1 tsp. Grenadine Syrup
 -----------------------------------------------------
root@OpenWrt:/#

</pre>

</p>

<p>
for problems with wlan eeprom:
</p>

<p>
<a href="https://forum.openwrt.org/viewtopic.php?pid=223479#p223479" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=223479#p223479"  rel="nofollow">https://forum.openwrt.org/viewtopic.php?pid=223479#p223479</a>
</p>

<p>
usbwrite.py:
</p>

<p>
<a href="https://forum.openwrt.org/viewtopic.php?pid=183315#p183315" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=183315#p183315"  rel="nofollow">https://forum.openwrt.org/viewtopic.php?pid=183315#p183315</a>
</p>

<p>
(don&#039;t forget to find and replace 8 spaces with 1 tab)
</p>

</div>

<h2 class="sectionedit25" id="tags">Tags</h2>
<div class="level2">
<div class="tags"><span>
	<a href="../../tag/fastethernet?do=showtag&amp;tag=FastEthernet" class="wikilink1" title="tag:fastethernet" rel="tag">FastEthernet</a>,
	<a href="../../tag/4port?do=showtag&amp;tag=4Port" class="wikilink1" title="tag:4port" rel="tag">4Port</a>,
	<a href="../../tag/usb?do=showtag&amp;tag=USB" class="wikilink1" title="tag:usb" rel="tag">USB</a>,
	<a href="../../tag/3usb?do=showtag&amp;tag=3USB" class="wikilink1" title="tag:3usb" rel="tag">3USB</a>,
	<a href="../../tag/serial?do=showtag&amp;tag=serial" class="wikilink1" title="tag:serial" rel="tag">serial</a>,
	<a href="../../tag/internalantenna?do=showtag&amp;tag=InternalAntenna" class="wikilink1" title="tag:internalantenna" rel="tag">InternalAntenna</a>,
	<a href="../../tag/64ram?do=showtag&amp;tag=64RAM" class="wikilink1" title="tag:64ram" rel="tag">64RAM</a>,
	<a href="../../tag/8flash?do=showtag&amp;tag=8Flash" class="wikilink1" title="tag:8flash" rel="tag">8Flash</a>,
	<a href="../../tag/mips?do=showtag&amp;tag=MIPS" class="wikilink1" title="tag:mips" rel="tag">MIPS</a>,
	<a href="../../tag/mips32?do=showtag&amp;tag=MIPS32" class="wikilink1" title="tag:mips32" rel="tag">MIPS32</a>,
	<a href="../../tag/24k?do=showtag&amp;tag=24K" class="wikilink1" title="tag:24k" rel="tag">24K</a>,
	<a href="../../tag/adsl2?do=showtag&amp;tag=ADSL2%252B" class="wikilink1" title="tag:adsl2" rel="tag">ADSL2+</a>,
	<a href="../../tag/lantiq?do=showtag&amp;tag=lantiq" class="wikilink1" title="tag:lantiq" rel="tag">lantiq</a>,
	<a href="../../tag/danube?do=showtag&amp;tag=danube" class="wikilink1" title="tag:danube" rel="tag">danube</a>,
	<a href="../../tag/802.11bgn?do=showtag&amp;tag=802.11bgn" class="wikilink1" title="tag:802.11bgn" rel="tag">802.11bgn</a>,
	<a href="../../tag/fxo?do=showtag&amp;tag=fxo" class="wikilink1" title="tag:fxo" rel="tag">fxo</a>
</span></div>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/astoria/arv752dpw22.txt</bdi> · Last modified: 2015/04/21 15:37 by <bdi>HectoPascal</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="arv752dpw22?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="arv752dpw22?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="arv752dpw22?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="arv752dpw22#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Aastoria%253Aarv752dpw22&amp;1432269480" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
