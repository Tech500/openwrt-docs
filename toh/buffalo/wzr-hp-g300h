<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>Buffalo WZR-HP-G300NH [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="gigabitethernet,5port,2nic,usb,802.11bgn,ath9k,64ram,32flash,mips,mips32,24kc"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="wzr-hp-g300h?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:buffalo"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/buffalo/wzr-hp-g300h"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/buffalo/wzr-hp-g300h"/>
<link rel="canonical" href="wzr-hp-g300h"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:buffalo';var JSINFO = {"id":"toh:buffalo:wzr-hp-g300h","namespace":"toh:buffalo"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432266216 166.182.3.17';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="wzr-hp-g300h#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="wzr-hp-g300h?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="wzr-hp-g300h?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:buffalo:wzr-hp-g300h" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="wzr-hp-g300h?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="wzr-hp-g300h?do=media&amp;ns=toh%253Abuffalo"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="wzr-hp-g300h?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:buffalo:start">Buffalo</a></bdi> » <bdi><span class="curid"><a href="wzr-hp-g300h" class="wikilink1" title="toh:buffalo:wzr-hp-g300h">Buffalo WZR-HP-G300NH</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/buffalo/wzr-hp-g300h" class="media" title="cz:toh:buffalo:wzr-hp-g300h"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/buffalo/wzr-hp-g300h" class="media" title="de:toh:buffalo:wzr-hp-g300h"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="wzr-hp-g300h" class="media" title="toh:buffalo:wzr-hp-g300h"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/buffalo/wzr-hp-g300h" class="media" title="es:toh:buffalo:wzr-hp-g300h"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/buffalo/wzr-hp-g300h" class="media" title="fr:toh:buffalo:wzr-hp-g300h"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/buffalo/wzr-hp-g300h" class="media" title="hu:toh:buffalo:wzr-hp-g300h"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/buffalo/wzr-hp-g300h" class="media" title="jp:toh:buffalo:wzr-hp-g300h"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/buffalo/wzr-hp-g300h" class="media" title="pl:toh:buffalo:wzr-hp-g300h"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/buffalo/wzr-hp-g300h" class="media" title="pt-br:toh:buffalo:wzr-hp-g300h"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/buffalo/wzr-hp-g300h" class="media" title="ru:toh:buffalo:wzr-hp-g300h"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/buffalo/wzr-hp-g300h" class="media" title="tr:toh:buffalo:wzr-hp-g300h"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/buffalo/wzr-hp-g300h" class="media" title="zh-cn:toh:buffalo:wzr-hp-g300h"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/buffalo/wzr-hp-g300h" class="media" title="zh-tw:toh:buffalo:wzr-hp-g300h"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:buffalo:wzr-hp-g300h</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="wzr-hp-g300h#supported_versions">Supported Versions</a></div></li>
<li class="level1"><div class="li"><a href="wzr-hp-g300h#hardware_highlights">Hardware Highlights</a></div></li>
<li class="level1"><div class="li"><a href="wzr-hp-g300h#installation">Installation</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="wzr-hp-g300h#flash_layout">Flash Layout</a></div></li>
<li class="level2"><div class="li"><a href="wzr-hp-g300h#internal_architecture">Internal Architecture</a></div></li>
<li class="level2"><div class="li"><a href="wzr-hp-g300h#oem_installation_using_the_tftp_method">OEM installation using the TFTP method</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="wzr-hp-g300h#preparation">Preparation</a></div></li>
<li class="level3"><div class="li"><a href="wzr-hp-g300h#linux">Linux</a></div></li>
<li class="level3"><div class="li"><a href="wzr-hp-g300h#windows">Windows</a></div></li>
<li class="level3"><div class="li"><a href="wzr-hp-g300h#tftp_image_received_by_router">TFTP image received by router</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="wzr-hp-g300h#migrate_from_dd-wrt_to_openwrt">Migrate from DD-WRT to OpenWrt</a></div></li>
<li class="level2"><div class="li"><a href="wzr-hp-g300h#locked_u-boot_too_short_time_tftp_window">Locked U-Boot, too short time TFTP window</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="wzr-hp-g300h#failed_upgrade_solid_red_diag_light_on_newer_versions">Failed upgrade ( solid red diag light ) on newer versions</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="wzr-hp-g300h#upgrade_openwrt">Upgrade OpenWrt</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="wzr-hp-g300h#basic_configuration">Basic Configuration</a></div></li>
<li class="level1"><div class="li"><a href="wzr-hp-g300h#specific_configuration">Specific Configuration</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="wzr-hp-g300h#vlan_tagging_for_wan">VLAN Tagging for WAN</a></div></li>
<li class="level2"><div class="li"><a href="wzr-hp-g300h#sample_single_dmz_port_configuration">Sample Single DMZ Port Configuration</a></div></li>
<li class="level2"><div class="li"><a href="wzr-hp-g300h#network_port_assignments">Network Port Assignments</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="wzr-hp-g300h#hardware">Hardware</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="wzr-hp-g300h#info">Info</a></div></li>
<li class="level2"><div class="li"><a href="wzr-hp-g300h#photos">Photos</a></div></li>
<li class="level2"><div class="li"><a href="wzr-hp-g300h#serial_pinout_j3_header">Serial Pinout (J3 header)</a></div></li>
<li class="level2"><div class="li"><a href="wzr-hp-g300h#buttons">Buttons</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="wzr-hp-g300h#usb_eject_button">USB Eject Button</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="wzr-hp-g300h#leds">LEDs</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="wzr-hp-g300h#troubleshootingbugs">Troubleshooting/Bugs</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="wzr-hp-g300h#uboot-envtools_missing_config_by_default">uboot-envtools missing config by default</a></div></li>
<li class="level2"><div class="li"><a href="wzr-hp-g300h#after_vlan_setup_router_is_inaccessible">After VLAN setup, router is inaccessible</a></div></li>
<li class="level2"><div class="li"><a href="wzr-hp-g300h#unable_to_transfer_image_via_tftp_transfer_times_out_then_router_boots_normally">Unable to transfer image via TFTP (transfer times out then router boots normally)</a></div></li>
<li class="level2"><div class="li"><a href="wzr-hp-g300h#wireless_network_down_after_a_period_of_time_10sec_5min">Wireless network down after a period of time (10sec ~ 5min)</a></div></li>
<li class="level2"><div class="li"><a href="wzr-hp-g300h#ssh_does_not_start_after_changing_the_password">SSH does not start after changing the password</a></div></li>
<li class="level2"><div class="li"><a href="wzr-hp-g300h#wan_dhcp_won_t_renew">WAN DHCP Won&#039;t Renew</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="wzr-hp-g300h#u-boot_console">U-Boot Console</a></div></li>
<li class="level1"><div class="li"><a href="wzr-hp-g300h#fail_safe_mode">Fail safe mode</a></div></li>
<li class="level1"><div class="li"><a href="wzr-hp-g300h#tags">Tags</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="buffalo_wzr-hp-g300nh">Buffalo WZR-HP-G300NH</h1>
<div class="level1">

<p>
<img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> Please see <a href="../../meta/template_device" class="wikilink1" title="meta:template_device">template_device</a> to finish article.
</p>

</div>

<h2 class="sectionedit2" id="supported_versions">Supported Versions</h2>
<div class="level2">
<div class="table sectionedit3"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Version/Model </th><th class="col1"> Launch Date </th><th class="col2"> S/N </th><th class="col3"> OpenWrt Version Supported </th><th class="col4"> Model Specific Notes </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> BUF-WZR-HP-G300NH(B)   </td><td class="col1 centeralign">  2009-11?  </td><td class="col2"> - </td><td class="col3"> Barrier Breaker 14.07 <a href="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/" class="urlextern" title="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/"  rel="nofollow">search for &quot;G300NH&quot;</a></td><td class="col4"> - </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign">    </td><td class="col1 centeralign">  200?-?  </td><td class="col2"> - </td><td class="col3"> 10.03 <img src="../../lib/images/smileys/icon_question.gif" class="icon" alt=":?:" /> </td><td class="col4"> - </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign">    </td><td class="col1 centeralign">  200?-?  </td><td class="col2"> - </td><td class="col3"> trunk <img src="../../lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /> </td><td class="col4"> - </td>
	</tr>
</table></div>
<div class="table sectionedit4"><table class="inline">
	<tr class="row0">
		<td class="col0"> <img src="../../_media/meta/icons/tango/48px-dialog-warning.svg.png" class="media" alt="" /> </td><td class="col1"> <strong><code>NOTE:</code></strong> More recent versions of the WZR-HP-G300NH have had a <span style='color:red; '>hardware change without bumping the revision number</span> or changing the hardware label.<br/>
The newer hardware appears to have the rtl8366rb Ethernet switch while older hardware had the rtl8366s switch. As a result, this newer hardware is NOT supported in OpenWrt &#039;Backfire&#039; 10.03.1-RC5 but it is supported in OpenWrt trunk since at least r28133 </td>
	</tr>
</table></div>

<p>
For WZR-HP-G300NH related questions and issues use the &quot;WZR-HP-G300NH Support&quot; forum thread. Please read the complete thread first then ask. Thanks. <a href="https://forum.openwrt.org/viewtopic.php?id=24052" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=24052"  rel="nofollow">Here&#039;s the thread</a>.
</p>

</div>

<h2 class="sectionedit5" id="hardware_highlights">Hardware Highlights</h2>
<div class="level2">
<div class="table sectionedit6"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> CPU </th><th class="col1"> Ram </th><th class="col2"> Flash </th><th class="col3"> Network </th><th class="col4"> USB </th><th class="col5"> Serial </th><th class="col6"> JTag </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Atheros AR9132@400MHz </td><td class="col1"> 64MiB </td><td class="col2"> 32MiB </td><td class="col3"> 4 x 1 </td><td class="col4"> Yes </td><td class="col5"> Yes (3.3V, no header) </td><td class="col6"> ? </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit7" id="installation">Installation</h2>
<div class="level2">

</div>

<h3 class="sectionedit8" id="flash_layout">Flash Layout</h3>
<div class="level3">

<p>
→<a href="../../doc/techref/flash.layout" class="wikilink1" title="doc:techref:flash.layout">Flash.Layout</a> has an example flash layout and all explanations required to understand this. Here the naked hex-values for the WZR-HP-G300NH:
</p>
<div class="table sectionedit9"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign"> Start          </th><th class="col1 centeralign">  End           </th><th class="col2 centeralign">  Description    </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> 0x000000000000 </td><td class="col1"> 0x000000040000 </td><td class="col2 leftalign"> &quot;u-boot&quot;        </td>
	</tr>
	<tr class="row2">
		<td class="col0"> 0x000000040000 </td><td class="col1"> 0x000000060000 </td><td class="col2 leftalign"> &quot;u-boot-env&quot;    </td>
	</tr>
	<tr class="row3">
		<td class="col0"> 0x000000060000 </td><td class="col1"> 0x000000160000 </td><td class="col2 leftalign"> &quot;kernel&quot;        </td>
	</tr>
	<tr class="row4">
		<td class="col0"> 0x000000160000 </td><td class="col1"> 0x000001fc0000 </td><td class="col2 leftalign"> &quot;rootfs&quot;        </td>
	</tr>
	<tr class="row5">
		<td class="col0"> 0x000000880000 </td><td class="col1"> 0x000001fc0000 </td><td class="col2 leftalign"> &quot;rootfs_data&quot;   </td>
	</tr>
	<tr class="row6">
		<td class="col0"> 0x000001fc0000 </td><td class="col1"> 0x000001fe0000 </td><td class="col2"> &quot;user_property&quot; </td>
	</tr>
	<tr class="row7">
		<td class="col0"> 0x000001fe0000 </td><td class="col1"> 0x000002000000 </td><td class="col2 leftalign"> &quot;art&quot;           </td>
	</tr>
	<tr class="row8">
		<td class="col0"> 0x000000060000 </td><td class="col1"> 0x000001fc0000 </td><td class="col2 leftalign"> &quot;firmware&quot;      </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit10" id="internal_architecture">Internal Architecture</h3>
<div class="level3">

<p>
<a href="../../_detail/toh/buffalo/hzr-hp-g300nh.png?id=toh%253Abuffalo%253Awzr-hp-g300h" class="media" title="toh:buffalo:hzr-hp-g300nh.png"><img src="../../_media/toh/buffalo/hzr-hp-g300nh.png" class="media" alt="" /></a>
</p>

</div>

<h3 class="sectionedit11" id="oem_installation_using_the_tftp_method">OEM installation using the TFTP method</h3>
<div class="level3">

<p>
→ cf. <a href="wzr-hp-ag300h#oeminstallationusingthetftpmethod" class="wikilink1" title="toh:buffalo:wzr-hp-ag300h">oem.installation.using.the.tftp.method</a>
</p>
<div class="table sectionedit12"><table class="inline">
	<tr class="row0">
		<td class="col0"> <img src="../../_media/meta/icons/tango/dialog-information.png" class="media" alt="" /> </td><td class="col1 leftalign"> <strong><code><span style='color:red; '>NOTE #1:</span></code></strong> The <a href="../../doc/techref/bootloader.1" class="wikilink1" title="doc:techref:bootloader">bootloader</a> of the WZR-HP-G300NH has a very short time frame in which it will accept a new firmware transfer over TFTP: it is about 4 sec long approximately 10-20 sec after powering it on<br/>
The usable time window gets even shorter when your <abbr title="Operating System">OS</abbr> starts negotiating the network connection before it allows you to send data over it. And your <abbr title="Operating System">OS</abbr> is going to do that every time, when the other device gets powered on! <br/>
So to be able to use the entire time span available you need to put a switch between the router and you host machine. In case you do not have a switch, in Windows try turning off <em>Media Sensing</em> and in Linux prefer a static network configuration over the <em><a href="http://en.wikipedia.org/wiki/NetworkManager" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/NetworkManager">NetworkManager</a></em>. It is further recommended to make a static ARP entry for the router. Users have found that &#039;smart&#039; or managed switches sometimes will not allow flashing even with static arp entries sometimes- the simplest switch is the best to use. <br/>
Here is a link to the console output of the boot process, with all led&#039;s in view for reference <a href="http://www.youtube.com/watch?v=8xfSzR2Mu-8" class="urlextern" title="http://www.youtube.com/watch?v=8xfSzR2Mu-8"  rel="nofollow">http://www.youtube.com/watch?v=8xfSzR2Mu-8</a>.<br/>
<strong><code><span style='color:red; '>NOTE #2:</span></code></strong> As the Windows stack can interfere with the process, see <a href="https://forum.openwrt.org/viewtopic.php?id=30468" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=30468"  rel="nofollow">forum post</a>, it is recommended to use some Linux to perform the upload!<br/>
<strong><code><span style='color:red; '>FYI:</span></code></strong> The OEM version of <a href="../../doc/techref/bootloader/uboot" class="wikilink1" title="doc:techref:bootloader:uboot">uboot</a> on the G300NH always uses the IP address <code>192.168.11.1</code> and the MAC address <code>02:aa:bb:cc:dd:20</code> when listening for a new firmware. It also expects the sending IP address to be <code>192.168.11.2</code>. Values belong to the bootloader and are independent of the ones used by OEM firmware or OpenWrt! <br/>
The computer used for the install must be connected to the <abbr title="Local Area Network">LAN</abbr> port on the router closest to the WAN port.  On my device this is labeled <abbr title="Local Area Network">LAN</abbr> 4, and it corresponds to port 0 per the information below.  </td>
	</tr>
</table></div>

</div>

<h4 id="preparation">Preparation</h4>
<div class="level4">
<ol>
<li class="level1"><div class="li"> Download<br/>
either <em class="u">a)</em> a suitable OpenWrt firmware image, e.g. <a href="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-wzr-hp-g300nh-squashfs-tftp.bin" class="urlextern" title="https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-wzr-hp-g300nh-squashfs-tftp.bin"  rel="nofollow">OpenWrt Barrier Breaker 14.07 ar71xx-generic-wzr-hp-g300nh-squashfs-tftp</a> or <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-wzr-hp-g300nh-squashfs-tftp.bin" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-wzr-hp-g300nh-squashfs-tftp.bin"  rel="nofollow">latest trunk</a> (<strong><code>NOTE:</code></strong> Name must contain <em>&quot;tftp&quot;</em>).<br/>
or <em class="u">b)</em> a suitable &quot;revert to stock&quot; image. <a href="https://forum.openwrt.org/viewtopic.php?id=34212" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=34212"  rel="nofollow">This forum thread</a> has links and information about these.<br/>
or <em class="u">c)</em> the U-Boot recovery TFTP server can also receive original Buffalo stock firmware images and flash them.</div>
</li>
<li class="level1"><div class="li"> Connect the <abbr title="Local Area Network">LAN</abbr> port next to the WAN port of the router with some network switch and that switch with your host machine. Leave the router powered off.</div>
</li>
<li class="level1"><div class="li"> Buffalo WZR-HP-G300NH&#039;s U-Boot defaults to IP 192.168.11.1 with MAC 02-aa-bb-cc-dd-1a (confirmed for: old hardware rev B0 B0 with U-Boot 1.06, newer hardware rev A0 D0 with U-Boot 1.07).<br/>
<strong><code>NOTE:</code></strong> Its MAC address is printed on the label of the router as <em>&quot;SSID&quot;</em> ⇒ SSID: 1122334455FF ≙ MAC: 11:22:33:44:55:FF but you may need to use the MAC address <code>02:AA:BB:CC:DD:1A</code> instead of the one on the label! <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /></div>
</li>
<li class="level1"><div class="li"> The TFTP recovery time frame will open roughly 12 seconds after the Diag LED lights up on boot (there&#039;s roughly a 2 secs delay after plugging in power) and waits for 4 seconds before closing (note the shorter time window on <span class="curid"><a href="wzr-hp-g300h#problem_with_newer_and_japanese_versions_locked_u-boot_too_short_time_tftp_window" class="wikilink1" title="toh:buffalo:wzr-hp-g300h">newer hardware</a></span>). See video <a href="http://youtu.be/8dVkJ1G0KJs" class="urlextern" title="http://youtu.be/8dVkJ1G0KJs"  rel="nofollow">Buffalo WZR-HP-G300NH U-Boot boot sequence with timer</a>.<br/>
If you have serial access to the router then start the TFTP PUT when you see the last line of <pre class="code">tftp server(receive) go, waiting:4[sec]
Trying eth1
eth1 link down
FAIL
Trying eth0
eth0 is duplex
ag7100_check_link: _100BASET
Load address: 0x81f00000</pre>
</div>
</li>
</ol>

</div>

<h4 id="linux">Linux</h4>
<div class="level4">
<ol>
<li class="level1"><div class="li"> Install a TFTP client, when running some Linux distribution, do e.g. <pre class="code">sudo apt-get update
sudo apt-get install tftp</pre>
</div>
</li>
<li class="level1"><div class="li"> Prepare the interface of your PC:<pre class="code">sudo ifconfig eth0:1 192.168.11.2</pre>
</div>
</li>
<li class="level1"><div class="li"> Temporarily add a static arp entry for the router&#039;s MAC address:<pre class="code">sudo arp -s 192.168.11.1 02:aa:bb:cc:dd:1a</pre>
</div>
</li>
<li class="level1"><div class="li"> Now you must be quick: Type in<pre class="code">tftp -m binary 192.168.11.1 -c put openwrt-ar71xx-generic-wzr-hp-g300nh-squashfs-tftp.bin</pre>
 and immediately after hitting enter…</div>
</li>
<li class="level1"><div class="li"> power on the G300H!</div>
</li>
</ol>

<p>
<em>Instead of using the old tftp program you may use curl, this approach also works on OSX. Replace the two last steps by these steps.</em>
</p>
<ol>
<li class="level1"><div class="li"> <pre class="code">curl -T openwrt-ar71xx-generic-wzr-hp-g300nh-squashfs-tftp.bin tftp://192.168.11.1</pre>
</div>
</li>
<li class="level1"><div class="li"> power on the G300H</div>
</li>
</ol>

<p>
&lt;/code&gt;
</p>

</div>

<h4 id="windows">Windows</h4>
<div class="level4">

<p>
This was tested on a Windows 7 multi-homed PC with several private networks: 10.0.0.0/24 (with <abbr title="Domain Name System">DNS</abbr>/Gateway), 192.168.0.0/24, 192.168.1.0/24, 192.168.2.0/24, 192.168.11.0/24.
Realtek Gigabit NIC 1GBit/s with 1GBit/s switch. Additional VirtualBox network/NIC. Windows 7 Firewall enabled, all default (not even <a href="http://windows.microsoft.com/en-US/windows7/What-is-Internet-Control-Message-Protocol-ICMP" class="urlextern" title="http://windows.microsoft.com/en-US/windows7/What-is-Internet-Control-Message-Protocol-ICMP"  rel="nofollow">inbound ICMPv4 enabled</a>!).
</p>
<ol>
<li class="level1"><div class="li"> Install a TFTP client, e.g. <a href="http://tftpd32.jounin.net/" class="urlextern" title="http://tftpd32.jounin.net/"  rel="nofollow">Tftpd32</a> or <a href="http://technet.microsoft.com/en-us/library/ff698993.aspx" class="urlextern" title="http://technet.microsoft.com/en-us/library/ff698993.aspx"  rel="nofollow">Windows&#039; TFTP client</a> via Add Windows Features (<a href="http://windows.microsoft.com/en-US/windows-vista/Turn-Windows-features-on-or-off" class="urlextern" title="http://windows.microsoft.com/en-US/windows-vista/Turn-Windows-features-on-or-off"  rel="nofollow">Vista</a>, <a href="http://windows.microsoft.com/en-US/windows7/Turn-Windows-features-on-or-off" class="urlextern" title="http://windows.microsoft.com/en-US/windows7/Turn-Windows-features-on-or-off"  rel="nofollow">Windows 7</a>).</div>
</li>
<li class="level1"><div class="li"> Start the TFTP client once to allow it for private networks in the Windows firewall.</div>
</li>
<li class="level1"><div class="li"> Prepare the network card which is connected to the switch by adding the IP 192.168.11.2 with subnet mask 255.255.255.0 to it.</div>
</li>
<li class="level1"><div class="li"> Setup a temporary ARP route to the router on the network card which is connected to the switch. &quot;route print&quot; will show all active NICs in your PC at the top of the output, use the relevant device number (1st value of line) (&quot;11&quot; is used in the example below). For unknown reasons there may be already a wrong ARP route to the router&#039;s MAC, so check and remove if present.<pre class="code">set ROUTERIP=192.168.11.1
set ROUTERMAC=02-aa-bb-cc-dd-1a

cls &amp; arp -a &amp; echo. &amp; echo Look for %ROUTERMAC% and delete all ip addresses which are not %ROUTERIP% with arp -d ip

@REM On newer Windows (e.g. 7) use netsh. Have to get interface number of LAN network card first.
route print
set INTERFACE=11
netsh interface ipv4 add neighbors %INTERFACE% %ROUTERIP% %ROUTERMAC%

@REM On older Windows (e.g. XP) use arp
arp -s %ROUTERIP% %ROUTERMAC%</pre>
</div>
</li>
<li class="level1"><div class="li"> Prepare the TFTP client for flashing.<br/>
For Tftpd32 go to the &quot;Tftp Client&quot; tab, enter the router&#039;s IP address as &quot;Host&quot;, select the wanted TFTP image as &quot;Local File&quot;, place the mouse over the &quot;Put&quot; button.<br/>
For Windows&#039; TFTP client type the command inside the console:<pre class="code">tftp -i %ROUTERIP% PUT openwrt-ar71xx-generic-wzr-hp-g300nh-squashfs-tftp.bin</pre>
</div>
</li>
<li class="level1"><div class="li"> Now you must be quick: immediately after starting the TFTP PUT (e.g. by clicking or hitting enter)…</div>
</li>
<li class="level1"><div class="li"> power on the G300H!</div>
</li>
<li class="level1"><div class="li"> After a succesful transfer/flash remove the temporary ARP route:<pre class="code">arp -d %ROUTERIP%</pre>
</div>
</li>
</ol>

</div>

<h4 id="tftp_image_received_by_router">TFTP image received by router</h4>
<div class="level4">
<ol>
<li class="level1"><div class="li"> If the red <em>&quot;DIAG&quot;</em>-LED begins to flash rapidly then the router has received the image and is flashing the new firmware. If flashing stops then router will boot the new firmware.</div>
</li>
<li class="level1"><div class="li"> Obtain IP address per DHCP and follow the <a href="../../doc/howto/firstlogin" class="wikilink1" title="doc:howto:firstlogin">First Login</a> steps to complete installation.</div>
</li>
</ol>

</div>

<h3 class="sectionedit13" id="migrate_from_dd-wrt_to_openwrt">Migrate from DD-WRT to OpenWrt</h3>
<div class="level3">
<ol>
<li class="level1"><div class="li"> Enable SSH on the router</div>
</li>
<li class="level1"><div class="li"> Login to the router via SSH</div>
</li>
<li class="level1"><div class="li"> Change directory to <code>/tmp</code> and download OpenWrt firmware image file:<pre class="code">cd /tmp
wget https://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/openwrt-ar71xx-generic-wzr-hp-g300nh-squashfs-sysupgrade.bin</pre>
</div>
</li>
<li class="level1"><div class="li"> Overwrite current firmware with the downloaded one:<pre class="code">mtd -r write openwrt-ar71xx-generic-wzr-hp-g300nh-squashfs-sysupgrade.bin linux</pre>
</div>
</li>
</ol>

<p>
After flashing, the router should go down for a reboot and return running OpenWrt.
</p>

</div>

<h3 class="sectionedit14" id="locked_u-boot_too_short_time_tftp_window">Locked U-Boot, too short time TFTP window</h3>
<div class="level3">

<p>
Newer versions (HW v2, U-Boot 1.07) and Japanese versions of WZR-HP-G300NH are shipped with a locked u-boot by default, preventing from flashing any unofficial firmware via TFTP. It is possible to flash DD-WRT via buffalo&#039;s WebInterface and then flash OpenWrt via <code>mtd</code>, as explained in previous section, but then you loose the ability to re-flash via TFTP if anything goes wrong. After messing a bit with the u-boot via serial console and comparing u-boot variables with non-Japanese WZR-HP-G300NH, found out an interesting fact. Simply typing:<pre class="code">ar7100&gt; setenv accept_open_rt_fmt 1
ar7100&gt; saveenv
ar7100&gt; reset</pre>

</p>

<p>
This forces u-boot to accept any firmware via TFTP. Confirmed with OpenWrt 10.03. (<em class="u">Not checked with newer hardware yet</em>).
</p>

<p>
Additionally newer versions (e.g. HW v2 with U-Boot 1.07) have only a TFTP time window of 1 (ONE!) second.
It will be easier to hit when setting it to 4 seconds like the older versions:<pre class="code">ar7100&gt; setenv tftp_wait 4
ar7100&gt; saveenv
ar7100&gt; reset</pre>

</p>

<p>
Also, there is a way to set u-boot variables without serial access. Japanesse and other languages OAM &quot;user frendly&quot; firmware have special hidden maintenance page, accessible at <a href="http://your.router.ip.address/cgi-bin/cgi?req=frm&amp;frm=py-db/55debug.html" class="urlextern" title="http://your.router.ip.address/cgi-bin/cgi?req=frm&amp;frm=py-db/55debug.html"  rel="nofollow">http://your.router.ip.address/cgi-bin/cgi?req=frm&amp;frm=py-db/55debug.html</a>, with special username (bufpy) and password (otdpopy+&lt;root password if any&gt;) log-in required. Make sure you don&#039;t have the usual root athenticated WEB session active (clear the browser cache), otherwise you would receive an empty page saying &quot;—- UNDER CONSTRUCTION — &quot;. Now, one can activate telnetd by clicking the link, and access the OAM <abbr title="Operating System">OS</abbr> by telnet. Once there, one can use a command &quot;ubootenv&quot; to set above mentioned variables without trouble (tested &amp; confirmed OK on Japanese WZR-HP-G300NH A0 A1, u-boot 1.02).
</p>

<p>
<pre class="code"># ubootenv -h
Usage:
ubootenv [option] [item] [value]...

    [option]: {set, get, del,list}....
    [item]:   Uboot environment variable name
    [value]:  Value of Uboot environment variable</pre>

</p>

</div>

<h2 class="sectionedit15" id="failed_upgrade_solid_red_diag_light_on_newer_versions">Failed upgrade ( solid red diag light ) on newer versions</h2>
<div class="level2">

<p>
If something goes wrong, and the red diag light goes on immediately at boot time and stays on indefinitely, your flash may have failed or you have a G300NH2 (A1 A0) version! You can use the TFTP method to recover the router, but you have to use the buffalo factory image that has the file extension &#039;enc&#039;. This will bring you back the the factory firmware, but you won&#039;t have to solder anything or buy a new router.
</p>

</div>

<h3 class="sectionedit16" id="upgrade_openwrt">Upgrade OpenWrt</h3>
<div class="level3">

<p>
→<a href="../../doc/howto/generic.sysupgrade" class="wikilink1" title="doc:howto:generic.sysupgrade">generic.sysupgrade</a>
</p>

</div>

<h2 class="sectionedit17" id="basic_configuration">Basic Configuration</h2>
<div class="level2">

<p>
→<a href="../../doc/howto/configuration" class="wikilink1" title="doc:howto:basic.config">basic.config</a>
</p>

</div>

<h2 class="sectionedit18" id="specific_configuration">Specific Configuration</h2>
<div class="level2">

</div>

<h3 class="sectionedit19" id="vlan_tagging_for_wan">VLAN Tagging for WAN</h3>
<div class="level3">

<p>
Note that the WAN port is connected to eth1 and not eth0, and that the LUCI web interface does not list eth1 for VLANs.<br/>

To tag the WAN port create the VLAN ID under &quot;Network ⇒ Switch&quot; and assign it to &quot;CPU&quot;.
Under &quot;Network ⇒ Interface&quot; edit the &quot;WAN&quot; interface and use for its &quot;Physical Settings&quot; the &quot;Custom Interface&quot;: eth1.&lt;VLAN ID&gt;<br/>

Example: VLAN ID 7 for German Telekom VDSL would be eth1.7
</p>

</div>

<h3 class="sectionedit20" id="sample_single_dmz_port_configuration">Sample Single DMZ Port Configuration</h3>
<div class="level3">

<p>
This configuration demonstrates configuring a single port (<a href="wzr-hp-g300h#network.port.assignments" class="urlextern" title="http://wiki.openwrt.org/toh/buffalo/wzr-hp-g300h#network.port.assignments"  rel="nofollow">LAN 1 / Port 3</a>)
on the WZR-HP-G300NH as a DMZ using the rtl8366s switch.
</p>

<p>
<img src="../../lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /> <strong>Do not forget</strong> to follow the <a href="../../doc/howto/dmz#setting.up.the.firewall" class="urlextern" title="http://wiki.openwrt.org/doc/howto/dmz#setting.up.the.firewall"  rel="nofollow">Firewall DMZ setup guide</a> if you want your DMZ to be of any use.
</p>

<p>
<pre class="code">config &#039;interface&#039; &#039;loopback&#039;
	option &#039;ifname&#039; &#039;lo&#039;
	option &#039;proto&#039; &#039;static&#039;
	option &#039;ipaddr&#039; &#039;127.0.0.1&#039;
	option &#039;netmask&#039; &#039;255.0.0.0&#039;

config &#039;interface&#039; &#039;lan&#039;
	option &#039;ifname&#039; &#039;eth0.1&#039;
	option &#039;type&#039; &#039;bridge&#039;
	option &#039;proto&#039; &#039;static&#039;
	option &#039;ipaddr&#039; &#039;192.168.1.1&#039;
	option &#039;netmask&#039; &#039;255.255.255.0&#039;

config &#039;interface&#039; &#039;wan&#039;
	option &#039;ifname&#039; &#039;eth1&#039;
	option &#039;proto&#039; &#039;pppoe&#039;
	option &#039;username&#039; &#039;-------&#039;
	option &#039;password&#039; &#039;-------&#039;

config &#039;switch&#039;
	option &#039;name&#039; &#039;rtl8366s&#039;
        option &#039;enable&#039; &#039;1&#039;
        option &#039;enable_vlan&#039; &#039;1&#039;
        option &#039;reset&#039; &#039;1&#039;

config &#039;switch_vlan&#039; &#039;eth0_1&#039;
	option &#039;device&#039; &#039;rtl8366s&#039;
	option &#039;vlan&#039; &#039;1&#039;
	option &#039;ports&#039; &#039;0 1 2 5t&#039;

config &#039;switch_vlan&#039; &#039;eth0_2&#039;
	option &#039;device&#039; &#039;rtl8366s&#039;
	option &#039;vlan&#039; &#039;2&#039;
	option &#039;ports&#039; &#039;3 5t&#039;

config &#039;interface&#039; &#039;dmz&#039;
       option &#039;ifname&#039; &#039;eth0.2&#039;
       option &#039;proto&#039; &#039;static&#039;
       option &#039;ipaddr&#039; 192.168.2.1
       option &#039;netmask&#039; 255.255.255.0</pre>

</p>

</div>

<h3 class="sectionedit21" id="network_port_assignments">Network Port Assignments</h3>
<div class="level3">
<div class="table sectionedit22"><table class="inline">
	<tr class="row0">
		<td class="col0"><strong>port 0</strong></td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> 4</td>
	</tr>
	<tr class="row1">
		<td class="col0"><strong>port 1</strong></td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> 3</td>
	</tr>
	<tr class="row2">
		<td class="col0"><strong>port 2</strong></td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> 2</td>
	</tr>
	<tr class="row3">
		<td class="col0"><strong>port 3</strong></td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> 1</td>
	</tr>
	<tr class="row4">
		<td class="col0"><strong>port 4</strong></td><td class="col1"> Unpopulated/unusable </td>
	</tr>
	<tr class="row5">
		<td class="col0"><strong>port 5</strong></td><td class="col1"> CPU</td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit23" id="hardware">Hardware</h2>
<div class="level2">

</div>

<h3 class="sectionedit24" id="info">Info</h3>
<div class="level3">
<div class="table sectionedit25"><table class="inline">
	<tr class="row0">
		<td class="col0 leftalign"> <strong><a href="http://en.wikipedia.org/wiki/Instruction set" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Instruction set">Architecture</a>:</strong>    </td><td class="col1"> <a href="http://en.wikipedia.org/wiki/MIPS architecture" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/MIPS architecture">MIPS</a> </td>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign"> <strong>Vendor:</strong>          </td><td class="col1"> <a href="http://en.wikipedia.org/wiki/Qualcomm Atheros" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Qualcomm Atheros">Qualcomm Atheros</a> </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> <strong><a href="../../doc/techref/bootloader.1" class="wikilink1" title="doc:techref:bootloader">Bootloader</a>:</strong>     </td><td class="col1 leftalign"> crippled <a href="../../doc/techref/bootloader/uboot" class="wikilink1" title="doc:techref:bootloader:uboot">U-Boot</a>  </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/soc.1" class="wikilink1" title="doc:hardware:soc">System-On-Chip</a>:</strong>  </td><td class="col1"> AR9132 </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/cpu" class="wikilink1" title="doc:hardware:cpu">CPU</a>/Speed</strong>        </td><td class="col1"> <a href="http://www.mips.com/products/cores/32-64-bit-cores/mips32-24k/" class="urlextern" title="http://www.mips.com/products/cores/32-64-bit-cores/mips32-24k/"  rel="nofollow">MIPS 24K</a>c V7.4 400 Mhz </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> <strong>Flash-Chip:</strong>      </td><td class="col1"> <a href="http://www.spansion.com/Support/Datasheets/S25FL064P_00_03_e.pdf" class="urlextern" title="http://www.spansion.com/Support/Datasheets/S25FL064P_00_03_e.pdf"  rel="nofollow">ST 25P64V6P</a> </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> <strong>Flash size:</strong>      </td><td class="col1"> 32 MiB </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> <strong>RAM:</strong>             </td><td class="col1 leftalign"> 64 MiB   </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> <strong>Wireless:</strong>        </td><td class="col1"> Atheros AR9160 BB/MAC and AR9103 2.4 <abbr title="Gigahertz">GHz</abbr> 3x3 MIMO radio b/g/n </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> <strong>Ethernet:</strong>        </td><td class="col1 centeralign">  ?  </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign"> <strong>Internet:</strong>        </td><td class="col1 leftalign"> n/a  </td>
	</tr>
	<tr class="row11">
		<td class="col0 leftalign"> <strong>USB:</strong>             </td><td class="col1 leftalign"> Yes 1 x 2.0     </td>
	</tr>
	<tr class="row12">
		<td class="col0 leftalign"> <strong>Serial:</strong>          </td><td class="col1"> <a href="wzr-hp-g300h#serial" title="toh:buffalo:wzr-hp-g300h ↵" class="wikilink1">Yes</a>, 3.3V, no header </td>
	</tr>
	<tr class="row13">
		<td class="col0 leftalign"> <strong>JTAG:</strong>            </td><td class="col1 centeralign">  ?  </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit26" id="photos">Photos</h3>
<div class="level3">

<p>
<a href="../../lib/exe/fetch.php?tok=267af0&amp;media=http%253A%252F%252Fupload.wikimedia.org%252Fwikipedia%252Fcommons%252F1%252F12%252FWZR-HP-G300NH_back.jpg" class="media" title="http://upload.wikimedia.org/wikipedia/commons/1/12/WZR-HP-G300NH_back.jpg"><img src="../../lib/exe/fetch.php?w=320&amp;h=240&amp;tok=7445c7&amp;media=http%253A%252F%252Fupload.wikimedia.org%252Fwikipedia%252Fcommons%252F1%252F12%252FWZR-HP-G300NH_back.jpg" class="media" title="wzr-hp-g300nh_back.jpg" alt="wzr-hp-g300nh_back.jpg" width="320" height="240" /></a>
<a href="../../lib/exe/fetch.php?tok=cb9938&amp;media=http%253A%252F%252Fupload.wikimedia.org%252Fwikipedia%252Fcommons%252Fc%252Fce%252FWZR-HP-G300NH_down.jpg" class="media" title="http://upload.wikimedia.org/wikipedia/commons/c/ce/WZR-HP-G300NH_down.jpg"><img src="../../lib/exe/fetch.php?w=320&amp;h=240&amp;tok=7b77ab&amp;media=http%253A%252F%252Fupload.wikimedia.org%252Fwikipedia%252Fcommons%252Fc%252Fce%252FWZR-HP-G300NH_down.jpg" class="media" title="wzr-hp-g300nh_down.jpg" alt="wzr-hp-g300nh_down.jpg" width="320" height="240" /></a>
<a href="../../lib/exe/fetch.php?tok=a95a02&amp;media=http%253A%252F%252Fupload.wikimedia.org%252Fwikipedia%252Fcommons%252F7%252F79%252FWZR-HP-G300NH_up.jpg" class="media" title="http://upload.wikimedia.org/wikipedia/commons/7/79/WZR-HP-G300NH_up.jpg"><img src="../../lib/exe/fetch.php?w=320&amp;h=240&amp;tok=c9af7f&amp;media=http%253A%252F%252Fupload.wikimedia.org%252Fwikipedia%252Fcommons%252F7%252F79%252FWZR-HP-G300NH_up.jpg" class="media" title="wzr-hp-g300nh_up.jpg" alt="wzr-hp-g300nh_up.jpg" width="320" height="240" /></a>
</p>

</div>

<h3 class="sectionedit27" id="serial_pinout_j3_header">Serial Pinout (J3 header)</h3>
<div class="level3">
<div class="table sectionedit28"><table class="inline">
	<tr class="row0">
		<td class="col0"><strong>Pin 1</strong></td><td class="col1"> VCC +3.3V </td>
	</tr>
	<tr class="row1">
		<td class="col0"><strong>Pin 2</strong></td><td class="col1"> GND </td>
	</tr>
	<tr class="row2">
		<td class="col0"><strong>Pin 3</strong></td><td class="col1"> TX </td>
	</tr>
	<tr class="row3">
		<td class="col0"><strong>Pin 4</strong></td><td class="col1"> RX </td>
	</tr>
	<tr class="row4">
		<td class="col0">Settings</td><td class="col1"> 115200,8,N,1</td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit29" id="buttons">Buttons</h3>
<div class="level3">
<div class="table sectionedit30"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0">Physical button </th><th class="col1"> Name of button </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0">Reset</td><td class="col1">reset/BTN_0 (pressed,released)</td>
	</tr>
	<tr class="row2">
		<td class="col0">AOSS</td><td class="col1">wps/BTN_1 (pressed,released)</td>
	</tr>
	<tr class="row3">
		<td class="col0">USB Eject</td><td class="col1"> BTN_2 (pressed,released)</td>
	</tr>
	<tr class="row4">
		<td class="col0">Movie Engine (on)</td><td class="col1"> BTN_3 released, BTN_4 pressed</td>
	</tr>
	<tr class="row5">
		<td class="col0">Movie Engine (off)</td><td class="col1"> BTN_3 pressed, BTN_4 released</td>
	</tr>
	<tr class="row6">
		<td class="col0">Router (on)</td><td class="col1"> BTN_5 released, BTN_6 released</td>
	</tr>
	<tr class="row7">
		<td class="col0">Router (off)</td><td class="col1"> BTN_5 pressed, BTN_6 released</td>
	</tr>
	<tr class="row8">
		<td class="col0">Router (auto)</td><td class="col1"> BTN_5 released, BTN_6 pressed</td>
	</tr>
	<tr class="row9">
		<th class="col0" colspan="2">gpio_button_hotplug (added into table: r30753)</th>
	</tr>
	<tr class="row10">
		<td class="col0">Router (on⇒off)</td><td class="col1"> BTN_5 pressed</td>
	</tr>
	<tr class="row11">
		<td class="col0">Router (off⇒auto)</td><td class="col1"> BTN_5 released, BTN_6 pressed</td>
	</tr>
	<tr class="row12">
		<td class="col0">Router (auto⇒off)</td><td class="col1"> BTN_6 released, BTN_5 pressed</td>
	</tr>
	<tr class="row13">
		<td class="col0">Router (off⇒on)</td><td class="col1"> BTN_5 released</td>
	</tr>
</table></div>

<p>
There is a slight bug (at least as of r23643) where if a button is already &quot;pressed&quot; when the unit boots then the first transition from pressed to released will not generate a hotplug event.  All subsequent transitions will be recognized correctly.  This only really affects the slide switches, Router and Movie Engine in this case.
</p>

<p>
With r30753 Movie engine and Router buttons work as excepted. <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> Is it possible to read state of the switch?
</p>

</div>

<h4 id="usb_eject_button">USB Eject Button</h4>
<div class="level4">

<p>
To make the USB eject button functional, first modify <code>/etc/hotplug.d/button/00-button</code> <a href="../../doc/howto/hardware.button#usingatheros00-buttonuci" class="wikilink1" title="doc:howto:hardware.button"> as shown here</a> and <span class="curid"><a href="wzr-hp-g300h#leds" class="wikilink1" title="toh:buffalo:wzr-hp-g300h">activate the USB LED.</a></span>
</p>

<p>
Next add a system config for the button with the following commands:
</p>

<p>
<pre class="code">
uci add system button    
uci set system.@button[-1].button=BTN_2
uci set system.@button[-1].action=pressed
uci set system.@button[-1].handler=/usr/bin/usb-umount
uci commit system
</pre>

</p>

<p>
Then create <code>/usr/bin/usb-umount</code> and paste the following:
</p>

<p>
<pre class="code">
# Assumes possibility of up to 1 mounted partition and 1 swap - you will need to modify this if you have more
umount `mount | grep sda | cut -f 1 -d &#039; &#039;`
swapoff `cat /proc/swaps | grep sda | cut -f 1 -d &#039; &#039;`
# Check that no sda partitions are in use, then turn off USB LED
sdainuse=0
sdamount=`mount | grep sda | cut -f 1 -d &#039; &#039;`
sdaswap=`cat /proc/swaps | grep sda | cut -f 1 -d &#039; &#039;`
if [ -n &quot;$sdamount&quot; ]; then
	sdainuse=1
fi
if [ -n &quot;$sdaswap&quot; ]; then
        sdainuse=1
fi
if [ $sdainuse -lt 1 ]; then
	echo 0 &gt; /sys/class/leds/wzr-hp-g300nh\:blue\:usb/brightness
fi
</pre>

</p>

<p>
You need to reboot for the button config to take effect. When you press the button, it will dismount and swapoff any partitions on the SD card, and turn off the USB LED if successful.
</p>

</div>

<h3 class="sectionedit31" id="leds">LEDs</h3>
<div class="level3">

<p>
To turn on the blue LED when a USB device is attached you can modify /etc/hotplug.d/usb/10-usb (tested with 10.03.1-RC5):
</p>
<div class="table sectionedit32"><table class="inline">
	<tr class="row0">
		<td class="col0"> <code>case &quot;$ACTION&quot; in
        add)
                # update LEDs
                echo 255 &gt; /sys/class/leds/wzr-hp-g300nh\:blue\:usb/brightness
                ;;
        remove)
                # update LEDs
                echo 0 &gt; /sys/class/leds/wzr-hp-g300nh\:blue\:usb/brightness
                ;;
esac</code> </td>
	</tr>
</table></div>

<p>
<strong>Note:</strong> Future versions may allow the use of triggers, see this <a href="https://dev.openwrt.org/browser/trunk/target/linux/ar71xx/base-files/etc/uci-defaults/wzr-hp-g300nh" class="urlextern" title="https://dev.openwrt.org/browser/trunk/target/linux/ar71xx/base-files/etc/uci-defaults/wzr-hp-g300nh"  rel="nofollow">check-in</a> for uci defaults
</p>

</div>

<h2 class="sectionedit33" id="troubleshootingbugs">Troubleshooting/Bugs</h2>
<div class="level2">

</div>

<h3 class="sectionedit34" id="uboot-envtools_missing_config_by_default">uboot-envtools missing config by default</h3>
<div class="level3">

<p>
For some reason, uboot-envtools config is not present after the package is installed. It is fairly easy to create it manually by accessing the command line:
</p>

<p>
<pre class="code"># cat /proc/mtd
dev:    size   erasesize  name
mtd0: 00040000 00020000 &quot;u-boot&quot;
mtd1: 00020000 00020000 &quot;u-boot-env&quot;
mtd2: 00100000 00020000 &quot;kernel&quot;
mtd3: 01e60000 00020000 &quot;rootfs&quot;
mtd4: 01a40000 00020000 &quot;rootfs_data&quot;
mtd5: 00020000 00020000 &quot;user_property&quot;
mtd6: 00020000 00020000 &quot;art&quot;
mtd7: 01f60000 00020000 &quot;firmware&quot;

# hexdump -C /dev/mtd1 | head
00000410  63 72 63 3d 44 38 42 32  45 30 41 31 00 73 74 64  |crc=D8B2E0A1.std|
00000420  69 6e 3d 73 65 72 69 61  6c 00 73 74 64 6f 75 74  |in=serial.stdout|
00000430  3d 73 65 72 69 61 6c 00  73 74 64 65 72 72 3d 73  |=serial.stderr=s|
00000440  65 72 69 61 6c 00 6c 6f  61 64 61 64 64 72 3d 38  |erial.loadaddr=8|
00000450  31 46 30 30 30 30 30 00  65 74 68 61 63 74 3d 65  |1F00000.ethact=e|
00000460  74 68 30 00 61 63 63 65  70 74 5f 6f 70 65 6e 5f  |th0.accept_open_|
00000470  72 74 5f 66 6d 74 3d 31  00 00 00 00 00 00 00 00  |rt_fmt=1........|
00000480  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*</pre>

</p>

<p>
By running above commands, we had confirmed that uboot environment is indeed at /dev/mtd1, starting at offset 0x40000 and having size of 0x20000 bytes. Now, use these values to create configuration:
<pre class="code"># opkg install uboot-envtools
# TAB=$(echo -e &quot;\t&quot;)
# cat &gt; /etc/fw_env.config &lt;&lt; EOF
#MTD device name${TAB}Device offset${TAB}Env. size${TAB}Flash sector size
/dev/mtd1${TAB}${TAB}0x40000${TAB}${TAB}0x20000${TAB}${TAB}0x20000
EOF
# fw_printenv
bootargs=console=ttyS0,115200 root=31:03 rootfstype=jffs2 init=/sbin/init mtdparts=ar9100-nor0:256k(u-boot),128k(u-boot-env),1024k(uImage),31104k(rootfs),128k@32640k(ART),128k@32512k(properties)
bootcmd=bootm 0xbe060000
bootdelay=4
baudrate=115200

 . . .</pre>

</p>

<p>
Also, fw_setenv symbolic link doesn&#039;t seem to be deployed by the uboot-envtools package, one can set it by:
<pre class="code">ln -sf /usr/sbin/fw_printenv /usr/sbin/fw_setenv</pre>

</p>

</div>

<h3 class="sectionedit35" id="after_vlan_setup_router_is_inaccessible">After VLAN setup, router is inaccessible</h3>
<div class="level3">

<p>
Do not use VLAN0 if there is another tagged VLAN; use another number.
See <a href="https://dev.openwrt.org/ticket/7168" class="urlextern" title="https://dev.openwrt.org/ticket/7168"  rel="nofollow">ticket 7168</a>.
</p>

</div>

<h3 class="sectionedit36" id="unable_to_transfer_image_via_tftp_transfer_times_out_then_router_boots_normally">Unable to transfer image via TFTP (transfer times out then router boots normally)</h3>
<div class="level3">

<p>
I was unable to transfer the image using my PC with a gigabit network interface. My laptop, which only has a 100Mb network card worked. It may be possible to transfer the image by switching the port down to 100Mb speed.
</p>

<p>
On linux, use (As root):
</p>

<p>
<code>      ethtool -s [network interface name. e.g. eth0] speed 100 duplex full autoneg off</code>
</p>

</div>

<h3 class="sectionedit37" id="wireless_network_down_after_a_period_of_time_10sec_5min">Wireless network down after a period of time (10sec ~ 5min)</h3>
<div class="level3">

<p>
My wireless connection always shuts down automatically after a period of time, disable 802.11n capability solves the problem.
<pre class="code">uci set wireless.radio0.hwmode=11g
uci commit wireless
wifi</pre>

</p>

<p>
The solution above didn&#039;t work for me, I&#039;ve filed a <a href="https://dev.openwrt.org/ticket/8343" class="urlextern" title="https://dev.openwrt.org/ticket/8343"  rel="nofollow">ticket 8343</a>
</p>

</div>

<h3 class="sectionedit38" id="ssh_does_not_start_after_changing_the_password">SSH does not start after changing the password</h3>
<div class="level3">

<p>
<a href="https://dev.openwrt.org/ticket/7047" class="urlextern" title="https://dev.openwrt.org/ticket/7047"  rel="nofollow">https://dev.openwrt.org/ticket/7047</a><br/>

<br/>

When you login into the router for the first time via telnet and change the password, telnet will be disabled and ssh will be enabled. However, due to a bug in backfire 10.03 this takes <strong>2-3 minutes</strong> to happen. If you restart openssh before this is completed you will not have telnet access or ssh access! I would leave the telnet connection open until you can confirm that you can login via ssh.
</p>

</div>

<h3 class="sectionedit39" id="wan_dhcp_won_t_renew">WAN DHCP Won&#039;t Renew</h3>
<div class="level3">

<p>
On OpenWrt the WAN port and <abbr title="Local Area Network">LAN</abbr> ports do not share the same MAC address (printed on the back of the router), the MAC of the WAN port is set to 1 increment higher than the <abbr title="Local Area Network">LAN</abbr>. Example: Printed MAC (00:1D:2C:3B:4A:00), <abbr title="Local Area Network">LAN</abbr> (00:1D:2C:3B:4A:<em>00</em>), WAN (00:1D:2C:3B:4A:<em>01</em>). A hard reset of the cable modem should* allow the router to receive a new lease. Some modems are finicky to what types of devices they hand leases to, so one may try setting the MAC of a PC to the WAN address for OpenWrt, connecting the PC in place of the router, receiving a lease from the modem and then connecting the router again. 
</p>

</div>

<h2 class="sectionedit40" id="u-boot_console">U-Boot Console</h2>
<div class="level2">

<p>
When you see the following, press CTRL-C to interrupt.
</p>

<p>
<pre class="code">tftp server(receive) go, waiting:4[sec]
Trying eth1
eth1 link down
FAIL
Trying eth0
eth0 is duplex
ag7100_check_link: _100BASET
Load address: 0×81f00000</pre>

</p>

<p>
Then you’ll get this:
</p>

<p>
<pre class="code">Abort
no file was loaded.
### main_loop entered: bootdelay=4
### main_loop: bootcmd=”bootm 0×81f00000″
Hit any key to stop autoboot: 0</pre>

</p>

<p>
At this point Hit CTRL-C again.
</p>

</div>

<h2 class="sectionedit41" id="fail_safe_mode">Fail safe mode</h2>
<div class="level2">

<p>
In the event that you mess up the configuration, lose your password or otherwise need to reset your device, you need to use failsafe mode. 
</p>

<p>
The fail safe mode is the same as the WHR-G125 router. <a href="whr-g125#failsafe.mode" class="urlextern" title="http://wiki.openwrt.org/toh/buffalo/whr-g125#failsafe.mode"  rel="nofollow">http://wiki.openwrt.org/toh/buffalo/whr-g125#failsafe.mode</a>
</p>

</div>

<h2 class="sectionedit42" id="tags">Tags</h2>
<div class="level2">

<p>
For some Help with the Tags, please have a look here: <a href="../../meta/tags" class="wikilink1" title="meta:tags">tags</a>
</p>
<div class="tags"><span>
	<a href="../../tag/gigabitethernet?do=showtag&amp;tag=GigabitEthernet" class="wikilink1" title="tag:gigabitethernet" rel="tag">GigabitEthernet</a>,
	<a href="../../tag/5port?do=showtag&amp;tag=5Port" class="wikilink1" title="tag:5port" rel="tag">5Port</a>,
	<a href="../../tag/2nic?do=showtag&amp;tag=2NIC" class="wikilink1" title="tag:2nic" rel="tag">2NIC</a>,
	<a href="../../tag/usb?do=showtag&amp;tag=USB" class="wikilink1" title="tag:usb" rel="tag">USB</a>,
	<a href="../../tag/802.11bgn?do=showtag&amp;tag=802.11bgn" class="wikilink1" title="tag:802.11bgn" rel="tag">802.11bgn</a>,
	<a href="../../tag/ath9k?do=showtag&amp;tag=ath9k" class="wikilink1" title="tag:ath9k" rel="tag">ath9k</a>,
	<a href="../../tag/64ram?do=showtag&amp;tag=64Ram" class="wikilink1" title="tag:64ram" rel="tag">64Ram</a>,
	<a href="../../tag/32flash?do=showtag&amp;tag=32Flash" class="wikilink1" title="tag:32flash" rel="tag">32Flash</a>,
	<a href="../../tag/mips?do=showtag&amp;tag=MIPS" class="wikilink1" title="tag:mips" rel="tag">MIPS</a>,
	<a href="../../tag/mips32?do=showtag&amp;tag=MIPS32" class="wikilink1" title="tag:mips32" rel="tag">MIPS32</a>,
	<a href="../../tag/24kc?do=showtag&amp;tag=24Kc" class="wikilink1" title="tag:24kc" rel="tag">24Kc</a>
</span></div>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/buffalo/wzr-hp-g300h.txt</bdi> · Last modified: 2015/05/06 12:16 by <bdi>theoradicus</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="wzr-hp-g300h?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="wzr-hp-g300h?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="wzr-hp-g300h?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="wzr-hp-g300h#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Abuffalo%253Awzr-hp-g300h&amp;1432266216" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
