<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>Buffalo WHR-HP-G54 [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="bcm53xx,bcm5352,fastethernet,1nic,1wnic,5port,b43,802.11bg,detachableantenna,16ram,4flash,mips,mips32"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="whr-hp-g54?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:buffalo"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/buffalo/whr-hp-g54"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/buffalo/whr-hp-g54"/>
<link rel="canonical" href="whr-hp-g54"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:buffalo';var JSINFO = {"id":"toh:buffalo:whr-hp-g54","namespace":"toh:buffalo"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432277826 166.182.3.144';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="whr-hp-g54#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="whr-hp-g54?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="whr-hp-g54?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:buffalo:whr-hp-g54" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="whr-hp-g54?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="whr-hp-g54?do=media&amp;ns=toh%253Abuffalo"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="whr-hp-g54?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:buffalo:start">Buffalo</a></bdi> » <bdi><span class="curid"><a href="whr-hp-g54" class="wikilink1" title="toh:buffalo:whr-hp-g54">Buffalo WHR-HP-G54</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/buffalo/whr-hp-g54" class="media" title="cz:toh:buffalo:whr-hp-g54"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/buffalo/whr-hp-g54" class="media" title="de:toh:buffalo:whr-hp-g54"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="whr-hp-g54" class="media" title="toh:buffalo:whr-hp-g54"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/buffalo/whr-hp-g54" class="media" title="es:toh:buffalo:whr-hp-g54"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/buffalo/whr-hp-g54" class="media" title="fr:toh:buffalo:whr-hp-g54"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/buffalo/whr-hp-g54" class="media" title="hu:toh:buffalo:whr-hp-g54"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/buffalo/whr-hp-g54" class="media" title="jp:toh:buffalo:whr-hp-g54"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/buffalo/whr-hp-g54" class="media" title="pl:toh:buffalo:whr-hp-g54"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/buffalo/whr-hp-g54" class="media" title="pt-br:toh:buffalo:whr-hp-g54"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/buffalo/whr-hp-g54" class="media" title="ru:toh:buffalo:whr-hp-g54"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/buffalo/whr-hp-g54" class="media" title="tr:toh:buffalo:whr-hp-g54"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/buffalo/whr-hp-g54" class="media" title="zh-cn:toh:buffalo:whr-hp-g54"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/buffalo/whr-hp-g54" class="media" title="zh-tw:toh:buffalo:whr-hp-g54"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:buffalo:whr-hp-g54</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="whr-hp-g54#supported_versions">Supported Versions</a></div></li>
<li class="level1"><div class="li"><a href="whr-hp-g54#hardware_highlights">Hardware Highlights</a></div></li>
<li class="level1"><div class="li"><a href="whr-hp-g54#installation">Installation</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="whr-hp-g54#flash_layout">Flash Layout</a></div></li>
<li class="level2"><div class="li"><a href="whr-hp-g54#easy_installation">easy installation</a></div></li>
<li class="level2"><div class="li"><a href="whr-hp-g54#oem_installation_using_the_tftp_method">OEM installation using the TFTP method</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="whr-hp-g54#specific_values_you_need">Specific values you need</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="whr-hp-g54#upgrading_openwrt">Upgrading OpenWrt</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="whr-hp-g54#luci_web_upgrade_process">LuCI Web Upgrade Process</a></div></li>
<li class="level3"><div class="li"><a href="whr-hp-g54#terminal_upgrade_process">Terminal Upgrade Process</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="whr-hp-g54#basic_configuration">Basic configuration</a></div></li>
<li class="level1"><div class="li"><a href="whr-hp-g54#specific_configuration">Specific Configuration</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="whr-hp-g54#interfaces">Interfaces</a></div></li>
<li class="level2"><div class="li"><a href="whr-hp-g54#switch_ports_for_vlans">Switch Ports (for VLANs)</a></div></li>
<li class="level2"><div class="li"><a href="whr-hp-g54#failsafe_mode">Failsafe mode</a></div></li>
<li class="level2"><div class="li"><a href="whr-hp-g54#buttons">Buttons</a></div></li>
<li class="level2"><div class="li"><a href="whr-hp-g54#enable_internal_amplifier">Enable Internal AMPLIFIER</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="whr-hp-g54#hardware">Hardware</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="whr-hp-g54#info">Info</a></div></li>
<li class="level2"><div class="li"><a href="whr-hp-g54#photos">Photos</a></div></li>
<li class="level2"><div class="li"><a href="whr-hp-g54#opening_the_case">Opening the case</a></div></li>
<li class="level2"><div class="li"><a href="whr-hp-g54#serial">Serial</a></div></li>
<li class="level2"><div class="li"><a href="whr-hp-g54#jtag">JTAG</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="whr-hp-g54#debricking">Debricking</a></div></li>
<li class="level1"><div class="li"><a href="whr-hp-g54#bootloader_mods">Bootloader Mods</a></div></li>
<li class="level1"><div class="li"><a href="whr-hp-g54#hardware_mods">Hardware mods</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="whr-hp-g54#xxmib_ram_mod">xxMiB RAM Mod</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="whr-hp-g54#bootlogs">Bootlogs</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="whr-hp-g54#oem_bootlog">OEM bootlog</a></div></li>
<li class="level2"><div class="li"><a href="whr-hp-g54#openwrt_bootlog">OpenWrt bootlog</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="whr-hp-g54#notes">Notes</a></div></li>
<li class="level1"><div class="li"><a href="whr-hp-g54#tags">Tags</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="buffalo_whr-hp-g54">Buffalo WHR-HP-G54</h1>
<div class="level1">

<p>
802.11g wireless router with a 5 port programmable ethernet switch which supports VLANs. Very similar to the <a href="whr-g54s" class="wikilink1" title="toh:buffalo:whr-g54s">WHR-G54S</a> but the WHR-HP-G54 is equiped with an internal wifi amplifier.
</p>

</div>

<h2 class="sectionedit2" id="supported_versions">Supported Versions</h2>
<div class="level2">
<div class="table sectionedit3"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Version/Model </th><th class="col1"> OpenWrt </th><th class="col2"> Notes </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> WHR-HP-G54   </td><td class="col1" rowspan="3"> ≥ 7.09 </td><td class="col2" rowspan="3"> OpenWrt versions ≥12.09 run easily out of memory </td>
	</tr>
	<tr class="row2">
		<td class="col0"> WHR-HP-G54-1 </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> WHR-HP-G54-4   </td>
	</tr>
</table></div>

<p>
Latest OpenWrt usable version is Backfire (10.03.1) → <a href="http://downloads.openwrt.org/backfire/10.03.1/brcm-2.4/openwrt-brcm-2.4-squashfs.trx" class="urlextern" title="http://downloads.openwrt.org/backfire/10.03.1/brcm-2.4/openwrt-brcm-2.4-squashfs.trx"  rel="nofollow">openwrt-brcm-2.4-squashfs.trx</a>
</p>

<p>
OEM source code available at: <a href="http://opensource.buffalo.jp/gpl_wireless.html" class="urlextern" title="http://opensource.buffalo.jp/gpl_wireless.html"  rel="nofollow">http://opensource.buffalo.jp/gpl_wireless.html</a>
</p>

</div>

<h2 class="sectionedit4" id="hardware_highlights">Hardware Highlights</h2>
<div class="level2">
<div class="table sectionedit5"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> SoC </th><th class="col1"> Ram </th><th class="col2"> Flash </th><th class="col3"> Network </th><th class="col4"> USB </th><th class="col5"> Serial </th><th class="col6"> JTag </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Broadcom BCM5352@200MHz </td><td class="col1"> 16MiB </td><td class="col2"> 4MiB </td><td class="col3"> 5 x 1</td><td class="col4"> No </td><td class="col5"> Yes </td><td class="col6"> Yes </td>
	</tr>
</table></div>

<p>
Forum: <a href="https://forum.openwrt.org/viewtopic.php?id=???" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=???"  rel="nofollow">https://forum.openwrt.org/viewtopic.php?id=???</a>
</p>

</div>

<h2 class="sectionedit6" id="installation">Installation</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> → <a href="../../doc/howto/obtain.firmware" class="wikilink1" title="doc:howto:obtain.firmware">obtain.firmware</a></div>
</li>
<li class="level1"><div class="li"> → <a href="../../doc/howto/installing" class="wikilink1" title="doc:howto:generic.flashing">Install OpenWrt</a></div>
</li>
<li class="level1"><div class="li"> → <a href="../../about/latest" class="wikilink1" title="about:latest">Latest OpenWrt release</a></div>
</li>
</ol>

</div>

<h3 class="sectionedit7" id="flash_layout">Flash Layout</h3>
<div class="level3">

<p>
Please check out the article <a href="../../doc/techref/flash.layout" class="wikilink1" title="doc:techref:flash.layout">Flash.Layout</a>. It contains an example and a couple of explanations.
</p>
<div class="table sectionedit8"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0" colspan="3"> OEM flash layout </th>
	</tr>
	<tr class="row1">
		<th class="col0"> Offsets </th><th class="col1"> Size (kiB) </th><th class="col2"> description </th>
	</tr>
	</thead>
	<tr class="row2">
		<td class="col0"> 0x00000000-0x00040000 </td><td class="col1 rightalign">  256 </td><td class="col2"> &quot;boot&quot; </td>
	</tr>
	<tr class="row3">
		<td class="col0"> 0x00040000-0x003e0000 </td><td class="col1 rightalign">  3712 </td><td class="col2"> &quot;linux&quot; </td>
	</tr>
	<tr class="row4">
		<td class="col0"> 0x00100000-0x003e0000 </td><td class="col1 rightalign">  2944 </td><td class="col2"> &quot;rootfs&quot; </td>
	</tr>
	<tr class="row5">
		<td class="col0"> 0x003e0000-0x00400000 </td><td class="col1 rightalign">  128 </td><td class="col2"> &quot;nvram&quot; </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit9" id="easy_installation">easy installation</h3>
<div class="level3">

<p>
You can&#039;t use the vendor firmware web interface to install Openwrt since it only accepts vendor encrypted firmwares. You must use the TFTP method instead.
If you want to upgrade from DD-WRT, you can use the web-interface to flash the trx file.
</p>

</div>

<h3 class="sectionedit10" id="oem_installation_using_the_tftp_method">OEM installation using the TFTP method</h3>
<div class="level3">

<p>
→  <a href="../../doc/howto/tftp" class="wikilink1" title="doc:howto:generic.flashing.tftp">generic.flashing.tftp</a>
</p>

</div>

<h4 id="specific_values_you_need">Specific values you need</h4>
<div class="level4">
<div class="table sectionedit11"><table class="inline">
	<tr class="row0">
		<td class="col0"> Bootloader default tftp server IPv4 address </td><td class="col1"> 192.168.11.1 </td>
	</tr>
	<tr class="row1">
		<td class="col0"> Firmware tftp image </td><td class="col1"> openwrt-brcm-2.4-squashfs.trx  or openwrt-brcm47xx-squashfs.trx </td>
	</tr>
	<tr class="row2">
		<td class="col0"> TFTP Transfer Window </td><td class="col1"> 4 seconds </td>
	</tr>
	<tr class="row3">
		<td class="col0"> TFTP Window Start </td><td class="col1"> approximately 3 seconds after power on </td>
	</tr>
	<tr class="row4">
		<td class="col0"> TFTP Client Required IP Address </td><td class="col1"> any compatible with 192.168.11.1 </td>
	</tr>
</table></div>
<ul>
<li class="level1"><div class="li"> Unplug the router&#039;s power cord.</div>
</li>
<li class="level1"><div class="li"> Confirm your PC is configured to use a fixed IP in the 192.168.11.0/24 range (do not use .1).</div>
</li>
<li class="level1"><div class="li"> Connect the router&#039;s LAN1 port directly to your PC.</div>
</li>
<li class="level1"><div class="li"> The router accepts an image via TFTP, after powering on during a short time interval, be fast.</div>
</li>
</ul>

<p>
Execute the TFTP commands below:
</p>
<ul>
<li class="level1"><div class="li"> Linux (or Mac <abbr title="Operating System">OS</abbr> X)<pre class="code">tftp 192.168.11.1
tftp&gt; binary
tftp&gt; trace
tftp&gt; put openwrt-brcm-2.4-squashfs.trx</pre>
</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Windows <pre class="code">tftp -i 192.168.11.1 PUT openwrt-brcm-2.4-squashfs.trx</pre>
</div>
</li>
</ul>

<p>
After the TFTP upload is complete, wait at least six minutes. The firmware is first loaded into the RAM, and then flashed. This process takes a little time, and to ensure that the router is not bricked you should wait six minutes.
</p>

<p>
The router will reboot itself automatically after the upgrade is complete. Rebooting may take a while. It might be the case that the router does not reboot by itself; if this happens it should be safe to wait for the period mentioned and then to do a manual reboot (pull the power-cord).
</p>

<p>
You are done! You should be able to telnet to your router (IP address: 192.168.1.1 - even if you were using another one previously) and start configuring.
</p>

</div>

<h3 class="sectionedit12" id="upgrading_openwrt">Upgrading OpenWrt</h3>
<div class="level3">

<p>
→  <a href="../../doc/howto/generic.sysupgrade" class="wikilink1" title="doc:howto:generic.sysupgrade">generic.sysupgrade</a>
</p>

<p>
If you have already installed OpenWrt and like to reflash for e.g. upgrading to a new OpenWrt version you can upgrade using the mtd command line tool. It is important that you put the firmware image into the ramdisk (/tmp) before you start flashing.
</p>

</div>

<h4 id="luci_web_upgrade_process">LuCI Web Upgrade Process</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> Browse to <a href="http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/" class="urlextern" title="http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/"  rel="nofollow">http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/</a> LuCI Upgrade <abbr title="Uniform Resource Locator">URL</abbr></div>
</li>
<li class="level1"><div class="li"> Upload image file for sysupgrade to LuCI</div>
</li>
<li class="level1"><div class="li"> Wait for reboot</div>
</li>
</ul>

</div>

<h4 id="terminal_upgrade_process">Terminal Upgrade Process</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> Login as root via SSH on 192.168.1.1</div>
</li>
<li class="level1"><div class="li"> Use the following commands to upgrade.</div>
</li>
</ul>

<p>
<pre class="code">cd /tmp/
wget http://downloads.openwrt.org/snapshots/trunk/brcm47xx/openwrt-brcm47xx-squashfs.trx
sysupgrade /tmp/openwrt-brcm47xx-squashfs.trx</pre>

</p>
<ul>
<li class="level1"><div class="li">If sysupgrade does not support this router, use the following commands.</div>
</li>
</ul>

<p>
<pre class="code">cd /tmp/
wget http://downloads.openwrt.org/snapshots/trunk/brcm47xx/openwrt-brcm47xx-squashfs.trx
mtd write /tmp/openwrt-brcm47xx-squashfs.trx linux &amp;&amp; reboot</pre>

</p>

</div>

<h2 class="sectionedit13" id="basic_configuration">Basic configuration</h2>
<div class="level2">

<p>
→ <a href="../../doc/howto/configuration" class="wikilink1" title="doc:howto:basic.config">Basic configuration</a> After flashing, proceed with this.<br/>

Set up your Internet connection, configure wireless, configure USB port, etc.
</p>

</div>

<h2 class="sectionedit14" id="specific_configuration">Specific Configuration</h2>
<div class="level2">

</div>

<h3 class="sectionedit15" id="interfaces">Interfaces</h3>
<div class="level3">

<p>
The default network configuration is:
</p>
<div class="table sectionedit16"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Interface Name </th><th class="col1"> Description </th><th class="col2"> Default configuration </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> br-lan </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> &amp; WiFi </td><td class="col2"> 192.168.1.1/24 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> vlan0 (eth0.0) </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> ports (1 to 4) </td><td class="col2"> None </td>
	</tr>
	<tr class="row3">
		<td class="col0"> vlan1 (eth0.1) </td><td class="col1"> WAN port </td><td class="col2"> DHCP </td>
	</tr>
	<tr class="row4">
		<td class="col0"> wlan0 </td><td class="col1"> WiFi </td><td class="col2"> Disabled </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit17" id="switch_ports_for_vlans">Switch Ports (for VLANs)</h3>
<div class="level3">

<p>
Numbers 0-3 are Ports 1-4 as labeled on the unit, number 4 is the Internet (WAN) on the unit, 5 is the internal connection to the router itself. Don&#039;t be fooled: Port 1 on the unit is number 3 when configuring VLANs. vlan0 = eth0.0, vlan1 = eth0.1 and so on.
</p>
<div class="table sectionedit18"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Port </th><th class="col1"> Switch port </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Internet (WAN) </td><td class="col1"> 4 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <abbr title="Local Area Network">LAN</abbr> 1 </td><td class="col1"> 3 </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <abbr title="Local Area Network">LAN</abbr> 2 </td><td class="col1"> 2 </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <abbr title="Local Area Network">LAN</abbr> 3 </td><td class="col1"> 1 </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <abbr title="Local Area Network">LAN</abbr> 4 </td><td class="col1"> 0 </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit19" id="failsafe_mode">Failsafe mode</h3>
<div class="level3">

<p>
→ <a href="../../doc/howto/generic.failsafe" class="wikilink1" title="doc:howto:generic.failsafe">generic.failsafe</a>
</p>

</div>

<h3 class="sectionedit20" id="buttons">Buttons</h3>
<div class="level3">

<p>
→ <a href="../../doc/howto/hardware.button" class="wikilink1" title="doc:howto:hardware.button">hardware.button</a> on howto use and configure the hardware button(s).
</p>

<p>
The Buffalo WHR-HP-G54 has two buttons and one slider switch. They are Reset, AOSS and bridge.
</p>
<div class="table sectionedit21"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> BUTTON </th><th class="col1"> Event </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Reset </td><td class="col1"> reset </td>
	</tr>
	<tr class="row2">
		<td class="col0"> AOSS </td><td class="col1"> ses </td>
	</tr>
	<tr class="row3">
		<td class="col0"> BRI </td><td class="col1"> - </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit22" id="enable_internal_amplifier">Enable Internal AMPLIFIER</h3>
<div class="level3">

<p>
Get into the shell and:type 
<pre class="code">nvram get boardflags</pre>

The result probably will be 0x1758 - enhanced receive sensitivity. The other settings are: 
<pre class="code"> 0x0758 - no amp and receive sensitivity normal 

 0x2758 - amp on, normal receive 

 0x3758 - both amp and BroadRange enhanced receive sensitivity on </pre>

i&#039;m using 0x3758 and it&#039;s much better than the stock setting, to do it just 
<pre class="code"> nvram set boardflags=0x3758 

 nvram commit 

 reboot</pre>

 Have Fun :)
</p>

</div>

<h2 class="sectionedit23" id="hardware">Hardware</h2>
<div class="level2">

</div>

<h3 class="sectionedit24" id="info">Info</h3>
<div class="level3">
<div class="table sectionedit25"><table class="inline">
	<tr class="row0">
		<td class="col0 leftalign"> <strong><a href="http://en.wikipedia.org/wiki/Instruction set" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Instruction set">Instruction set</a>:</strong>               </td><td class="col1"> <a href="http://en.wikipedia.org/wiki/MIPS architecture" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/MIPS architecture">MIPS</a> </td>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign"> <strong>Vendor:</strong>                               </td><td class="col1 leftalign"> <a href="http://en.wikipedia.org/wiki/Broadcom" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Broadcom">Broadcom</a>  </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> <strong><a href="../../doc/techref/bootloader.1" class="wikilink1" title="doc:techref:bootloader">Bootloader</a>:</strong>           </td><td class="col1"> <a href="../../doc/techref/bootloader/cfe" class="wikilink1" title="doc:techref:bootloader:cfe">CFE</a> </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/soc.1" class="wikilink1" title="doc:hardware:soc">System-On-Chip</a>:</strong>  </td><td class="col1"> Broadcom BCM5352 </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/cpu" class="wikilink1" title="doc:hardware:cpu">CPU</a> @Frq</strong>         </td><td class="col1"> BMIPS3300 V0.8 @200MHz </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> <strong>Flash size:</strong>                 </td><td class="col1"> 4 MiB </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> <strong>Flash Chip:</strong>                 </td><td class="col1"> Winbond W19B320ABT7H 48-pin TSOP </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> <strong>RAM size:</strong>                   </td><td class="col1 leftalign"> 16 MiB   </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> <strong>RAM Chips:</strong>                   </td><td class="col1"> MIRA P2V64S40ETP / SDR-133 </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> <strong>Wireless:</strong>               </td><td class="col1"> <em>SoC-integrated</em>: BCM5352 for 2.4GHz 802.11b/g </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign"> <strong>Antennas:</strong>               </td><td class="col1"> 1 onboard, 1 external detachable </td>
	</tr>
	<tr class="row11">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/switch" class="wikilink1" title="doc:hardware:switch">Switch</a>:</strong>    </td><td class="col1 leftalign"> BCM5352 integrated (Fast-ethernet, VLAN)  </td>
	</tr>
	<tr class="row12">
		<td class="col0 leftalign"> <strong>USB:</strong>                        </td><td class="col1 leftalign"> No, but possible with mod  </td>
	</tr>
	<tr class="row13">
		<td class="col0 leftalign"> <strong>Power adapter:</strong>              </td><td class="col1"> 5V DC 2A / NU10-7050200-I3 </td>
	</tr>
	<tr class="row14">
		<td class="col0 leftalign"> <strong><a href="../../OpenWrtDocs/Customizing/Hardware/Serial_Console" class="wikilink1" title="doc:hardware:port.serial">Serial</a>:</strong>  </td><td class="col1"> <a href="whr-hp-g54#serial" title="toh:buffalo:whr-hp-g54 ↵" class="wikilink1">Yes</a> </td>
	</tr>
	<tr class="row15">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/port.jtag" class="wikilink1" title="doc:hardware:port.jtag">JTAG</a>:</strong>      </td><td class="col1 leftalign"> <a href="whr-hp-g54#jtag" title="toh:buffalo:whr-hp-g54 ↵" class="wikilink1">Yes</a>   </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit26" id="photos">Photos</h3>
<div class="level3">

<p>
Model Number
</p>

<p>
<em>Front:</em>
</p>

<p>
<strong>Photo of front of the casing</strong>
</p>

<p>
<em>Back:</em>
</p>

<p>
<strong>Photo of back of the casing</strong>
</p>

</div>

<h3 class="sectionedit27" id="opening_the_case">Opening the case</h3>
<div class="level3">

<p>
<strong>Note:</strong> This will void your warranty!
</p>
<ul>
<li class="level1"><div class="li">To remove the cover do a/b/c</div>
</li>
</ul>

<p>
<a href="../../_detail/media/toh/buffalo/whr-hp-g54_board_top.jpg?id=toh%253Abuffalo%253Awhr-hp-g54" class="media" title="media:toh:buffalo:whr-hp-g54_board_top.jpg"><img src="../../_media/media/toh/buffalo/whr-hp-g54_board_top.jpg?w=300&amp;tok=d1a63d" class="media" alt="" width="300" /></a>
<a href="../../_detail/media/toh/buffalo/whr-hp-g54_board_bottom.jpg?id=toh%253Abuffalo%253Awhr-hp-g54" class="media" title="media:toh:buffalo:whr-hp-g54_board_bottom.jpg"><img src="../../_media/media/toh/buffalo/whr-hp-g54_board_bottom.jpg?w=300&amp;tok=b74467" class="media" alt="" width="300" /></a>
</p>

</div>

<h3 class="sectionedit28" id="serial">Serial</h3>
<div class="level3">

<p>
→ <a href="../../OpenWrtDocs/Customizing/Hardware/Serial_Console" class="wikilink1" title="doc:hardware:port.serial">port.serial</a> general information about the serial port, serial port cable, etc.
</p>

<p>
How to connect to the Serial Port of this specific device:
</p>

<p>
The serial port is located at the J1 pinheader. 
</p>

<p>
<a href="../../_detail/media/toh/buffalo/whr-hp-g54_serial_jtag.jpg?id=toh%253Abuffalo%253Awhr-hp-g54" class="media" title="media:toh:buffalo:whr-hp-g54_serial_jtag.jpg"><img src="../../_media/media/toh/buffalo/whr-hp-g54_serial_jtag.jpg?w=300&amp;tok=4f0489" class="media" alt="" width="300" /></a>
</p>

<p>
You must use 3V3 TTL serial adapter:
<pre class="code">115200 baud rate
8 data bits
1 stop bit
no parity
no handshake</pre>

</p>

</div>

<h3 class="sectionedit29" id="jtag">JTAG</h3>
<div class="level3">

<p>
→ <a href="../../doc/hardware/port.jtag" class="wikilink1" title="doc:hardware:port.jtag">port.jtag</a> general information about the JTAG port, JTAG cable, etc.
</p>

<p>
The WHR-HP-G54 version (no trailing -1 or -4) version of this router is confirmed to have JTAG support. JTAG support on the other versions is unconfirmed. The WHR-HP-G54 board has thru-hole pads labeled CN1 for JTAG near the J1 serial header. The solder can be removed and a 12-pin header can be added for use with JTAG. The holes for the even pins are slightly smaller than the odd holes and it may be difficult to extract all the old solder enough to insert the header. 
</p>

<p>
<a href="../../_detail/media/toh/buffalo/whr-hp-g54_serial_jtag.jpg?id=toh%253Abuffalo%253Awhr-hp-g54" class="media" title="media:toh:buffalo:whr-hp-g54_serial_jtag.jpg"><img src="../../_media/media/toh/buffalo/whr-hp-g54_serial_jtag.jpg?w=300&amp;tok=4f0489" class="media" alt="" width="300" /></a>
</p>

<p>
Old versions of the WRT54G EJTAG DeBrick Utility will not talk to this board; version 3.0 or newer will work. The 
<pre class="code">/noreset</pre>

option is required for all operations as of version 3.0 of the Utility.
</p>

</div>

<h2 class="sectionedit30" id="debricking">Debricking</h2>
<div class="level2">

<p>
→ <a href="../../doc/howto/generic.debrick" class="wikilink1" title="doc:howto:generic.debrick">generic.debrick</a>
</p>

</div>

<h2 class="sectionedit31" id="bootloader_mods">Bootloader Mods</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> you could read about <a href="../../doc/techref/bootloader.1" class="wikilink1" title="doc:techref:bootloader">bootloader</a> in general</div>
</li>
</ol>

</div>

<h2 class="sectionedit32" id="hardware_mods">Hardware mods</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> as a beginner, you really should inform yourself about <a href="../../doc/hardware/soldering" class="wikilink1" title="doc:hardware:soldering">soldering</a> in general and then obtain some practical experience!</div>
</li>
</ol>

</div>

<h3 class="sectionedit33" id="xxmib_ram_mod">xxMiB RAM Mod</h3>
<div class="level3">

<p>
It can be done. The board has pads for 4 chips, 2 at the top (unsoldered) and 2 at the bottom (RAM chips soldered), probably you can solder 4 RAM chips but might be with half bus width (8bit). There is no info on how to proceed with this mod, be the first one to add this info here.
</p>

</div>

<h2 class="sectionedit34" id="bootlogs">Bootlogs</h2>
<div class="level2">

</div>

<h3 class="sectionedit35" id="oem_bootlog">OEM bootlog</h3>
<div class="level3">

<p style="padding: 10px;border:1px solid grey;height:600px;font:10px/14px Georgia, Garamond, Serif;overflow:Auto;background-color:#FFFFFF">
<code> >0x80FFFFFF>complite


CFE version 1.0.37-1.08 for BCM947XX (32bit,SP,LE)
Build Date: 2006ǯ  7�� 11�� ������ 15:41:55 JST (root@ifedora)
Copyright (C) 2000,2001,2002,2003 Broadcom Corporation.

Initializing Arena
Initializing Devices.
* cmdset: AMD Standard
* Insaner_1 = (0x7e)
* flashutl_cmd: type (0004), read_id (0090)
 -> vendid (00DA), devid (227E), devid2 (0000)
* flashutl_cmd: type (0003), read_id (0090)
 -> vendid (00DA), devid (227E), devid2 (0000)
* flashutl_cmd: type (0002), read_id (0090)
 -> vendid (0019), devid (1000), devid2 (0000)
* Flash Info. -> manufacturer (FF), device (FF)
* Flash Info. -> manufacturer2 (0000), device2 (0000)
* Insaner_2 = (0x7e)
* cmdset: AMD Standard
* Insaner_1 = (0x7e)
* flashutl_cmd: type (0004), read_id (0090)
 -> vendid (00DA), devid (227E), devid2 (0000)
* flashutl_cmd: type (0003), read_id (0090)
 -> vendid (00DA), devid (227E), devid2 (0000)
* flashutl_cmd: type (0002), read_id (0090)
 -> vendid (0019), devid (1000), devid2 (0000)
* Flash Info. -> manufacturer (FF), device (FF)
* Flash Info. -> manufacturer2 (0000), device2 (0000)
* Insaner_2 = (0x7e)
* cmdset: AMD Standard
* Insaner_1 = (0x7e)
* flashutl_cmd: type (0004), read_id (0090)
 -> vendid (00DA), devid (227E), devid2 (0000)
* flashutl_cmd: type (0003), read_id (0090)
 -> vendid (00DA), devid (227E), devid2 (0000)
* flashutl_cmd: type (0002), read_id (0090)
 -> vendid (0019), devid (1000), devid2 (0000)
* Flash Info. -> manufacturer (FF), device (FF)
* Flash Info. -> manufacturer2 (0000), device2 (0000)
* Insaner_2 = (0x7e)
et0: Broadcom BCM47xx 10/100 Mbps Ethernet Controller 3.90.39.0
* memc_config: (00048000)
CPU type 0x29008: 200MHz
Total memory: 16384 KBytes

Total memory used by CFE:  0x80400000 - 0x804A39B0 (670128)
Initialized Data:          0x80439670 - 0x8043C210 (11168)
BSS Area:                  0x8043C210 - 0x8043D9B0 (6048)
Local Heap:                0x8043D9B0 - 0x804A19B0 (409600)
Stack Area:                0x804A19B0 - 0x804A39B0 (8192)
Text (code) segment:       0x80400000 - 0x80439670 (235120)
Boot area (physical):      0x004A4000 - 0x004E4000
Relocation Factor:         I:00000000 - D:00000000

Device eth0:  hwaddr 00-1D-73-55-46-5C, ipaddr 192.168.11.1, mask 255.255.255.0
        gateway not set, nameserver not set
Wait a few seconds for an image
Reading :: Failed.: Timeout occured
>>> boot -raw -z -addr=0x80001000 -max=0x3a0000 flash0.os:
Loader:raw Filesys:raw Dev:flash0.os File: Options:(null)
Loading: ...... 1740800 bytes read
Entry at 0x80001000
Closing network.
Starting program at 0x80001000
CPU revision is: 00029008
Primary instruction cache 16kb, linesize 16 bytes (2 ways)
Primary data cache 8kb, linesize 16 bytes (2 ways)
Linux version 2.4.20 (vc03021@mkitec_vc03021) (gcc version 3.3.3) #1 2006年 7� 21�� ���� 06:49:51 JST
Setting the PFC to its default value
Determined physical RAM map:
 memory: 01000000 @ 00000000 (usable)
On node 0 totalpages: 4096
zone(0): 4096 pages.
zone(1): 0 pages.
zone(2): 0 pages.
Kernel command line: root=/dev/mtdblock2 noinitrd console=ttyS0,115200
CPU: BCM5352 rev 0 at 200 MHz
Calibrating delay loop... 199.47 BogoMIPS
Memory: 14140k/16384k available (1508k kernel code, 2244k reserved, 104k data, 64k init, 0k highmem)
Dentry cache hash table entries: 2048 (order: 2, 16384 bytes)
Inode cache hash table entries: 1024 (order: 1, 8192 bytes)
Mount-cache hash table entries: 512 (order: 0, 4096 bytes)
Buffer-cache hash table entries: 1024 (order: 0, 4096 bytes)
Page-cache hash table entries: 4096 (order: 2, 16384 bytes)
Checking for 'wait' instruction...  unavailable.
POSIX conformance testing by UNIFIX
PCI: no core
PCI: Fixing up bus 0
Linux NET4.0 for Linux 2.4
Based upon Swansea University Computer Society NET3.039
Initializing RT netlink socket
Starting kswapd
devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)
devfs: boot_options: 0x1
mel_initsw: GPIO initialize done..
BUFFALO SWICH&LED DRIVER ver 1.00
Serial driver version 5.05c (2001-07-08) with MANY_PORTS SHARE_IRQ SERIAL_PCI enabled
ttyS00 at 0xb8000300 (irq = 3) is a 16550A
ttyS01 at 0xb8000400 (irq = 0) is a 16550A
HDLC line discipline: version $Revision$, maxframe=4096
N_HDLC line discipline registered.
PPP generic driver version 2.4.2
PPP Deflate Compression module registered
PPP BSD Compression module registered
 Amd/Fujitsu Extended Query Table v1.3 at 0x0040
number of CFI chips: 1
Flash device: 0x400000 at 0x1c000000
Physically mapped flash: cramfs filesystem found at block 1024
Creating 4 MTD partitions on "Physically mapped flash":
0x00000000-0x00040000 : "boot"
0x00040000-0x003e0000 : "linux"
0x00100000-0x003e0000 : "rootfs"
0x003e0000-0x00400000 : "nvram"
sflash: found no supported devices
NET4: Linux TCP/IP 1.0 for NET4.0
IP Protocols: ICMP, UDP, TCP
IP: routing cache hash table of 512 buckets, 4Kbytes
TCP: Hash tables configured (established 1024 bind 2048)
ip_conntrack version 2.1 (128 buckets, 1024 max) - 344 bytes per conntrack
ip_tables: (C) 2000-2002 Netfilter core team
*** #define HZ is (100).
ipt_time loading
NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.
NET4: Ethernet Bridge 008 for NET4.0
802.1Q VLAN Support v1.7 Ben Greear <greearb@candelatech.com>
All bugs added by David S. Miller <davem@redhat.com>
VFS: Mounted root (cramfs filesystem) readonly.
Mounted devfs on /dev
Freeing unused kernel memory: 64k freed
init started:  BusyBox v1.00 (2006.07.20-22:00+0000) multi-call binary
Algorithmics/MIPS FPU Emulator v1.5
mount: Mounting none on / failed: Permission denied
MidLayer.c(1936) ML_Initialize :***** Please push init button if you want to init_reboot ******
insmod: /lib/modules/2.4.20: No such file or directory
Using /lib/modules/kernel/drivers/net/et/et.o
Warning: loading et will taint the kernel: no license
  See http://www.tux.org/lkml/#export-tainted for information about tainted modules
eth0: Broadcom BCM47xx 10/100 Mbps Ethernet Controller 3.130.25.0

Please press Enter to activate this console. wl_module_init: Generic GPIO initialize done..
create procpoint for station information eth%d
eth1: Broadcom BCM4318 802.11 Wireless Controller 3.130.25.0
et0: link up (interface up)
register_vlan_device: ALREADY had VLAN registered
register_vlan_device: ALREADY had VLAN registered
wl0: Performing WLC_COMMIT
wl0: Channel Select: 11



BusyBox v1.00 (2006.07.20-22:00+0000) Built-in shell (msh)
Enter 'help' for a list of built-in commands.

# cat /proc/cpuinfo 
system type             : Broadcom BCM947XX
processor               : 0
cpu model               : BCM3302 V0.8
BogoMIPS                : 199.47
wait instruction        : no
microsecond timers      : yes
tlb_entries             : 32
extra interrupt vector  : no
hardware watchpoint     : no
VCED exceptions         : not available
VCEI exceptions         : not available
unaligned_instructions  : 0
dcache hits             : 2144792486
dcache misses           : 380623622
icache hits             : 1430974614
icache misses           : 4068134645
instructions            : 0
# 
</code>
</p>

</div>

<h3 class="sectionedit36" id="openwrt_bootlog">OpenWrt bootlog</h3>
<div class="level3">

<p style="padding: 10px;border:1px solid grey;height:600px;font:10px/14px Georgia, Garamond, Serif;overflow:Auto;background-color:#FFFFFF">
<code>>0x80FFFFFF>complite


CFE version 1.0.37-1.08 for BCM947XX (32bit,SP,LE)
Build Date: 2006ǯ  7�� 11�� ������ 15:41:55 JST (root@ifedora)
Copyright (C) 2000,2001,2002,2003 Broadcom Corporation.

Initializing Arena
Initializing Devices.
* cmdset: AMD Standard
* Insaner_1 = (0x7e)
* flashutl_cmd: type (0004), read_id (0090)
 -> vendid (00DA), devid (227E), devid2 (0000)
* flashutl_cmd: type (0003), read_id (0090)
 -> vendid (00DA), devid (227E), devid2 (0000)
* flashutl_cmd: type (0002), read_id (0090)
 -> vendid (0019), devid (1000), devid2 (0000)
* Flash Info. -> manufacturer (FF), device (FF)
* Flash Info. -> manufacturer2 (0000), device2 (0000)
* Insaner_2 = (0x7e)
* cmdset: AMD Standard
* Insaner_1 = (0x7e)
* flashutl_cmd: type (0004), read_id (0090)
 -> vendid (00DA), devid (227E), devid2 (0000)
* flashutl_cmd: type (0003), read_id (0090)
 -> vendid (00DA), devid (227E), devid2 (0000)
* flashutl_cmd: type (0002), read_id (0090)
 -> vendid (0019), devid (1000), devid2 (0000)
* Flash Info. -> manufacturer (FF), device (FF)
* Flash Info. -> manufacturer2 (0000), device2 (0000)
* Insaner_2 = (0x7e)
* cmdset: AMD Standard
* Insaner_1 = (0x7e)
* flashutl_cmd: type (0004), read_id (0090)
 -> vendid (00DA), devid (227E), devid2 (0000)
* flashutl_cmd: type (0003), read_id (0090)
 -> vendid (00DA), devid (227E), devid2 (0000)
* flashutl_cmd: type (0002), read_id (0090)
 -> vendid (0019), devid (1000), devid2 (0000)
* Flash Info. -> manufacturer (FF), device (FF)
* Flash Info. -> manufacturer2 (0000), device2 (0000)
* Insaner_2 = (0x7e)
et0: Broadcom BCM47xx 10/100 Mbps Ethernet Controller 3.90.39.0
* memc_config: (00048100)
CPU type 0x29008: 200MHz
Total memory: 16384 KBytes

Total memory used by CFE:  0x80400000 - 0x804A39B0 (670128)
Initialized Data:          0x80439670 - 0x8043C210 (11168)
BSS Area:                  0x8043C210 - 0x8043D9B0 (6048)
Local Heap:                0x8043D9B0 - 0x804A19B0 (409600)
Stack Area:                0x804A19B0 - 0x804A39B0 (8192)
Text (code) segment:       0x80400000 - 0x80439670 (235120)
Boot area (physical):      0x004A4000 - 0x004E4000
Relocation Factor:         I:00000000 - D:00000000

Device eth0:  hwaddr 00-1D-73-55-46-5C, ipaddr 192.168.11.1, mask 255.255.255.0
        gateway not set, nameserver not set
Wait a few seconds for an image
Reading :: Failed.: Timeout occured
>>> boot -raw -z -addr=0x80001000 -max=0x3a0000 flash0.os:
Loader:raw Filesys:raw Dev:flash0.os File: Options:(null)
Loading: .. 3712 bytes read
Entry at 0x80001000
Closing network.
Starting program at 0x80001000
[    0.000000] Linux version 3.10.36 (openwrt@gb-12) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.01 r40561) ) #1 Thu Apr 24 06:10:30 UTC 2014
[    0.000000] CPU revision is: 00029008 (Broadcom BMIPS3300)
[    0.000000] bcm47xx: using ssb bus
[    0.000000] ssb: Found chip with id 0x5352, rev 0x00 and package 0x02
[    0.000000] ssb: Sonics Silicon Backplane found at address 0x18000000
[    0.000000] MIPS: machine is Buffalo WHR-HP-G54
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 01000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x00ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x00ffffff]
[    0.000000] Primary instruction cache 16kB, VIPT, 2-way, linesize 16 bytes.
[    0.000000] Primary data cache 8kB, 2-way, VIPT, no aliases, linesize 16 bytes
[    0.000000] Built 1 zonelists in Zone order, mobility grouping off.  Total pages: 4064
[    0.000000] Kernel command line:  noinitrd console=ttyS0,115200
[    0.000000] PID hash table entries: 64 (order: -4, 256 bytes)
[    0.000000] Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.000000] Memory: 12756k/16384k available (2418k kernel code, 3628k reserved, 590k data, 184k init, 0k highmem)
[    0.000000] NR_IRQS:128
[    0.080000] Calibrating delay loop... 199.06 BogoMIPS (lpj=995328)
[    0.080000] pid_max: default: 32768 minimum: 301
[    0.080000] Mount-cache hash table entries: 512
[    0.090000] NET: Registered protocol family 16
[    0.130000] bio: create slab <bio-0> at 0
[    0.150000] Switching to clocksource MIPS
[    0.180000] NET: Registered protocol family 2
[    0.180000] TCP established hash table entries: 512 (order: 0, 4096 bytes)
[    0.180000] TCP bind hash table entries: 512 (order: -1, 2048 bytes)
[    0.180000] TCP: Hash tables configured (established 512 bind 512)
[    0.180000] TCP: reno registered
[    0.180000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.180000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.190000] NET: Registered protocol family 1
[    0.200000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.200000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.200000] msgmni has been set to 24
[    0.200000] io scheduler noop registered
[    0.200000] io scheduler deadline registered (default)
[    0.200000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled
[    0.250000] serial8250.0: ttyS0 at MMIO 0xb8000300 (irq = 3) is a U6_16550A
[    0.510000] console [ttyS0] enabled
[    0.530000] serial8250.0: ttyS1 at MMIO 0xb8000400 (irq = 3) is a U6_16550A
[    0.550000] physmap platform flash device: 02000001 at 1c000000
[    0.560000] physmap-flash.0: Found 1 x16 devices at 0x0 in 16-bit bank. Manufacturer ID 0x00ddda Chip ID 0x00227e
[    0.570000] Amd/Fujitsu Extended Query Table at 0x0040
[    0.570000]   Amd/Fujitsu Extended Query version 1.3.
[    0.580000] number of CFI chips: 1
[    0.600000] 6 bcm47xxpart partitions found on MTD device physmap-flash.0
[    0.610000] Creating 6 MTD partitions on "physmap-flash.0":
[    0.610000] 0x000000000000-0x000000040000 : "boot"
[    0.620000] 0x000000040000-0x0000003f0000 : "firmware"
[    0.640000] 0x00000004001c-0x00000004090c : "loader"
[    0.650000] 0x00000004090c-0x00000014bc00 : "linux"
[    0.650000] mtd: partition "linux" must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.670000] 0x00000014bc00-0x0000003f0000 : "rootfs"
[    0.680000] mtd: partition "rootfs" must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.700000] mtd: device 4 (rootfs) set to be root filesystem
[    0.700000] mtd: partition "rootfs_data" created automatically, ofs=0x330000, len=0xc0000
[    0.710000] 0x000000330000-0x0000003f0000 : "rootfs_data"
[    0.730000] 0x0000003f0000-0x000000400000 : "nvram"
[    0.750000] libphy: Fixed MDIO Bus: probed
[    0.760000] bcm47xx-wdt bcm47xx-wdt.0: BCM47xx Watchdog Timer enabled (30 seconds, Software Timer)
[    0.770000] GPIO_WDT: failed to register misc device
[    0.780000] TCP: cubic registered
[    0.780000] NET: Registered protocol family 17
[    0.790000] Bridge firewalling registered
[    0.790000] 8021q: 802.1Q VLAN Support v1.8
[    0.820000] VFS: Mounted root (squashfs filesystem) readonly on device 31:4.
[    0.830000] Freeing unused kernel memory: 184K (802f2000 - 80320000)
procd: Console is alive
procd: - watchdog -
procd: - preinit -
[    8.220000] pps_core: LinuxPPS API ver. 1 registered
[    8.220000] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    8.250000] PTP clock support registered
[    8.260000] b44: Broadcom 44xx/47xx 10/100 PCI ethernet driver version 2.0
[    8.280000] libphy: b44_eth_mii: probed
[    8.290000] b53_common: found switch: BCM5325, rev 0
[    8.300000] b44 ssb0:0: attached PHY driver [Broadcom B53 (1)] (mii_bus:phy_addr=1:1e)
[    8.310000] b44 ssb0:0 eth0: Broadcom 44xx/47xx 10/100 PCI ethernet driver 00:1d:73:55:46:5c
[    8.330000] bgmac: Broadcom 47xx GBit MAC driver loaded
[    9.320000] b44 ssb0:0 eth0: Link is down
[   10.320000] b44 ssb0:0 eth0: Link is down
[   11.300000] b44 ssb0:0 eth0: Link is up at 100 Mbps, full duplex
[   11.300000] b44 ssb0:0 eth0: Flow control is off for TX and off for RX
Press the [f] key and hit [enter] to enter failsafe mode
Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level
jffs2 is ready
[   15.650000] jffs2: notice: (251) jffs2_build_xattr_subsystem: complete building xattr subsystem, 1 of xdatum (0 unchecked, 0 orphan) and 20 of xref (0 dead, 0 orphan) found.
switching to jffs2
[   15.720000] b44 ssb0:0 eth0: powering down PHY
procd: - early -
procd: - watchdog -
[   16.350000] b44 ssb0:0 eth0: Link is down
procd: - ubus -
procd: - init -
Please press Enter to activate this console.
[   21.680000] Loading modules backported from Linux version master-2014-03-31-1-0-g5c109d2
[   21.690000] Backport generated by backports.git backports-20140221-0-g8e94650
[   21.760000] cfg80211: Calling CRDA to update world regulatory domain
[   21.770000] cfg80211: World regulatory domain updated:
[   21.770000] cfg80211:  DFS Master region: unset
[   21.780000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[   21.790000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   21.790000] cfg80211:   (2457000 KHz - 2482000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   21.800000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)
[   21.810000] cfg80211:   (5170000 KHz - 5250000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[   21.820000] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[   21.830000] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)
[   22.090000] b43-phy0: Broadcom 5352 WLAN found (core revision 9)
[   22.150000] b43-phy0: Found PHY: Analog 2, Type 2 (G), Revision 7
[   22.210000] Broadcom 43xx driver loaded [ Features: PNL ]
[   23.730000] Broadcom 43xx-legacy driver loaded [ Features: PLD ]
procd: - init complete -
[   42.140000] b44 ssb0:0 eth0: Link is down
[   42.160000] device eth0.1 entered promiscuous mode
[   42.170000] device eth0 entered promiscuous mode
[   43.140000] b44 ssb0:0 eth0: Link is down
[   43.330000] b44 ssb0:0 eth0: Link is up at 100 Mbps, full duplex
[   43.330000] b44 ssb0:0 eth0: Flow control is off for TX and off for RX
[   43.370000] br-lan: port 1(eth0.1) entered forwarding state
[   43.370000] br-lan: port 1(eth0.1) entered forwarding state
[   45.370000] br-lan: port 1(eth0.1) entered forwarding state
[   47.540000] b43-phy0: Loading firmware version 666.2 (2011-02-23 01:15:07)
[   47.710000] device wlan0 entered promiscuous mode
[   47.770000] br-lan: port 2(wlan0) entered forwarding state
[   47.770000] br-lan: port 2(wlan0) entered forwarding state
[   49.770000] br-lan: port 2(wlan0) entered forwarding state



BusyBox v1.19.4 (2014-04-24 05:56:10 UTC) built-in shell (ash)
Enter 'help' for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 -----------------------------------------------------
 BARRIER BREAKER (Bleeding Edge, r40561)
 -----------------------------------------------------
  * 1/2 oz Galliano         Pour all ingredients into
  * 4 oz cold Coffee        an irish coffee mug filled
  * 1 1/2 oz Dark Rum       with crushed ice. Stir.
  * 2 tsp. Creme de Cacao
 -----------------------------------------------------
root@OpenWrt:/# cat /proc/cpuinfo 
system type             : Broadcom BCM5352
machine                 : Buffalo WHR-HP-G54
processor               : 0
cpu model               : Broadcom BMIPS3300 V0.8
BogoMIPS                : 199.06
wait instruction        : yes
microsecond timers      : yes
tlb_entries             : 32
extra interrupt vector  : yes
hardware watchpoint     : no
isa                     : mips1 mips2 mips32r1
ASEs implemented        :
shadow register sets    : 1
kscratch registers      : 0
core                    : 0
VCED exceptions         : not available
VCEI exceptions         : not available

root@OpenWrt:/# 
</code>
</p>

</div>

<h2 class="sectionedit37" id="notes">Notes</h2>
<div class="level2">

</div>

<h2 class="sectionedit38" id="tags">Tags</h2>
<div class="level2">

<p>
For some Help with the Tags, please have a look here: <a href="../../meta/tags" class="wikilink1" title="meta:tags">tags</a>
</p>
<div class="tags"><span>
	<a href="../../tag/bcm53xx?do=showtag&amp;tag=bcm53xx" class="wikilink1" title="tag:bcm53xx" rel="tag">bcm53xx</a>,
	<a href="../../tag/bcm5352?do=showtag&amp;tag=bcm5352" class="wikilink1" title="tag:bcm5352" rel="tag">bcm5352</a>,
	<a href="../../tag/fastethernet?do=showtag&amp;tag=FastEthernet" class="wikilink1" title="tag:fastethernet" rel="tag">FastEthernet</a>,
	<a href="../../tag/1nic?do=showtag&amp;tag=1NIC" class="wikilink1" title="tag:1nic" rel="tag">1NIC</a>,
	<a href="../../tag/1wnic?do=showtag&amp;tag=1WNIC" class="wikilink1" title="tag:1wnic" rel="tag">1WNIC</a>,
	<a href="../../tag/5port?do=showtag&amp;tag=5Port" class="wikilink1" title="tag:5port" rel="tag">5Port</a>,
	<a href="../../tag/b43?do=showtag&amp;tag=b43" class="wikilink1" title="tag:b43" rel="tag">b43</a>,
	<a href="../../tag/802.11bg?do=showtag&amp;tag=802.11bg" class="wikilink1" title="tag:802.11bg" rel="tag">802.11bg</a>,
	<a href="../../tag/detachableantenna" class="wikilink1" title="tag:detachableantenna" rel="tag">DetachableAntenna</a>,
	<a href="../../tag/16ram?do=showtag&amp;tag=16RAM" class="wikilink1" title="tag:16ram" rel="tag">16RAM</a>,
	<a href="../../tag/4flash?do=showtag&amp;tag=4Flash" class="wikilink1" title="tag:4flash" rel="tag">4Flash</a>,
	<a href="../../tag/mips?do=showtag&amp;tag=MIPS" class="wikilink1" title="tag:mips" rel="tag">MIPS</a>,
	<a href="../../tag/mips32?do=showtag&amp;tag=MIPS32" class="wikilink1" title="tag:mips32" rel="tag">MIPS32</a>
</span></div>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/buffalo/whr-hp-g54.txt</bdi> · Last modified: 2015/05/06 12:18 by <bdi>theoradicus</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="whr-hp-g54?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="whr-hp-g54?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="whr-hp-g54?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="whr-hp-g54#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Abuffalo%253Awhr-hp-g54&amp;1432277826" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
