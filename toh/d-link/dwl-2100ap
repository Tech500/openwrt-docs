<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>D-Link DWL-2100AP [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="toh,d-link,dwl-2100ap"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="dwl-2100ap?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:d-link"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/d-link/dwl-2100ap"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/d-link/dwl-2100ap"/>
<link rel="canonical" href="dwl-2100ap"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:d-link';var JSINFO = {"id":"toh:d-link:dwl-2100ap","namespace":"toh:d-link"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432266225 166.182.3.17';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="dwl-2100ap#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="dwl-2100ap?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="dwl-2100ap?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:d-link:dwl-2100ap" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="dwl-2100ap?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="dwl-2100ap?do=media&amp;ns=toh%253Ad-link"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="dwl-2100ap?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:d-link:start">D-Link</a></bdi> » <bdi><span class="curid"><a href="dwl-2100ap" class="wikilink1" title="toh:d-link:dwl-2100ap">D-Link DWL-2100AP</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/d-link/dwl-2100ap" class="media" title="cz:toh:d-link:dwl-2100ap"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/d-link/dwl-2100ap" class="media" title="de:toh:d-link:dwl-2100ap"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="dwl-2100ap" class="media" title="toh:d-link:dwl-2100ap"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/d-link/dwl-2100ap" class="media" title="es:toh:d-link:dwl-2100ap"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/d-link/dwl-2100ap" class="media" title="fr:toh:d-link:dwl-2100ap"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/d-link/dwl-2100ap" class="media" title="hu:toh:d-link:dwl-2100ap"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/d-link/dwl-2100ap" class="media" title="jp:toh:d-link:dwl-2100ap"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/d-link/dwl-2100ap" class="media" title="pl:toh:d-link:dwl-2100ap"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/d-link/dwl-2100ap" class="media" title="pt-br:toh:d-link:dwl-2100ap"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <a href="../../ru/toh/d-link/dwl-2100ap" class="media" title="ru:toh:d-link:dwl-2100ap"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/d-link/dwl-2100ap" class="media" title="tr:toh:d-link:dwl-2100ap"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/d-link/dwl-2100ap" class="media" title="zh-cn:toh:d-link:dwl-2100ap"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/d-link/dwl-2100ap" class="media" title="zh-tw:toh:d-link:dwl-2100ap"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:d-link:dwl-2100ap</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="dwl-2100ap#supported_versions">Supported Versions</a></div></li>
<li class="level1"><div class="li"><a href="dwl-2100ap#hardware_highlights">Hardware Highlights</a></div></li>
<li class="level1"><div class="li"><a href="dwl-2100ap#hardware">Hardware</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="dwl-2100ap#info">Info</a></div></li>
<li class="level2"><div class="li"><a href="dwl-2100ap#opening_the_case">Opening the case</a></div></li>
<li class="level2"><div class="li"><a href="dwl-2100ap#serial">Serial</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="dwl-2100ap#rev_a1_a2_a3">Rev. A1, A2, A3</a></div></li>
<li class="level3"><div class="li"><a href="dwl-2100ap#rev_a4_a5">Rev. A4, A5</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="dwl-2100ap#installing">Installing</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="dwl-2100ap#ramdisk_network_boot">Ramdisk Network Boot</a></div></li>
<li class="level2"><div class="li"><a href="dwl-2100ap#bootloader_replacement">Bootloader replacement</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="dwl-2100ap#install_redboot_using_serial_console">Install RedBoot using serial console</a></div></li>
<li class="level3"><div class="li"><a href="dwl-2100ap#install_redboot_-_jtag_method">Install RedBoot - jtag method</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="dwl-2100ap#install_openwrt">Install OpenWRT</a></div></li>
<li class="level2"><div class="li"><a href="dwl-2100ap#recovery_board_config">Recovery Board Config</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="dwl-2100ap#jtag">JTAG</a></div></li>
<li class="level1"><div class="li"><a href="dwl-2100ap#other_info">Other Info</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="d-link_dwl-2100ap">D-Link DWL-2100AP</h1>
<div class="level1">

</div>

<h2 class="sectionedit2" id="supported_versions">Supported Versions</h2>
<div class="level2">
<div class="table sectionedit3"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> H/W Ver. </th><th class="col1"> S/N </th><th class="col2"> OpenWrt Version Supported </th><th class="col3"> Model Specific Notes </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> A2 </td><td class="col1"> - </td><td class="col2"> <a href="https://forum.openwrt.org/viewtopic.php?id=27470" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=27470"  rel="nofollow"> backfire-10.03.1-rc1</a> &amp; <a href="http://downloads.openwrt.org/snapshots/trunk/atheros/" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/atheros/"  rel="nofollow">trunk</a> </td><td class="col3"> - </td>
	</tr>
	<tr class="row2">
		<td class="col0"> A3 </td><td class="col1"> - </td><td class="col2"> <a href="https://forum.openwrt.org/viewtopic.php?id=27470" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=27470"  rel="nofollow"> backfire-10.03.1-rc1</a> &amp; <a href="http://downloads.openwrt.org/snapshots/trunk/atheros/" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/atheros/"  rel="nofollow">trunk</a> </td><td class="col3"> - </td>
	</tr>
	<tr class="row3">
		<td class="col0"> A4 </td><td class="col1"> - </td><td class="col2"> <a href="https://forum.openwrt.org/viewtopic.php?id=27470" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=27470"  rel="nofollow"> backfire-10.03.1-rc1</a> &amp; <a href="http://downloads.openwrt.org/snapshots/trunk/atheros/" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/atheros/"  rel="nofollow">trunk</a> </td><td class="col3"> - </td>
	</tr>
	<tr class="row4">
		<td class="col0"> A5 </td><td class="col1"> - </td><td class="col2"> <a href="https://forum.openwrt.org/viewtopic.php?id=27470" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=27470"  rel="nofollow"> backfire-10.03.1-rc1</a> &amp; <a href="http://downloads.openwrt.org/snapshots/trunk/atheros/" class="urlextern" title="http://downloads.openwrt.org/snapshots/trunk/atheros/"  rel="nofollow">trunk</a> </td><td class="col3"> - </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit4" id="hardware_highlights">Hardware Highlights</h2>
<div class="level2">
<div class="table sectionedit5"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> CPU </th><th class="col1"> Ram </th><th class="col2"> Flash </th><th class="col3"> Network </th><th class="col4"> USB </th><th class="col5"> Serial </th><th class="col6"> JTag </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Atheros AR2313A @180MHz? </td><td class="col1"> 16MiB </td><td class="col2"> 4MiB </td><td class="col3"> 1 </td><td class="col4"> No </td><td class="col5"> Yes </td><td class="col6"> Yes </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit6" id="hardware">Hardware</h2>
<div class="level2">

</div>

<h3 class="sectionedit7" id="info">Info</h3>
<div class="level3">
<div class="table sectionedit8"><table class="inline">
	<tr class="row0">
		<td class="col0"> <strong>Architecture:</strong> MIPS 4Kc</td>
	</tr>
	<tr class="row1">
		<td class="col0"> <strong>Vendor:</strong> D-Link </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <strong>Bootloader:</strong> (VxWorks) </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <strong>Wireless System-On-Chip:</strong> Atheros AR2313A </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <strong>CPU Speed:</strong> 180/240 <abbr title="Megahertz">MHz</abbr> </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <strong>Flash-Chip:</strong> <a href="http://www.amd.com/us-en/assets/content_type/white_papers_and_tech_docs/23579c6.pdf" class="urlextern" title="http://www.amd.com/us-en/assets/content_type/white_papers_and_tech_docs/23579c6.pdf"  rel="nofollow">AMD AM29LV320DB</a> (A2) / <a href="http://www.atmel.com/dyn/resources/prod_documents/doc3308.pdf" class="urlextern" title="http://www.atmel.com/dyn/resources/prod_documents/doc3308.pdf"  rel="nofollow">Atmel AT49BV322A</a> (A2, A3) / <a href="http://www.spansion.com/Support/Datasheets/s29gl-m_00_b8_e.pdf" class="urlextern" title="http://www.spansion.com/Support/Datasheets/s29gl-m_00_b8_e.pdf"  rel="nofollow">Spansion S29GL032M</a> (A4) / <a href="http://www.spansion.com/Pages/Default.aspx" class="urlextern" title="http://www.spansion.com/Pages/Default.aspx"  rel="nofollow">Spansion S29AL032D90TFI04</a> (A4) / <a href="http://datasheet.octopart.com/MX29LV320DBTI-70G-Macronix-datasheet-8325138.pdf" class="urlextern" title="http://datasheet.octopart.com/MX29LV320DBTI-70G-Macronix-datasheet-8325138.pdf"  rel="nofollow">Macronix MX29LV320D</a> (A5) </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <strong>Flash size:</strong> 4 MiB </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <strong>RAM:</strong> 16 MiB </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <strong>Wireless:</strong> Atheros AR2112A </td>
	</tr>
	<tr class="row9">
		<td class="col0"> <strong>Ethernet:</strong> <a href="http://www.icplus.com.tw/pp-IP101.html" class="urlextern" title="http://www.icplus.com.tw/pp-IP101.html"  rel="nofollow">IC+ IP101</a> (A2) / <a href="http://www.icplus.com.tw/pp-IP101A.html" class="urlextern" title="http://www.icplus.com.tw/pp-IP101A.html"  rel="nofollow">IC+ IP101A</a> (A2/A3/A4/A5) </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <strong>USB:</strong> No </td>
	</tr>
	<tr class="row11">
		<td class="col0"> <strong>Serial:</strong> <a href="dwl-2100ap#serial" class="urlextern" title="http://wiki.openwrt.org/toh/d-link/dwl-2100ap#serial"  rel="nofollow">Yes</a> 9600-8N1</td>
	</tr>
	<tr class="row12">
		<td class="col0"> <strong>JTAG:</strong> <a href="../../doc/hardware/port.jtag" class="wikilink1" title="doc:hardware:port.jtag">Yes</a> </td>
	</tr>
</table></div>

<p>
Same board uses in the Alpha Networks WAP-D19.
</p>

<p>
DWL-2100 A5 uses two antennas: printed on board (to right of LED &quot;Wlan&quot;) and external.
</p>

</div>

<h3 class="sectionedit9" id="opening_the_case">Opening the case</h3>
<div class="level3">

<p>
<strong>Note:</strong> This will void your warranty! 
</p>
<ul>
<li class="level1"><div class="li">To remove the cover losen the two screws in the bottom cover and carefully lift the top cover at the back and move it towards the front (three clamps there).</div>
</li>
<li class="level1"><div class="li">There are two screws holding the PCB to the bottom cover.</div>
</li>
</ul>

<p>
<em>Main PCB H/W Versions: A1, A2, A3</em>
</p>

<p>
<a href="../../_detail/inbox/d-link/dwl-2100ap/board.png?id=toh%253Ad-link%253Adwl-2100ap" class="media" title="inbox:d-link:dwl-2100ap:board.png"><img src="../../_media/inbox/d-link/dwl-2100ap/board.png" class="media" title="PCB with four modifications: three solder bridges and one soldering attempt at JP1 pin 2" alt="PCB with four modifications: three solder bridges and one soldering attempt at JP1 pin 2" /></a>
</p>

<p>
<em>Main PCB H/W Versions: A4, a5</em>
<a href="../../_detail/toh/d-link/dwl-2100ap_a4_internal.jpg?id=toh%253Ad-link%253Adwl-2100ap" class="media" title="toh:d-link:dwl-2100ap_a4_internal.jpg"><img src="../../_media/toh/d-link/dwl-2100ap_a4_internal.jpg" class="media" title="No modification needed" alt="No modification needed" /></a>
</p>

</div>

<h3 class="sectionedit10" id="serial">Serial</h3>
<div class="level3">

<p>
→ <a href="../../OpenWrtDocs/Customizing/Hardware/Serial_Console" class="wikilink1" title="doc:hardware:port.serial">port.serial</a>.
</p>

<p>
Serial console represent hardware interface between router onboard serial port and PC. It is ussually used to see bootprocess and interact boot loader. This is possible only if opening the case and attaching a TTL line converter cable. Then you can stop the boot process by sending <code>ESC</code> on bootup until you get a boot prompt and change the bootloader enviroment settings.
</p>
<div class="table sectionedit11"><table class="inline">
	<tr class="row0">
		<td class="col0"> <img src="../../_media/meta/icons/tango/48px-dialog-warning.svg.png" class="media" alt="" /> </td><td class="col1"> The serial communication signals on the 2100AP are ranging from 0 to 3.3V. These <strong>must not</strong> be connected directly to a RS232 cable, which operates at much broader voltage range (-12 to +12V). An appropriate level coupler must be built for this purpose. There are many such circuits on the net, and the simplest ones might use a common MAX 3232 chip.</td>
	</tr>
</table></div>

</div>

<h4 id="rev_a1_a2_a3">Rev. A1, A2, A3</h4>
<div class="level4">

<p>
JP1 (12-pin, without headers, not for A4) is the serial port.  It&#039;s wired very similarly to the serial port in the <a href="http://wiki.openwrt.org/oldwiki/openwrtdocs/hardware/netgear/wpn824" class="wikilink1" title="oldwiki:openwrtdocs:hardware:netgear:wpn824">Netgear WPN824</a> (also AR2313) and  <a href="http://wiki.openwrt.org/oldwiki/openwrtdocs/hardware/netgear/wgt624" class="wikilink1" title="oldwiki:openwrtdocs:hardware:netgear:wgt624">Netgear WGT624</a> (AR231<strong>2</strong>)
</p>

<p>
<strong> Serial </strong>
<pre class="code">       1    JP1
 VCC - [] () - VCC
  RX - () ()
       () ()
       () ()
  TX - () ()
       () ()</pre>

For GND use JTAG connector. See picture below.
</p>

<p>
<a href="../../_detail/dlinkdwl900apserial.jpg?id=toh%253Ad-link%253Adwl-2100ap" class="media" title="dlinkdwl900apserial.jpg"><img src="../../_media/dlinkdwl900apserial.jpg" class="media" alt="" /></a>}
</p>

<p>
<strong>Rev. A2 only:</strong> Some resistors (R264, R273, R275) are missing, so the serial port won&#039;t work.  <em>I&#039;ve bridged them with solder (since I don&#039;t have access to SMT equipment), and it seems like it&#039;s working. This is not needed for rev. A3.</em>
</p>

<p>
<em>Solder bridges at R275, R273 and R264 for rev. A2</em>
</p>

<p>
Check the voltage level of the gnd pin on jp1. If it is not ground, you have to get ground from the jtag J5 pin 2. This was the case with a rev. A2
</p>

<p>
<a href="../../_detail/inbox/d-link/dwl-2100ap/serial_a2.png?id=toh%253Ad-link%253Adwl-2100ap" class="media" title="inbox:d-link:dwl-2100ap:serial_a2.png"><img src="../../_media/inbox/d-link/dwl-2100ap/serial_a2.png" class="media" title="Solder bridges on rev. A2" alt="Solder bridges on rev. A2" /></a>
</p>

</div>

<h4 id="rev_a4_a5">Rev. A4, A5</h4>
<div class="level4">

<p>
JTAG is J5 <br/>

Serial is JP2 (TTL levels - VCC 3.3V) <br/>

</p>

<p>
<strong> JP2 </strong>
</p>
<div class="table sectionedit12"><table class="inline">
	<tr class="row0">
		<th class="col0"> -1- </th><td class="col1"> _ </td><th class="col2"> -2- </th><th class="col3"> -3- </th><th class="col4"> -4- </th>
	</tr>
	<tr class="row1">
		<th class="col0"> TX </th><td class="col1"> _ </td><th class="col2"> VCC </th><th class="col3"> GND </th><th class="col4"> RX </th>
	</tr>
</table></div>

<p>
<a href="../../_detail/toh/d-link/dwl-2100ap_a4_serial_and_jtag.jpg?id=toh%253Ad-link%253Adwl-2100ap" class="media" title="toh:d-link:dwl-2100ap_a4_serial_and_jtag.jpg"><img src="../../_media/toh/d-link/dwl-2100ap_a4_serial_and_jtag.jpg" class="media" title="JTAG-J5;Serial-JP2" alt="JTAG-J5;Serial-JP2" /></a>
<a href="../../_detail/toh/d-link/1.gif?id=toh%253Ad-link%253Adwl-2100ap" class="media" title="toh:d-link:1.gif"><img src="../../_media/toh/d-link/1.gif" class="media" title="Serial pinounts" alt="Serial pinounts" /></a>
</p>

</div>

<h2 class="sectionedit13" id="installing">Installing</h2>
<div class="level2">

<p>
The DWL-2100AP&#039;s firmware is <a href="http://www.windriver.com/products/vxworks/" class="urlextern" title="http://www.windriver.com/products/vxworks/"  rel="nofollow">VxWorks</a> rtos with its own boot loader. Factory boot loader can load via TFTP and execute a MIPS elf executable. MIPS elf executable can be a OpenWrt ramdisk or modified bootloader.
</p>

</div>

<h3 class="sectionedit14" id="ramdisk_network_boot">Ramdisk Network Boot</h3>
<div class="level3">

<p>
We can test OpenWrt without making any changes to flash. This way you can safely play with OpenWrt and preserve the original firmware in flash. If you backup the settings and config you made in OpenWrt and you need them later back, you can easily restore your saved backup.
</p>
<div class="table sectionedit15"><table class="inline">
	<tr class="row0">
		<td class="col0"> <img src="../../_media/meta/icons/tango/48px-dialog-warning.svg.png" class="media" alt="" /> </td><td class="col1"> You need a tftp server with <a href="http://downloads.openwrt.org/backfire/10.03.1-rc6/atheros/openwrt-atheros-vmlinux.elf" class="urlextern" title="http://downloads.openwrt.org/backfire/10.03.1-rc6/atheros/openwrt-atheros-vmlinux.elf"  rel="nofollow">openwrt-atheros-vmlinux.elf</a> boot image in it&#039;s root folder.</td>
	</tr>
</table></div>

<p>
Wait for the bootup and press <code>ESC</code> until you get a boot prompt.
<pre class="code">$ae(1,0)hai:openwrt-atheros-vmlinux.elf h=192.168.1.254 e=192.168.1.20:0xffffff00 f=0x80</pre>

where:
</p>
<ul>
<li class="level1"><div class="li"> <code>hai</code> is the hostname of the computer running tftp (not needed to be correct)</div>
</li>
<li class="level1"><div class="li"> <code>h=</code> sets the host computer ip adress</div>
</li>
<li class="level1"><div class="li"> <code>e=</code> sets the network adress and mask of the ap</div>
</li>
<li class="level1"><div class="li"> <code>f=</code> sets the flags to tftp boot and run</div>
</li>
</ul>

<p>
Original settings we get using command <code>p</code> to print settings):
<pre class="code">ar531x rev 0x00005850 firmware startup...
SDRAM TEST...PASSED



  WAP-G02A  Boot Procedure                       V1.0
---------------------------------------------------------
  Start ..Boot.B12..

theros AR5001AP default version 3.0.0.43A


 1
[Boot]: ?

 ?                     - print this list
 @                     - boot (load and go)
 p                     - print boot params
 c                     - change boot params
 e                     - print fatal exception
 v                     - print version
 B                     - change board data
 S                     - show board data
 n netif               - print network interface device address
 $dev(0,procnum)host:/file h=# e=# b=# g=# u=usr [pw=passwd] f=# 
                           tn=targetname s=script o=other 
 boot device: tffs=drive,removable     file name: /tffs0/vxWorks 
 Boot flags:           
   0x02  - load local system symbols 
   0x04  - don&#039;t autoboot 
   0x08  - quick autoboot (no countdown) 
   0x20  - disable login security 
   0x40  - use bootp to get boot parameters 
   0x80  - use tftp to get boot image 
   0x100 - use proxy arp 

available boot devices:Enhanced Network Devices
 ae1 tffs
[Boot]: p

boot device          : tffs:
unit number          : 0 
processor number     : 0 
file name            : /fl/APIMG1
inet on ethernet (e) : 192.168.1.20:0xffffff00
flags (f)            : 0x0 
other (o)            : ae</pre>

</p>

<p>
Changed settings (use command <code>c</code> to change settings):
<pre class="code">[Boot]: p

boot device          : ae
unit number          : 1 
processor number     : 0 
host name            : hai
file name            : openwrt-atheros-vmlinux.elf
inet on ethernet (e) : 192.168.1.20:0xffffff00
host inet (h)        : 192.168.1.254
flags (f)            : 0x80 
other (o)            : ae</pre>

</p>

</div>

<h3 class="sectionedit16" id="bootloader_replacement">Bootloader replacement</h3>
<div class="level3">

<p>
By replacing the stock loader with modified Redboot we can install OpenWrt permanently. Replacing the loader is tricky because you need to get a version tailored for your device (correct hw. revision and flash type) - see in the forum and below! Here is a <a href="https://forum.openwrt.org/viewtopic.php?id=6357&amp;p=1" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=6357&amp;p=1"  rel="nofollow">forum thread</a> where RedBoot loader was discussed.
</p>
<div class="table sectionedit17"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Vendor </th><th class="col1"> Type </th><th class="col2"> Loader </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> AMD </td><td class="col1"> AM29LV320DB </td><td class="col2"> <a href="http://rghost.net/22011231" class="urlextern" title="http://rghost.net/22011231"  rel="nofollow">Redboot</a> </td>
	</tr>
	<tr class="row2">
		<td class="col0"> Atmel </td><td class="col1"> AT49BV322A </td><td class="col2"> <a href="http://rghost.ru/58414270" class="urlextern" title="http://rghost.ru/58414270"  rel="nofollow">Redboot</a> </td>
	</tr>
	<tr class="row3">
		<td class="col0"> Spansion </td><td class="col1"> S29AL032D </td><td class="col2"> <a href="http://rghost.net/22011231" class="urlextern" title="http://rghost.net/22011231"  rel="nofollow">Redboot</a> </td>
	</tr>
	<tr class="row4">
		<td class="col0"> Spansion </td><td class="col1"> S29GL032D </td><td class="col2"> <a href="http://rghost.net/22011231" class="urlextern" title="http://rghost.net/22011231"  rel="nofollow">Redboot</a> </td>
	</tr>
	<tr class="row5">
		<td class="col0"> Spansion </td><td class="col1"> S29GL032M </td><td class="col2"> <a href="http://rghost.ru/58414270" class="urlextern" title="http://rghost.ru/58414270"  rel="nofollow">Redboot</a> </td>
	</tr>
	<tr class="row6">
		<td class="col0"> Macronix </td><td class="col1"> MX29LV320D </td><td class="col2"> <a href="http://rghost.ru/58414270" class="urlextern" title="http://rghost.ru/58414270"  rel="nofollow">Redboot</a> </td>
	</tr>
</table></div>

<p>
<a href="http://xoomer.virgilio.it/ramponis/Pages/flash.htm" class="urlextern" title="http://xoomer.virgilio.it/ramponis/Pages/flash.htm"  rel="nofollow">Compiled RedBoot, need file &quot;BootLoader Redboot con support Lzma (molto più veloce) per OpenWRT sul 2100AP&quot;</a>
</p>

</div>

<h4 id="install_redboot_using_serial_console">Install RedBoot using serial console</h4>
<div class="level4">

<p>
This is a experimental way to flash using only serial interface. RAM version of custom build RedBoot loader is needed from wich we can burn the permanent ROM version.
</p>
<div class="table sectionedit18"><table class="inline">
	<tr class="row0">
		<td class="col0"> <img src="../../_media/meta/icons/tango/48px-dialog-warning.svg.png" class="media" alt="" /> </td><td class="col1"> You need a TFTP server with both <code>redboot.img</code> (RAM version) and <code>redboot.bin</code> (ROM version) for your flash chip in it&#039;s root folder. </td>
	</tr>
</table></div>
<ul>
<li class="level1"><div class="li"> Plug the AP and press ESC until you are prompted to [boot] in terminal window.</div>
</li>
<li class="level1"><div class="li"> Send <code>p</code> and write all lines from terminal output (to restore if needed), then with <code>c</code> change settings:</div>
</li>
</ul>

<p>
<pre class="code">boot device          : ae1
unit number          : 0
processor number     : 0
file name            : redboot.img
inet on ethernet (e) : 192.168.1.20:ffffff00 //this is AP IP address
host inet (h)        : 192.168.1.254         //this is tftpd server IP address
gateway inet (g)     :
flags (f)            : 0x80
other (o)            : ae</pre>

</p>
<ul>
<li class="level1"><div class="li"> Reboot AP, redboot RAM version have to load,</div>
</li>
<li class="level1"><div class="li"> Install redboot into ROM with next commands:</div>
</li>
</ul>

<p>
<pre class="code">fis init -f
load -r -b %{FREEMEMLO} redboot.bin -h 192.168.1.254 -m tftp
fis create RedBoot
reset</pre>

</p>
<ul>
<li class="level1"><div class="li"> After AP reboot, redboot ROM version have to load and we are ready to install OpenWRT.</div>
</li>
</ul>

</div>

<h4 id="install_redboot_-_jtag_method">Install RedBoot - jtag method</h4>
<div class="level4">

<p>
The safest way to change the boot loader is by using both j-tag and serial interface. If something gets borked, you can re-install the original firmware.
</p>

<p>
Connect JTAG cable and run urjtag. At prompt write <em>jtag</em>
<pre class="code">jtag&gt; cable WIGGLER PPDEV /dev/parport0 #this is for linux
jtag&gt; cable WIGGLER parallel 0x378 #this is for Windows world
jtag&gt; detect
jtag&gt; include atheros/ar2312/ar2312
jtag&gt; poke 0x58400000 0x000e3ce1
jtag&gt; detectflash 0x1fc00000
jtag&gt; flashmem 0x1fc00000 {path to file}/redboot(lzma).bin</pre>

</p>

</div>

<h3 class="sectionedit19" id="install_openwrt">Install OpenWRT</h3>
<div class="level3">
<div class="table sectionedit20"><table class="inline">
	<tr class="row0">
		<td class="col0"><img src="../../_media/meta/icons/tango/dialog-information.png" class="media" alt="" /></td><td class="col1">DWL-2100AP is supported from Backfire <a href="http://downloads.openwrt.org/backfire/10.03.1-rc1/atheros/" class="urlextern" title="http://downloads.openwrt.org/backfire/10.03.1-rc1/atheros/"  rel="nofollow">10.03.1-rc1</a> on. ***(Rev. A2 <a href="https://forum.openwrt.org/viewtopic.php?pid=122738#p122738" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=122738#p122738"  rel="nofollow">tested</a>) and trunk branch is working out of the box too. </td>
	</tr>
</table></div>
<div class="table sectionedit21"><table class="inline">
	<tr class="row0">
		<td class="col0"> <img src="../../_media/meta/icons/tango/48px-dialog-warning.svg.png" class="media" alt="" /> </td><td class="col1"> You need a redboot loader for your flash chip installed and a TFTP server with <code>openwrt-atheros-vmlinux.lzma</code> (kernel) and <code>openwrt-atheros-root.squashfs</code> (root file system) in it&#039;s root folder. </td>
	</tr>
</table></div>

<p>
Next step is set loader environment up:
<pre class="code">fconfig boot_script true
fconfig boot_script_timeout 2
fconfig
Run script at boot: true
Boot script:
..
Enter script, terminate with empty line
&gt;&gt; fis load -l linux
&gt;&gt; go
&gt;&gt;
Boot script timeout (1000ms resolution): 2
Use BOOTP for network configuration: false
Gateway IP address: 192.168.1.254
Local IP address: 192.168.1.1
Local IP address mask: 255.255.255.0
Default server IP address: 192.168.1.254
Console baud rate: 9600
DNS server IP address: 192.168.1.254
GDB connection port: 9000
Force console for special debug messages: false
Network debug at boot time: false
Update RedBoot non-volatile configuration - continue (y/n)? y
reset</pre>

</p>

<p>
After AP reboot and we are ready for OpenWRT install. <em> in this example ap is @192.168.1.1 &amp; tftp server is @192.168.1.254</em>
<pre class="code">fis init -f
load -r -b 0x80041000 openwrt-atheros-vmlinux.lzma
fis create -r 0x80041000 linux
load -r -b 0x80041000 openwrt-atheros-root.squashfs
fis create -r 0x80041000 -e 0x0 rootfs
reset</pre>

</p>

</div>

<h3 class="sectionedit22" id="recovery_board_config">Recovery Board Config</h3>
<div class="level3">

<p>
Connect JTAG cable, run urjtag
<pre class="code">jtag&gt; cable WIGGLER PPDEV /dev/parport0
jtag&gt; detect
jtag&gt; include atheros/ar2312/ar2312
jtag&gt; poke 0x58400000 0x000e3ce1
jtag&gt; detectflash 0x1FFF0000
jtag&gt; flashmem 0x1FFF0000 {path to file}/eeprom_dwl2100hw4_3FFF0000-3FFF0800.bin</pre>

</p>

<p>
<a href="ftp://188.134.16.241/openwrt/DWL2100AP-A4/" class="urlextern" title="ftp://188.134.16.241/openwrt/DWL2100AP-A4/"  rel="nofollow">Here</a> is eeprom_dwl2100hw4_3FFF0000-3FFF0800.bin
</p>

</div>

<h2 class="sectionedit23" id="jtag">JTAG</h2>
<div class="level2">

<p>
<a href="../../lib/exe/fetch.php?tok=ebccad&amp;media=http%253A%252F%252Fwww.lan23.ru%252Fwifi%252FJTag%252Fpost-1-1224568532.gif" class="media" title="http://www.lan23.ru/wifi/JTag/post-1-1224568532.gif"><img src="../../lib/exe/fetch.php?tok=ebccad&amp;media=http%253A%252F%252Fwww.lan23.ru%252Fwifi%252FJTag%252Fpost-1-1224568532.gif" class="media" alt="" /></a>
</p>

<p>
Cf. <a href="http://wiki.openwrt.org/oldwiki/openwrtdocs/hardware/d_link/dwl_2100ap#jtag" class="wikilink1" title="oldwiki:openwrtdocs:hardware:d_link:dwl_2100ap">old Wiki page</a>
</p>

<p>
See <a href="../../doc/hardware/port.jtag" class="wikilink1" title="doc:hardware:port.jtag">port.jtag</a> for more JTAG details.
</p>

</div>

<h2 class="sectionedit24" id="other_info">Other Info</h2>
<div class="level2">

<p>
Cf. <a href="http://wiki.openwrt.org/oldwiki/openwrtdocs/hardware/d_link/dwl_2100ap" class="wikilink1" title="oldwiki:openwrtdocs:hardware:d_link:dwl_2100ap">old Wiki page</a>
</p>
<hr />
<ul>
<li class="level1"><div class="li"> <a href="http://wiki.openwrt.org/toh/categorymodel" class="wikilink2" title="toh:categorymodel" rel="nofollow">CategoryModel</a></div>
</li>
</ul>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/d-link/dwl-2100ap.txt</bdi> · Last modified: 2014/10/25 08:54 by <bdi>ds</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="dwl-2100ap?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="dwl-2100ap?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="dwl-2100ap?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="dwl-2100ap#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Ad-link%253Adwl-2100ap&amp;1432266225" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
