<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>D-Link DIR-300 Rev.A1 (Airlink AR335W/AR430W) [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="fastethernet,1nic,1wnic,5port,jtag,802.11bg,1ant,detachableantenna,16ram,4flash,mips,mips32,4kec"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="dir-300?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:d-link"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/d-link/dir-300"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/d-link/dir-300"/>
<link rel="canonical" href="dir-300"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:d-link';var JSINFO = {"id":"toh:d-link:dir-300","namespace":"toh:d-link"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432265765 166.182.3.127';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="dir-300#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="dir-300?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="dir-300?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:d-link:dir-300" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="dir-300?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="dir-300?do=media&amp;ns=toh%253Ad-link"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="dir-300?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:d-link:start">D-Link</a></bdi> » <bdi><span class="curid"><a href="dir-300" class="wikilink1" title="toh:d-link:dir-300">D-Link DIR-300 Rev.A1 (Airlink AR335W/AR430W)</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/d-link/dir-300" class="media" title="cz:toh:d-link:dir-300"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/d-link/dir-300" class="media" title="de:toh:d-link:dir-300"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="dir-300" class="media" title="toh:d-link:dir-300"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/d-link/dir-300" class="media" title="es:toh:d-link:dir-300"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/d-link/dir-300" class="media" title="fr:toh:d-link:dir-300"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/d-link/dir-300" class="media" title="hu:toh:d-link:dir-300"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/d-link/dir-300" class="media" title="jp:toh:d-link:dir-300"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/d-link/dir-300" class="media" title="pl:toh:d-link:dir-300"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/d-link/dir-300" class="media" title="pt-br:toh:d-link:dir-300"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/d-link/dir-300" class="media" title="ru:toh:d-link:dir-300"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/d-link/dir-300" class="media" title="tr:toh:d-link:dir-300"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/d-link/dir-300" class="media" title="zh-cn:toh:d-link:dir-300"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/d-link/dir-300" class="media" title="zh-tw:toh:d-link:dir-300"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:d-link:dir-300</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="dir-300#hardware_highlights">Hardware Highlights</a></div></li>
<li class="level1"><div class="li"><a href="dir-300#first_time_installation">First Time Installation...</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="dir-300#flash_layout">Flash Layout</a></div></li>
<li class="level2"><div class="li"><a href="dir-300#with_manual_step_by_step_guide">... with manual step by step guide:</a></div></li>
<li class="level2"><div class="li"><a href="dir-300#with_dir300-flashsh_shell_script">... with dir300-flash.sh shell script</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="dir-300#reflash">Reflash</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="dir-300#via_bootloader">via Bootloader</a></div></li>
<li class="level2"><div class="li"><a href="dir-300#via_openwrt">via OpenWrt</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="dir-300#luci">LUCI</a></div></li>
<li class="level3"><div class="li"><a href="dir-300#terminal">Terminal</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="dir-300#basic_configuration">Basic configuration</a></div></li>
<li class="level1"><div class="li"><a href="dir-300#redboot_access_script_for_windows">Redboot access script for Windows</a></div></li>
<li class="level1"><div class="li"><a href="dir-300#hardware">Hardware</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="dir-300#info">Info</a></div></li>
<li class="level2"><div class="li"><a href="dir-300#serial_port_jp1">Serial Port (JP1)</a></div></li>
<li class="level2"><div class="li"><a href="dir-300#jtag_j6">JTAG (J6)</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="dir-300#specific_configuration">Specific configuration</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="dir-300#interfaces">Interfaces</a></div></li>
<li class="level2"><div class="li"><a href="dir-300#wifi">WiFi</a></div></li>
<li class="level2"><div class="li"><a href="dir-300#switch_ports_for_vlans">Switch Ports (for VLANs)</a></div></li>
<li class="level2"><div class="li"><a href="dir-300#failsafe_mode">Failsafe mode</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="dir-300#cpu_overclock_from_183_to_200_mhz">CPU Overclock from 183 to 200 MHz</a></div></li>
<li class="level1"><div class="li"><a href="dir-300#sd-card_slot_mod">SD-card slot mod</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="d-link_dir-300_reva1_airlink_ar335war430w">D-Link DIR-300 Rev.A1 (Airlink AR335W/AR430W)</h1>
<div class="level1">
<div class="table sectionedit2"><table class="inline">
	<tr class="row0">
		<td class="col0"><img src="../../lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /> Note: For D-Link DIR-300 Rev.B1 (other hardware (HW), please see <strong><a href="dir-300revb" class="wikilink1" title="toh:d-link:dir-300revb">D-Link DIR-300 Rev.B</a></strong>.</td>
	</tr>
</table></div>

</div>

<h1 class="sectionedit3" id="supported_versions">Supported Versions</h1>
<div class="level1">
<div class="table sectionedit4"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Version/Model </th><th class="col1"> S/N </th><th class="col2"> OpenWrt Version Supported </th><th class="col3"> Model Specific Notes </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> A1 </td><td class="col1"> - </td><td class="col2"> Kamikaze 8.09 </td><td class="col3"> - </td>
	</tr>
	<tr class="row2">
		<td class="col0"> B1 </td><td class="col1"> - </td><td class="col2"> other hardware </td><td class="col3"> see <a href="dir-300revb" class="wikilink1" title="toh:d-link:dir-300revb">DIR-300 Rev.B</a> </td>
	</tr>
</table></div>

<p>
<img src="../../lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /> <strong><em>NOTE:</em></strong> Because of <a href="https://dev.openwrt.org/ticket/6807" class="urlextern" title="https://dev.openwrt.org/ticket/6807"  rel="nofollow">Ticket 6807</a> OpenWrt 10.03 &#039;Backfire&#039; wasn&#039;t working. In r20733 (2010-04-07) this issue has been fixed. So avoid OpenWrt 10.03 and use OpenWrt 8.09 &#039;Kamikaze&#039;, a trunk version newer then r20733 or the newest OpenWrt 10.03.1 &#039;Backfire&#039;. Enjoy.
</p>

</div>

<h2 class="sectionedit5" id="hardware_highlights">Hardware Highlights</h2>
<div class="level2">
<div class="table sectionedit6"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> CPU </th><th class="col1"> Ram </th><th class="col2"> Flash </th><th class="col3"> Network </th><th class="col4"> USB </th><th class="col5"> Serial </th><th class="col6"> JTag </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> Atheros AR2317@182MHz  </td><td class="col1"> 16MB </td><td class="col2"> 4MB </td><td class="col3"> 4x1 </td><td class="col4"> No </td><td class="col5"> Yes </td><td class="col6"> Yes </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit7" id="first_time_installation">First Time Installation...</h2>
<div class="level2">

</div>

<h3 class="sectionedit8" id="flash_layout">Flash Layout</h3>
<div class="level3">

<p>
First let&#039;s have a quick view at the <a href="../../doc/techref/flash.layout" class="wikilink1" title="doc:techref:flash.layout">Flash Layout</a> with the stock firmware and once OpenWrt has been installed onto the device. When you later want to understand, what mtd/sysupgrade do, have another look here:
</p>
<div class="table sectionedit9"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 centeralign" colspan="8">   D-Link DIR-300 Rev.A1  Flash Layout           </th>
	</tr>
	</thead>
	<tr class="row1">
		<th class="col0 leftalign"> Layer0       </th><td class="col1 centeralign" colspan="7">                    xxxxxx spi0.0: xxxxxx      4096KiB                                                                 </td>
	</tr>
	<tr class="row2">
		<th class="col0 leftalign"> Layer1       </th><td class="col1 centeralign">  mtd0<br/>
<strong><em>RedBoot</em></strong><br/>
192KiB  </td><td class="col2 centeralign">  mtd1<br/>
<strong><em>vmlinux-bin.17</em></strong><br/>
832KiB  </td><td class="col3 centeralign" colspan="2">  mtd2 <strong><em>rootfs</em></strong> 2944KiB  </td><td class="col5 centeralign">  mtd4<br/>
<strong><em>FIS recovery</em></strong><br/>
60KiB  </td><td class="col6 centeralign">  mtd5<br/>
<strong><em>RedBoot config</em></strong><br/>
4KiB  </td><td class="col7 centeralign">  mtd6<br/>
<strong><em>boardconfig</em></strong><br/>
64KiB  </td>
	</tr>
	<tr class="row3">
		<th class="col0 leftalign"> mountpoints  </th><td class="col1 leftalign">                </td><td class="col2 leftalign">                </td><td class="col3 centeralign" colspan="2">  <code>/</code>                                           </td><td class="col5 leftalign">              </td><td class="col6 leftalign">             </td><td class="col7 leftalign">             </td>
	</tr>
	<tr class="row4">
		<th class="col0 leftalign"> filesystem   </th><td class="col1 leftalign">                </td><td class="col2 leftalign">                </td><td class="col3 centeralign" colspan="2">  <a href="../../doc/techref/filesystems#mini_fo" class="wikilink1" title="doc:techref:filesystems">mini_fo</a>     </td><td class="col5 leftalign">              </td><td class="col6 leftalign">             </td><td class="col7 leftalign">             </td>
	</tr>
	<tr class="row5">
		<th class="col0 leftalign"> Layer2       </th><td class="col1 centeralign">  mtd0          </td><td class="col2 centeralign">  mtd1          </td><td class="col3 leftalign">                  </td><td class="col4 centeralign">  mtd3 <strong><em>rootfs_data</em></strong> 1600KiB  </td><td class="col5 centeralign">  mtd4    </td><td class="col6 centeralign">  mtd5       </td><td class="col7 centeralign">  mtd6       </td>
	</tr>
	<tr class="row6">
		<th class="col0 leftalign"> Size in KiB  </th><td class="col1 centeralign">  192KiB        </td><td class="col2 centeralign">  832KiB        </td><td class="col3 centeralign">  1344KiB         </td><td class="col4 centeralign">  1600KiB                       </td><td class="col5 centeralign">  60KiB       </td><td class="col6 centeralign">  4KiB       </td><td class="col7 centeralign">  64KiB      </td>
	</tr>
	<tr class="row7">
		<th class="col0 leftalign"> mountpoints  </th><td class="col1 centeralign">  <em>none</em>      </td><td class="col2 centeralign">  <em>none</em>      </td><td class="col3 centeralign">  <code>/rom</code>        </td><td class="col4 centeralign">  <code>/overlay</code>                  </td><td class="col5 centeralign">  <em>none</em>    </td><td class="col6 centeralign">  <em>none</em>   </td><td class="col7 centeralign">  <em>none</em>   </td>
	</tr>
	<tr class="row8">
		<th class="col0 leftalign"> filesystem   </th><td class="col1 centeralign">  <em>none</em>      </td><td class="col2 centeralign">  <em>none</em>      </td><td class="col3 centeralign">  SquashFS        </td><td class="col4 centeralign">  JFFS2                         </td><td class="col5 centeralign">  <em>none</em>    </td><td class="col6 centeralign">  <em>none</em>   </td><td class="col7 centeralign">  <em>none</em>   </td>
	</tr>
</table></div>

<p>
<img src="../../lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /> Note: As opposed to other devices, here we do not have a <em>firmware partition</em>, so you cannot address it with <code>mtd -r write xxx.bin firmware</code>. This is because every time you write to flash, you have to adjust the FIS (file information system). <code>mtd</code> cannot do that, so we cannot use it to do updates. You have to use RedBoot for updates.
</p>

<p>
<img src="../../lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /> Some users have reported that using the jffs version of openwrt can remove the board config area of the flash. if at any point you need to restore to the original firmware or to the emergency redboot web flash page, you can find instructions <a href="http://www.shadowandy.net/2007/10/flashing-dir-300-back-to-original-firmware.htm" class="urlextern" title="http://www.shadowandy.net/2007/10/flashing-dir-300-back-to-original-firmware.htm"  rel="nofollow">here</a>
</p>

</div>

<h3 class="sectionedit10" id="with_manual_step_by_step_guide">... with manual step by step guide:</h3>
<div class="level3">
<div class="table sectionedit11"><table class="inline">
	<tr class="row0">
		<td class="col0"> <img src="../../_media/meta/icons/tango/dialog-information.png" class="media" alt="" /> </td><td class="col1"> <strong>Note</strong> My DIR-300 takes ridiculously long to boot. I measured about 70 seconds after power connection has been established until I can connect to the bootloader and about 160 seconds until I can telnet/ssh to the OpenWrt! Maybe this is normal, maybe I miss-configured the replacement bootloader at the first time installation. FYI. </td>
	</tr>
</table></div>

<p>
In order to replace the original firmware with OpenWrt, you will need to replace the BootLoader as well. RedBoot is OpenSource software and we are going to replace the original one with a modified one <a href="http://forum.freifunk-hannover.de/viewtopic.php?f=23&amp;t=1028#p6960" class="urlextern" title="http://forum.freifunk-hannover.de/viewtopic.php?f=23&amp;t=1028#p6960"  rel="nofollow">here</a> or from the DD-Wrt-Project. For the first time installation of OpenWrt on the D-Link DIR-300 (Rev.A1) or on the Airlink AR335W/AR430W you need to obtain 4 files from the Internet and have a <a href="http://en.wikipedia.org/wiki/Trivial File Transfer Protocol" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Trivial File Transfer Protocol">tfpd</a> (i.e. daemon, not client) running.
</p>

<p>
First you should install a tfpt-daemon and change into its root directory. After installation it will be automatically started. In Ubuntu do:
</p>
<div class="table sectionedit12"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">sudo aptitude install tftpd-hpa
cd /var/lib/tftpboot</pre>
</td>
	</tr>
</table></div>

<p>
Now download the four files directly into this directory. You only need sudo, because as a normal user you cannot write in here:
</p>
<div class="table sectionedit13"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">sudo wget http://www.dd-wrt.com/dd-wrtv2/downloads/v24/Atheros%20WiSoc/Airlink%20101%20AR430W/ap61.ram
sudo wget http://www.dd-wrt.com/dd-wrtv2/downloads/v24/Atheros%20WiSoc/Airlink%20101%20AR430W/ap61.rom

sudo wget http://downloads.openwrt.org/snapshots/trunk/atheros/openwrt-atheros-vmlinux.lzma
sudo wget http://downloads.openwrt.org/snapshots/trunk/atheros/openwrt-atheros-root.squashfs</pre>
</td>
	</tr>
</table></div>

<p>
Let&#039;s assume, you have only one NIC in you PC, while keeping you browser with this page open so you can read on, you will need to give yourself the IP 192.168.20.80. Now before you proceed, due to compatibility issues, you need to create the ~/.telnetrc. It has to contain the following:
</p>
<div class="table sectionedit14"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">192.168.20.81
        mode line</pre>
</td>
	</tr>
</table></div>

<p>
Connect your NIC to the <code>WAN</code>-Port of the DIR-300 and then restart the Router. While it reboots, after about 5 sec, there is a window of about 1 sec, during which you should be able to login to the original BootLoader of the DIR-300. Simply repeat this, until success:
</p>
<div class="table sectionedit15"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">telnet 192.168.20.81 9000</pre>
</td>
	</tr>
</table></div>

<p>
This is not a big deal, and you should be successful at first try. You will be presented with the original RedBoot prompt eagerly awaiting your input:
</p>
<div class="table sectionedit16"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">Redboot&gt;</pre>
</td>
	</tr>
</table></div>

<p>
Now we will get and execute the modified (and temporary) RedBoot from the DD-Wrt-Project:
</p>
<div class="table sectionedit17"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">Redboot&gt; load ap61.ram go</pre>
</td>
	</tr>
</table></div>

<p>
or split over two commands (if you get an error with the above)
</p>
<div class="table sectionedit18"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">Redboot&gt; load ap61.ram
Redboot&gt; go</pre>
</td>
	</tr>
</table></div>

<p>
You will get no feedback and nothing has been written onto the flash yet, but the new temporary BootLoader should be running. To communicate with it, you need to change your own IP from 192.168.20.80 to 192.168.1.2 and reconnect the ethernet cable to one of the <abbr title="Local Area Network">LAN</abbr>-Ports of the Router. Then telnet to it:
</p>
<div class="table sectionedit19"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">telnet 192.168.1.1 9000</pre>
</td>
	</tr>
</table></div>

<p>
The modified (and temporary) BootLoader awaits you.
</p>
<div class="table sectionedit20"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">DD-WRT&gt;</pre>
</td>
	</tr>
</table></div>

<p>
Now you need to make things permanent. For this we will use the other file, the ap61.rom:
</p>
<div class="table sectionedit21"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">DD-WRT&gt;fis init
About to initialize [format] FLASH image system - continue (y/n)? y
*** Initialize FLASH Image System
... Erase from 0xbffe0000-0xbfff0000: .
... Program from 0x807f0000-0x80800000 at 0xbffe0000: .

DD-WRT&gt;ip_address -h 192.168.1.2
IP: 192.168.1.1/255.255.255.0, Gateway: 0.0.0.0
Default server: 192.168.1.2

DD-WRT&gt;load -r -b %{FREEMEMLO} ap61.rom
Using default protocol (TFTP)
Raw file loaded 0x80080000-0x800a8717, assumed entry at 0x80080000

DD-WRT&gt;fis create -l 0x30000 -e 0xbfc00000 RedBoot
An image named &#039;RedBoot&#039; exists - continue (y/n)? y
... Erase from 0xbfc00000-0xbfc30000: ...
... Program from 0x80080000-0x800a8718 at 0xbfc00000: ...
... Erase from 0xbffe0000-0xbfff0000: .
... Program from 0x807f0000-0x80800000 at 0xbffe0000: .

DD-WRT&gt;fconfig bootp false
bootp: Setting to false
Update RedBoot non-volatile configuration - continue (y/n)? y
... Erase from 0xbffe0000-0xbfff0000: .
... Program from 0x80ff0000-0x81000000 at 0xbffe0000: . 
DD-WRT&gt;reset</pre>
</td>
	</tr>
</table></div>

<p>
The Router will reboot, it should take about a minute. You login again to the modified (but this time persistent) BootLoader, load and fis the OpenWrt-Images onto the flash and configure the BootLoader:
</p>
<div class="table sectionedit22"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">DD-WRT&gt;fis init
About to initialize [format] FLASH image system - continue (y/n)? y
*** Initialize FLASH Image System
... Erase from 0xbffe0000-0xbfff0000: .
... Program from 0x807f0000-0x80800000 at 0xbffe0000: .

DD-WRT&gt;ip_address -h 192.168.1.2
IP: 192.168.1.1/255.255.255.0, Gateway: 0.0.0.0
Default server: 192.168.1.2

DD-WRT&gt;load -r -b %{FREEMEMLO} openwrt-atheros-vmlinux.lzma
Using default protocol (TFTP)
Raw file loaded 0x80040800-0x801007ff, assumed entry at 0x80040800

DD-WRT&gt;fis create -e 0x80041000 -r 0x80041000 vmlinux.bin.l7
... Erase from 0xbfc30000-0xbfcf0000: ............
... Program from 0x80040800-0x80100800 at 0xbfc30000: ............
... Erase from 0xbffe0000-0xbfff0000: .
... Program from 0x80ff0000-0x81000000 at 0xbffe0000: .

DD-WRT&gt;load -r -b %{FREEMEMLO} openwrt-atheros-root.squashfs
Using default protocol (TFTP)
Raw file loaded 0x80040800-0x802207ff, assumed entry at 0x80040800&#039;&#039;

DD-WRT&gt;fis create rootfs
... Erase from 0xbfcf0000-0xbffe0000: ...............................................
... Program from 0x80040800-0x80220800 at 0xbfcf0000: ..............................
... Erase from 0xbffe0000-0xbfff0000: .
... Program from 0x80ff0000-0x81000000 at 0xbffe0000: .

DD-WRT&gt;fconfig boot_script_timeout 5

DD-WRT&gt;fconfig boot_script true
Run script at boot: true 

DD-WRT&gt;fconfig
Run script at boot: true
Boot script:
Enter script, terminate with empty line
&gt;&gt; fis load -l vmlinux.bin.l7
&gt;&gt; exec
&gt;&gt;
Boot script timeout (1000ms resolution): 5
Use BOOTP for network configuration: false
Gateway IP address: 192.168.1.1
Local IP address: 192.168.1.10
Local IP address mask: 255.255.255.0
Default server IP address: 192.168.1.228
Console baud rate: 9600
GDB connection port: 9000
Force console for special debug messages: false
Network debug at boot time: false
Update RedBoot non-volatile configuration - continue (y/n)? y
... Erase from 0xbffe0000-0xbfff0000: .
... Program from 0x80ff0000-0x81000000 at 0xbffe0000: .&#039;&#039;

DD-WRT&gt;reset</pre>
</td>
	</tr>
</table></div>

<p>
<strong>And we are done.</strong> This time the reboot could take up to 4-5 minutes, so be patient.
</p>

</div>

<h3 class="sectionedit23" id="with_dir300-flashsh_shell_script">... with dir300-flash.sh shell script</h3>
<div class="level3">

<p>
<img src="../../lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /> If you don&#039;t trust the script below (it loads some binary from some blog, use the step by step guideline above <img src="../../lib/images/smileys/icon_wink.gif" class="icon" alt=";-)" />
</p>

<p>
For linux there is shell script called <a href="http://x-alina.freifunk-potsdam.de/downloads/dir300-flash/" class="urlextern" title="http://x-alina.freifunk-potsdam.de/downloads/dir300-flash/"  rel="nofollow">dir300-flash</a>; it wraps the manual steps for replacing the original bootloader and/or flashing firmware images into a single command line. The script requires a tftp-daemon to be already running. See –help for further details. Usage:
</p>

<p>
<code>$ sudo ./dir300-flash.sh eth0 openwrt-atheros-vmlinux.lzma openwrt-atheros-root.squashfs
Please connect now the WAN port of the DIR-300 wireless router directly to
the interface &quot;eth0&quot; and then power the wireless router on.
Waiting for the wireless router….. done
Testing for the factory bootloader… yes
Uploading the temporary bootloader RAM image… done
Starting the temporary bootloader… done
Waiting for the temporary bootloader to come up…. done
Uploading the new bootloader ROM image… done
Warning: Do not power off or disconnect as this may break the wireless router!
Setting up bootloader configuration… done
Flashing the new bootloader… done
Resetting the wireless router… done
Waiting for the new bootloader…………. done
Uploading the new kernel image… done
Flashing the new kernel image… done
Uploading the new root filesystem… done
Flashing the new root filesystem… done
Resetting the wireless router… done</code>
</p>

</div>

<h2 class="sectionedit24" id="reflash">Reflash</h2>
<div class="level2">

</div>

<h3 class="sectionedit25" id="via_bootloader">via Bootloader</h3>
<div class="level3">

<p>
For reflashing via the <a href="../../doc/techref/bootloader.1" class="wikilink1" title="doc:techref:bootloader">bootloader</a> do:
</p>

<p>
<pre class="code">fis init
ip_address -h 192.168.1.2
load -r -b %{FREEMEMLO} openwrt-atheros-vmlinux.lzma
fis create -e 0x80041000 -r 0x80041000 vmlinux.bin.l7
load -r -b %{FREEMEMLO} openwrt-atheros-root.squashfs
fis create rootfs</pre>

If your router have already had DD-WRT installed, there will be a chance that the existing bootloader is MicroRedboot. In that case, the router boots rather fast, you cannot telnet to 192.168.1.1 9000 at start up. You will have to use Reset button to access Redboot. See <a href="http://www.dd-wrt.com/wiki/index.php/Micro_Redboot" class="urlextern" title="http://www.dd-wrt.com/wiki/index.php/Micro_Redboot"  rel="nofollow">http://www.dd-wrt.com/wiki/index.php/Micro_Redboot</a> for more detail.
</p>

</div>

<h3 class="sectionedit26" id="via_openwrt">via OpenWrt</h3>
<div class="level3">

<p>
Use the <code>openwrt-atheros-combined.squashfs.img</code> to upgrade OpenWrt. The file can be found here. <a href="http://downloads.openwrt.org/backfire/10.03.1-rc5/atheros/" class="urlextern" title="http://downloads.openwrt.org/backfire/10.03.1-rc5/atheros/"  rel="nofollow">http://downloads.openwrt.org/backfire/10.03.1-rc5/atheros/</a> (this is the latest version at the time of wiki edit. There may be newer versions, so look around)
</p>

</div>

<h4 id="luci">LUCI</h4>
<div class="level4">
<ol>
<li class="level1"><div class="li"> Go to System &gt; Flash firmware</div>
</li>
<li class="level1"><div class="li"> Point to <code>openwrt-atheros-combined.squashfs.img</code> that you have downloaded</div>
</li>
<li class="level1"><div class="li"> Upload image</div>
</li>
<li class="level1"><div class="li"> Flash it</div>
</li>
</ol>

</div>

<h4 id="terminal">Terminal</h4>
<div class="level4">
<ol>
<li class="level1"><div class="li"> download the combined firmware from OpenWrt to your router:<pre class="code">cd /tmp
wget http://downloads.openwrt.org/snapshots/trunk/atheros/openwrt-atheros-combined.squashfs.img
wget http://downloads.openwrt.org/snapshots/trunk/atheros/md5sums</pre>
</div>
</li>
<li class="level1"><div class="li"> utilize <code><a href="../../doc/techref/sysupgrade" class="wikilink1" title="doc:techref:sysupgrade">sysupgrade</a></code>: <pre class="code">sysupgrade /tmp/openwrt-atheros-combined.squashfs.img</pre>
</div>
</li>
</ol>

</div>

<h2 class="sectionedit27" id="basic_configuration">Basic configuration</h2>
<div class="level2">

<p>
Since this part is identical for all devices, see <a href="../../doc/howto/configuration" class="wikilink1" title="doc:howto:basic.config">Basic configuration</a>.
</p>

</div>

<h2 class="sectionedit28" id="redboot_access_script_for_windows">Redboot access script for Windows</h2>
<div class="level2">

<p>
download <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html" class="urlextern" title="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html"  rel="nofollow">putty.exe</a> to c:\
create a file on c:\ called redboot.txt, with the following content:
</p>

<p>
<code>^C</code>
</p>

<p>
create a file on c:\ called redboot.bat with the following content:
</p>

<p>
<code>rem echo off
:start
rem ————————————————
ping 192.168.20.81 -n 1 -w 1 &gt;NUL
IF ERRORLEVEL 1 goto start

rem putty
rem ————————————————
break
putty.exe <a href="telnet://192.168.20.81:9000" class="urlextern" title="telnet://192.168.20.81:9000"  rel="nofollow">telnet://192.168.20.81:9000</a> -m redboot.txt
exit</code>
</p>

<p>
start the bat file and power on the router…..here comes redboot
</p>

</div>

<h2 class="sectionedit29" id="hardware">Hardware</h2>
<div class="level2">

</div>

<h3 class="sectionedit30" id="info">Info</h3>
<div class="level3">
<div class="table sectionedit31"><table class="inline">
	<tr class="row0">
		<td class="col0"> <strong>Architecture:</strong> MIPS </td>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign"> <strong>Vendor:</strong> Atheros  </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <strong>Bootloader:</strong> <a href="../../doc/techref/bootloader/redboot" class="wikilink1" title="doc:techref:bootloader:redboot">RedBoot</a> </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <strong>System-On-Chip:</strong> AR2317 (MIPS 4KEc V6.4) </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <strong>CPU Speed:</strong> 182 Mhz </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <strong>Flash-Chip:</strong> ??? </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <strong>Flash size:</strong> 4 MiB </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <strong>RAM:</strong> 16 MiB </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> <strong>Wireless:</strong> Integrated Atheros 802.11b/g   </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> <strong>Ethernet:</strong> IC Plus 175c   </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <strong>USB:</strong> No </td>
	</tr>
	<tr class="row11">
		<td class="col0"> <strong>Serial:</strong> <a href="dir-300#serial" title="toh:d-link:dir-300 ↵" class="wikilink1">Yes</a> </td>
	</tr>
	<tr class="row12">
		<td class="col0"> <strong>JTAG:</strong> <a href="dir-300#jtag" title="toh:d-link:dir-300 ↵" class="wikilink1">Yes</a> </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit32" id="serial_port_jp1">Serial Port (JP1)</h3>
<div class="level3">

<p>
<code>|Power| |Wan| |Ethernet x4 ports| |Ant|

                                  |TXD|
                                  |GND|
                                  |VCC|
                                  | . |
                                  |RXD|</code>
</p>

<p>
speed 9600,n,8.
</p>

<p>
If you just see non-printable characters in the console, you may want to change baudrate. In some case, where MicroRedboot is install, the speed is 115200.
</p>

</div>

<h3 class="sectionedit33" id="jtag_j6">JTAG (J6)</h3>
<div class="level3">

<p>
The router follows the MIPS 2.6 EJTAG Specification and has the same PIN information. But on the board the PINS are laid out as
</p>
<div class="table sectionedit34"><table class="inline">
	<tr class="row0">
		<td class="col0 rightalign">  1 - nTRST </td><td class="col1 rightalign">  2 - GND </td><td class="col2 rightalign">  3 - TDI </td><td class="col3 centeralign">  4 - GND   </td><td class="col4 rightalign">  5 - TDO </td><td class="col5"> 6 - GND </td><td class="col6"> 7 - TMS </td>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign"> 14 - VCC   </td><td class="col1"> 13 - N/C </td><td class="col2"> 12 - N/C </td><td class="col3"> 11 - nSRST </td><td class="col4"> 10 - GND </td><td class="col5"> 9 - TCK </td><td class="col6"> 8 - GND </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit35" id="specific_configuration">Specific configuration</h2>
<div class="level2">

</div>

<h3 class="sectionedit36" id="interfaces">Interfaces</h3>
<div class="level3">

<p>
The default network configuration is:
</p>
<div class="table sectionedit37"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Interface Name </th><th class="col1"> Description </th><th class="col2"> Default configuration </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> br-lan </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> &amp; WiFi </td><td class="col2"> 192.168.1.1/24 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> eth0.1 </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> ports (1 to 4) </td><td class="col2"> None </td>
	</tr>
	<tr class="row3">
		<td class="col0"> eth0.2 </td><td class="col1"> WAN port </td><td class="col2"> DHCP </td>
	</tr>
	<tr class="row4">
		<td class="col0"> ath0 </td><td class="col1"> WiFi </td><td class="col2"> Disabled </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit38" id="wifi">WiFi</h3>
<div class="level3">

<p>
To enable WiFi, you need to install packages <code>xxx</code> and <code>xxx</code>.
</p>

</div>

<h3 class="sectionedit39" id="switch_ports_for_vlans">Switch Ports (for VLANs)</h3>
<div class="level3">

<p>
Numbers 0-3 are Ports 1-4 as labeled on the unit, number 4 is the Internet (WAN) on the unit, 5 is the internal connection to the router itself. Don&#039;t be fooled: Port 1 on the unit is number 3 when configuring VLANs. vlan0 = eth0.0, vlan1 = eth0.1 and so on.
</p>
<div class="table sectionedit40"><table class="inline">
	<tr class="row0">
		<th class="col0"> Port </th><td class="col1"> Internet (WAN) </td><td class="col2"> <abbr title="Local Area Network">LAN</abbr> 1 </td><td class="col3"> <abbr title="Local Area Network">LAN</abbr> 2 </td><td class="col4"> <abbr title="Local Area Network">LAN</abbr> 3 </td><td class="col5"> <abbr title="Local Area Network">LAN</abbr> 4 </td>
	</tr>
	<tr class="row1">
		<th class="col0"> Switch port </th><td class="col1"> 4 </td><td class="col2"> 3 </td><td class="col3"> 2 </td><td class="col4"> 1 </td><td class="col5"> 0 </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit41" id="failsafe_mode">Failsafe mode</h3>
<div class="level3">

<p>
→ <a href="../../doc/howto/generic.failsafe" class="wikilink1" title="doc:howto:generic.failsafe">generic.failsafe</a>
</p>
<ul>
<li class="level1"><div class="li"> Unplug the router&#039;s power cord</div>
</li>
<li class="level1"><div class="li"> Connect any router <abbr title="Local Area Network">LAN</abbr> port directly to your PC</div>
</li>
<li class="level1"><div class="li"> Configure your PC with a static IP address: 192.168.1.2</div>
</li>
<li class="level1"><div class="li"> Plug the power on to the router</div>
</li>
<li class="level1"><div class="li"> Wait until the &quot;SYS&quot; LED starts flashing repeatedly</div>
</li>
<li class="level1"><div class="li"> Press the button (on the side of the router) – the &quot;SYS&quot; LED will now start flashing at a faster rate</div>
</li>
<li class="level1"><div class="li"> Login to the router by using telnet to connect to the IP address 192.168.1.1 – there will be an immediate unauthenticated login to a root shell</div>
</li>
</ul>

<p>
Commands:
</p>
<ul>
<li class="level1"><div class="li"> mount_root - will mount the normal root filesystem</div>
</li>
<li class="level1"><div class="li"> firstboot - all settings will be reset</div>
</li>
</ul>

</div>

<h1 class="sectionedit42" id="mods">Mods</h1>
<div class="level1">

</div>

<h2 class="sectionedit43" id="cpu_overclock_from_183_to_200_mhz">CPU Overclock from 183 to 200 MHz</h2>
<div class="level2">

<p>
Assuming OpenWrt is already installed, log on the the device via SSH, then do:
</p>

<p>
<code>cat /dev/mtdblock0 &gt; /tmp/RedBoot.bin</code>
</p>

<p>
Copy the file (with scp, for example) to your local computer and generate a MD5-checksum for it.
</p>

<p>
<code>md5sum RedBoot.bin</code>
</p>

<p>
if it equals with <em>B9D638E537D01D3ED651FAB2AF63FC22</em> it is probalby safe to go on. Load the file into a hex editor and
</p>

<p>
<code>- change offset 0x17 from 0x03 to 0x01
- change offset 0x23 from 0x5c to 0x28</code>
</p>

<p>
MD5 checksums:
<code>DIR-300 183MHz: B9D638E537D01D3ED651FAB2AF63FC22
DIR-300 200MHz: 713806dbb99cb0e633a385eb1a8b5440</code>
</p>

<p>
Copy the modded RedBoot.bin back to the /tmp folder of your router and flash it back:
</p>

<p>
<code>mtd -f write /tmp/RedBoot.bin RedBoot</code>
</p>

<p>
Reboot, then check CPU frequency:
</p>

<p>
<code>cat /proc/cpuinfo</code>
</p>

</div>

<h2 class="sectionedit44" id="sd-card_slot_mod">SD-card slot mod</h2>
<div class="level2">

<p>
There is a working mod to add a SD-card slot to your DIR-300. Follow the instructions <a href="http://tinyhack.com/2010/04/04/d-link-dir-300-serial-port-and-sd-mod/" class="urlextern" title="http://tinyhack.com/2010/04/04/d-link-dir-300-serial-port-and-sd-mod/"  rel="nofollow">here.</a>
</p>
<div class="tags"><span>
	<a href="../../tag/fastethernet?do=showtag&amp;tag=FastEthernet" class="wikilink1" title="tag:fastethernet" rel="tag">FastEthernet</a>,
	<a href="../../tag/1nic?do=showtag&amp;tag=1NIC" class="wikilink1" title="tag:1nic" rel="tag">1NIC</a>,
	<a href="../../tag/1wnic?do=showtag&amp;tag=1WNIC" class="wikilink1" title="tag:1wnic" rel="tag">1WNIC</a>,
	<a href="../../tag/5port?do=showtag&amp;tag=5Port" class="wikilink1" title="tag:5port" rel="tag">5Port</a>,
	<a href="../../tag/jtag?do=showtag&amp;tag=JTAG" class="wikilink1" title="tag:jtag" rel="tag">JTAG</a>,
	<a href="../../tag/802.11bg?do=showtag&amp;tag=802.11bg" class="wikilink1" title="tag:802.11bg" rel="tag">802.11bg</a>,
	<a href="../../tag/1ant?do=showtag&amp;tag=1Ant" class="wikilink1" title="tag:1ant" rel="tag">1Ant</a>,
	<a href="../../tag/detachableantenna" class="wikilink1" title="tag:detachableantenna" rel="tag">DetachableAntenna</a>,
	<a href="../../tag/16ram?do=showtag&amp;tag=16RAM" class="wikilink1" title="tag:16ram" rel="tag">16RAM</a>,
	<a href="../../tag/4flash?do=showtag&amp;tag=4Flash" class="wikilink1" title="tag:4flash" rel="tag">4Flash</a>,
	<a href="../../tag/mips?do=showtag&amp;tag=MIPS" class="wikilink1" title="tag:mips" rel="tag">MIPS</a>,
	<a href="../../tag/mips32?do=showtag&amp;tag=MIPS32" class="wikilink1" title="tag:mips32" rel="tag">MIPS32</a>,
	<a href="../../tag/4kec?do=showtag&amp;tag=4KEc" class="wikilink1" title="tag:4kec" rel="tag">4KEc</a>
</span></div>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/d-link/dir-300.txt</bdi> · Last modified: 2013/06/15 19:51 (external edit)</div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="dir-300?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="dir-300?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="dir-300?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="dir-300#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Ad-link%253Adir-300&amp;1432265765" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
