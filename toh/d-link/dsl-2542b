<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>D-Link DSL-2542b [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="bcm63xx,bcm6338,4port,16ram,4flash,mips,mips32"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="dsl-2542b?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:d-link"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/d-link/dsl-2542b"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/d-link/dsl-2542b"/>
<link rel="canonical" href="dsl-2542b"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:d-link';var JSINFO = {"id":"toh:d-link:dsl-2542b","namespace":"toh:d-link"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432266272 166.182.3.99';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="dsl-2542b#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="dsl-2542b?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="dsl-2542b?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:d-link:dsl-2542b" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="dsl-2542b?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="dsl-2542b?do=media&amp;ns=toh%253Ad-link"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="dsl-2542b?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:d-link:start">D-Link</a></bdi> » <bdi><span class="curid"><a href="dsl-2542b" class="wikilink1" title="toh:d-link:dsl-2542b">D-Link DSL-2542b</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/d-link/dsl-2542b" class="media" title="cz:toh:d-link:dsl-2542b"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/d-link/dsl-2542b" class="media" title="de:toh:d-link:dsl-2542b"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="dsl-2542b" class="media" title="toh:d-link:dsl-2542b"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/d-link/dsl-2542b" class="media" title="es:toh:d-link:dsl-2542b"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/d-link/dsl-2542b" class="media" title="fr:toh:d-link:dsl-2542b"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/d-link/dsl-2542b" class="media" title="hu:toh:d-link:dsl-2542b"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/d-link/dsl-2542b" class="media" title="jp:toh:d-link:dsl-2542b"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/d-link/dsl-2542b" class="media" title="pl:toh:d-link:dsl-2542b"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/d-link/dsl-2542b" class="media" title="pt-br:toh:d-link:dsl-2542b"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/d-link/dsl-2542b" class="media" title="ru:toh:d-link:dsl-2542b"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/d-link/dsl-2542b" class="media" title="tr:toh:d-link:dsl-2542b"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/d-link/dsl-2542b" class="media" title="zh-cn:toh:d-link:dsl-2542b"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/d-link/dsl-2542b" class="media" title="zh-tw:toh:d-link:dsl-2542b"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:d-link:dsl-2542b</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="dsl-2542b#hardware_summary">Hardware summary</a></div></li>
<li class="level1"><div class="li"><a href="dsl-2542b#hardware_info">Hardware Info</a></div></li>
<li class="level1"><div class="li"><a href="dsl-2542b#original_firmware_info">Original Firmware Info</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="dsl-2542b#tag_information_about_the_last_firmware">TAG information about the last firmware</a></div></li>
<li class="level2"><div class="li"><a href="dsl-2542b#dmesg_of_the_last_firmware">dmesg of the last firmware</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="dsl-2542b#tags">Tags</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="dsl-2542b#followingowrtbarrier-breaker-14-07">Following :owrt:Barrier-Breaker-14-07</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="dsl-2542b#dmesg">DMESG:</a></div></li>
<li class="level3"><div class="li"><a href="dsl-2542b#network_configuration_file_vlans">Network Configuration file (VLANS)</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="dsl-2542b#tags1">Tags</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="d-link_dsl-2542b">D-Link DSL-2542b</h1>
<div class="level1">
<div class="table sectionedit2"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Model </th><th class="col1"> Version </th><th class="col2"> Status </th><th class="col3"> Target(s) </th><th class="col4"> Platform</th><th class="col5">Switch </th><th class="col6"> CPU Speed (<abbr title="Megahertz">MHz</abbr>) </th><th class="col7"> Flash (<abbr title="Megabyte">MB</abbr>) </th><th class="col8"> RAM (<abbr title="Megabyte">MB</abbr>)</th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <a href="http://wiki.openwrt.org/toh/d-link/d-link/dsl-2542b" class="wikilink2" title="toh:d-link:d-link:dsl-2542b" rel="nofollow">DSL-2542b</a> </td><td class="col1"> D2 (EU) </td><td class="col2"> WIP </td><td class="col3"> bcm63xx </td><td class="col4"> Broadcom 6338 </td><td class="col5"> Broadcom 5325</td><td class="col6"> 240 </td><td class="col7"> 4 </td><td class="col8"> 16 </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit3" id="hardware_summary">Hardware summary</h2>
<div class="level2">
<div class="table sectionedit4"><table class="inline">
	<thead>
	<tr class="row0">
		<td class="col0 leftalign">                            </td><th class="col1 centeralign">  IC  </th><th class="col2 centeralign">  Info  </th><th class="col3 centeralign">  Datasheet  </th>
	</tr>
	</thead>
	<tr class="row1">
		<th class="col0 rightalign">                  Processor </th><td class="col1">BCM6338 </td><td class="col2 leftalign">  </td><td class="col3 centeralign">  <a href="../../_media/toh/bcm6338_datasheet.pdf" class="media mediafile mf_pdf" title="toh:bcm6338_datasheet.pdf (182 KB)">Click</a>  </td>
	</tr>
	<tr class="row2">
		<th class="col0 rightalign">                   Flash ROM</th><td class="col1">EN29LV320AB-70TIP</td><td class="col2 centeralign">   32Mbit (4Mbyte x 8 / 2Mbyte x 16)   </td><td class="col3 centeralign">  <a href="../../_media/toh/en29lv320a_datasheet.pdf" class="media mediafile mf_pdf" title="toh:en29lv320a_datasheet.pdf (410.8 KB)">Click</a>  </td>
	</tr>
	<tr class="row3">
		<th class="col0 rightalign">                       SDRAM</th><td class="col1">V54C3128164VB17</td><td class="col2 centeralign">   128Mbit (8Mbyte x 16)   </td><td class="col3 centeralign">  <a href="../../_media/toh/v54c3128164vb17_datasheet.pdf" class="media mediafile mf_pdf" title="toh:v54c3128164vb17_datasheet.pdf (641.4 KB)">Click</a>  </td>
	</tr>
	<tr class="row4">
		<th class="col0 rightalign">         Ethernet controller</th><td class="col1">BCM5325(¿E?)</td><td class="col2 leftalign">  </td><td class="col3 centeralign">  <a href="../../_media/toh/bcm5325_datasheet.pdf" class="media mediafile mf_pdf" title="toh:bcm5325_datasheet.pdf (129.6 KB)">Click</a>  </td>
	</tr>
	<tr class="row5">
		<th class="col0">ADSL2+ 5V Line Driver AnnexA</th><td class="col1">LAL2020</td><td class="col2 leftalign">  </td><td class="col3 centeralign">  <a href="../../_media/toh/lal2020_datasheet.pdf" class="media mediafile mf_pdf" title="toh:lal2020_datasheet.pdf (35.2 KB)">Click</a>  </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit5" id="hardware_info">Hardware Info</h2>
<div class="level2">

<p>
<a href="../../_detail/toh/d-link/dsl-2542b_top_cover_removed.jpg?id=toh%253Ad-link%253Adsl-2542b" class="media" title="toh:d-link:dsl-2542b_top_cover_removed.jpg"><img src="../../_media/toh/d-link/dsl-2542b_top_cover_removed.jpg?w=250&amp;tok=ebacee" class="media" title="dsl-2542b_top_cover_removed.jpg" alt="dsl-2542b_top_cover_removed.jpg" width="250" /></a><a href="../../_detail/toh/d-link/dsl-2542b_bottom_mb.jpg?id=toh%253Ad-link%253Adsl-2542b" class="media" title="toh:d-link:dsl-2542b_bottom_mb.jpg"><img src="../../_media/toh/d-link/dsl-2542b_bottom_mb.jpg?w=250&amp;tok=93a3ff" class="media" title="dsl-2542b_bottom_mb.jpg" alt="dsl-2542b_bottom_mb.jpg" width="250" /></a>
</p>

<p>
I couldn&#039;t remove the heatsinks
</p>

<p>
<code>#/proc/cpuinfo</code>
</p>
<div class="table sectionedit6"><table class="inline">
	<tr class="row0">
		<td class="col0"><pre class="code">system type             : 96338W
processor               : 0
cpu model               : BCM6338 V1.0
BogoMIPS                : 239.20
wait instruction        : no
microsecond timers      : yes
tlb_entries             : 32
extra interrupt vector  : yes
hardware watchpoint     : no
unaligned access        : 16175
VCED exceptions         : not available
VCEI exceptions         : not available</pre>
</td>
	</tr>
</table></div>

<p>
Looking at the original <abbr title="GNU General Public License">GPL</abbr> sourcecode v1.10 (bcmnet.h) I have found that the switch chipset is a BCM5325
</p>

</div>

<h2 class="sectionedit7" id="original_firmware_info">Original Firmware Info</h2>
<div class="level2">

<p>
The original <abbr title="GNU General Public License">GPL</abbr> sourcecode v1.10 can be downloaded <a href="ftp://ftp.dlink.de/dsl/dsl-2542b/driver_software/DSL-2542B_EU1.10_GPL_code.tar.gz" class="urlextern" title="ftp://ftp.dlink.de/dsl/dsl-2542b/driver_software/DSL-2542B_EU1.10_GPL_code.tar.gz"  rel="nofollow">Here</a>. It consist on a Linux 2.6.8.1 kernel with binary Broadcom tools&amp;drivers and sourcecode of the kernel and the rest of tools.
</p>

<p>
The lastest original firmware (v1.21 at 21/06/2010) can be found <a href="http://tsd.dlink.com.tw/temp/PMD/4832/EU_DSL-2542B_1.21_10192009_CFE" class="urlextern" title="http://tsd.dlink.com.tw/temp/PMD/4832/EU_DSL-2542B_1.21_10192009_CFE"  rel="nofollow">Here</a>
</p>

</div>

<h3 class="sectionedit8" id="tag_information_about_the_last_firmware">TAG information about the last firmware</h3>
<div class="level3">

<p>
<code># ./analyzetag -t bc310 -i EU_DSL-2542B_1.21_10192009_CFE</code>
</p>
<div class="table sectionedit9"><table class="inline">
	<tr class="row0">
		<td class="col0"><pre class="code">Broadcom image analyzer - v0.1.0
Copyright (C) 2009 Daniel Dickinson
Tag Version: 6
Signature 1: Broadcom Corporatio
Signature 2: ver. 2.0
Chip ID: 6338
Board ID: 96338W
Bigendian: true
Image size: 0029f84e, 2750542
CFE Address: bfc00000, 3217031168
CFE Length: 0000f35c, 62300
Flash Root Address: bfc10100, 3217096960
Flash Root Length: 0020b000, 2142208
Flash Kernel Address: bfe1b100, 3219239168
Flash Kernel Length: 000854f2, 546034
Vendor information: 
Image CRC: bc972a30   [Computed Value: 7e29b4f5]
Rootfs CRC:             [Computed Value: 651ea864]
Image CRC from sections: bc972a30   [Computed Value: 7e29b4f5]
Header CRC: 4a6079fd   [Computed Value: 4a6079fd]
Kernel CRC: 7098a85e   [Computed Value: 2e54128c]
Rootfs CRC: bdac1a5e   [Computed Value: 64a81e65]</pre>
</td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit10" id="dmesg_of_the_last_firmware">dmesg of the last firmware</h3>
<div class="level3">

<p>
dmesg of the original firmware EU_DSL-2542B_1.21_10192009_CFE just after installing it:
</p>

<p style="padding: 10px;border:1px solid grey;height:600px;font:10px/14px Georgia, Garamond, Serif;overflow:Auto;background-color:#FFFFFF">
<code># dmesg
Linux version 2.6.8.1 (root@mochow) (gcc version 3.4.2) #1 Mon Oct 19 10:35:09 CST 2009
Parallel flash device: name AM29LV320B, id 0x22f9, size 4096KB
96338W prom init
CPU revision is: 00029010
Determined physical RAM map:
 memory: 00fa0000 @ 00000000 (usable)
On node 0 totalpages: 4000
  DMA zone: 4000 pages, LIFO batch:1
  Normal zone: 0 pages, LIFO batch:1
  HighMem zone: 0 pages, LIFO batch:1
Built 1 zonelists
Kernel command line: root=31:0 ro noinitrd console=ttyS0,115200
brcm mips: enabling icache and dcache...
Primary instruction cache 16kB, physically tagged, 2-way, linesize 16 bytes.
Primary data cache 8kB 2-way, linesize 16 bytes.
PID hash table entries: 64 (order 6: 512 bytes)
Using 120.000 MHz high precision timer.
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 13920k/16000k available (1448k kernel code, 2060k reserved, 203k data, 68k init, 0k highmem)
Calibrating delay loop... 239.20 BogoMIPS
Mount-cache hash table entries: 512 (order: 0, 4096 bytes)
Checking for 'wait' instruction...  unavailable.
NET: Registered protocol family 16
Total Flash size: 4096K with 71 sectors
File system address: 0xbfc10100
Can't analyze prologue code at 80178ad4
Initializing Cryptographic API
PPP generic driver version 2.4.2
NET: Registered protocol family 24
Using noop io scheduler
bcm963xx_mtd driver v1.0
brcmboard: brcm_board_init entry

======= GPIO CONFIG_BCM96338 inited ========
Serial: BCM63XX driver $Revision: 3.00 $
ttyS0 at MMIO 0xfffe0300 (irq = 10) is a BCM63XX
u32 classifier
NET: Registered protocol family 2
IP: routing cache hash table of 512 buckets, 4Kbytes
TCP: Hash tables configured (established 512 bind 1024)
Initializing IPsec netlink socket
NET: Registered protocol family 1
NET: Registered protocol family 17
NET: Registered protocol family 15
Ebtables v2.0 registered
NET: Registered protocol family 8
NET: Registered protocol family 20
802.1Q VLAN Support v1.8 Ben Greear <greearb@candelatech.com>
All bugs added by David S. Miller <davem@redhat.com>
VFS: Mounted root (squashfs filesystem) readonly.
Freeing unused kernel memory: 68k freed
Algorithmics/MIPS FPU Emulator v1.5
atmapi: module license 'Proprietary' taints kernel.
adsl: adsl_init entry
blaadd: blaa_detect entry
Broadcom BCMPROCFS v1.0 initialized
Broadcom BCM6338A2 Ethernet Network Device v0.3 Oct 19 2009 10:33:20
Config Ethernet Switch Through MDIO Pseudo PHY Interface
dgasp: kerSysRegisterDyingGaspHandler: eth0 registered
eth0: MAC Address: 00:26:5A:75:EC:08
BCM63XX_USB: USB device not detected.
BcmAdsl_Initialize=0xC0068808, g_pFnNotifyCallback=0xC0081514
AnnexCParam=0x7FFF7EB8 AnnexAParam=0x00000980 adsl2=0x00000000
pSdramPHY=0xA0FFFFF8, 0xB9E3 0xDEAC34EF
AdslCoreHwReset: AdslOemDataAddr = 0xA0FFCE54
AnnexCParam=0x7FFF7EB8 AnnexAParam=0x00000980 adsl2=0x00000000
dgasp: kerSysRegisterDyingGaspHandler: dsl0 registered
eth0 Link UP.
ATM proc init !!!
ip_tables: (C) 2000-2002 Netfilter core team
ip_conntrack version 2.1 (125 buckets, 0 max) - 400 bytes per conntrack
ip_conntrack_pptp version 2.1 loaded
ip_nat_pptp version 2.0 loaded
ip_ct_h323: init success
ip_nat_h323: init success
ipt_time loading
ip_conntrack_rtsp v0.01 loading
ip_nat_rtsp v0.01 loading
device eth0 entered promiscuous mode
br0: port 1(eth0) entering learning state
br0: topology change detected, propagating
br0: port 1(eth0) entering forwarding state
set vlan_id 65535 vlan_priority 65535
device nas_0_8_35 entered promiscuous mode
br0: port 2(nas_0_8_35) entering learning state
br0: topology change detected, propagating
br0: port 2(nas_0_8_35) entering forwarding state

ioctl, p_name=diapd
eth0 Link DOWN.
br0: port 1(eth0) entering disabled state
eth0 Link UP.
br0: port 1(eth0) entering learning state
br0: topology change detected, propagating
br0: port 1(eth0) entering forwarding state

</code>
</p>

<p>
Config from CEF
</p>
<div class="table sectionedit11"><table class="inline">
	<tr class="row0">
		<td class="col0"><pre class="code">Board IP address                  : 192.168.1.1:ffffff00  
Host IP address                   : 192.168.1.100  
Gateway IP address                :   
Run from flash/host (f/h)         : f  
Default host run file name        : vmlinux  
Default host flash file name      : bcm963xx_fs_kernel  
Boot delay (0-9 seconds)          : 1  
Board Id (0-9)                    : 96338W  
Number of MAC Addresses (1-32)    : 12  
Base MAC Address                  : f0:7d:68:68:xx:xx  
PSI Size (1-64) KBytes            : 24</pre>
</td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit12" id="tags">Tags</h2>
<div class="level2">
<div class="tags"><span>
	<a href="../../tag/bcm63xx?do=showtag&amp;tag=bcm63xx" class="wikilink1" title="tag:bcm63xx" rel="tag">bcm63xx</a>,
	<a href="../../tag/bcm6338?do=showtag&amp;tag=bcm6338" class="wikilink1" title="tag:bcm6338" rel="tag">bcm6338</a>
</span></div>

</div>

<h3 class="sectionedit13" id="followingowrtbarrier-breaker-14-07">Following :owrt:Barrier-Breaker-14-07</h3>
<div class="level3">

</div>

<h4 id="dmesg">DMESG:</h4>
<div class="level4">

<p>
<pre class="code">[    0.000000] Linux version 3.10.49 (bb@builder1) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.04 r42625) ) #3 Wed Oct 1 15:07:11 CEST 2014
[    0.000000] Detected Broadcom 0x6338 CPU revision a2
[    0.000000] CPU frequency is 240 MHz
[    0.000000] 16MB of RAM installed
[    0.000000] registering 8 GPIOs
[    0.000000] board_bcm963xx: Boot address 0xbfc00000
[    0.000000] board_bcm963xx: CFE version: 1.0.37-8.7
[    0.000000] bcm63xx_nvram: nvram checksum failed, contents may be invalid (expected 14233aa0, got ecfd7db5)
[    0.000000] No bcm_tag found!
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 00029010 (Broadcom BCM6338)
[    0.000000] board: board name: 96338W
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 01000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x00ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x00ffffff]
[    0.000000] On node 0 totalpages: 4096
[    0.000000] free_area_init_node: node 0, pgdat 80318c60, node_mem_map 803af000
[    0.000000]   Normal zone: 32 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 4096 pages, LIFO batch:0
[    0.000000] Primary instruction cache 16kB, VIPT, 2-way, linesize 16 bytes.
[    0.000000] Primary data cache 8kB, 2-way, VIPT, no aliases, linesize 16 bytes
[    0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
[    0.000000] pcpu-alloc: [0] 0 
[    0.000000] Built 1 zonelists in Zone order, mobility grouping off.  Total pages: 4064
[    0.000000] Kernel command line:  root=/dev/mtdblock2 rootfstype=squashfs,jffs2 noinitrd console=ttyS0,115200
[    0.000000] PID hash table entries: 64 (order: -4, 256 bytes)
[    0.000000] Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.000000] Memory: 12412k/16384k available (2485k kernel code, 3972k reserved, 725k data, 308k init, 0k highmem)
[    0.000000] NR_IRQS:256
[    0.036000] Calibrating delay loop... 237.82 BogoMIPS (lpj=475648)
[    0.040000] pid_max: default: 32768 minimum: 301
[    0.044000] Mount-cache hash table entries: 512
[    0.060000] NET: Registered protocol family 16
[    0.132000] bio: create slab &lt;bio-0&gt; at 0
[    0.156000] Switching to clocksource MIPS
[    0.184000] NET: Registered protocol family 2
[    0.192000] TCP established hash table entries: 512 (order: 0, 4096 bytes)
[    0.200000] TCP bind hash table entries: 512 (order: -1, 2048 bytes)
[    0.208000] TCP: Hash tables configured (established 512 bind 512)
[    0.212000] TCP: reno registered
[    0.216000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.224000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.232000] NET: Registered protocol family 1
[    0.236000] PCI: CLS 0 bytes, default 16
[    0.248000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.256000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.268000] msgmni has been set to 24
[    0.272000] io scheduler noop registered
[    0.280000] io scheduler deadline registered (default)
[    0.292000] bcm63xx_uart.0: ttyS0 at MMIO 0xfffe0300 (irq = 10) is a bcm63xx_uart
[    0.300000] console [ttyS0] enabled, bootconsole disabled
[    0.324000] physmap platform flash device: 00400000 at 1fc00000
[    0.332000] physmap-flash.0: Found 1 x16 devices at 0x0 in 16-bit bank. Manufacturer ID 0x00007f Chip ID 0x0022f9
[    0.340000] Amd/Fujitsu Extended Query Table at 0x0040
[    0.348000]   Amd/Fujitsu Extended Query version 1.1.
[    0.352000] number of CFI chips: 1
[    0.356000] bcm63xxpart: CFE boot tag found with version 6 and board type 6338GW
[    0.364000] bcm63xxpart: Partition 0 is CFE offset 0 and length 10000
[    0.372000] bcm63xxpart: Partition 1 is kernel offset 10100 and length 11ff00
[    0.380000] bcm63xxpart: Partition 2 is rootfs offset 130000 and length 2c0000
[    0.388000] bcm63xxpart: Partition 3 is nvram offset 3f0000 and length 10000
[    0.392000] bcm63xxpart: Partition 4 is linux offset 10000 and length 3e0000
[    0.400000] bcm63xxpart: Spare partition is offset 350004 and length 9fffc
[    0.408000] 5 bcm63xxpart partitions found on MTD device physmap-flash.0
[    0.416000] Creating 5 MTD partitions on &quot;physmap-flash.0&quot;:
[    0.420000] 0x000000000000-0x000000010000 : &quot;CFE&quot;
[    0.436000] 0x000000010100-0x000000130000 : &quot;kernel&quot;
[    0.440000] mtd: partition &quot;kernel&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.464000] 0x000000130000-0x0000003f0000 : &quot;rootfs&quot;
[    0.476000] mtd: device 2 (rootfs) set to be root filesystem
[    0.484000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=0x350000, len=0xa0000
[    0.492000] 0x000000350000-0x0000003f0000 : &quot;rootfs_data&quot;
[    0.504000] 0x0000003f0000-0x000000400000 : &quot;nvram&quot;
[    0.520000] 0x000000010000-0x0000003f0000 : &quot;linux&quot;
[    0.544000] bcm63xx-spi bcm63xx-spi: at 0xfffe0c00 (irq 9, FIFOs size 63)
[    0.580000] libphy: bcm63xx_enet MII bus: probed
[    0.588000] b53_common: found switch: BCM5325, rev 0
[    0.592000] bcm63xx_enet bcm63xx_enet.0: attached PHY at address 0 [Broadcom B53 (1)]
[    0.612000] bcm63xx-wdt bcm63xx-wdt:  started, timer margin: 30 sec
[    0.632000] TCP: cubic registered
[    0.636000] NET: Registered protocol family 17
[    0.644000] Bridge firewalling registered
[    0.648000] 8021q: 802.1Q VLAN Support v1.8
[    0.680000] VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
[    0.696000] Freeing unused kernel memory: 308K (80333000 - 80380000)
[    5.460000] Button Hotplug driver version 0.4.1
[   10.740000] jffs2: notice: (196) jffs2_build_xattr_subsystem: complete building xattr subsystem, 1 of xdatum (1 unchecked, 0 orphan) and 299 of xref (0 dead, 19 orphan) found.
[   16.088000] NET: Registered protocol family 10
[   16.148000] nf_conntrack version 0.5.0 (198 buckets, 792 max)
[   16.180000] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   16.252000] u32 classifier
[   16.256000]     input device check on
[   16.260000]     Actions configured
[   16.276000] Mirror/redirect action on
[   16.304000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   16.520000] xt_time: kernel timezone is -0000
[   16.564000] PPP generic driver version 2.4.2
[   16.580000] NET: Registered protocol family 24
[   25.104000] IPv6: ADDRCONF(NETDEV_UP): eth0: link is not ready
[   26.584000] eth0: link UP - 100/full - flow control off
[   26.592000] IPv6: ADDRCONF(NETDEV_CHANGE): eth0: link becomes ready
[   35.164000] device eth0.1 entered promiscuous mode
[   35.168000] device eth0 entered promiscuous mode
[   35.188000] br-lan: port 1(eth0.1) entered forwarding state
[   35.192000] br-lan: port 1(eth0.1) entered forwarding state
[   36.852000] eth0: link UP - 100/full - flow control off
[   37.196000] br-lan: port 1(eth0.1) entered forwarding state
[  125.656000] nf_conntrack: automatic helper assignment is deprecated and it will be removed soon. Use the iptables CT target to attach helpers instead.</pre>

</p>

</div>

<h4 id="network_configuration_file_vlans">Network Configuration file (VLANS)</h4>
<div class="level4">

<p>
<p>/etc/config/network</p>
<pre class="code">
config interface &#039;loopback&#039;
        option ifname &#039;lo&#039;
        option proto &#039;static&#039;
        option ipaddr &#039;127.0.0.1&#039;
        option netmask &#039;255.0.0.0&#039;

config globals &#039;globals&#039;
        option ula_prefix &#039;fd67:471b:0df9::/48&#039;

config interface &#039;lan&#039;
        option ifname &#039;eth0.1&#039;
        option force_link &#039;1&#039;
        option type &#039;bridge&#039;
        option proto &#039;static&#039;
        option ipaddr &#039;192.168.1.1&#039;
        option netmask &#039;255.255.255.0&#039;
        option ip6assign &#039;60&#039;

config interface        &#039;wan&#039;
        option ifname   &#039;eth0.2&#039;
        option proto   &#039;dhcp&#039;


config switch
        option name &#039;eth0&#039;
        option reset &#039;1&#039;
        option enable_vlan &#039;1&#039;

config switch_vlan &#039;eth0_1&#039;
        option device &#039;eth0&#039;
        option vlan &#039;1&#039;
        option ports &#039;0 1 2 4 5t&#039;
config switch_vlan &#039;eth0_2&#039;
        option device   &#039;eth0&#039;
        option vlan     &#039;2&#039;
        option ports    &#039;3 5t&#039;</pre>

</p>

</div>

<h2 class="sectionedit14" id="tags1">Tags</h2>
<div class="level2">
<div class="tags"><span>
	<a href="../../tag/bcm63xx?do=showtag&amp;tag=bcm63xx" class="wikilink1" title="tag:bcm63xx" rel="tag">bcm63xx</a>,
	<a href="../../tag/bcm6338?do=showtag&amp;tag=bcm6338" class="wikilink1" title="tag:bcm6338" rel="tag">bcm6338</a>,
	<a href="../../tag/4port?do=showtag&amp;tag=4Port" class="wikilink1" title="tag:4port" rel="tag">4Port</a>,
	<a href="../../tag/16ram?do=showtag&amp;tag=16RAM" class="wikilink1" title="tag:16ram" rel="tag">16RAM</a>,
	<a href="../../tag/4flash?do=showtag&amp;tag=4Flash" class="wikilink1" title="tag:4flash" rel="tag">4Flash</a>,
	<a href="../../tag/mips?do=showtag&amp;tag=MIPS" class="wikilink1" title="tag:mips" rel="tag">MIPS</a>,
	<a href="../../tag/mips32?do=showtag&amp;tag=MIPS32" class="wikilink1" title="tag:mips32" rel="tag">MIPS32</a>
</span></div>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/d-link/dsl-2542b.txt</bdi> · Last modified: 2015/05/15 21:09 by <bdi>danitool</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="dsl-2542b?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="dsl-2542b?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="dsl-2542b?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="dsl-2542b#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Ad-link%253Adsl-2542b&amp;1432266272" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
