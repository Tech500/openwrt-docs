<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>Freedom CPE [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="2008-july,fastethernet,1nic,1wnic,no switch,poe,integrated,802.11abg,detachableantenna,2ant,antsma,32ram,8flash,devboard"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="freedom_cpe?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:abicom"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/abicom/freedom_cpe"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/abicom/freedom_cpe"/>
<link rel="canonical" href="freedom_cpe"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:abicom';var JSINFO = {"id":"toh:abicom:freedom_cpe","namespace":"toh:abicom"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432266193 166.182.3.17';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="freedom_cpe#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="freedom_cpe?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="freedom_cpe?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:abicom:freedom_cpe" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="freedom_cpe?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="freedom_cpe?do=media&amp;ns=toh%253Aabicom"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="freedom_cpe?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:abicom:start">Abicom</a></bdi> » <bdi><span class="curid"><a href="freedom_cpe" class="wikilink1" title="toh:abicom:freedom_cpe">Freedom CPE</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/abicom/freedom_cpe" class="media" title="cz:toh:abicom:freedom_cpe"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/abicom/freedom_cpe" class="media" title="de:toh:abicom:freedom_cpe"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="freedom_cpe" class="media" title="toh:abicom:freedom_cpe"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/abicom/freedom_cpe" class="media" title="es:toh:abicom:freedom_cpe"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/abicom/freedom_cpe" class="media" title="fr:toh:abicom:freedom_cpe"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/abicom/freedom_cpe" class="media" title="hu:toh:abicom:freedom_cpe"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/abicom/freedom_cpe" class="media" title="jp:toh:abicom:freedom_cpe"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/abicom/freedom_cpe" class="media" title="pl:toh:abicom:freedom_cpe"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/abicom/freedom_cpe" class="media" title="pt-br:toh:abicom:freedom_cpe"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/abicom/freedom_cpe" class="media" title="ru:toh:abicom:freedom_cpe"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/abicom/freedom_cpe" class="media" title="tr:toh:abicom:freedom_cpe"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/abicom/freedom_cpe" class="media" title="zh-cn:toh:abicom:freedom_cpe"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/abicom/freedom_cpe" class="media" title="zh-tw:toh:abicom:freedom_cpe"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:abicom:freedom_cpe</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="freedom_cpe#supported_versions">Supported Versions</a></div></li>
<li class="level1"><div class="li"><a href="freedom_cpe#hardware_highlights">Hardware Highlights</a></div></li>
<li class="level1"><div class="li"><a href="freedom_cpe#installation">Installation</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="freedom_cpe#installing_of_openwrt_for_the_first_time">Installing of OpenWrt for the first time</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="freedom_cpe#configure_the_ip_address_of_the_board">Configure the IP address of the board</a></div></li>
<li class="level3"><div class="li"><a href="freedom_cpe#initialize_the_flash_image_system">Initialize the FLASH image system</a></div></li>
<li class="level3"><div class="li"><a href="freedom_cpe#load_the_kernel_from_the_tftp_server">Load the kernel from the TFTP server</a></div></li>
<li class="level3"><div class="li"><a href="freedom_cpe#flash_the_kernel_into_the_board">Flash the kernel into the board</a></div></li>
<li class="level3"><div class="li"><a href="freedom_cpe#load_the_rootfs_image_from_the_tftp_server">Load the rootfs image from the TFTP server</a></div></li>
<li class="level3"><div class="li"><a href="freedom_cpe#flash_the_rootfs_image">Flash the rootfs image</a></div></li>
<li class="level3"><div class="li"><a href="freedom_cpe#upgrade_redboots_s_configuration">Upgrade RedBoots&#039;s configuration</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="freedom_cpe#upgrading_openwrt">Upgrading OpenWrt</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="freedom_cpe#hardware">Hardware</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="freedom_cpe#info">Info</a></div></li>
<li class="level2"><div class="li"><a href="freedom_cpe#photos">Photos</a></div></li>
<li class="level2"><div class="li"><a href="freedom_cpe#serial_port">Serial Port</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="freedom_cpe#interfaces">Interfaces</a></div></li>
<li class="level1"><div class="li"><a href="freedom_cpe#other_info">Other Info</a></div></li>
<li class="level1"><div class="li"><a href="freedom_cpe#tags">Tags</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="freedom_cpe">Freedom CPE</h1>
<div class="level1">

<p>
The Freedom CPE is based upon the Atheros AR5312 Wireless SoC. The Freedom CPE delivers dual-band, single channel, 2.4GHz/5.8GHz capability in a 85mmx85mm form. 
</p>

</div>

<h2 class="sectionedit2" id="supported_versions">Supported Versions</h2>
<div class="level2">
<div class="table sectionedit3"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Version/Model </th><th class="col1"> S/N </th><th class="col2"> OpenWrt Version Supported </th><th class="col3"> Model Specific Notes </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Rev 05 </td><td class="col1"> n/a </td><td class="col2"> Backfire 10.03 </td><td class="col3"> - </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit4" id="hardware_highlights">Hardware Highlights</h2>
<div class="level2">
<div class="table sectionedit5"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> CPU </th><th class="col1"> Ram </th><th class="col2"> Flash </th><th class="col3"> Network </th><th class="col4"> USB </th><th class="col5"> Serial </th><th class="col6"> JTag </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Atheros AR5312@220MHz </td><td class="col1"> 32MiB </td><td class="col2"> 8MiB </td><td class="col3"> 1</td><td class="col4"> No </td><td class="col5"> Yes </td><td class="col6"> Yes </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit6" id="installation">Installation</h2>
<div class="level2">

</div>

<h3 class="sectionedit7" id="installing_of_openwrt_for_the_first_time">Installing of OpenWrt for the first time</h3>
<div class="level3">

<p>
You may need to upgrade the bootloader on your board prior to installing of OpenWrt, because they were shipped with a bootloader which checks CRC on the installed firmware. You have to go to the Abicom&#039;s <a href="http://www.abicom.co.uk/support.php" class="urlextern" title="http://www.abicom.co.uk/support.php"  rel="nofollow">support</a> page to obtain a new bootloader image which have ability to disable CRC checking.
</p>

<p>
Once you have a suitable bootloader and you can access it via <span class="curid"><a href="freedom_cpe#serialport" class="wikilink1" title="toh:abicom:freedom_cpe">serial console</a></span> you can install OpenWrt with the following method.
</p>

<p>
You have to download two files:
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://downloads.openwrt.org/backfire/10.03/atheros/openwrt-atheros-vmlinux.lzma" class="urlextern" title="http://downloads.openwrt.org/backfire/10.03/atheros/openwrt-atheros-vmlinux.lzma"  rel="nofollow">openwrt-atheros-vmlinux.lzma</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://downloads.openwrt.org/backfire/10.03/atheros/openwrt-atheros-root.squashfs" class="urlextern" title="http://downloads.openwrt.org/backfire/10.03/atheros/openwrt-atheros-root.squashfs"  rel="nofollow">openwrt-atheros-root.squashfs</a></div>
</li>
</ul>

<p>
Copy <em><strong>openwrt-atheros-vmlinux.lzma</strong></em> and <em><strong>openwrt-atheros-root.squashfs</strong></em> to /tftpboot/ and flash them with the following method.
</p>

</div>

<h4 id="configure_the_ip_address_of_the_board">Configure the IP address of the board</h4>
<div class="level4">
<div class="table sectionedit8"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">RedBoot&gt; ip_address -h 192.168.1.254 -l 192.168.1.1/24
IP: 192.168.1.1/255.255.255.0, Gateway: 0.0.0.0
Default server: 192.168.1.254
RedBoot&gt; </pre>
 </td>
	</tr>
</table></div>

</div>

<h4 id="initialize_the_flash_image_system">Initialize the FLASH image system</h4>
<div class="level4">
<div class="table sectionedit9"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">RedBoot&gt; fis init -y
*** Initialize FLASH Image System
... Erase from 0xbe7fa000-0xbe7fc000: .
... Program from 0x80fee400-0x80ff0400 at 0xbe7fa000: .
RedBoot&gt; </pre>
 </td>
	</tr>
</table></div>

<p>
You have a default flash layout now:
</p>
<div class="table sectionedit10"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">RedBoot&gt; fis list
Name              FLASH addr  Mem addr    Length      Entry point
RedBoot           0xBE000000  0xBE000000  0x00030000  0x00000000
APConfig          0xBE7D0000  0xBE7D0000  0x00020000  0x00000000
OEMData           0xBE7F0000  0xBE7F8000  0x00008000  0x00000000
RedBoot config    0xBE7F8000  0xBE7F8000  0x00002000  0x00000000
FIS directory     0xBE7FA000  0xBE7FA000  0x00002000  0x00000000
RedBoot&gt; </pre>
 </td>
	</tr>
</table></div>

</div>

<h4 id="load_the_kernel_from_the_tftp_server">Load the kernel from the TFTP server</h4>
<div class="level4">
<div class="table sectionedit11"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">RedBoot&gt; load -r -b %{FREEMEMLO} openwrt-atheros-vmlinux.lzma
Using default protocol (TFTP)
Raw file loaded 0x80000400-0x800e03ff, assumed entry at 0x80000400
RedBoot&gt; </pre>
 </td>
	</tr>
</table></div>

</div>

<h4 id="flash_the_kernel_into_the_board">Flash the kernel into the board</h4>
<div class="level4">

<p>
<em><strong>Note:</strong></em>
</p>
<ul>
<li class="level1"><div class="li"> The values for the -e and -r switches in the &#039;fis create&#039; RedBoot command below is the Kernel entry point. Do not change those values.</div>
</li>
</ul>
<div class="table sectionedit12"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">RedBoot&gt; fis create -e 0x80041000 -r 0x80041000 vmlinux.bin.l7
... Erase from 0xbe030000-0xbe110000: ..............
... Program from 0x80000400-0x800e0400 at 0xbe030000: ..............
... Erase from 0xbe7fa000-0xbe7fc000: .
... Program from 0x80fee400-0x80ff0400 at 0xbe7fa000: .
RedBoot&gt; </pre>
 </td>
	</tr>
</table></div>

</div>

<h4 id="load_the_rootfs_image_from_the_tftp_server">Load the rootfs image from the TFTP server</h4>
<div class="level4">
<div class="table sectionedit13"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">RedBoot&gt; load -r -b %{FREEMEMLO} openwrt-atheros-root.squashfs
Using default protocol (TFTP)
Raw file loaded 0x80000400-0x801c03ff, assumed entry at 0x80000400
RedBoot&gt; </pre>
 </td>
	</tr>
</table></div>

</div>

<h4 id="flash_the_rootfs_image">Flash the rootfs image</h4>
<div class="level4">

<p>
<strong><em>&#039;fis free&#039;</em></strong> will print the first and last free block
</p>
<div class="table sectionedit14"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">RedBoot&gt; fis free
0xBE110000 .. 0xBE7D0000
RedBoot&gt; </pre>
 </td>
	</tr>
</table></div>

<p>
Now do the math (last - first, cause you need the difference) 
</p>
<div class="table sectionedit15"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">0xBE7D0000 - 0xBE110000 = 0x6C0000</pre>
 </td>
	</tr>
</table></div>

<p>
And use the computed value for the -l switch in the <em><strong>&#039;fis create&#039;</strong></em> RedBoot command below.
</p>
<div class="table sectionedit16"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">RedBoot&gt; fis create -l 0x6C0000 rootfs
... Erase from 0xbe110000-0xbe7d0000: ............................................................................................................
... Program from 0x80000400-0x801c0400 at 0xbe110000: ............................
... Erase from 0xbe7fa000-0xbe7fc000: .
... Program from 0x80fee400-0x80ff0400 at 0xbe7fa000: .
RedBoot&gt; </pre>
 </td>
	</tr>
</table></div>

</div>

<h4 id="upgrade_redboots_s_configuration">Upgrade RedBoots&#039;s configuration</h4>
<div class="level4">

<p>
<em><strong>Notes:</strong></em>
</p>
<ul>
<li class="level1"><div class="li"> You have to disable CRC checking because the bootloader won&#039;t load the OpenWrt image if it is enabled.</div>
</li>
<li class="level1"><div class="li"> The boot script is needed for automatic booting.</div>
</li>
<li class="level1"><div class="li"> OpenWrt logs to its serial console with 9600bps, so you must have to set the same baud rate.</div>
</li>
</ul>
<div class="table sectionedit17"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">RedBoot&gt; fconfig
Disable CRC Checking: true
Automatic FirmwareUpdate: false
Run script at boot: true
Boot script:
.. fis load -l vmlinux.bin.l7
.. exec
Enter script, terminate with empty line
&gt;&gt; fis load -l vmlinux.bin.l7
&gt;&gt; exec
&gt;&gt;
Boot script timeout (1000ms resolution): 3
Use BOOTP for network configuration: false
Gateway IP address:
Local IP address: 192.168.1.1
Local IP address mask: 255.255.255.0
Default server IP address: 192.168.1.254
Console baud rate: 9600
GDB connection port: 9000
Force console for special debug messages: false
Network debug at boot time: false
Safe Console: true
Update RedBoot non-volatile configuration - continue (y/n)? y
cfgbase 0xbe7f8000 cfgsize 2000
... Erase from 0xbe7f8000-0xbe7fa000: .
... Program from 0x80fe1400-0x80fe2400 at 0xbe7f8000: .
RedBoot&gt; </pre>
 </td>
	</tr>
</table></div>

<p>
Finally, reset the board:
</p>
<div class="table sectionedit18"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">RedBoot&gt; reset </pre>
 </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit19" id="upgrading_openwrt">Upgrading OpenWrt</h3>
<div class="level3">

<p>
If you have already installed OpenWrt and like to reflash for e.g. upgrading to a new OpenWrt version you can upgrade using the sysupgrade command line tool. 
</p>

<p>
It is important that you put the firmware image into the ramdisk (/tmp) before you start flashing.
</p>
<div class="table sectionedit20"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">root@OpenWrt:/# cd /tmp
root@OpenWrt:/tmp# wget ftp://192.168.1.254/openwrt-atheros-combined.squashfs.img
Connecting to 192.168.1.254:2121 (192.168.1.254:2121)
openwrt-atheros-comb 100% |*******************************|  2752k 00:00:00 ETA
root@OpenWrt:/#</pre>
 </td>
	</tr>
</table></div>

<p>
When it is done, use the sysupgrade command to flash it:
</p>
<div class="table sectionedit21"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">root@OpenWrt:/tmp# sysupgrade openwrt-atheros-combined.squashfs.img
Saving config files...
Switching to ramdisk...
mount: mounting mini_fo:/overlay on /mnt failed: Function not implemented
Performing system upgrade...
Unlocking vmlinux.bin.l7 ...
Unlocking rootfs ...
Writing from &lt;stdin&gt; to vmlinux.bin.l7 ...
Writing from &lt;stdin&gt; to rootfs ...
Appending jffs2 data from /tmp/sysupgrade.tgz to rootfs...
Updating FIS table...
Rebooting ...
br-lan: port 1(eth0) entering disabled state
device eth0 left promiscuous mode
br-lan: port 1(eth0) entering disabled state
Restarting system.</pre>
 </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit22" id="hardware">Hardware</h2>
<div class="level2">

</div>

<h3 class="sectionedit23" id="info">Info</h3>
<div class="level3">
<div class="table sectionedit24"><table class="inline">
	<tr class="row0">
		<th class="col0 leftalign"> Architecture:  </th><td class="col1"> MIPS </td>
	</tr>
	<tr class="row1">
		<th class="col0 leftalign"> Vendor:  </th><td class="col1"> Atheros </td>
	</tr>
	<tr class="row2">
		<th class="col0 leftalign"> Bootloader:  </th><td class="col1"> RedBoot </td>
	</tr>
	<tr class="row3">
		<th class="col0 leftalign"> System-On-Chip:  </th><td class="col1"> AR5312 </td>
	</tr>
	<tr class="row4">
		<th class="col0 leftalign"> CPU Speed:  </th><td class="col1"> 220 <abbr title="Megahertz">MHz</abbr> </td>
	</tr>
	<tr class="row5">
		<th class="col0 leftalign"> Flash-Chip:  </th><td class="col1"> Spansion S29JL064H90T </td>
	</tr>
	<tr class="row6">
		<th class="col0 leftalign"> Flash size:  </th><td class="col1"> 8MiB </td>
	</tr>
	<tr class="row7">
		<th class="col0 leftalign"> RAM:  </th><td class="col1"> 32MiB </td>
	</tr>
	<tr class="row8">
		<th class="col0 leftalign"> Wireless:  </th><td class="col1"> Atheros 802.11b/g/a (built-in) </td>
	</tr>
	<tr class="row9">
		<th class="col0 leftalign"> Ethernet:  </th><td class="col1"> 1xRJ45 </td>
	</tr>
	<tr class="row10">
		<th class="col0 leftalign"> USB:  </th><td class="col1"> No </td>
	</tr>
	<tr class="row11">
		<th class="col0 leftalign"> Serial:  </th><td class="col1"> Yes </td>
	</tr>
	<tr class="row12">
		<th class="col0 leftalign"> JTAG:  </th><td class="col1"> Yes </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit25" id="photos">Photos</h3>
<div class="level3">

<p>
<a href="../../_detail/toh/abicom/freedom_cpe.jpg?id=toh%253Aabicom%253Afreedom_cpe" class="media" title="toh:abicom:freedom_cpe.jpg"><img src="../../_media/toh/abicom/freedom_cpe.jpg" class="media" title="PCB" alt="PCB" /></a>
</p>

</div>

<h3 class="sectionedit26" id="serial_port">Serial Port</h3>
<div class="level3">

<p>
The signals of the built-in UART lines can be found on the expansion connector. The full pinout of the expansion connector can be found in the user guide of the device.
</p>
<div class="table sectionedit27"><table class="inline">
	<tr class="row0">
		<td class="col0"> <pre class="code">Serial pinout:
           |                   |                   |    |     SHIELD
           |                   |        CPU        |    |_____________
           |                   |___________________|                  
 7: 3.3V   |                                                          
41: GND    |                                                          
45: TX     |       49         _____________________________         1 
47: RX     |        o o o o o|o o o o o o o o o o o o o o o|o o o o o
           |        o o o o o|o o o o o o o o o o o o o o o|o o o o o
           |       50         -----------------------------         2
           |__________________________________________________________</pre>
 </td>
	</tr>
</table></div>

<p>
The UART lines are operating at TTL voltage levels, so if you want to connect it to your PC, you need a TTL-to-RS232 level shifter. See the <a href="http://nuwiki.openwrt.org/oldwiki/openwrtdocs/customizing/hardware/serial_console" class="urlextern" title="http://nuwiki.openwrt.org/oldwiki/openwrtdocs/customizing/hardware/serial_console"  rel="nofollow">Serial Console</a> article for more informations.
</p>

</div>

<h2 class="sectionedit28" id="interfaces">Interfaces</h2>
<div class="level2">

<p>
The default network configuration is:
</p>
<div class="table sectionedit29"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Interface Name </th><th class="col1"> Description </th><th class="col2"> Default configuration </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> br-lan </td><td class="col1"> eth0, wifi0 &amp; wifi1 </td><td class="col2"> 192.168.1.1/24 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> eth0 </td><td class="col1"> RJ45 port </td><td class="col2"> None </td>
	</tr>
	<tr class="row3">
		<td class="col0"> eth1 </td><td class="col1"> Expansion connector </td><td class="col2"> None </td>
	</tr>
	<tr class="row4">
		<td class="col0"> wifi0 </td><td class="col1" colspan="2"> improperly detected in Backfire 10.03 </td>
	</tr>
	<tr class="row5">
		<td class="col0"> wifi1 </td><td class="col1"> WiFi 2.4+5.0 <abbr title="Gigahertz">GHz</abbr> </td><td class="col2"> Disabled </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit30" id="other_info">Other Info</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Product <a href="http://www.abicom.co.uk/datasheets/FreedomCPE_Rev5.pdf" class="urlextern" title="http://www.abicom.co.uk/datasheets/FreedomCPE_Rev5.pdf"  rel="nofollow">datasheet</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://www.abicom.co.uk/datasheets/Freedom%20UserGuide%20Rev%20V01.06.5-Draft.pdf" class="urlextern" title="http://www.abicom.co.uk/datasheets/Freedom%20UserGuide%20Rev%20V01.06.5-Draft.pdf"  rel="nofollow">User Guide</a></div>
</li>
</ul>

</div>

<h2 class="sectionedit31" id="tags">Tags</h2>
<div class="level2">

<p>
For some Help with the Tags, please have a look here: <a href="../../meta/tags" class="wikilink1" title="meta:tags">tags</a>
</p>
<div class="tags"><span>
	<a href="../../tag/2008-july?do=showtag&amp;tag=2008-JULY" class="wikilink1" title="tag:2008-july" rel="tag">2008-JULY</a>,
	<a href="../../tag/fastethernet?do=showtag&amp;tag=FastEthernet" class="wikilink1" title="tag:fastethernet" rel="tag">FastEthernet</a>,
	<a href="../../tag/1nic?do=showtag&amp;tag=1NIC" class="wikilink1" title="tag:1nic" rel="tag">1NIC</a>,
	<a href="../../tag/1wnic?do=showtag&amp;tag=1WNIC" class="wikilink1" title="tag:1wnic" rel="tag">1WNIC</a>,
	<a href="../../tag/no_switch?do=showtag&amp;tag=no_switch" class="wikilink1" title="tag:no_switch" rel="tag">no switch</a>,
	<a href="../../tag/poe?do=showtag&amp;tag=PoE" class="wikilink1" title="tag:poe" rel="tag">PoE</a>,
	<a href="../../tag/integrated?do=showtag&amp;tag=integrated" class="wikilink1" title="tag:integrated" rel="tag">integrated</a>,
	<a href="../../tag/802.11abg?do=showtag&amp;tag=802.11abg" class="wikilink1" title="tag:802.11abg" rel="tag">802.11abg</a>,
	<a href="../../tag/detachableantenna" class="wikilink1" title="tag:detachableantenna" rel="tag">DetachableAntenna</a>,
	<a href="../../tag/2ant?do=showtag&amp;tag=2Ant" class="wikilink1" title="tag:2ant" rel="tag">2Ant</a>,
	<a href="../../tag/antsma?do=showtag&amp;tag=AntSMA" class="wikilink1" title="tag:antsma" rel="tag">AntSMA</a>,
	<a href="../../tag/32ram?do=showtag&amp;tag=32RAM" class="wikilink1" title="tag:32ram" rel="tag">32RAM</a>,
	<a href="../../tag/8flash?do=showtag&amp;tag=8Flash" class="wikilink1" title="tag:8flash" rel="tag">8Flash</a>,
	<a href="../../tag/devboard?do=showtag&amp;tag=DevBoard" class="wikilink1" title="tag:devboard" rel="tag">DevBoard</a>
</span></div>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/abicom/freedom_cpe.txt</bdi> · Last modified: 2015/01/13 18:11 by <bdi>br1</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="freedom_cpe?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="freedom_cpe?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="freedom_cpe?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="freedom_cpe#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Aabicom%253Afreedom_cpe&amp;1432266193" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
