<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>BT HomeHub 1.0 and 1.5 [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="bcm63xx,bcm6348"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="homehub_v1?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:bt"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/bt/homehub_v1"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/bt/homehub_v1"/>
<link rel="canonical" href="homehub_v1"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:bt';var JSINFO = {"id":"toh:bt:homehub_v1","namespace":"toh:bt"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432266270 166.182.3.99';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="homehub_v1#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="homehub_v1?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="homehub_v1?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:bt:homehub_v1" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="homehub_v1?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="homehub_v1?do=media&amp;ns=toh%253Abt"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="homehub_v1?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:bt:start">BT</a></bdi> » <bdi><span class="curid"><a href="homehub_v1" class="wikilink1" title="toh:bt:homehub_v1">BT HomeHub 1.0 and 1.5</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/bt/homehub_v1" class="media" title="cz:toh:bt:homehub_v1"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/bt/homehub_v1" class="media" title="de:toh:bt:homehub_v1"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="homehub_v1" class="media" title="toh:bt:homehub_v1"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/bt/homehub_v1" class="media" title="es:toh:bt:homehub_v1"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/bt/homehub_v1" class="media" title="fr:toh:bt:homehub_v1"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/bt/homehub_v1" class="media" title="hu:toh:bt:homehub_v1"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/bt/homehub_v1" class="media" title="jp:toh:bt:homehub_v1"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/bt/homehub_v1" class="media" title="pl:toh:bt:homehub_v1"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/bt/homehub_v1" class="media" title="pt-br:toh:bt:homehub_v1"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/bt/homehub_v1" class="media" title="ru:toh:bt:homehub_v1"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/bt/homehub_v1" class="media" title="tr:toh:bt:homehub_v1"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/bt/homehub_v1" class="media" title="zh-cn:toh:bt:homehub_v1"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/bt/homehub_v1" class="media" title="zh-tw:toh:bt:homehub_v1"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:bt:homehub_v1</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="homehub_v1#supported_versions">Supported Versions</a></div></li>
<li class="level1"><div class="li"><a href="homehub_v1#hardware_highlights">Hardware Highlights</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="homehub_v1#oem_flash_layout">OEM Flash Layout</a></div></li>
<li class="level2"><div class="li"><a href="homehub_v1#flash_details">Flash Details</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="homehub_v1#installation">Installation</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="homehub_v1#flash_layout">Flash Layout</a></div></li>
<li class="level2"><div class="li"><a href="homehub_v1#cfe_easy_installation">CFE easy installation</a></div></li>
<li class="level2"><div class="li"><a href="homehub_v1#oem_installation_using_the_tftp_method">OEM installation using the TFTP method</a></div></li>
<li class="level2"><div class="li"><a href="homehub_v1#upgrading_openwrt">Upgrading OpenWrt</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="homehub_v1#luci_web_upgrade_process">LuCI Web Upgrade Process</a></div></li>
<li class="level3"><div class="li"><a href="homehub_v1#terminal_upgrade_process">Terminal Upgrade Process</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="homehub_v1#basic_configuration">Basic configuration</a></div></li>
<li class="level1"><div class="li"><a href="homehub_v1#specific_configuration">Specific Configuration</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="homehub_v1#interfaces">Interfaces</a></div></li>
<li class="level2"><div class="li"><a href="homehub_v1#failsafe_mode">Failsafe mode</a></div></li>
<li class="level2"><div class="li"><a href="homehub_v1#buttons">Buttons</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="homehub_v1#hardware">Hardware</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="homehub_v1#info">Info</a></div></li>
<li class="level2"><div class="li"><a href="homehub_v1#photos">Photos</a></div></li>
<li class="level2"><div class="li"><a href="homehub_v1#gpios">GPIOs</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="homehub_v1#v1">V1</a></div></li>
<li class="level3"><div class="li"><a href="homehub_v1#v15">V1.5</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="homehub_v1#serial">Serial</a></div></li>
<li class="level2"><div class="li"><a href="homehub_v1#jtag">JTAG</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="homehub_v1#backup_whole_flash">Backup whole flash</a></div></li>
<li class="level3"><div class="li"><a href="homehub_v1#restore_whole_flash">Restore whole flash</a></div></li>
<li class="level3"><div class="li"><a href="homehub_v1#flashing_a_bootloader">Flashing a bootloader</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="homehub_v1#debricking">Debricking</a></div></li>
<li class="level1"><div class="li"><a href="homehub_v1#bootloader_mods">Bootloader Mods</a></div></li>
<li class="level1"><div class="li"><a href="homehub_v1#hardware_mods">Hardware mods</a></div></li>
<li class="level1"><div class="li"><a href="homehub_v1#bootlogs">BOOTLOGS</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="homehub_v1#oem_bootlog">OEM bootlog</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="homehub_v1#tags">Tags</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="bt_homehub_10_and_15">BT HomeHub 1.0 and 1.5</h1>
<div class="level1">

<p>
White or black boxes given away with a bt broadband subscription. It comes in two versions The V1 and the V1.5. The first noticeable difference between the two versions is the shape and size. Under the cover they are identical apart from a slight pcb revision, addition of 5 extra red led&#039;s and two extra buttons on the V1.5.
</p>

<p>
There are other routers based on the same board as the homehub V1. Known to me are: speedtouch 7g and Aolbox. There may be more.
</p>

<p>
The homehub includes ADSL2+, 802.11b/g wireless, host and slave USB ports, 2 wired ethernet ports, DECT, FXS &amp; FXO ports and VOIP functionality.
</p>

<p>
<strong> Following the sad closure of <a href="http://psidoc.com" class="urlextern" title="http://psidoc.com"  rel="nofollow">http://psidoc.com</a>, all members of the BT Home Hub Openwrt community are now encouraged to join in ongoing development efforts, concentrated on the Home Hub 2B, at <a href="http://openwrt.ebilan.co.uk" class="urlextern" title="http://openwrt.ebilan.co.uk"  rel="nofollow">http://openwrt.ebilan.co.uk</a>. </strong>
</p>

</div>

<h2 class="sectionedit2" id="supported_versions">Supported Versions</h2>
<div class="level2">

<p>
Not supported yet. However you can install OpenWrt (no ADSL) using a custom CFE.
</p>
<div class="table sectionedit3"><table class="inline">
	<tr class="row0">
		<td class="col0"> <img src="../../_media/meta/icons/tango/package-x-generic.png" class="media" alt="" /> </td><td class="col1"> Bootloader (CFE), OpenWrt prebuilt firmware, and patches to build your own firmware:<br/>
<a href="https://drive.google.com/uc?export=download&amp;id=0B-EMoBe-_OdBUk5EZGE1X1dZMXc" class="urlextern" title="https://drive.google.com/uc?export=download&amp;id=0B-EMoBe-_OdBUk5EZGE1X1dZMXc"  rel="nofollow">HomeHubV1-openwrt_12.09_wl-CFE.zip</a> </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit4" id="hardware_highlights">Hardware Highlights</h2>
<div class="level2">
<div class="table sectionedit5"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> SoC </th><th class="col1"> Ram </th><th class="col2"> Flash </th><th class="col3"> Ethernet </th><th class="col4"> USB </th><th class="col5"> Wireless </th><th class="col6"> Serial </th><th class="col7"> JTag </th><th class="col8"> VOIP </th><th class="col9"> FXS </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Broadcom BCM96348 </td><td class="col1"> 32MB </td><td class="col2"> 8MB </td><td class="col3"> 2 </td><td class="col4"> Yes </td><td class="col5"> yes </td><td class="col6"> Yes </td><td class="col7"> Yes </td><td class="col8"> yes </td><td class="col9"> yes </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit6" id="oem_flash_layout">OEM Flash Layout</h3>
<div class="level3">

<p>
Based on FIrmware 6.2.2.6
</p>
<div class="table sectionedit7"><table class="inline">
	<tr class="row0">
		<td class="col0">0x00000000-0x0003FFFF Space allocated for bootloader - includes board parameters (serial number, Board type, MAC address, etc)</td>
	</tr>
	<tr class="row1">
		<td class="col0">0x00040000-0x000FFFFF JFFS2 User partition</td>
	</tr>
	<tr class="row2">
		<td class="col0">0x00100000-0x0010000F Firmware version magic</td>
	</tr>
	<tr class="row3">
		<td class="col0">0x00100010-0x001AFFFF Linux Kernel</td>
	</tr>
	<tr class="row4">
		<td class="col0">0x001B0000-0x007FFFFF Squashfs root fs</td>
	</tr>
</table></div>

<p>
It is somewhat different from the usual Broadcom layout. Probably due to the fact that this board does not use the CFE bootloader but uses a proprietory loader instead who&#039;s origins are unknown.
This supplied bootloader is useless. I went through Tens of bootloaders before i come across a redboot loader from the inventel livebox and modified it to work with the homehub. Now i have recently discovered that this very same bootloader from the livebox is used in the Aolbox wich has a board identical to the homehub but uses different RAM memory thus the Aolbox/livebox and homehub bootloaders are not directly interchangeable.
</p>

</div>

<h3 class="sectionedit8" id="flash_details">Flash Details</h3>
<div class="level3">

<p>
You can access the flash via jtag at 1f400000 provided the homehub bootloader is running. If the loader is not running ie, bad flash you can access bootloader at 1fc00000+. The The flash chip is actually mapped at 1f800000-1fffffff while the mips boot address is 1fc00000 (half way through the physical flash address). The hub bootloader actally remaps the 4MB at 1fc00000 back before the physical start of the flash. Eg, actual 1f800000-1fffffff # copy 1fc00000-1fffffff to 1f400000 # now the flash lives at 1f400000-1fbfffff.
</p>

</div>

<h2 class="sectionedit9" id="installation">Installation</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> → <a href="../../doc/howto/obtain.firmware" class="wikilink1" title="doc:howto:obtain.firmware">obtain.firmware</a></div>
</li>
<li class="level1"><div class="li"> → <a href="../../doc/howto/installing" class="wikilink1" title="doc:howto:generic.flashing">Install OpenWrt</a></div>
</li>
</ol>

</div>

<h3 class="sectionedit10" id="flash_layout">Flash Layout</h3>
<div class="level3">

<p>
Please check out the article <a href="../../doc/techref/flash.layout" class="wikilink1" title="doc:techref:flash.layout">Flash.Layout</a>. It contains an example and a couple of explanations.
</p>

</div>

<h3 class="sectionedit11" id="cfe_easy_installation">CFE easy installation</h3>
<div class="level3">

<p>
This section deals with how you install OpenWrt once the OEM bootloader <a href="homehub_v1#flashing_a_bootloader" title="toh:bt:homehub_v1 ↵" class="wikilink1">is replaced by a new CFE</a>.
</p>
<ul>
<li class="level1"><div class="li">Unplug the power cord</div>
</li>
<li class="level1"><div class="li">Press the button labeled as <em>reset</em>, don&#039;t release it yet!</div>
</li>
<li class="level1"><div class="li">Plug the power cord</div>
</li>
<li class="level1"><div class="li">Wait 10 seconds</div>
</li>
<li class="level1"><div class="li">Release the <em>reset</em> button</div>
</li>
<li class="level1"><div class="li">Browse to <a href="http://192.168.1.1" class="urlextern" title="http://192.168.1.1"  rel="nofollow">http://192.168.1.1</a></div>
</li>
<li class="level1"><div class="li">Select .bin file</div>
</li>
<li class="level1"><div class="li">Upgrade the image</div>
</li>
<li class="level1"><div class="li">Wait for it to reboot</div>
</li>
<li class="level1"><div class="li">Telnet to 192.168.1.1 and set a root password, or browse to <a href="http://192.168.1.1" class="urlextern" title="http://192.168.1.1"  rel="nofollow">http://192.168.1.1</a> if LuCI is installed. or browse to <a href="http://192.168.1.1" class="urlextern" title="http://192.168.1.1"  rel="nofollow">http://192.168.1.1</a> if LuCI is installed.</div>
</li>
</ul>

</div>

<h3 class="sectionedit12" id="oem_installation_using_the_tftp_method">OEM installation using the TFTP method</h3>
<div class="level3">

<p>
→  <a href="../../doc/howto/tftp" class="wikilink1" title="doc:howto:generic.flashing.tftp">generic.flashing.tftp</a>
</p>

</div>

<h3 class="sectionedit13" id="upgrading_openwrt">Upgrading OpenWrt</h3>
<div class="level3">

<p>
→  <a href="../../doc/howto/generic.sysupgrade" class="wikilink1" title="doc:howto:generic.sysupgrade">generic.sysupgrade</a>
</p>

<p>
If you have already installed OpenWrt and like to reflash for e.g. upgrading to a new OpenWrt version you can upgrade using the mtd command line tool. It is important that you put the firmware image into the ramdisk (/tmp) before you start flashing.
</p>

</div>

<h4 id="luci_web_upgrade_process">LuCI Web Upgrade Process</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> Browse to <a href="http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/" class="urlextern" title="http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/"  rel="nofollow">http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/</a> LuCI Upgrade <abbr title="Uniform Resource Locator">URL</abbr></div>
</li>
<li class="level1"><div class="li"> Upload image file for sysupgrade to LuCI</div>
</li>
<li class="level1"><div class="li"> Wait for reboot</div>
</li>
</ul>

</div>

<h4 id="terminal_upgrade_process">Terminal Upgrade Process</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> Login as root via SSH on 192.168.1.1</div>
</li>
<li class="level1"><div class="li"> Use the following commands to upgrade.</div>
</li>
</ul>

<p>
<pre class="code">cd /tmp/
wget http://http://downloads.openwrt.org/snapshots/trunk/XXX/xxx.abc
sysupgrade /tmp/xxx.abc</pre>

</p>
<ul>
<li class="level1"><div class="li">If sysupgrade does not support this router, use the following commands.</div>
</li>
</ul>

<p>
<pre class="code">cd /tmp/
wget http://http://downloads.openwrt.org/snapshots/trunk/XXX/xxx.abc
mtd write /tmp/xxx.abc linux &amp;&amp; reboot</pre>

</p>

</div>

<h2 class="sectionedit14" id="basic_configuration">Basic configuration</h2>
<div class="level2">

<p>
→ <a href="../../doc/howto/configuration" class="wikilink1" title="doc:howto:basic.config">Basic configuration</a> After flashing, proceed with this.<br/>

Set up your Internet connection, configure wireless, configure USB port, etc.
</p>

</div>

<h2 class="sectionedit15" id="specific_configuration">Specific Configuration</h2>
<div class="level2">

</div>

<h3 class="sectionedit16" id="interfaces">Interfaces</h3>
<div class="level3">

<p>
The default network configuration is:
</p>
<div class="table sectionedit17"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Interface Name </th><th class="col1"> Description </th><th class="col2"> Default configuration </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> br-lan </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> &amp; WiFi </td><td class="col2"> 192.168.1.1/24 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> eth0 </td><td class="col1"> WAN </td><td class="col2"> dhcp </td>
	</tr>
	<tr class="row3">
		<td class="col0"> eth1 </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> </td><td class="col2"> bridged </td>
	</tr>
	<tr class="row4">
		<td class="col0"> wlan0 </td><td class="col1"> WiFi </td><td class="col2"> disabled </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit18" id="failsafe_mode">Failsafe mode</h3>
<div class="level3">

<p>
→ <a href="../../doc/howto/generic.failsafe" class="wikilink1" title="doc:howto:generic.failsafe">generic.failsafe</a>
</p>

</div>

<h3 class="sectionedit19" id="buttons">Buttons</h3>
<div class="level3">

<p>
→ <a href="../../doc/howto/hardware.button" class="wikilink1" title="doc:howto:hardware.button">hardware.button</a> on howto use and configure the hardware button(s).
</p>

<p>
The HomeHub1 has only 1 button
</p>
<div class="table sectionedit20"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> BUTTON </th><th class="col1"> Event </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Reset </td><td class="col1"> reset </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit21" id="hardware">Hardware</h2>
<div class="level2">

</div>

<h3 class="sectionedit22" id="info">Info</h3>
<div class="level3">
<div class="table sectionedit23"><table class="inline">
	<tr class="row0">
		<td class="col0 leftalign"> <strong><a href="http://en.wikipedia.org/wiki/Instruction set" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Instruction set">Instruction set</a>:</strong>    </td><td class="col1"> <a href="http://en.wikipedia.org/wiki/MIPS architecture" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/MIPS architecture">MIPS</a> </td>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign"> <strong>Vendor:</strong>          </td><td class="col1"> <a href="http://en.wikipedia.org/wiki/Broadcom" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Broadcom">Broadcom</a> </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> <strong><a href="../../doc/techref/bootloader.1" class="wikilink1" title="doc:techref:bootloader">Bootloader</a>:</strong>     </td><td class="col1"> Unknown (custom Thomson)<br/>
Can be replaced by <a href="../../doc/techref/bootloader/cfe" class="wikilink1" title="doc:techref:bootloader:cfe">CFE</a> </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/soc.1" class="wikilink1" title="doc:hardware:soc">System-On-Chip</a>:</strong>  </td><td class="col1"> BCM6348 </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/cpu" class="wikilink1" title="doc:hardware:cpu">CPU</a>/Speed</strong>        </td><td class="col1"> BMIPS3300 V0.7 / 256 <abbr title="Megahertz">MHz</abbr> </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> <strong>Flash-Chip:</strong>      </td><td class="col1"> Spansion S29GL064A11TFIR4, 64Mbit, 8MByte, Pointless bottom boot blocks </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> <strong>Flash size:</strong>      </td><td class="col1"> 8 MiB </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> <strong>RAM-Chip:</strong>             </td><td class="col1"> Qimonda HYB39SC256160FE-7, 8Mbitx16bit, 32MByte, 133MHz </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> <strong>RAM size:</strong>             </td><td class="col1"> 32 MiB </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> <strong>Wireless:</strong>        </td><td class="col1"> BCM4318 802.11b/g (onboard), using seperate radio amplifier and diversity switch via pci </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign"> <strong>Ethernet:</strong>        </td><td class="col1"> 1x internal PHY + 1x external PHY (Altima AC101 MII PHY) </td>
	</tr>
	<tr class="row11">
		<td class="col0 leftalign"> <strong>Internet:</strong>        </td><td class="col1"> ADSL2+, not supported in OpenWrt </td>
	</tr>
	<tr class="row12">
		<td class="col0 leftalign"> <strong>USB:</strong>             </td><td class="col1"> Yes </td>
	</tr>
	<tr class="row13">
		<td class="col0"> <strong>DECT:</strong> </td><td class="col1"> Philips/NXP PCD80705 Baseband DECT processor via spi</td>
	</tr>
	<tr class="row14">
		<td class="col0"> <strong>Slic:</strong> </td><td class="col1"> Silicon Labs si3230 ProSLIC</td>
	</tr>
	<tr class="row15">
		<td class="col0 leftalign"> <strong><a href="../../OpenWrtDocs/Customizing/Hardware/Serial_Console" class="wikilink1" title="doc:hardware:port.serial">Serial</a>:</strong>          </td><td class="col1"> <a href="homehub_v1#serial" title="toh:bt:homehub_v1 ↵" class="wikilink1">Yes</a> </td>
	</tr>
	<tr class="row16">
		<td class="col0 leftalign"> <strong><a href="../../doc/hardware/port.jtag" class="wikilink1" title="doc:hardware:port.jtag">JTAG</a>:</strong>            </td><td class="col1 leftalign"> <a href="homehub_v1#jtag" title="toh:bt:homehub_v1 ↵" class="wikilink1">Yes</a>  </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit24" id="photos">Photos</h3>
<div class="level3">

<p>
There are plenty of pictures of the homehub on the internet so i wont fill this space with its cover on.
</p>

<p>
<a href="../../lib/exe/fetch.php?tok=1e5443&amp;media=http%253A%252F%252Fi58.tinypic.com%252F2q8sz1i.jpg" class="media" title="http://i58.tinypic.com/2q8sz1i.jpg"><img src="../../lib/exe/fetch.php?w=200&amp;tok=78c3a7&amp;media=http%253A%252F%252Fi58.tinypic.com%252F2q8sz1i.jpg" class="media" title="2q8sz1i.jpg" alt="2q8sz1i.jpg" width="200" /></a>  <a href="../../lib/exe/fetch.php?tok=c0cd74&amp;media=http%253A%252F%252Fi62.tinypic.com%252F2dvoqxu.jpg" class="media" title="http://i62.tinypic.com/2dvoqxu.jpg"><img src="../../lib/exe/fetch.php?w=200&amp;tok=cdff21&amp;media=http%253A%252F%252Fi62.tinypic.com%252F2dvoqxu.jpg" class="media" title="2dvoqxu.jpg" alt="2dvoqxu.jpg" width="200" /></a>
</p>

<p>
Board:
</p>
<div class="sortable"><div class="table sectionedit25"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 centeralign">  HomeHub V1  </th><th class="col1 centeralign">  HomeHub V1.5  </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 centeralign">  <strong>Top view</strong>  </td><td class="col1 centeralign">  <strong>Top view</strong>  </td>
	</tr>
	<tr class="row2">
		<td class="col0 centeralign">  <a href="../../_detail/toh/bt/dscf09124.jpg?id=toh%253Abt%253Ahomehub_v1" class="media" title="toh:bt:dscf09124.jpg"><img src="../../_media/toh/bt/dscf09124.jpg?w=320&amp;h=300&amp;tok=bd9851" class="media" alt="" width="320" height="300" /></a>  </td><td class="col1 centeralign">  <a href="../../_detail/toh/bt/dscf0934.jpg?id=toh%253Abt%253Ahomehub_v1" class="media" title="toh:bt:dscf0934.jpg"><img src="../../_media/toh/bt/dscf0934.jpg?w=320&amp;h=300&amp;tok=3ffb99" class="media" alt="" width="320" height="300" /></a>  </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <em>This one has had its led wiring changed to suit the Speedtouch 7G firmware</em> </td><td class="col1"> <em>Note the extra 2 buttons and their position and the shape of the board. The led&#039;s are now on the other side too.</em> </td>
	</tr>
	<tr class="row4">
		<td class="col0 centeralign">  <strong>Bottom view</strong>  </td><td class="col1 centeralign">  <strong>Bottom view</strong>  </td>
	</tr>
	<tr class="row5">
		<td class="col0 centeralign">  <a href="../../_detail/toh/bt/dscf0916.jpg?id=toh%253Abt%253Ahomehub_v1" class="media" title="toh:bt:dscf0916.jpg"><img src="../../_media/toh/bt/dscf0916.jpg?w=320&amp;h=300&amp;tok=1e2e0a" class="media" alt="" width="320" height="300" /></a>  </td><td class="col1 centeralign">  <a href="../../_detail/toh/bt/dscf0941.jpg?id=toh%253Abt%253Ahomehub_v1" class="media" title="toh:bt:dscf0941.jpg"><img src="../../_media/toh/bt/dscf0941.jpg?w=320&amp;h=300&amp;tok=5b1d31" class="media" alt="" width="320" height="300" /></a>  </td>
	</tr>
	<tr class="row6">
		<td class="col0"> </td><td class="col1 leftalign"> <em>Note changes to the led type. They are now tri colour (green+red=orange). I have fitted it with a crude jtag connector.</em>  </td>
	</tr>
</table></div>
</div>
</div>

<h3 class="sectionedit26" id="gpios">GPIOs</h3>
<div class="level3">

<p>
→ <a href="../../doc/hardware/port.gpio" class="wikilink1" title="doc:hardware:port.gpio">port.gpio</a> general information about GPIO
</p>

</div>

<h4 id="v1">V1</h4>
<div class="level4">

<p>
<a href="../../lib/exe/fetch.php?tok=d8aa56&amp;media=http%253A%252F%252Fi61.tinypic.com%252F1t54ic.jpg" class="media" title="http://i61.tinypic.com/1t54ic.jpg"><img src="../../lib/exe/fetch.php?w=300&amp;tok=16ee6f&amp;media=http%253A%252F%252Fi61.tinypic.com%252F1t54ic.jpg" class="media" title="1t54ic.jpg" alt="1t54ic.jpg" width="300" /></a>
</p>
<div class="table sectionedit27"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0" colspan="4"> LEDS <a href="../../lib/exe/fetch.php?tok=3aea16&amp;media=http%253A%252F%252Fi62.tinypic.com%252F2up8mew.jpg" class="media" title="http://i62.tinypic.com/2up8mew.jpg"><img src="../../lib/exe/fetch.php?w=200&amp;tok=5c4d8d&amp;media=http%253A%252F%252Fi62.tinypic.com%252F2up8mew.jpg" class="media" title="2up8mew.jpg" alt="2up8mew.jpg" width="200" /></a> </th>
	</tr>
	<tr class="row1">
		<th class="col0"> label </th><th class="col1"> color </th><th class="col2"> GPIO </th><th class="col3"> active </th>
	</tr>
	</thead>
	<tr class="row2">
		<td class="col0"> Lan Activity </td><td class="col1"> green </td><td class="col2"> 0 </td><td class="col3"> high </td>
	</tr>
	<tr class="row3">
		<td class="col0"> Upgrade </td><td class="col1"> green </td><td class="col2"> 1 </td><td class="col3"> high </td>
	</tr>
	<tr class="row4">
		<td class="col0"> Broadband (ADSL) </td><td class="col1"> green </td><td class="col2"> 2 </td><td class="col3"> high </td>
	</tr>
	<tr class="row5">
		<td class="col0"> WiFi </td><td class="col1"> green </td><td class="col2"> 3 </td><td class="col3"> high </td>
	</tr>
	<tr class="row6">
		<td class="col0"> Phone (icon)</td><td class="col1"> green </td><td class="col2"> 4 </td><td class="col3"> high </td>
	</tr>
</table></div>
<div class="table sectionedit28"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0" colspan="3"> BUTTONS </th>
	</tr>
	<tr class="row1">
		<th class="col0"> name </th><th class="col1"> GPIO </th><th class="col2"> active </th>
	</tr>
	</thead>
	<tr class="row2">
		<td class="col0"> reset </td><td class="col1"> 36 </td><td class="col2"> low </td>
	</tr>
</table></div>

</div>

<h4 id="v15">V1.5</h4>
<div class="level4">
<div class="table sectionedit29"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0" colspan="4"> LEDS </th>
	</tr>
	<tr class="row1">
		<th class="col0"> label </th><th class="col1"> color </th><th class="col2"> GPIO </th><th class="col3"> active </th>
	</tr>
	</thead>
	<tr class="row2">
		<td class="col0"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> </td><td class="col1"> green </td><td class="col2"> 0 </td><td class="col3"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> </td><td class="col1"> green </td><td class="col2"> 1 </td><td class="col3"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> </td><td class="col1"> green </td><td class="col2"> 2 </td><td class="col3"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> </td><td class="col1"> green </td><td class="col2"> 3 </td><td class="col3"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> </td><td class="col1"> green </td><td class="col2"> 4 </td><td class="col3"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> </td><td class="col1"> red </td><td class="col2"> 5 </td><td class="col3"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> </td><td class="col1"> red </td><td class="col2"> 22 </td><td class="col3"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> </td>
	</tr>
	<tr class="row9">
		<td class="col0"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> </td><td class="col1"> red </td><td class="col2"> 7 </td><td class="col3"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> </td><td class="col1"> red </td><td class="col2"> 29 </td><td class="col3"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> </td>
	</tr>
	<tr class="row11">
		<td class="col0"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> </td><td class="col1"> red </td><td class="col2"> 30 </td><td class="col3"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> </td>
	</tr>
</table></div>
<div class="table sectionedit30"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0" colspan="3"> BUTTONS </th>
	</tr>
	<tr class="row1">
		<th class="col0"> name </th><th class="col1"> GPIO </th><th class="col2"> active </th>
	</tr>
	</thead>
	<tr class="row2">
		<td class="col0"> reset </td><td class="col1"> 35 </td><td class="col2"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> </td>
	</tr>
	<tr class="row3">
		<td class="col0"> WPS </td><td class="col1"> 36 </td><td class="col2"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit31" id="serial">Serial</h3>
<div class="level3">

<p>
→ <a href="../../OpenWrtDocs/Customizing/Hardware/Serial_Console" class="wikilink1" title="doc:hardware:port.serial">port.serial</a> general information about the serial port, serial port cable, etc.
</p>

<p>
How to connect to the Serial Port of this specific device:<br/>

- Solder a 4 pin header 
- Use a <strong>TTL</strong> serial cable
</p>

<p>
<strong>Photo of PCB with markings</strong><br/>

<a href="../../lib/exe/fetch.php?tok=e0e21e&amp;media=http%253A%252F%252Fi60.tinypic.com%252F1zof0uv.jpg" class="media" title="http://i60.tinypic.com/1zof0uv.jpg"><img src="../../lib/exe/fetch.php?w=300&amp;h=200&amp;tok=204f55&amp;media=http%253A%252F%252Fi60.tinypic.com%252F1zof0uv.jpg" class="media" title="1zof0uv.jpg" alt="1zof0uv.jpg" width="300" height="200" /></a>
</p>

<p>
<strong>Settings:</strong>
</p>
<ul>
<li class="level1"><div class="li"> Baudrate: 112500</div>
</li>
<li class="level1"><div class="li"> Data bits: 8</div>
</li>
<li class="level1"><div class="li"> Parity: None</div>
</li>
<li class="level1"><div class="li"> Stop bits: 1</div>
</li>
</ul>

</div>

<h3 class="sectionedit32" id="jtag">JTAG</h3>
<div class="level3">

<p>
→ <a href="../../doc/hardware/port.jtag" class="wikilink1" title="doc:hardware:port.jtag">port.jtag</a> general information about the JTAG port, JTAG cable, etc.
</p>

<p>
How to connect to the JTAG Port of this specific device:
</p>

<p>
<strong>Photo of PCB with markings</strong><br/>

<a href="../../_detail/media/st7g-hh1-jtag.jpg?id=toh%253Abt%253Ahomehub_v1" class="media" title="media:st7g-hh1-jtag.jpg"><img src="../../_media/media/st7g-hh1-jtag.jpg?w=300&amp;h=200&amp;tok=ebbddf" class="media" alt="" width="300" height="200" /></a>
</p>
<div class="table sectionedit33"><table class="inline">
	<tr class="row0">
		<td class="col0"> <img src="../../_media/meta/icons/tango/dialog-information.png" class="media" alt="" /> </td><td class="col1">For reading/writing to the flash you can use <a href="http://urjtag.sourceforge.net/" class="urlextern" title="http://urjtag.sourceforge.net/"  rel="nofollow">UrJTAG</a> (latest svn). UrJTAG is able to operate in DMA mode with bcm63xx boards, then it&#039;s faster than hairydairymaid. </td>
	</tr>
</table></div>

</div>

<h4 id="backup_whole_flash">Backup whole flash</h4>
<div class="level4">
<ol>
<li class="level1"><div class="li"> Connect your JTAG cable from your computer to your board</div>
</li>
<li class="level1"><div class="li"> Execute UrJTAG in root mode:<br/>
<pre class="code">sudo jtag</pre>
</div>
</li>
<li class="level1"><div class="li"> Power on the board</div>
</li>
<li class="level1"><div class="li"> Immediately execute these commands:<br/>
<pre class="code bash">cable dlc5 ppdev <span class="sy0">/</span>dev<span class="sy0">/</span>parport0
detect
endian big
initbus ejtag_dma
detectflash 0x1f800000
readmem 0x1f800000 0x800000 homehub1_backup.bin</pre>
</div>
</li>
</ol>

</div>

<h4 id="restore_whole_flash">Restore whole flash</h4>
<div class="level4">
<ol>
<li class="level1"><div class="li"> Connect your JTAG cable from your computer to your board</div>
</li>
<li class="level1"><div class="li"> Execute UrJTAG in root mode:<br/>
<pre class="code">sudo jtag</pre>
</div>
</li>
<li class="level1"><div class="li"> Power on the board</div>
</li>
<li class="level1"><div class="li"> Immediately execute these commands:<br/>
<pre class="code bash">cable dlc5 ppdev <span class="sy0">/</span>dev<span class="sy0">/</span>parport0
detect
endian big
initbus ejtag_dma
detectflash 0x1f800000
flashmem 0x1f800000 homehub1_backup.bin</pre>
</div>
</li>
</ol>

</div>

<h4 id="flashing_a_bootloader">Flashing a bootloader</h4>
<div class="level4">
<ol>
<li class="level1"><div class="li"> Connect your JTAG cable from your computer to your board</div>
</li>
<li class="level1"><div class="li"> Execute UrJTAG in root mode:<br/>
<pre class="code">sudo jtag</pre>
</div>
</li>
<li class="level1"><div class="li"> Power on the board</div>
</li>
<li class="level1"><div class="li"> Immediately flash the new bootloader:<br/>
<pre class="code bash">cable dlc5 ppdev <span class="sy0">/</span>dev<span class="sy0">/</span>parport0
detect
endian big
initbus ejtag_dma
detectflash 0x1f800000
flashmem 0x1fc00000 CFE_homehub1-nvr.bin</pre>
</div>
</li>
</ol>

</div>

<h2 class="sectionedit34" id="debricking">Debricking</h2>
<div class="level2">

<p>
→ <a href="../../doc/howto/generic.debrick" class="wikilink1" title="doc:howto:generic.debrick">generic.debrick</a>
</p>

</div>

<h2 class="sectionedit35" id="bootloader_mods">Bootloader Mods</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> you could read about <a href="../../doc/techref/bootloader.1" class="wikilink1" title="doc:techref:bootloader">bootloader</a> in general</div>
</li>
</ol>

</div>

<h2 class="sectionedit36" id="hardware_mods">Hardware mods</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> as a beginner, you really should inform yourself about <a href="../../doc/hardware/soldering" class="wikilink1" title="doc:hardware:soldering">soldering</a> in general and then obtain some practical experience!</div>
</li>
</ol>

</div>

<h2 class="sectionedit37" id="bootlogs">BOOTLOGS</h2>
<div class="level2">

</div>

<h3 class="sectionedit38" id="oem_bootlog">OEM bootlog</h3>
<div class="level3">

<p style="padding: 10px;border:1px solid grey;height:600px;font:12px/14px Georgia, Garamond, Serif;overflow:Auto;background-color:#FFFFFF">
<code>
Decompressing Bootloader.................................

 Speedtouch initialization sequence started.

BOOTING THE THOMSON LINUX KERNEL

Starting the kernel @ 0x801bc018 
serial initialized
Linux version 2.6.8.1 (debusb@cplx82.edegem.eu.thmulti.com) (gcc version 3.4.2) #1 Mon Nov 12 09:53:50 CET 2007
CPU revision is: 00029107
bcm63xx : initiazation of mpi bus ...............
Determined physical RAM map:
 memory: 01f7d000 @ 00002000 (usable)
On node 0 totalpages: 8063
  DMA zone: 4096 pages, LIFO batch:1
  Normal zone: 3967 pages, LIFO batch:1
  HighMem zone: 0 pages, LIFO batch:1
Built 1 zonelists
Kernel command line: root=/dev/mtdblock1 rootfstype=squashfs
brcm mips: enabling icache and dcache...
Primary instruction cache 16kB, physically tagged, 2-way, linesize 16 bytes.
Primary data cache 8kB 2-way, linesize 16 bytes.
PID hash table entries: 128 (order 7: 1024 bytes)
Using 128.000 MHz high precision timer.
Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
Memory: 29968k/32244k available (1450k kernel code, 2232k reserved, 258k data, 68k init, 0k highmem)
Calibrating delay loop... 251.39 BogoMIPS
Mount-cache hash table entries: 512 (order: 0, 4096 bytes)
Checking for 'wait' instruction...  available.
NET: Registered protocol family 16
usbcore: registered new driver usbfs
usbcore: registered new driver hub
Bluetooth: Core ver 2.6
NET: Registered protocol family 31
Bluetooth: HCI device and connection manager initialized
Bluetooth: HCI socket layer initialized
squashfs: version 3.2-r2 (2007/01/15) Phillip Lougher
squashfs: LZMA suppport for slax.org by jro
JFFS2 version 2.2. (C) 2001-2003 Red Hat, Inc.
bcm963xx_serial driver v2.0
Inotify sysfs create file = 0
Inotify sysfs create file = 0
Inotify sysfs create file = 0
inotify device minor=63
Using noop io scheduler
Thomson BCM963xx flash mapping for BTHub
flash: Found 1 x16 devices at 0x0 in 16-bit bank
 Amd/Fujitsu Extended Query Table at 0x0040
number of CFI chips: 1
cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.
flash mapping initialized
Creating 3 MTD partitions on "flash":
0x00040000-0x00100000 : "user"
0x001b0000-0x00800000 : "rootfs"
0x00100010-0x001b0000 : "kernel"
mtd: partition "kernel" doesn't start on an erase block boundary -- force read-only
Bluetooth: HCI UART driver ver 2.1
Bluetooth: HCI H4 protocol initialized
Bluetooth: HCI BCSP protocol initialized
brcmboard: brcm_board_init entry
ERROR - Invalid number of MAC addresses (1007714320) is configured.
NET: Registered protocol family 2
IP: routing cache hash table of 512 buckets, 4Kbytes
TCP: Hash tables configured (established 2048 bind 4096)
NET: Registered protocol family 1
NET: Registered protocol family 17
NET: Registered protocol family 15
VFS: Mounted root (squashfs filesystem) readonly.
Freeing unused kernel memory: 68k freed
init started:  BusyBox v1.00 (2007.11.12-09:05+0000) multi-call binary
init started:  BusyBox v1.00 (2007.11.12-09:05+0000) multi-call binary
Starting pid 36, console /dev/ttyS0: '/etc/init.d/rcS'
Algorithmics/MIPS FPU Emulator v1.5
Using /nmon/nmon.ko
nmon: module license 'unspecified' taints kernel.
Button: Character device registered successfully.
 *** OH G997Init: txIdle set to TRUE
pSdramPHY=0xA1FFFFF8, 0x2FE05 0xDEADBEEF
[BCM ADSL] Firmware load : 446280 446280 LMEM=(0xFFF00000, 54108) SDRAM=(0xA1FA0000, 392164)
AdslCoreHwReset: AdslOemDataAddr = 0xA1FFE458
ADSL PHY version is A2pBT009a2.d18
b6w_init
mpi: device 0x4318 found in PCI slot 1, function 0
wl: srom not detected, using main memory mapped srom info (wombo board)

IPSecControl Character device registered successfully.
NET: Registered protocol family 3
NET: Registered protocol family 9
NET: Registered protocol family 4
NET: Registered protocol family 5
NET: Registered protocol family 18
NET: Registered protocol family 25
SIOCSIFADDR: No such device
killall: smbd: no process killed
killall: nmbd: no process killed
level: 24
ls: /var/usbmount: No such file or directory
Using /lib/modules/2.6.8.1/kernel/drivers/usb/host/ohci-hcd.ko
ohci_hcd: 2004 Feb 02 USB 1.1 'Open' Host Controller (OHCI) Driver (PCI)
ohci_hcd: block sizes: ed 64 td 64
PCI: Enabling device 0000:00:09.0 (0000 -> 0002)
ohci_hcd 0000:00:09.0: OHCI Host Controller
PCI: Setting latency timer of device 0000:00:09.0 to 64
ohci_hcd 0000:00:09.0: irq 20, pci mem c0155b00
ohci_hcd 0000:00:09.0: new USB bus registered, assigned bus number 1
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 2 ports detected
Using /lib/modules/2.6.8.1/kernel/drivers/usb/class/usblp.ko
usblp: falsely claims to have parameter proto_bias
usbcore: registered new driver usblp
drivers/usb/class/usblp.c: v0.13: USB Printer Device Class driver
Starting print_server
modprobe: module printer.o not found.
modprobe: failed to load module printer.o
starting lpdsrv
Mounting device
Using /lib/modules/2.6.8.1/kernel/drivers/scsi/scsi_mod.ko
SCSI subsystem initialized
Using /lib/modules/2.6.8.1/kernel/drivers/scsi/sd_mod.ko
Using /lib/modules/2.6.8.1/kernel/drivers/usb/storage/usb-storage.ko
Initializing USB Mass Storage driver...
usbcore: registered new driver usb-storage
USB Mass Storage support registered.
Using /lib/modules/2.6.8.1/kernel/fs/fat/fat.ko
Using /lib/modules/2.6.8.1/kernel/fs/vfat/vfat.ko
Using /lib/modules/2.6.8.1/kernel/fs/nls/nls_cp437.ko
Using /lib/modules/2.6.8.1/kernel/fs/nls/nls_iso8859-1.ko
usbmgr[280]: start 0.4.8
usbmgr[280]: sleep time -1 micro sec

Name: /etc/usbmgr/usbmgr.conf
Load_from_file: /etc/usbmgr/preload.conf
killall: hciattach: no process killed
Using /lib/modules/krtp.ko
krtp ver 2.8 softdsp-vad-multiline-wb (Nov 12 2007 10:10:08)
Copyright (C) 2004 Inventel Systemes
Written 2004 by David Libault <david.libault@inventel.fr>
Written 2004 by Bruce Forgues <bruce.forgues@inventel.fr>
Written 2004 by Eric Humbert  <eric.humbert@inventel.fr>
usbmgr[282]: buffer line: remove T
usbmgr[282]: class:0x9 subclass:0x0 protocol:0x0
usbmgr[282]: try /etc/usbmgr/class/09/00/00/module
usbmgr[282]: try /etc/usbmgr/class/09/00/module
usbmgr[282]: try /etc/usbmgr/class/09/module
usbmgr[282]: try /etc/usbmgr/class/module
Using /lib/modules/bt_reset.ko
usbmgr[282]: USB device isn't matched the configuration
Using /lib/modules/tty_spi.ko
Console is free again
MDG on CS0
MDG version: 1192-1, expect 1192-1
MDG Current Eeprom version : 51, expect 51
LOADER: Register timer for first check
LOADER: Register SIGUSR1 - rescue
LOADER: Register SIGUSR2 - broadcast alert
LOADER: Register SIGHUP - test serial link with handset trough charger
LOADER: Register HCI sniffer for Handset update request notifications
Using /lib/modules/2.6.8.1/kernel/net/bluetooth/l2cap.ko
Bluetooth: L2CAP ver 2.3
Bluetooth: L2CAP socket layer initialized
Starting pid 333, console /dev/ttyS0: '/nmon/linux_appl.exe'

************* ERROR RECORD *************
000000:00:00.000000
Application NMON started after POWERON.
****************** END *****************

appl_init: BUILD VERIFIED with the boardname 
WL firmwarecode (9-5-B0G0_9-6)
WARNING: Unknown Parameter Type ipintf
[adsl] trace = 5 0
[CWMP] NoIpTimeout must be minimum 120 s.
Invalid option => 	
Username : 
</code>
</p>

</div>

<h2 class="sectionedit39" id="tags">Tags</h2>
<div class="level2">
<div class="tags"><span>
	<a href="../../tag/bcm63xx?do=showtag&amp;tag=bcm63xx" class="wikilink1" title="tag:bcm63xx" rel="tag">bcm63xx</a>,
	<a href="../../tag/bcm6348?do=showtag&amp;tag=bcm6348" class="wikilink1" title="tag:bcm6348" rel="tag">bcm6348</a>
</span></div>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/bt/homehub_v1.txt</bdi> · Last modified: 2015/03/14 13:29 by <bdi>danitool</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="homehub_v1?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="homehub_v1?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="homehub_v1?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="homehub_v1#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Abt%253Ahomehub_v1&amp;1432266270" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
