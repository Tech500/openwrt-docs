<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>BT VG3503J [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="toh,bt,vg3503j"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="vg3503j?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:bt"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/bt/vg3503j"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/bt/vg3503j"/>
<link rel="canonical" href="vg3503j"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:bt';var JSINFO = {"id":"toh:bt:vg3503j","namespace":"toh:bt"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432269503 166.182.3.249';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="vg3503j#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="vg3503j?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="vg3503j?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:bt:vg3503j" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="vg3503j?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="vg3503j?do=media&amp;ns=toh%253Abt"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="vg3503j?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:bt:start">BT</a></bdi> » <bdi><span class="curid"><a href="vg3503j" class="wikilink1" title="toh:bt:vg3503j">BT VG3503J</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/bt/vg3503j" class="media" title="cz:toh:bt:vg3503j"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/bt/vg3503j" class="media" title="de:toh:bt:vg3503j"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="vg3503j" class="media" title="toh:bt:vg3503j"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/bt/vg3503j" class="media" title="es:toh:bt:vg3503j"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/bt/vg3503j" class="media" title="fr:toh:bt:vg3503j"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/bt/vg3503j" class="media" title="hu:toh:bt:vg3503j"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/bt/vg3503j" class="media" title="jp:toh:bt:vg3503j"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/bt/vg3503j" class="media" title="pl:toh:bt:vg3503j"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/bt/vg3503j" class="media" title="pt-br:toh:bt:vg3503j"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/bt/vg3503j" class="media" title="ru:toh:bt:vg3503j"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/bt/vg3503j" class="media" title="tr:toh:bt:vg3503j"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/bt/vg3503j" class="media" title="zh-cn:toh:bt:vg3503j"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/bt/vg3503j" class="media" title="zh-tw:toh:bt:vg3503j"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:bt:vg3503j</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    
<h5 id="bt_vg3503j">BT VG3503J</h5>
<div class="level5">

<p>
BT OpenReach ECI VDSL VG3503J
</p>

<p>
most information and images are available here 
<a href="http://forum.kitz.co.uk/index.php?topic=11818.0" class="urlextern" title="http://forum.kitz.co.uk/index.php?topic=11818.0"  rel="nofollow">for serial and opening the box</a>
i <a href="../../doc/howto/obtain.firmware.compile" class="urlextern" title="http://wiki.openwrt.org/doc/howto/build"  rel="nofollow">Built from trunk</a> once Make menuconfig presented i selected the following
</p>
<div class="table sectionedit1"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0" colspan="3">OpenWRT Trunk Profile </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0">CONFIG_TARGET_lantiq</td><td class="col1" colspan="2">y</td>
	</tr>
	<tr class="row2">
		<td class="col0">CONFIG_TARGET_lantiq_xrx200</td><td class="col1" colspan="2">y</td>
	</tr>
	<tr class="row3">
		<td class="col0">CONFIG_TARGET_lantiq_xrx200_VG3503J</td><td class="col1" colspan="2">y</td>
	</tr>
</table></div>
<div class="table sectionedit2"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0" colspan="3">WARNING THIS WILL INVALIDATE YOUR WARRANTY </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0" colspan="2"><a href="http://forum.kitz.co.uk/index.php?topic=11818.msg225850#msg225850" class="urlextern" title="http://forum.kitz.co.uk/index.php?topic=11818.msg225850#msg225850"  rel="nofollow">Open The Box</a> </td><td class="col2"></td>
	</tr>
	<tr class="row2">
		<td class="col0" colspan="2"><a href="http://forum.kitz.co.uk/index.php?topic=11818.msg226712#msg226712" class="urlextern" title="http://forum.kitz.co.uk/index.php?topic=11818.msg226712#msg226712"  rel="nofollow">Serial Interface</a> </td><td class="col2"></td>
	</tr>
	<tr class="row3">
		<td class="col0" colspan="2"><a href="http://www.openreach.co.uk/orpg/home/products/super-fastfibreaccess/super-fastfibreaccess/landrgnu/downloads/code/ECI_Arcadyan_VDSL_modem.zip" class="urlextern" title="http://www.openreach.co.uk/orpg/home/products/super-fastfibreaccess/super-fastfibreaccess/landrgnu/downloads/code/ECI_Arcadyan_VDSL_modem.zip"  rel="nofollow">ECI_Arcadyan_VDSL_modem.zip</a> </td><td class="col2"></td>
	</tr>
</table></div>
<div class="table sectionedit3"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0">Description </th><td class="col1" colspan="2"> Possible Solution </td><td class="col3"></td>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> The most important one to get out there is you need to include a non gpl firmware, without this the dsl hardware will not function and as its non redistributable you must do this your self </td><td class="col1" colspan="2"> <a href="https://dev.openwrt.org/ticket/15056#comment:3" class="urlextern" title="https://dev.openwrt.org/ticket/15056#comment:3"  rel="nofollow">ticket15056</a> </td><td class="col3"></td>
	</tr>
	<tr class="row2">
		<td class="col0"> the dst and or dsti used at build require someone&#039;s attention </td><td class="col1" colspan="3"><a href="https://dev.openwrt.org/changeset/37634?contextall=1" class="urlextern" title="https://dev.openwrt.org/changeset/37634?contextall=1"  rel="nofollow">merge changes</a> </td>
	</tr>
</table></div>

<p>
The Device is an ISP provided vDSL Modem &quot;BT OpenReach vDSL Modem - VG3503J&quot;, 
with the following identifiers. 
</p>
<div class="table sectionedit4"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0" colspan="3">ECI Telecom Ltd.</th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign">Item Code    </td><td class="col1" colspan="2">061513. </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign">Description  </td><td class="col1" colspan="2">NGA ECI-CPE-MODEMS TYPE 1B </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign">ECI Model    </td><td class="col1" colspan="2">B-FOCus V-2FUb/r Rev.B </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign">ECI Cat No   </td><td class="col1" colspan="2">ON316150 Rec:R0403 </td>
	</tr>
	<tr class="row5">
		<td class="col0">Power Rating </td><td class="col1" colspan="2">12v 1A </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign">S/N          </td><td class="col1" colspan="2">ECI-J250095615 </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign">MAC          </td><td class="col1" colspan="2">849ca62d:##:##  - please note the last four 4 chars have been removed but the device label will show them and this is the CPUMac not the ethernet / vdsl mac. </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign">Date of Man  </td><td class="col1" colspan="2">12/2012 </td>
	</tr>
	<tr class="row9">
		<td class="col0">Warranty Exp </td><td class="col1" colspan="2">03/2018         - ops, thinks mines sooner, See opening the box warnings. </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign">Made in      </td><td class="col1" colspan="2">China </td>
	</tr>
</table></div>

<p>
Once you have opened the box there should be a sticker, at least there is on mine that clearly labels my device as VG3503J-1-A-DC, with the additional U7 MAIN V2.02.01 F787 . 
</p>

<p>
it has a single pcb with a dsl RJ11 with only a front panel led,
and two RJ45 interfaces available with font panel and interface leds.
the PCB has a part number of P/N:141350320004J R01A 
</p>

<p>
the flashing procedure i used without issue is as follows.
</p>

<p>
attach serial interface using the following pins
</p>
<div class="table sectionedit5"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0" colspan="3">Serial Pinout</th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0">Pin 2 </td><td class="col1" colspan="2">TXD </td>
	</tr>
	<tr class="row2">
		<td class="col0">Pin 3 </td><td class="col1" colspan="2">RXD </td>
	</tr>
	<tr class="row3">
		<td class="col0">Pin 4 </td><td class="col1" colspan="2">GND   - i used a different GND pin as pin four did not have a hole and i have no hand drill to make one. </td>
	</tr>
</table></div>

<p>
then connect using screen,
<pre class="code">screen -U -L /dev/ttyUSB0 115200,cs8,-parenb,cstopb,-hupcl</pre>

and login 
<pre class="code">IFX CPE login: root
Password: admin

BusyBox v1.00 (2012.05.25-03:37+0000) Built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.
</pre>

in another terminal make sure the image is available 
<pre class="code">ln -s openwrt-lantiq-xrx200-VG3503J-squashfs.image /tftpImage/openwrt-lantiq-xrx200-VG3503J-squashfs.image</pre>

and start tftp on the eth0 interface 
<pre class="code">ifconfig eth0 192.168.2.1 netmask 255.255.255.0 up
/usr/sbin/dnsmasq --listen-address=&quot;192.168.2.1&quot; \
--no-daemon \
--dhcp-range=&quot;192.168.2.100,192.168.2.150,12h&quot; \
--interface=&quot;eth0&quot; \
--no-negcache \
--enable-tftp \
--log-queries \
--domain=&quot;my.lan&quot; \
--bind-interfaces \
--log-facility=- \
--tftp-root=/tftpImage/,eth0 \
--log-dhcp \
--stop-dns-rebind \
--no-hosts</pre>

at this point you should have one terminal connected via serial console to the device with an ethernet cable connected to your tftp server and the modem, I used lan1 on the modem.
</p>

<p>
switch to the console connected to the serial interface and reboot the device, you can either login as root:admin or just press the reset button, either way you need to interrupt the bootloader using the serial connection.
</p>

<p>
<pre class="code">The system is going down NOW !!

Sending SIGTERM to all processes.

Sendin\FF\F6
Please stand by while rebooting the system.

ROM VER: 1.0.5
CFG 01
DDR autotuning Rev 0.3c
DDR size from 0xa0000000 - 0xa3ffffff
DDR check ok... start booting...

VG3503J 1-A-DC BootLoader v2.00.01 (May 25 2012 - 13:44:42)

CLOCK CPU 333M RAM 166M
DRAM:  32 MiB
Flash: 8 MiB
In:    serial
Out:   serial
Err:   serial
Net:   Internal phy(GE) firmware version: 0x8400
vr9 Switch

Hit any key to stop autoboot:  3  2  1  0 

VR9 # 
</pre>

</p>

<p>
then issue the following commands, again these worked for me. I would like to understand more about how and why these are correct if anyone wants to add and explanation that would be great &quot;a link would do&quot;.
</p>

</div>

<h5 id="vr9">VR9 #</h5>
<div class="level5">

<p>
<pre class="code">set ipaddr 192.168.2.100
set serverip 192.168.2.1
set bootfile openwrt-lantiq-xrx200-VG3503J-squashfs.image
set bootcmd cp.b 0xb0020000 0x80002000 0x400000\; go 0x80002000
set preboot ping 1.1.1.1\;run bootcmd
set update_openwrt erase 0xb0020000 0xb073ffff\;tftp 0x81000000 openwrt-lantiq-xrx200-VG3503J-squashfs.image\;cp.b 0x81000000 0xb0020000 \$(filesize)
saveenv
run update_openwrt
reset</pre>

please note that the command for update_openwrt must be correct for this to work, anything else will cause an error.
</p>

<p>
if all goes to plan then you should have a openwrt enabled device, with issues that need fixing.
</p>

</div>

<h5 id="to_include_the_vdslbin_file_you_should">to include the vdsl.bin file you should</h5>
<div class="level5">

<p>
<pre class="code">mkdir -p ./files/lib/firmware
cp -v ../oemsource/xcpe_hw.bin ./files/lib/firmware/vdsl.bin</pre>

before issuing your make command.
</p>

</div>

<h5 id="openwrt_on_vg3505j_1-a-dc">OpenWrt on VG3505J 1-A-DC</h5>
<div class="level5">

<p>
<pre class="code">  BusyBox v1.22.1 (2015-01-15 16:55:27 GMT) built-in shell (ash)
  Enter &#039;help&#039; for a list of built-in commands.
  
    _______                     ________        __
   |       |.-----.-----.-----.|  |  |  |.----.|  |_
   |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
   |_______||   __|_____|__|__||________||__|  |____|
            |__| W I R E L E S S   F R E E D O M
   -----------------------------------------------------
   CHAOS CALMER (Bleeding Edge, r43757)
   -----------------------------------------------------
    * 1 1/2 oz Gin            Shake with a glassful
    * 1/4 oz Triple Sec       of broken ice and pour
    * 3/4 oz Lime Juice       unstrained into a goblet.
    * 1 1/2 oz Orange Juice
    * 1 tsp. Grenadine Syrup
   -----------------------------------------------------</pre>

</p>

</div>

<h5 id="root_openwrtdmesg_grep_-ie_error_warn_fail_firmware_mac">root@OpenWrt:/# dmesg | grep -iE &#039;(error|warn|fail|firmware|mac)&#039;</h5>
<div class="level5">

<p>
<pre class="code">  [    0.000000] MIPS: machine is VG3503J - BT OpenReach VDSL Modem
  [    1.172000] pcie_rc_initialize link up failed!!!!!
  [    1.320000] phy-xrx200 gphy-xrx200.7: booting GPHY0 firmware at 18C0000
  [    1.328000] phy-xrx200 gphy-xrx200.7: booting GPHY1 firmware at 18C0000
  [    1.740000] net-xrx200: invalid MAC, using random
  [    1.908000] UBIFS error (pid 1): ubifs_mount: cannot open &quot;ubi0:rootfs&quot;, error -19
  [   21.156000] PTM 1.0.27    PTM (E1) firmware version 0.30</pre>

</p>

</div>

<h5 id="root_openwrtdmesg_grep_-ie_phy_pci">root@OpenWrt:/# dmesg | grep -iE &#039;(phy|pci)&#039;</h5>
<div class="level5">

<p>
<pre class="code">  [    0.000000] Determined physical RAM map:
  [    0.092000] arch/mips/pci/ifxmips_pcie_vr9.h:pcie_device_rst_assert[185]
  [    0.204000] arch/mips/pci/ifxmips_pcie_vr9.h:pcie_device_rst_deassert[193]
  [    0.304000] ifx_pcie_wait_phy_link_up timeout
  [    0.308000] arch/mips/pci/ifxmips_pcie_vr9.h:pcie_device_rst_assert[185]
  [    0.420000] arch/mips/pci/ifxmips_pcie_vr9.h:pcie_device_rst_deassert[193]
  [    0.520000] ifx_pcie_wait_phy_link_up timeout
  [    0.524000] arch/mips/pci/ifxmips_pcie_vr9.h:pcie_device_rst_assert[185]
  [    0.636000] arch/mips/pci/ifxmips_pcie_vr9.h:pcie_device_rst_deassert[193]
  [    0.736000] ifx_pcie_wait_phy_link_up timeout
  [    0.740000] arch/mips/pci/ifxmips_pcie_vr9.h:pcie_device_rst_assert[185]
  [    0.852000] arch/mips/pci/ifxmips_pcie_vr9.h:pcie_device_rst_deassert[193]
  [    0.952000] ifx_pcie_wait_phy_link_up timeout
  [    0.956000] arch/mips/pci/ifxmips_pcie_vr9.h:pcie_device_rst_assert[185]
  [    1.068000] arch/mips/pci/ifxmips_pcie_vr9.h:pcie_device_rst_deassert[193]
  [    1.168000] ifx_pcie_wait_phy_link_up timeout
  [    1.172000] pcie_rc_initialize link up failed!!!!!
  [    1.272000] PCI: CLS 0 bytes, default 32
  [    1.312000] phy-xrx200 gphy-xrx200.7: requesting lantiq/vr9_phy22f_a1x.bin
  [    1.320000] phy-xrx200 gphy-xrx200.7: booting GPHY0 firmware at 18C0000
  [    1.328000] phy-xrx200 gphy-xrx200.7: booting GPHY1 firmware at 18C0000
  [    1.736000] libphy: lantiq,xrx200-mdio: probed
  [    1.808000] eth0: attached PHY [Lantiq XWAY XRX PHY22F v1.4] (phy_addr=0:11, irq=-1)
  [    1.876000] eth0: attached PHY [Lantiq XWAY XRX PHY22F v1.4] (phy_addr=0:13, irq=-1)</pre>

</p>

</div>

<h5 id="bootlog_from_original_firmware">BOOTLOG From Original Firmware.</h5>
<div class="level5">

<p>
<pre class="file">ROM VER: 1.0.5
CFG 01
DDR autotuning Rev 0.3c
DDR size from 0xa0000000 - 0xa3ffffff
DDR check ok... start booting...

VG3503J 1-A-DC BootLoader v2.00.01 (May 25 2012 - 13:44:42)

CLOCK CPU 333M RAM 166M
DRAM:  32 MiB
Flash: 8 MiB
In:    serial
Out:   serial
Err:   serial
Net:   Internal phy(GE) firmware version: 0x8400
vr9 Switch

Hit any key to stop autoboot:  3  2  1  0 

## Checking CFG Image at b07c0000 ...

## Check Primary System Image ...

## Primary System Image Checksum OK ##

## Select Primary System Image to Execute  ...

## Booting image at b0021000 ...
## Booting kernel from Legacy Image at b0021000 ...
   Image Name:   MIPS IFXCPE Linux-2.6.20.19
   Created:      2012-06-14   8:07:15 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    942624 Bytes = 920.5 KiB
   Load Address: 80002000
   Entry Point:  802c4000
   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK

Starting kernel ...

Infineon xDSL CPE VR9
mips_hpt_frequency = 166666666, counter_resolution = 2
Linux version 2.6.20.19
 (morgan@ARCADYAN) (gcc version 3.4.6 (OpenWrt-2.0)) #72 Thu Jun 14 16:07:11 CST 2012
Found: The value of commit_img=  (1)
phym = 02000000, mem = 01f00000, max_pfn = 00001f00
Reserving memory for CP1 @0xa1f00000, size 0x00100000
CPU revision is: 00019555
Determined physical RAM map:
User-defined physical RAM map:
 memory: 01f00000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Built 1 zonelists.  Total pages: 7874
Kernel command line: root=/dev/mtdblock8 ro rootfstype=squashfs ip=192.168.2.1:192.168.2.100::::eth0:on console=ttyS0,115200 ethaddr=00:E0:92:00:##:## phym=32M mem=31M panic=1 mtdparts=ifx_nor0:128k@0(uboot),3648k@128k(pri_image),3648k@3776k(sec_image),512k@7424k(btagent),64k@7936k(pri_bfocus_cfg),64k@8000k(sec_bfocus_cfg),64k@8064k(sysconfig),64k@8128k(misc_cfg),2624k@1152k(pri_rootfs),2624k@4800k(sec_rootfs),8192k@0(all_flash) init=/etc/preinit vpe1_load_addr=0x81f00000 vpe1_mem=1M ethwan= commit_img=1 LD_LIB 
1 MIPSR2 register sets available
Primary instruction cache 32kB, physically tagged, 4-way, linesize 32 bytes.
Primary data cache 32kB, 4-way, linesize 32 bytes.
Synthesized TLB refill handler (20 instructions).
Synthesized TLB load handler fastpath (32 instructions).
Synthesized TLB store handler fastpath (32 instructions).
Synthesized TLB modify handler fastpath (31 instructions).
Cache parity protection disabled
Lantiq ICU driver, version 3.0.1, (c) 2001-2010 Lantiq Deutschland GmbH
PID hash table entries: 128 (order: 7, 512 bytes)
Using 166.667 MHz high precision timer.
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 28112k/31744k available (2314k kernel code, 3632k reserved, 505k data, 160k init, 0k highmem)
Security Framework v1.0.0 initialized
Mount-cache hash table entries: 512
NET: Registered protocol family 16
NET: Registered protocol family 8
NET: Registered protocol family 20
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 0, 4096 bytes)
TCP bind hash table entries: 512 (order: -1, 2048 bytes)
TCP: Hash tables configured (established 1024 bind 512)
TCP reno registered
gptu: totally 6 16-bit timers/counters
gptu: misc_register on minor 63
gptu: succeeded to request irq 118
gptu: succeeded to request irq 119
gptu: succeeded to request irq 120
gptu: succeeded to request irq 121
gptu: succeeded to request irq 122
gptu: succeeded to request irq 123
IFX DMA driver, version ifxmips_dma_core.c:v1.0.9 
,(c)2009 Infineon Technologies AG
Lantiq CGU driver, version 1.0.9, (c) 2001-2010 Lantiq Deutschland GmbH
Wired TLB entries for Linux read_c0_wired() = 0
squashfs: version 3.2-r2 (2007/01/15) Phillip Lougher
squashfs: LZMA suppport for slax.org by jro
JFFS2 version 2.2. (NAND) (SUMMARY)  (C) 2001-2006 Red Hat, Inc.
io scheduler noop registered (default)
ifx_pmu_init: Major 252
Lantiq PMU driver, version 1.1.4, (c) 2001-2010 Lantiq Deutschland GmbH
Lantiq GPIO driver, version 1.2.12, (c) 2001-2010 Lantiq Deutschland GmbH
Infineon Technologies RCU driver version 1.0.6 
Lantiq LED Controller driver, version 1.0.4, (c) 2001-2010 Lantiq Deutschland GmbH
MEI CPE Driver, Version 1.0.2

&lt;6&gt;(c) Copyright 2009, Infineon Technologies AG

&lt;6&gt;### MEI CPE - MEI CPE - MEI CPE - MEI CPE ###

&lt;6&gt;ttyS0 at MMIO 0xbe100c00 (irq = 105) is a IFX_ASC
Lantiq ASC (UART) driver, version 1.0.5, (c) 2001-2010 Lantiq Deutschland GmbH
RAMDISK driver initialized: 1 RAM disks of 6144K size 1024 blocksize
loop: loaded (max 8 devices)
PPP generic driver version 2.4.2
PPP Deflate Compression module registered
PPP BSD Compression module registered
PPP MPPE Compression module registered
NET: Registered protocol family 24
IFX SWITCH API, Version 1.1.7.2
SWAPI: Registered character device [switch_api] with major no [81]
Switch API: PCE MicroCode loaded !!
Switch Auto Polling value = 0
GPHY FW load for A1x !!
GPHY FIRMWARE LOAD SUCCESSFULLY AT ADDR : 300000
IFX GPHY driver GE Mode, version ifxmips_vr9_gphy: V0.9 - Firmware: 8304
ifx_nor0: Found 1 x16 devices at 0x0 in 16-bit bank
 Amd/Fujitsu Extended Query Table at 0x0040
number of CFI chips: 1
cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.
11 cmdlinepart partitions found on MTD device ifx_nor0
ifx_mtd_init flash0: Using dynamic image partition
Creating 11 MTD partitions on &quot;ifx_nor0&quot;:
0x00000000-0x00020000 : &quot;uboot&quot;
0x00020000-0x003b0000 : &quot;pri_image&quot;
0x003b0000-0x00740000 : &quot;sec_image&quot;
0x00740000-0x007c0000 : &quot;btagent&quot;
0x007c0000-0x007d0000 : &quot;pri_bfocus_cfg&quot;
0x007d0000-0x007e0000 : &quot;sec_bfocus_cfg&quot;
0x007e0000-0x007f0000 : &quot;sysconfig&quot;
0x007f0000-0x00800000 : &quot;misc_cfg&quot;
0x00120000-0x003b0000 : &quot;pri_rootfs&quot;
0x004b0000-0x00740000 : &quot;sec_rootfs&quot;
0x00000000-0x00800000 : &quot;all_flash&quot;
Lantiq MTD NOR driver, version 1.0.4, (c) 2001-2010 Lantiq Deutschland GmbH

======= ifx_gpio_register(3) =======
Lantiq SSC driver, version 2.2.0, (c) 2001-2010 Lantiq Deutschland GmbH

======= ifx_gpio_register(21) =======
Lantiq SPI EERPOM driver, version 1.1.1, (c) 2001-2010 Lantiq Deutschland GmbH
Lantiq LED driver, version 1.0.15, (c) 2001-2010 Lantiq Deutschland GmbH
nf_conntrack version 0.5.0 (248 buckets, 1984 max)
nf_ct_ftp: registering helper for pf: 2 port: 21
nf_ct_ftp: registering helper for pf: 10 port: 21
ip_conntrack_rtsp v0.6.21 loading
GRE over IPv4 tunneling driver
ip_nat_rtsp v0.6.21 loading
ip_tables: (C) 2000-2006 Netfilter Core Team
ipt_time loading
TCP cubic registered
NET: Registered protocol family 1
NET: Registered protocol family 17
NET: Registered protocol family 8
atmpvc_init() failed with -17
lec.c: May 25 2012 11:44:27 initialized
mpc.c: May 25 2012 11:44:25 initialized
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly.
Freeing unused kernel memory: 160k freed
Time: MIPS clocksource has been installed.
Warning: unable to open an initial console.
Algorithmics/MIPS FPU Emulator v1.5
SIOCSIFADDR: No such device
SIOCGIFFLAGS: No such device
SIOCSIFADDR: No such device
SIOCGIFFLAGS: No such device
arc_oshal: module license &#039;Propritary&#039; taints kernel.
OSHAL: Shared Wrapper Library

HKR DRV: Created Successfully

 ETH LoopBack DRV: Created Successfully !! 

Board Name         : BFocusV2FubR
Bloader Version    : v2.00.01
MAC Address        : 84:9C:A6:2D:##:##
Serial Number      : J250095615
Active Image No    : 1

Image Version      : v2.02.01
BuildDate          : 2012/06/14 16:07:18

[system_info_getSystemImageHeaderInfo] can not find signature !!!

SYSINFO DRV: Created Successfully
SYSTEM MAC = 84:9C:A6:2D:##:##
IFXOS, Version 1.5.11

&lt;6&gt;(c) Copyright 2007, Infineon Technologies AG

&lt;6&gt;### IFXOS - IFXOS - IFXOS - IFXOS ###


 [ppa_do_ioctl_cmd] : open PPA device (/dev/ifx_ppa) failed. (errno=6)

 [ppa_do_ioctl_cmd] : open PPA device (/dev/ifx_ppa) failed. (errno=6)

 [ppa_do_ioctl_cmd] : open PPA device (/dev/ifx_ppa) failed. (errno=6)
xDSL_MODE_VRX=vdsl
xDSL_MODE_VRX=vdsl
[: 13600: unknown operand


Lantiq CPE API Driver version: DSL CPE API V4.6.3.5-pd3

Predefined debug level: 4
05_01_04_00_04_01_00_07
IFXOS - User Thread Startup &lt;evnthnd&gt;, TID 1026 (PID 1332) - ENTER


VDSL Firmware Ver=5.4.8.6.1.6
IFXOS - User Thread Startup &lt;tPipe_0&gt;, TID 2051 (PID 1337) - ENTER

IFXOS - User Thread Startup &lt;tPipe_1&gt;, TID 3076 (PID 1338) - ENTER

ENTER - Kernel Thread Startup &lt;autbtex&gt;


&lt;7&gt;ENTER - Kernel Thread Startup &lt;pmex_ne&gt;


&lt;7&gt;ENTER - Kernel Thread Startup &lt;pmex_fe&gt;


nReturn=0 


#&lt;&lt; xDSL_MODE_VRX
xDSL_MODE_VRX=vdsl
#&gt;&gt; xDSL_MODE_VRX
cp: `/flash/rc.conf&#039; and `/flash/rc.conf&#039; are the same file
For img_addr 0xb07e0000, nextStartAddr 0xb07f0000 and preEndAddr 0xb07e0000

Writing to Flash... 
#
flash writing finished!
For img_addr 0xb07e0000, nextStartAddr 0xb07f0000 and preEndAddr 0xb07e0000

Writing to Flash... 
#
flash writing finished!
/ramdisk/flash/BSP-Test-VR9
Setting in flash is VDSL mode
switch init settings...
PPA E5 mode init...
Loading E5 (MII0/1) driver ...... 

Read mac address from U-Boot: 84:9C:A6:2D:##:##

Succeeded!
PPE datapath driver info:
  Version ID: 128.3.3.1.0.0.1
  Family    : N/A
  DR Type   : Normal Data Path | Indirect-Fast Path
  Interface : MII0 | MII1
  Mode      : Routing
  Release   : 0.0.1
PPE 0 firmware info:
  Version ID: 7.1.5.1.0.33
  Family    : VR9
  FW Type   : Standard
  Interface : MII0/1 + PTM
  Mode      : reserved - 1
  Release   : 0.33
PPE 1 firmware info:
  Version ID: 7.2.1.6.1.12
  Family    : VR9
  FW Type   : Acceleration
  Interface : MII0 + MII1
  Mode      : Bridging + IPv4 Routing
  Release   : 1.12
PPA API --- init successfully
device eth0 entered promiscuous mode
br0: port 1(eth0) entering learning state
br0: topology change detected, propagating
br0: port 1(eth0) entering forwarding state
ifx_ppa_init - init succeeded
ptm0      Link encap:Ethernet  HWaddr 84:9C:A6:2D:##:##  
          BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

nReturn=0 


nReturn=0 


device br0 already exists; can&#039;t create bridge with the same name
device eth0 is already a member of a bridge; can&#039;t enslave it to bridge br0.
exec dsl_cpe_pipe.sh dms 0x5048 0000 0001 0001
nReturn=0 nData=&quot;5048 0000 0001 &quot;



 File Length            : 0000022E
 Commit Image  No       : 00000001
 Reserved               : 00000000
 CRC32                  : 66A1A456
 Calculate CRC32    : 66A1A456
 MAGIC number      : 1F 8b


 File Length            : 0000022E
 Commit Image  No       : 00000001
 Reserved               : 00000000
 CRC32                  : 66A1A456
 Calculate CRC32    : 66A1A456
 MAGIC number      : 1F 8b


 gz file content  : 1F 8B
./nvram
./nvram/bfocus.xml
[dsl_monitor] get /dev/dsl_cpe_api/0 fd = 4
UPS Monitor fd = 5

 UPS status changed to :  -- Without UPS -- 
device ptm0 entered promiscuous mode
br0: port 2(ptm0) entering learning state
Delay running DHCPC until DSL link is up ..
cpu_mac = 84:9C:A6:2D:##:##
VID0_REMOVE mode is enabled ..
ifx_ppa_init - init succeeded


VID 0 remove is enabled


br0: topology change detected, propagating
br0: port 2(ptm0) entering forwarding state
Disable Debug Mode ..
LAN1 MAXBITRATE=AUTO DUPLEX_MODE=AUTO
LAN2 MAXBITRATE=AUTO DUPLEX_MODE=AUTO
&lt;gphy_proc_power_write&gt; gphy 1, count 2, len 2, buf 1

[gphy_proc_power_write] POWER UP
[gphy_proc_power_write] pdata:0x1000
&lt;gphy_proc_power_write&gt; gphy 0, count 2, len 2, buf 0

[gphy_proc_power_write] POWER DOWN
[gphy_proc_power_write] pdata:0x1800


CFM Device Driver: Created Successfully

VLAN Table size:64:
==========================================================
vlan id:0000 PortMember:0000
vlan id:0040 PortMember:005f
vlan id:0050 PortMember:0c7f
vlan id:0010 PortMember:0860
vlan id:0020 PortMember:0440
vlan id:0101 PortMember:0810
vlan id:0102 PortMember:0804
vlan id:0006 PortMember:0040
vlan id:0011 PortMember:0800
vlan id:0301 PortMember:0840
vlan id:0000 PortMember:0000
vlan id:0000 PortMember:0000
vlan id:0000 PortMember:0000
vlan id:0000 PortMember:0000
vlan id:0000 PortMember:0000
vlan id:0000 PortMember:0000
==========================================================
LAN1 Link Status:0
LAN2 Link Status:0
WAN Link Status:0
LAN1 PVID:101
LAN2 PVID:102
WAN PVID:11
cfm_register_callback_handle_packets enter...
cfm_register_callback_handle_packets succeed...
arcCfmLlStateMachineLIT
arcCfmLlStateMachineLI, event=0
arcCfmLlStateMachineLIT
arcCfmLlStateMachineLI, event=0
arcCfmLlStateMachineLIT
arcCfmLlStateMachineLI, event=0
arcCfmLlStateMachineLIT
arcCfmLlStateMachineLI, event=0

 wdt_ioctl:enable watch dog timer!
The timeout was set to 90 seconds
check bfocus.xml succeed...
BTAgent config finish!!!
BTA: Starting BT Agent
src/plugin.c: Library_load: start plugin_source/libbtagent.so
src/plugin.c: Library_load: success
src/main.c: Agent Plugin: File Path is ../RW/btagent.conf
src/main.c: Agent Plugin: RW config file exists
src/main.c: Agent Plugin: Versions match
src/plugin.c: Library_load: start plugin_source/libbtagent_api.so
src/plugin.c: Library_load: success
src/plugin.c: Library_load: start plugin_source/libfwm.so
src/plugin.c: Library_load: success
src/firmware_manager.c: The data model is not ready1
src/plugin.c: Library_load: start plugin_source/liblogger.so
src/plugin.c: Library_load: success
src/plugin.c: Library_load: start plugin_source/libprobe.so
src/plugin.c: Library_load: success
src/main.c: Loaded source plugins
src/plugin.c: Library_load: start plugin_transport/libsec.so
src/plugin.c: Library_load: success
src/main.c: Loaded transport plugins
src/plugin.c: Library_load: start plugin_parse/libxml.so
src/plugin.c: Library_load: success
src/main.c: Loaded parse plugins


IFX CPE login: arcCfmThreadEntry: port 1 linkup

src/firmware_manager.c: J250095615, 2.02.01, BFocusV2FubR, Arcadyan Technology Corp
src/firmware_manager.c: serialNumber atoi is 0
src/firmware_manager.c: connection attempt: 1
src/firmware_manager.c: sleep for 35
src/firmware_manager.c: custom param string = 
src/firmware_manager.c: Now connecting to server over TCP to firmware.mms.bt.com port 80...
src/firmware_manager.c: Couldn&#039;t connect to the MMS
src/firmware_manager.c: connection attempt: 2
src/firmware_manager.c: sleep for 104

&gt;&gt; current uptime : 0 day, 0:01:37

&gt;&gt; current uptime : 0 day, 0:02:37
src/firmware_manager.c: custom param string = 
src/firmware_manager.c: Now connecting to server over TCP to firmware.mms.bt.com port 80...
src/firmware_manager.c: Couldn&#039;t connect to the MMS
src/firmware_manager.c: connection attempt: 3
src/firmware_manager.c: sleep for 131

&gt;&gt; current uptime : 0 day, 0:03:37

&gt;&gt; current uptime : 0 day, 0:04:37
src/firmware_manager.c: custom param string = 
src/firmware_manager.c: Now connecting to server over TCP to firmware.mms.bt.com port 80...
src/firmware_manager.c: Couldn&#039;t connect to the MMS
src/firmware_manager.c: connection attempt: 4
src/firmware_manager.c: sleep for 448

src/firmware_manager.c: custom param string = 
src/firmware_manager.c: Now connecting to server over TCP to firmware.mms.bt.com port 80...
src/firmware_manager.c: Couldn&#039;t connect to the MMS
src/firmware_manager.c: connection attempt: 5
src/firmware_manager.c: sleep for 757


IFX CPE login: 
&gt;&gt; current uptime : 0 day, 0:24:37
src/firmware_manager.c: custom param string = 
src/firmware_manager.c: Now connecting to server over TCP to firmware.mms.bt.com port 80...
src/firmware_manager.c: Couldn&#039;t connect to the MMS
src/firmware_manager.c: connection attempt: 6
src/firmware_manager.c: sleep for 1714

&gt;&gt; current uptime : 0 day, 0:25:37
&gt;&gt; current uptime : 0 day, 0:52:37
&gt;&gt; current uptime : 0 day, 0:53:37
src/firmware_manager.c: custom param string = 
src/firmware_manager.c: Now connecting to server over TCP to firmware.mms.bt.com port 80...
src/firmware_manager.c: Couldn&#039;t connect to the MMS
src/firmware_manager.c: connection attempt: 7
src/firmware_manager.c: sleep for 3249

IFX CPE login: root
Password: 

BusyBox v1.00 (2012.05.25-03:37+0000) Built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.</pre>

</p>

</div>

<h5 id="env_output_from_original_firmware">env output from original firmware</h5>
<div class="level5">

<p>
<pre class="file"># env
USER=root
HOME=/root
LOGNAME=root
TERM=vt102
PATH=/usr/sbin:/bin:/usr/bin:/sbin
SHELL=/bin/sh
PWD=/root
</pre>

</p>

</div>

<h5 id="dmesg_output_from_original_firmware">dmesg output from original firmware</h5>
<div class="level5">

<p>
<pre class="file"># dmesg
ished 1024 bind 512)
TCP reno registered
gptu: totally 6 16-bit timers/counters
gptu: misc_register on minor 63
gptu: succeeded to request irq 118
gptu: succeeded to request irq 119
gptu: succeeded to request irq 120
gptu: succeeded to request irq 121
gptu: succeeded to request irq 122
gptu: succeeded to request irq 123
IFX DMA driver, version ifxmips_dma_core.c:v1.0.9 
,(c)2009 Infineon Technologies AG
Lantiq CGU driver, version 1.0.9, (c) 2001-2010 Lantiq Deutschland GmbH
Wired TLB entries for Linux read_c0_wired() = 0
squashfs: version 3.2-r2 (2007/01/15) Phillip Lougher
squashfs: LZMA suppport for slax.org by jro
JFFS2 version 2.2. (NAND) (SUMMARY)  (C) 2001-2006 Red Hat, Inc.
io scheduler noop registered (default)
ifx_pmu_init: Major 252
Lantiq PMU driver, version 1.1.4, (c) 2001-2010 Lantiq Deutschland GmbH
Lantiq GPIO driver, version 1.2.12, (c) 2001-2010 Lantiq Deutschland GmbH
Infineon Technologies RCU driver version 1.0.6 
Lantiq LED Controller driver, version 1.0.4, (c) 2001-2010 Lantiq Deutschland GmbH
MEI CPE Driver, Version 1.0.2

&lt;6&gt;(c) Copyright 2009, Infineon Technologies AG

&lt;6&gt;### MEI CPE - MEI CPE - MEI CPE - MEI CPE ###

&lt;6&gt;ttyS0 at MMIO 0xbe100c00 (irq = 105) is a IFX_ASC
Lantiq ASC (UART) driver, version 1.0.5, (c) 2001-2010 Lantiq Deutschland GmbH
RAMDISK driver initialized: 1 RAM disks of 6144K size 1024 blocksize
loop: loaded (max 8 devices)
PPP generic driver version 2.4.2
PPP Deflate Compression module registered
PPP BSD Compression module registered
PPP MPPE Compression module registered
NET: Registered protocol family 24
IFX SWITCH API, Version 1.1.7.2
SWAPI: Registered character device [switch_api] with major no [81]
Switch API: PCE MicroCode loaded !!
Switch Auto Polling value = 0
GPHY FW load for A1x !!
GPHY FIRMWARE LOAD SUCCESSFULLY AT ADDR : 300000
IFX GPHY driver GE Mode, version ifxmips_vr9_gphy: V0.9 - Firmware: 8304
ifx_nor0: Found 1 x16 devices at 0x0 in 16-bit bank
 Amd/Fujitsu Extended Query Table at 0x0040
number of CFI chips: 1
cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.
11 cmdlinepart partitions found on MTD device ifx_nor0
ifx_mtd_init flash0: Using dynamic image partition
Creating 11 MTD partitions on &quot;ifx_nor0&quot;:
0x00000000-0x00020000 : &quot;uboot&quot;
0x00020000-0x003b0000 : &quot;pri_image&quot;
0x003b0000-0x00740000 : &quot;sec_image&quot;
0x00740000-0x007c0000 : &quot;btagent&quot;
0x007c0000-0x007d0000 : &quot;pri_bfocus_cfg&quot;
0x007d0000-0x007e0000 : &quot;sec_bfocus_cfg&quot;
0x007e0000-0x007f0000 : &quot;sysconfig&quot;
0x007f0000-0x00800000 : &quot;misc_cfg&quot;
0x00120000-0x003b0000 : &quot;pri_rootfs&quot;
0x004b0000-0x00740000 : &quot;sec_rootfs&quot;
0x00000000-0x00800000 : &quot;all_flash&quot;
Lantiq MTD NOR driver, version 1.0.4, (c) 2001-2010 Lantiq Deutschland GmbH

======= ifx_gpio_register(3) =======
Lantiq SSC driver, version 2.2.0, (c) 2001-2010 Lantiq Deutschland GmbH

======= ifx_gpio_register(21) =======
Lantiq SPI EERPOM driver, version 1.1.1, (c) 2001-2010 Lantiq Deutschland GmbH
Lantiq LED driver, version 1.0.15, (c) 2001-2010 Lantiq Deutschland GmbH
nf_conntrack version 0.5.0 (248 buckets, 1984 max)
nf_ct_ftp: registering helper for pf: 2 port: 21
nf_ct_ftp: registering helper for pf: 10 port: 21
ip_conntrack_rtsp v0.6.21 loading
GRE over IPv4 tunneling driver
ip_nat_rtsp v0.6.21 loading
ip_tables: (C) 2000-2006 Netfilter Core Team
ipt_time loading
TCP cubic registered
NET: Registered protocol family 1
NET: Registered protocol family 17
NET: Registered protocol family 8
atmpvc_init() failed with -17
lec.c: May 25 2012 11:44:27 initialized
mpc.c: May 25 2012 11:44:25 initialized
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly.
Freeing unused kernel memory: 160k freed
Time: MIPS clocksource has been installed.
Warning: unable to open an initial console.
Algorithmics/MIPS FPU Emulator v1.5
arc_oshal: module license &#039;Propritary&#039; taints kernel.
OSHAL: Shared Wrapper Library

HKR DRV: Created Successfully

 ETH LoopBack DRV: Created Successfully !! 

Board Name         : BFocusV2FubR
Bloader Version    : v2.00.01
MAC Address        : 84:9C:A6:2D:##:##
Serial Number      : J250095615
Active Image No    : 1

Image Version      : v2.02.01
BuildDate          : 2012/06/14 16:07:18

[system_info_getSystemImageHeaderInfo] can not find signature !!!

SYSINFO DRV: Created Successfully
IFXOS, Version 1.5.11

&lt;6&gt;(c) Copyright 2007, Infineon Technologies AG

&lt;6&gt;### IFXOS - IFXOS - IFXOS - IFXOS ###



Lantiq CPE API Driver version: DSL CPE API V4.6.3.5-pd3

Predefined debug level: 4
ENTER - Kernel Thread Startup &lt;autbtex&gt;


&lt;7&gt;ENTER - Kernel Thread Startup &lt;pmex_ne&gt;


&lt;7&gt;ENTER - Kernel Thread Startup &lt;pmex_fe&gt;


Loading E5 (MII0/1) driver ...... 

Read mac address from U-Boot: 84:9C:A6:2D:##:##

Succeeded!
PPE datapath driver info:
  Version ID: 128.3.3.1.0.0.1
  Family    : N/A
  DR Type   : Normal Data Path | Indirect-Fast Path
  Interface : MII0 | MII1
  Mode      : Routing
  Release   : 0.0.1
PPE 0 firmware info:
  Version ID: 7.1.5.1.0.33
  Family    : VR9
  FW Type   : Standard
  Interface : MII0/1 + PTM
  Mode      : reserved - 1
  Release   : 0.33
PPE 1 firmware info:
  Version ID: 7.2.1.6.1.12
  Family    : VR9
  FW Type   : Acceleration
  Interface : MII0 + MII1
  Mode      : Bridging + IPv4 Routing
  Release   : 1.12
PPA API --- init successfully
device eth0 entered promiscuous mode
br0: port 1(eth0) entering learning state
br0: topology change detected, propagating
br0: port 1(eth0) entering forwarding state
ifx_ppa_init - init succeeded
device ptm0 entered promiscuous mode
br0: port 2(ptm0) entering learning state
ifx_ppa_init - init succeeded
br0: topology change detected, propagating
br0: port 2(ptm0) entering forwarding state
&lt;gphy_proc_power_write&gt; gphy 1, count 2, len 2, buf 1

[gphy_proc_power_write] POWER UP
[gphy_proc_power_write] pdata:0x1000
&lt;gphy_proc_power_write&gt; gphy 0, count 2, len 2, buf 0

[gphy_proc_power_write] POWER DOWN
[gphy_proc_power_write] pdata:0x1800
CFM Device Driver: Created Successfully

VLAN Table size:64:
==========================================================
vlan id:0000 PortMember:0000
vlan id:0040 PortMember:005f
vlan id:0050 PortMember:0c7f
vlan id:0010 PortMember:0860
vlan id:0020 PortMember:0440
vlan id:0101 PortMember:0810
vlan id:0102 PortMember:0804
vlan id:0006 PortMember:0040
vlan id:0011 PortMember:0800
vlan id:0301 PortMember:0840
vlan id:0000 PortMember:0000
vlan id:0000 PortMember:0000
vlan id:0000 PortMember:0000
vlan id:0000 PortMember:0000
vlan id:0000 PortMember:0000
vlan id:0000 PortMember:0000
==========================================================
LAN1 Link Status:0
LAN2 Link Status:0
WAN Link Status:0
LAN1 PVID:101
LAN2 PVID:102
WAN PVID:11
cfm_register_callback_handle_packets enter...
cfm_register_callback_handle_packets succeed...
arcCfmLlStateMachineLIT
arcCfmLlStateMachineLI, event=0
arcCfmLlStateMachineLIT
arcCfmLlStateMachineLI, event=0
arcCfmLlStateMachineLIT
arcCfmLlStateMachineLI, event=0
arcCfmLlStateMachineLIT
arcCfmLlStateMachineLI, event=0

 wdt_ioctl:enable watch dog timer!
arcCfmThreadEntry: port 1 linkup
arcCfmThreadEntry: port 1 linkdown
arcCfmThreadEntry: port 1 linkup
arcCfmThreadEntry: port 1 linkdown
arcCfmThreadEntry: port 1 linkup
arcCfmThreadEntry: port 1 linkdown
arcCfmThreadEntry: port 1 linkup
arcCfmThreadEntry: port 1 linkdown
arcCfmThreadEntry: port 1 linkup
arcCfmThreadEntry: port 1 linkdown
arcCfmThreadEntry: port 1 linkup
arcCfmThreadEntry: port 1 linkdown
arcCfmThreadEntry: port 1 linkup</pre>

</p>

</div>

<h5 id="pastie_1_httppastieorg9847175">Pastie #1 http://pastie.org/9847175</h5>
<div class="level5">

<p>
<pre class="file">1:~/tmp/build/vg3503j_svn/target/linux/ifxcpe/base-files$ cat `find . -type f | grep vg3503j_ledtest.sh`
#!/bin/sh

#LED GPIO definition
POWER_LED=&quot;28&quot;
BATTERY_LED=&quot;14&quot;
XDSL_LED=&quot;19&quot;
VOIP_LED=&quot;29&quot;

#by input value
case &quot;$1&quot; in
all_on_1)
    #disable led timer
    util_hkr_mgr disable_led_timer

    #turn on all LEDs
    util_gpio set $POWER_LED   low     &gt; /dev/null
    util_gpio set $BATTERY_LED high     &gt; /dev/null
    util_gpio set $XDSL_LED    low     &gt; /dev/null
    util_gpio set $VOIP_LED    low     &gt; /dev/null
    util_gpio gphy_led on &gt; /dev/null
    ;;

all_on_2)
    #disable led timer
    util_hkr_mgr disable_led_timer

    #turn on all LEDs
    util_gpio set $POWER_LED   high     &gt; /dev/null
    util_gpio set $BATTERY_LED low     &gt; /dev/null
    util_gpio set $XDSL_LED    high     &gt; /dev/null
    util_gpio set $VOIP_LED    high     &gt; /dev/null
    util_gpio gphy_led off &gt; /dev/null
    ;;

all_off)
    #disable led timer
    util_hkr_mgr disable_led_timer

    #turn off all LEDs
    util_gpio set $POWER_LED   high    &gt; /dev/null
    util_gpio set $BATTERY_LED high    &gt; /dev/null
    util_gpio set $XDSL_LED    high    &gt; /dev/null
    util_gpio set $VOIP_LED    high    &gt; /dev/null
    util_gpio gphy_led off &gt; /dev/null
   ;;

normal)
    #enable led timer
    util_hkr_mgr enable_led_timer
    
    #set led state to led_normal
    util_hkr_mgr led_normal
    
    #turn off VOIP LED (disable in normal state)
    util_gpio set $VOIP_LED    high    &gt; /dev/null

    util_gpio gphy_led normal &gt; /dev/null
    ;;

*)
    echo &quot;Usgae : [ all_on_1 | all_on_2 | all_off | normal ]&quot;
    echo &quot;&quot;
    echo &quot;all_on_1:  turn on all green LEDs&quot;
    echo &quot;all_on_2:  turn on all red LEDs&quot;
    echo &quot;all_off:  turn off all LEDs&quot;
    echo &quot;normal:  return to normal state&quot;
    ;;
esac</pre>

</p>

</div>

<h5 id="pastie_2_httppastieorg9847172">Pastie #2 http://pastie.org/9847172</h5>
<div class="level5">

<p>
<pre class="file">:~/tmp/build/vg3503j_svn/target/linux/ifxcpe/base-files$ cat `find . -type f | grep vg3503j_gphy_led.sh`
#Disable GPHY0 1000BASE-T capability
/usr/bin/switch_utility MDIO_DataWrite 0x11 0x9 0x0

 #Disable GPHY1 1000BASE-T capability
/usr/bin/switch_utility MDIO_DataWrite 0x13 0x9 0x0


#Modify TXADJ
/usr/bin/switch_utility MDIO_DataWrite 0x11 0x13 0x0801

#Modify TXADJ
/usr/bin/switch_utility MDIO_DataWrite 0x13 0x13 0x0801

#GPHY0_LED0: LINK/ACT 0x3003h
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xd 0x1f
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xe 0x1e2
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xd 0x401f
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xe 0x30
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xd 0x1f
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xe 0x1e3
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xd 0x401f
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xe 0x03


#GPHY0_LED1: LINK 0x3000h
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xd 0x1f
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xe 0x1e4
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xd 0x401f
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xe 0x30
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xd 0x1f
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xe 0x1e5
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xd 0x401f
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xe 0x00

#GPHY0_LED2: ACT 0x0003h
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xd 0x1f
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xe 0x1e6
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xd 0x401f
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xe 0x00
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xd 0x1f
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xe 0x1e7
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xd 0x401f
/usr/bin/switch_utility MDIO_DataWrite 0x11 0xe 0x03

#GPHY1_LED0: LINK/ACT 0x3003h
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xd 0x1f
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xe 0x1e2
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xd 0x401f
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xe 0x30
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xd 0x1f
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xe 0x1e3
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xd 0x401f
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xe 0x03

#GPHY1_LED1: LINK 0x3000h
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xd 0x1f
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xe 0x1e4
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xd 0x401f
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xe 0x30
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xd 0x1f
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xe 0x1e5
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xd 0x401f
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xe 0x00

#GPHY1_LED2: ACT 0x0003h
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xd 0x1f
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xe 0x1e6
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xd 0x401f
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xe 0x00
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xd 0x1f
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xe 0x1e7
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xd 0x401f
/usr/bin/switch_utility MDIO_DataWrite 0x13 0xe 0x03</pre>

</p>

</div>

<h5 id="tmpbuildvg3503j_svn_find__-type_f_grep_switch_utility">:~/tmp/build/vg3503j_svn$ find . -type f | grep switch_utility</h5>
<div class="level5">

<p>
<pre class="code">./package/feeds/ifx_feeds_ethsw/ifx-ethsw/prebuild/switch_utility</pre>

</p>

</div>

<h5 id="tmpbuildvg3503j_svn_file_find__-type_f_grep_switch_utility">:~/tmp/build/vg3503j_svn$ file `find . -type f | grep switch_utility`</h5>
<div class="level5">

<p>
<pre class="code">./package/feeds/ifx_feeds_ethsw/ifx-ethsw/prebuild/switch_utility: ELF 32-bit MSB executable, MIPS, MIPS32 rel2 version 1 (SYSV), dynamically linked (uses shared libs), not stripped</pre>

</p>

</div>

<h5 id="vr9_flinfo">VR9 # flinfo</h5>
<div class="level5">

<p>
<pre class="code">  Bank # 1: CFI conformant FLASH (16 x 16)  Size: 8 MB in 135 Sectors
  AMD Standard command set, Manufacturer ID: 0xC2, Device ID: 0x22CB
  Erase timeout: 16384 ms, write timeout: 1 ms

  Sector Start Addresses:
  B0000000        B0002000        B0004000        B0006000        B0008000      
  B000A000        B000C000        B000E000        B0010000        B0020000      
  B0030000        B0040000        B0050000        B0060000        B0070000      
  B0080000        B0090000        B00A0000        B00B0000        B00C0000      
  B00D0000        B00E0000        B00F0000        B0100000        B0110000      
  B0120000        B0130000        B0140000        B0150000        B0160000      
  B0170000        B0180000        B0190000        B01A0000        B01B0000      
  B01C0000        B01D0000        B01E0000        B01F0000        B0200000      
  B0210000        B0220000        B0230000        B0240000        B0250000      
  B0260000        B0270000        B0280000        B0290000        B02A0000      
  B02B0000        B02C0000        B02D0000        B02E0000        B02F0000      
  B0300000        B0310000        B0320000        B0330000        B0340000      
  B0350000        B0360000        B0370000        B0380000        B0390000      
  B03A0000        B03B0000        B03C0000        B03D0000        B03E0000      
  B03F0000        B0400000        B0410000        B0420000        B0430000      
  B0440000        B0450000        B0460000        B0470000        B0480000      
  B0490000        B04A0000        B04B0000        B04C0000        B04D0000      
  B04E0000        B04F0000        B0500000        B0510000        B0520000      
  B0530000        B0540000        B0550000        B0560000        B0570000      
  B0580000        B0590000        B05A0000        B05B0000        B05C0000      
  B05D0000        B05E0000        B05F0000        B0600000        B0610000      
  B0620000        B0630000        B0640000        B0650000        B0660000      
  B0670000        B0680000        B0690000        B06A0000        B06B0000      
  B06C0000        B06D0000        B06E0000        B06F0000        B0700000      
  B0710000        B0720000        B0730000        B0740000        B0750000      
  B0760000        B0770000        B0780000        B0790000        B07A0000      
  B07B0000        B07C0000        B07D0000        B07E0000        B07F0000   RO </pre>

</p>

</div>

<h5 id="vr9_printenv">VR9 # printenv</h5>
<div class="level5">

<p>
<pre class="code">bootcmd=run flash_flash_1
bootdelay=3
baudrate=115200
bootfile=&quot;uImage&quot;
mem=31M
phym=32M
ipaddr=192.168.2.1
serverip=192.168.2.100
ethaddr=00:E0:92:00:##:##
netdev=eth0
console=ttyS0
baudrate=115200
tftppath=
loadaddr=0x80800000
rootpath=/mnt/full_fs
rootfsmtd=/dev/mtdblock1
nfsargs= setenv bootargs root=/dev/nfs rw nfsroot=$(serverip):$(rootpath)
ramargs=setenv bootargs root=/dev/ram rw
addip=setenv bootargs $(bootargs) ip=$(ipaddr):$(serverip):$(gatewayip):$(netmask):$(hostname):$(netdev):on
addmisc=setenv bootargs $(bootargs) console=$(console),$(baudrate) ethaddr=$(ethaddr) phym=$(phym) mem=$(mem) panic=1 mtdparts=$(mtdparts) init=/etc/preinit vpe1_load_addr=0x81f00000 vpe1_mem=1M ethwan=$(ethwan)
flash_nfs=run nfsargs addip addmisc;bootm $(kernel_addr)
net_nfs=tftp $(loadaddr) $(tftppath)$(bootfile);run nfsargs addip addmisc;bootm
net_flash=tftp $(loadaddr) $(tftppath)$(bootfile); run flashargs addip addmisc; bootm
net_ram=tftp $(loadaddr) $(tftppath)$(bootfile); run ramargs addip addmisc; bootm
u-boot=u-boot.ifx
releaseimg=releaseImg.bin
btagent=ap_jffs2.img
flashargs1=setenv bootargs root=/dev/mtdblock8 ro rootfstype=squashfs
flashargs2=setenv bootargs root=/dev/mtdblock9 ro rootfstype=squashfs
commit_img_1=setenv bootargs $(bootargs) commit_img=1 LD_LIBRARY_PATH=/btagent/lib
commit_img_2=setenv bootargs $(bootargs) commit_img=2 LD_LIBRARY_PATH=/btagent/lib
flash_flash_1=run flashargs1 addip addmisc commit_img_1; bootm $(f_pri_kernel_addr)
flash_flash_2=run flashargs2 addip addmisc commit_img_2; bootm $(f_sec_kernel_addr)
update_uboot_only=tftpboot $(loadaddr) $(u-boot);prot off 0xb0000000 0xb001ffff;erase 0xb0000000 0xb001ffff;upgrade uboot $(loadaddr) $(filesize) 0
update_uboot=tftpboot $(loadaddr) $(u-boot);prot off all;erase all;upgrade uboot $(loadaddr) $(filesize) 0
update_pri_img=tftpboot $(loadaddr) $(releaseimg);upgrade pri_img $(loadaddr) $(filesize) 0
update_sec_img=tftpboot $(loadaddr) $(releaseimg);upgrade sec_img $(loadaddr) $(filesize) 0
update_btagent=tftpboot $(loadaddr) $(btagent);upgrade btagent $(loadaddr) $(filesize) 0
boot_img_idx=0
reset_sys_config=prot off 0xB07E0000 0xB07EFFFF; erase 0xB07E0000 0xB07EFFFF
reset_bt_config=prot off 0xB07C0000 0xB07DFFFF; erase 0xB07C0000 0xB07DFFFF
reset_all_config=run reset_sys_config; run reset_bt_config
reset_uboot_config=prot off $(f_ubootconfig_addr) $(f_ubootconfig_end); erase $(f_ubootconfig_addr) $(f_ubootconfig_end)
reset_ddr_config=prot off $(f_ddrconfig_addr) $(f_ddrconfig_end); erase $(f_ddrconfig_addr) $(f_ddrconfig_end)
mtdparts=ifx_nor0:128k@0(uboot),3648k@128k(pri_image),3648k@3776k(sec_image),512k@7424k(btagent),64k@7936k(pri_bfocus_cfg),64k@8000k(sec_bfocus_cfg),64k@8064k(sysconfig),64k@8128k(misc_cfg),2624k@1152k(pri_rootfs),2624k@4800k(sec_rootfs),8192k@0(all_flash)
part0_begin=0xB0000000
part1_begin=0xB0020000
part2_begin=0xB03B0000
part3_begin=0xB0740000
part4_begin=0xB07C0000
part5_begin=0xB07D0000
part6_begin=0xB07E0000
part7_begin=0xB07F0000
total_part=8
flash_end=0xB07FFFFF
data_block0=uboot
data_block1=pri_img
data_block2=sec_img
data_block3=btagent
data_block4=pri_bfocus_cfg
data_block5=sec_bfocus_cfg
data_block6=sysconfig
data_block7=ubootconfig
data_block8=fwdiag
total_db=9
f_uboot_addr=0xB0000000
f_uboot_size=0x00020000
f_ubootconfig_addr=0xB07F0000
f_ubootconfig_size=0x0000F000
f_ubootconfig_end=0xB07FEFFF
f_pri_img_addr=0xB0020000
f_pri_img_size=0x390000
f_pri_img_end=0xB03AFFFF
f_pri_kernel_addr=0xB0020000
f_pri_kernel_size=0x100000
f_pri_kernel_end=0xB011FFFF
f_pri_rootfs_addr=0xB0120000
f_pri_rootfs_size=0x00290000
f_pri_rootfs_end=0xB03AFFFF
f_sec_img_addr=0xB03B0000
f_sec_img_size=0x390000
f_sec_img_end=0xB073FFFF
f_sec_kernel_addr=0xB03B0000
f_sec_kernel_size=0x00100000
f_sec_kernel_end=0xB04AFFFF
f_sec_rootfs_addr=0xB04B0000
f_sec_rootfs_size=0x00290000
f_sec_rootfs_end=0xB073FFFF
f_btagent_addr=0xB0740000
f_btagent_size=0x00080000
f_btagent_end=0xB07BFFFF
f_pri_bfocus_cfg_addr=0xB07C0000
f_pri_bfocus_cfg_size=0x00010000
f_pri_bfocus_cfg_end=0xB07CFFFF
f_sec_bfocus_cfg_addr=0xB07D0000
f_sec_bfocus_cfg_size=0x00010000
f_sec_bfocus_cfg_end=0xB07DFFFF
f_all_flash_addr=0xB0000000
f_all_flash_size=0x00800000
f_all_flash_end=0xB07FFFFF
f_sysconfig_addr=0xB07E0000
f_sysconfig_size=0x00010000
f_fwdiag_addr=0xB07FF000
f_fwdiag_size=0x400
f_calibration_addr= IFX_CFG_FLASH_CALIBRATION_START_ADDR
f_calibration_size=IFX_CFG_FLASH_CALIBRATION_CFG_SIZE
f_ddrconfig_addr=0xB07FF400
f_ddrconfig_size=0x100
f_ddrconfig_end=0xB07FF4FF
stdin=serial
stdout=serial
stderr=serial
ethact=vr9 Switch

Environment size: 4559/61436 bytes</pre>

</p>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/bt/vg3503j.txt</bdi> · Last modified: 2015/01/21 17:39 by <bdi>caog_</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="vg3503j?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="vg3503j?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="vg3503j?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="vg3503j#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Abt%253Avg3503j&amp;1432269503" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
