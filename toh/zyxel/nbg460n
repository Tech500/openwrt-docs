<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>ZyXEL NBG 460N 550N 550NH [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="toh,zyxel,nbg460n"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="nbg460n?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:zyxel"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/zyxel/nbg460n"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/zyxel/nbg460n"/>
<link rel="canonical" href="nbg460n"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:zyxel';var JSINFO = {"id":"toh:zyxel:nbg460n","namespace":"toh:zyxel"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432266292 166.182.3.99';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="nbg460n#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="nbg460n?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="nbg460n?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:zyxel:nbg460n" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="nbg460n?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="nbg460n?do=media&amp;ns=toh%253Azyxel"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="nbg460n?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:zyxel:start">ZyXEL</a></bdi> » <bdi><span class="curid"><a href="nbg460n" class="wikilink1" title="toh:zyxel:nbg460n">ZyXEL NBG 460N 550N 550NH</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/zyxel/nbg460n" class="media" title="cz:toh:zyxel:nbg460n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/zyxel/nbg460n" class="media" title="de:toh:zyxel:nbg460n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="nbg460n" class="media" title="toh:zyxel:nbg460n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/zyxel/nbg460n" class="media" title="es:toh:zyxel:nbg460n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/zyxel/nbg460n" class="media" title="fr:toh:zyxel:nbg460n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/zyxel/nbg460n" class="media" title="hu:toh:zyxel:nbg460n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/zyxel/nbg460n" class="media" title="jp:toh:zyxel:nbg460n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/zyxel/nbg460n" class="media" title="pl:toh:zyxel:nbg460n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/zyxel/nbg460n" class="media" title="pt-br:toh:zyxel:nbg460n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/zyxel/nbg460n" class="media" title="ru:toh:zyxel:nbg460n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/zyxel/nbg460n" class="media" title="tr:toh:zyxel:nbg460n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/zyxel/nbg460n" class="media" title="zh-cn:toh:zyxel:nbg460n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/zyxel/nbg460n" class="media" title="zh-tw:toh:zyxel:nbg460n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:zyxel:nbg460n</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="nbg460n#supported_versions">Supported Versions</a></div></li>
<li class="level1"><div class="li"><a href="nbg460n#hardware_highlights">Hardware Highlights</a></div></li>
<li class="level1"><div class="li"><a href="nbg460n#installation">Installation</a></div></li>
<li class="level1"><div class="li"><a href="nbg460n#hardware">Hardware</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="nbg460n#info">Info</a></div></li>
<li class="level2"><div class="li"><a href="nbg460n#photos">Photos</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="nbg460n#opening_the_case">Opening the case</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="nbg460n#main_pcb">Main PCB</a></div></li>
<li class="level2"><div class="li"><a href="nbg460n#serial">Serial</a></div></li>
<li class="level2"><div class="li"><a href="nbg460n#gpios">GPIOs</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="nbg460n#buttons">Buttons</a></div></li>
<li class="level3"><div class="li"><a href="nbg460n#leds">LEDs</a></div></li>
<li class="level3"><div class="li"><a href="nbg460n#pcf8563_rtc_i2c_interface">PCF8563 RTC I2C Interface</a></div></li>
<li class="level3"><div class="li"><a href="nbg460n#rtl8366s_switch_i2c_interface">RTL8366S Switch I2C Interface</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="nbg460n#bootloader">Bootloader</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="nbg460n#getting_in_debug_mode">Getting in debug mode</a></div></li>
<li class="level2"><div class="li"><a href="nbg460n#bootext_flash_layout">BootExt Flash Layout</a></div></li>
<li class="level2"><div class="li"><a href="nbg460n#flash_layout_in_openwrt">Flash Layout in OpenWrt</a></div></li>
<li class="level2"><div class="li"><a href="nbg460n#recovery_via_serial_console">Recovery via serial console</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="zyxel_nbg_460n_550n_550nh">ZyXEL NBG 460N 550N 550NH</h1>
<div class="level1">

<p>
All three devices are based on the same board. The 460N is sold in Europe, the 550N/NH are sold in the U.S. <br/>

The only difference between the 550N and the 550NH are the better <a href="../../doc/hardware/antennae" class="wikilink1" title="doc:hardware:antennae">antennas</a> of the latter.
</p>

<p>
<strong>WARNING:</strong> Currently there is no working image, so don&#039;t flash any. It will brick your router!
</p>

<p>
Atheros AP81 devices are working, but the flashing of these particular devices is not yet recommended.
</p>

</div>

<h2 class="sectionedit2" id="supported_versions">Supported Versions</h2>
<div class="level2">
<div class="table sectionedit3"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Version/Model </th><th class="col1"> S/N </th><th class="col2"> OpenWrt Version Supported </th><th class="col3"> Model Specific Notes </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> v1 </td><td class="col1"> A </td><td class="col2 rightalign">  None so far </td><td class="col3"> First Version </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit4" id="hardware_highlights">Hardware Highlights</h2>
<div class="level2">
<div class="table sectionedit5"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> CPU </th><th class="col1"> Ram </th><th class="col2"> Flash </th><th class="col3"> Network </th><th class="col4"> USB </th><th class="col5"> Serial </th><th class="col6"> JTag </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Atheros AR9132 </td><td class="col1"> 32MB </td><td class="col2"> 4MB </td><td class="col3"> 4x1 GbE </td><td class="col4"> No (Not populated) </td><td class="col5"> Yes </td><td class="col6"> No </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit6" id="installation">Installation</h2>
<div class="level2">

<p>
TODO
</p>

</div>

<h2 class="sectionedit7" id="hardware">Hardware</h2>
<div class="level2">

</div>

<h3 class="sectionedit8" id="info">Info</h3>
<div class="level3">
<div class="table sectionedit9"><table class="inline">
	<tr class="row0">
		<td class="col0"> <strong>Architecture:</strong> MIPS </td>
	</tr>
	<tr class="row1">
		<td class="col0"> <strong>Vendor:</strong> Atheros </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <strong>Bootloader:</strong> BootBase </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <strong>System-On-Chip:</strong> Atheros AR9132-AC1E </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <strong>CPU Speed:</strong> 400 Mhz </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <strong>Flash-Chip:</strong> MXIC MX25L3205DMI-12G <a href="http://www.mxic.com.tw/QuickPlace/hq/PageLibrary4825740B00298A3B.nsf/h_Index/3F21BAC2E121E17848257639003A3146/$File/MX25L1605D-3205D-6405D-1.5.pdf" class="urlextern" title="http://www.mxic.com.tw/QuickPlace/hq/PageLibrary4825740B00298A3B.nsf/h_Index/3F21BAC2E121E17848257639003A3146/$File/MX25L1605D-3205D-6405D-1.5.pdf"  rel="nofollow"> Datasheet </a> </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <strong>Flash size:</strong> 4 MiB </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <strong>RAM:</strong> 32 MiB </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <strong>Wireless:</strong> Atheros AR9103 802.11b/g/n Radio with 3T3R MIMO (integrated) </td>
	</tr>
	<tr class="row9">
		<td class="col0"> <strong>Ethernet:</strong> Realtek RTL8366SR 6-Port 10/100/1000MBs Switch <a href="http://realtek.info/pdf/rtl8366s_8366sr_datasheet_vpre-1.4_20071022.pdf" class="urlextern" title="http://realtek.info/pdf/rtl8366s_8366sr_datasheet_vpre-1.4_20071022.pdf"  rel="nofollow"> Datasheet</a> </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <strong>RTC Chip:</strong> NXP PCF8563 Real-time Clock/Calendar <a href="http://www.nxp.com/documents/data_sheet/PCF8563.pdf" class="urlextern" title="http://www.nxp.com/documents/data_sheet/PCF8563.pdf"  rel="nofollow"> Datasheet</a> </td>
	</tr>
	<tr class="row11">
		<td class="col0"> <strong>USB:</strong> No (Not populated) </td>
	</tr>
	<tr class="row12">
		<td class="col0"> <strong>Serial:</strong> <a href="http://wiki.openwrt.org/inbox#serial" class="wikilink2" title="inbox" rel="nofollow">Yes</a> </td>
	</tr>
	<tr class="row13">
		<td class="col0"> <strong>JTAG:</strong> No </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit10" id="photos">Photos</h3>
<div class="level3">

<p>
NBG460N:
</p>

<p>
<em>Front:</em>
</p>

<p>
<a href="../../_detail/inbox/nbg460n_front.jpg?id=toh%253Azyxel%253Anbg460n" class="media" title="inbox:nbg460n_front.jpg"><img src="../../_media/inbox/nbg460n_front.jpg?w=400&amp;tok=97c642" class="media" alt="" width="400" /></a>
</p>

<p>
<em>Back:</em>
</p>

<p>
<a href="../../_detail/inbox/nbg460n_back.jpg?id=toh%253Azyxel%253Anbg460n" class="media" title="inbox:nbg460n_back.jpg"><img src="../../_media/inbox/nbg460n_back.jpg?w=400&amp;tok=644395" class="media" alt="" width="400" /></a>
</p>

<p>
<em>Bottom:</em>
</p>

<p>
<a href="../../_detail/inbox/nbg460n_bottom.jpg?id=toh%253Azyxel%253Anbg460n" class="media" title="inbox:nbg460n_bottom.jpg"><img src="../../_media/inbox/nbg460n_bottom.jpg?w=400&amp;tok=15ec34" class="media" alt="" width="400" /></a>
</p>

</div>

<h2 class="sectionedit11" id="opening_the_case">Opening the case</h2>
<div class="level2">

<p>
<strong>Note:</strong> This will void your warranty!
</p>
<ul>
<li class="level1"><div class="li">To remove the cover simply remove the two screws on the bottom. Then just open it.</div>
</li>
<li class="level1"><div class="li">The board itself has no screws.</div>
</li>
</ul>

</div>

<h3 class="sectionedit12" id="main_pcb">Main PCB</h3>
<div class="level3">

<p>
<em>Top:</em>
</p>

<p>
<a href="../../_detail/inbox/nbg460n_pcb_top.jpg?id=toh%253Azyxel%253Anbg460n" class="media" title="inbox:nbg460n_pcb_top.jpg"><img src="../../_media/inbox/nbg460n_pcb_top.jpg?w=400&amp;tok=890e20" class="media" alt="" width="400" /></a>
</p>

<p>
<em>Bottom:</em>
</p>

<p>
<a href="../../_detail/inbox/nbg460n_pcb_bot.jpg?id=toh%253Azyxel%253Anbg460n" class="media" title="inbox:nbg460n_pcb_bot.jpg"><img src="../../_media/inbox/nbg460n_pcb_bot.jpg?w=400&amp;tok=c7f5a4" class="media" alt="" width="400" /></a>
</p>

</div>

<h3 class="sectionedit13" id="serial">Serial</h3>
<div class="level3">

<p>
The pin assignment is:
</p>
<ol>
<li class="level1"><div class="li"> VCC</div>
</li>
<li class="level1"><div class="li"> TxD</div>
</li>
<li class="level1"><div class="li"> RxD</div>
</li>
<li class="level1"><div class="li"> empty</div>
</li>
<li class="level1"><div class="li"> GND</div>
</li>
</ol>

<p>
With Pin 1 being the one closest to the LEDs. You need a RS232 Levelshifter to connect a serial Line!
</p>

</div>

<h3 class="sectionedit14" id="gpios">GPIOs</h3>
<div class="level3">

</div>

<h4 id="buttons">Buttons</h4>
<div class="level4">
<div class="table sectionedit15"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> GPIO </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> WPS </td><td class="col1"> 12 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> Reset </td><td class="col1"> 21 </td>
	</tr>
</table></div>

</div>

<h4 id="leds">LEDs</h4>
<div class="level4">
<div class="table sectionedit16"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> GPIO </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> WPS </td><td class="col1"> 3 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> Power </td><td class="col1"> 14 </td>
	</tr>
	<tr class="row3">
		<td class="col0"> WLAN </td><td class="col1"> 15 </td>
	</tr>
</table></div>

</div>

<h4 id="pcf8563_rtc_i2c_interface">PCF8563 RTC I2C Interface</h4>
<div class="level4">
<div class="table sectionedit17"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> GPIO </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> SDA </td><td class="col1"> 8 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> SCK </td><td class="col1"> 7 </td>
	</tr>
	<tr class="row3">
		<td class="col0"> INT </td><td class="col1"> 9 </td>
	</tr>
</table></div>

</div>

<h4 id="rtl8366s_switch_i2c_interface">RTL8366S Switch I2C Interface</h4>
<div class="level4">
<div class="table sectionedit18"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> GPIO </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> SDA </td><td class="col1"> 16 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> SCK </td><td class="col1"> 18 </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit19" id="bootloader">Bootloader</h2>
<div class="level2">

<p>
The Bootloader used in this unit is BootBase/BootExt. It is available through the serial interface with the settings: 9600/N/1 <br/>

BootBase loads BootExt from flash and executes it. BootBase it self is only capable of uploading a firmware through xmodem.
Only BootExt has a builtin console. <br/>

See <span class="curid"><a href="nbg460n#recovery_via_serial_console" class="wikilink1" title="toh:zyxel:nbg460n">Recovery via serial console</a></span> for how to use BootBase to recover a bricked router.
</p>

</div>

<h3 class="sectionedit20" id="getting_in_debug_mode">Getting in debug mode</h3>
<div class="level3">

<p>
<strong>Note:</strong> The following information is taken from <a href="http://www.ixo.de/info/zyxel_uclinux/" class="urlextern" title="http://www.ixo.de/info/zyxel_uclinux/"  rel="nofollow">http://www.ixo.de/info/zyxel_uclinux/</a> .
All credit goes to the author of this site!
</p>

<p>
BootExt has two modes, the normal (restricted) mode and the debug mode. BootExt is in the normal (restricted) state after power-up. <br/>

In this state the most useful commands are locked.
</p>

<p>
<em><strong>Commands in normal mode:</strong></em>
</p>
<div class="table sectionedit21"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Command </th><th class="col1"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> AT </td><td class="col1"> just answer OK </td>
	</tr>
	<tr class="row2">
		<td class="col0"> ATHE </td><td class="col1"> print help </td>
	</tr>
	<tr class="row3">
		<td class="col0"> ATBAx </td><td class="col1"> change baudrate. 1:38.4k, 2:19.2k, 3:9.6k 4:57.6k 5:115.2k </td>
	</tr>
	<tr class="row4">
		<td class="col0"> ATENx,(y) </td><td class="col1"> set BootExtension Debug Flag (y=password) </td>
	</tr>
	<tr class="row5">
		<td class="col0"> ATSE </td><td class="col1"> show the seed of password generator </td>
	</tr>
	<tr class="row6">
		<td class="col0"> ATTI(h,m,s) </td><td class="col1"> change system time to hour:min:sec or show current time </td>
	</tr>
	<tr class="row7">
		<td class="col0"> ATDA(y,m,d) </td><td class="col1"> change system date to year/month/day or show current date </td>
	</tr>
	<tr class="row8">
		<td class="col0"> ATDS </td><td class="col1"> dump RAS stack </td>
	</tr>
	<tr class="row9">
		<td class="col0"> ATDT </td><td class="col1"> dump Boot Module Common Area </td>
	</tr>
	<tr class="row10">
		<td class="col0"> ATDUx,y </td><td class="col1"> dump memory contents from address x for length y </td>
	</tr>
	<tr class="row11">
		<td class="col0"> ATRBx </td><td class="col1"> display the  8-bit value of address x </td>
	</tr>
	<tr class="row12">
		<td class="col0"> ATRWx </td><td class="col1"> display the 16-bit value of address x </td>
	</tr>
	<tr class="row13">
		<td class="col0"> ATRLx </td><td class="col1"> display the 32-bit value of address x </td>
	</tr>
	<tr class="row14">
		<td class="col0"> ATGO(x) </td><td class="col1"> run program at addr x or boot router </td>
	</tr>
	<tr class="row15">
		<td class="col0"> ATGR </td><td class="col1"> boot router </td>
	</tr>
	<tr class="row16">
		<td class="col0"> ATGT </td><td class="col1"> run Hardware Test Program </td>
	</tr>
	<tr class="row17">
		<td class="col0"> ATRTw,x,y(,z) </td><td class="col1"> RAM test level w, from address x to y (z iterations) </td>
	</tr>
	<tr class="row18">
		<td class="col0"> ATSH </td><td class="col1"> dump manufacturer related data in ROM </td>
	</tr>
	<tr class="row19">
		<td class="col0"> ATTD </td><td class="col1"> download router configuration to PC via XMODEM </td>
	</tr>
	<tr class="row20">
		<td class="col0"> ATUR </td><td class="col1"> upload router firmware to flash ROM </td>
	</tr>
	<tr class="row21">
		<td class="col0"> ATLC </td><td class="col1"> upload router configuration file to flash ROM </td>
	</tr>
	<tr class="row22">
		<td class="col0"> ATLD </td><td class="col1"> upload router default configuration file to flash ROM </td>
	</tr>
	<tr class="row23">
		<td class="col0"> ATXSx </td><td class="col1"> xmodem select: x=0: CRC mode(default); x=1: checksum mode </td>
	</tr>
	<tr class="row24">
		<td class="col0"> ATSR </td><td class="col1"> system reboot </td>
	</tr>
	<tr class="row25">
		<td class="col0"> ATSP </td><td class="col1"> send packet </td>
	</tr>
	<tr class="row26">
		<td class="col0"> ATEUx </td><td class="col1"> Upgrate image by Ethernet, 0:bootbase,1:romfile,2:RAS </td>
	</tr>
	<tr class="row27">
		<td class="col0"> ATMU </td><td class="col1"> print Multiboot client version </td>
	</tr>
	<tr class="row28">
		<td class="col0"> ATLTx </td><td class="col1"> LED on/off test </td>
	</tr>
</table></div>

<p>
To switch to debug mode to ATEN command together with the right key is used.
The key is based upon a seed which is initialized <br/>

through the ATSE command. After power-up the seed is initialized as 0 (so don&#039;t send it <img src="../../lib/images/smileys/icon_smile.gif" class="icon" alt=":-)" /> ).
With the seed as 0 the key is only dependent <br/>

of the last 3 bits of the MAC-address (You can get the MAC-address of the ATSH command). <br/>

The following table lists the keys to the possible last MAC-address byte:
</p>
<div class="table sectionedit22"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Last MAC byte </th><th class="col1"> Key </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> 0 or 8 </td><td class="col1"> 10F0A563 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> 1 or 9 </td><td class="col1"> 887852B1 </td>
	</tr>
	<tr class="row3">
		<td class="col0"> 2 or A </td><td class="col1"> C43C2958 </td>
	</tr>
	<tr class="row4">
		<td class="col0"> 3 or B </td><td class="col1"> 621E14AC </td>
	</tr>
	<tr class="row5">
		<td class="col0"> 4 or C </td><td class="col1"> 310F0A56 </td>
	</tr>
	<tr class="row6">
		<td class="col0"> 5 or D </td><td class="col1"> 1887852B </td>
	</tr>
	<tr class="row7">
		<td class="col0"> 6 or E </td><td class="col1"> 8C43C295 </td>
	</tr>
	<tr class="row8">
		<td class="col0"> 7 or F </td><td class="col1"> C621E14A </td>
	</tr>
</table></div>

<p>
So to switch to debug mode send: ATEN1,&lt;key&gt; (for me it was ATEN1,8C43C295).
</p>

<p>
After unlocking the ATHE command lists some new commands:
</p>

<p>
<em><strong>Additional commands in debug mode:</strong></em>
</p>
<div class="table sectionedit23"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Command </th><th class="col1"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> ATWBx,y </td><td class="col1"> write address x with 8-bit value y </td>
	</tr>
	<tr class="row2">
		<td class="col0"> ATWWx,y </td><td class="col1"> write address x with 16-bit value y </td>
	</tr>
	<tr class="row3">
		<td class="col0"> ATWLx,y </td><td class="col1"> write address x with 32-bit value y </td>
	</tr>
	<tr class="row4">
		<td class="col0"> AT%Tx </td><td class="col1"> Enable Hardware Test Program at boot up </td>
	</tr>
	<tr class="row5">
		<td class="col0"> ATBTx </td><td class="col1"> block0 write enable (1=enable, other=disable) </td>
	</tr>
	<tr class="row6">
		<td class="col0"> ATWEa(,b,c,d) </td><td class="col1"> write MAC addr, Country code, EngDbgFlag, FeatureBit to flash ROM </td>
	</tr>
	<tr class="row7">
		<td class="col0"> ATCUx </td><td class="col1"> write Country code to flash ROM </td>
	</tr>
	<tr class="row8">
		<td class="col0"> ATCB </td><td class="col1"> copy from FLASH ROM to working buffer </td>
	</tr>
	<tr class="row9">
		<td class="col0"> ATCL </td><td class="col1"> clear working buffer </td>
	</tr>
	<tr class="row10">
		<td class="col0"> ATSB </td><td class="col1"> save working buffer to FLASH ROM </td>
	</tr>
	<tr class="row11">
		<td class="col0"> ATBU </td><td class="col1"> dump manufacturer related data in working buffer </td>
	</tr>
	<tr class="row12">
		<td class="col0"> ATWMx </td><td class="col1"> set MAC address in working buffer </td>
	</tr>
	<tr class="row13">
		<td class="col0"> ATCOx </td><td class="col1"> set country code in working buffer </td>
	</tr>
	<tr class="row14">
		<td class="col0"> ATFLx </td><td class="col1"> set EngDebugFlag in working buffer </td>
	</tr>
	<tr class="row15">
		<td class="col0"> ATSTx </td><td class="col1"> set ROMRAS address in working buffer </td>
	</tr>
	<tr class="row16">
		<td class="col0"> ATSYx </td><td class="col1"> set system type in working buffer </td>
	</tr>
	<tr class="row17">
		<td class="col0"> ATVDx </td><td class="col1"> set vendor name in working buffer </td>
	</tr>
	<tr class="row18">
		<td class="col0"> ATPNx </td><td class="col1"> set product name in working buffer </td>
	</tr>
	<tr class="row19">
		<td class="col0"> ATMP </td><td class="col1"> check &amp; dump memMapTab </td>
	</tr>
	<tr class="row20">
		<td class="col0"> ATWZa(,b,c,d) </td><td class="col1"> write ZyXEL MAC addr, Country code, EngDbgFlag, FeatureBit to flash ROM , Num MAC to flash ROM </td>
	</tr>
	<tr class="row21">
		<td class="col0"> ATDOx,y </td><td class="col1"> download from address x for length y to PC via XMODEM </td>
	</tr>
	<tr class="row22">
		<td class="col0"> ATUPx,y </td><td class="col1"> upload to RAM address x for length y from PC via XMODEM </td>
	</tr>
	<tr class="row23">
		<td class="col0"> ATUXx(,y) </td><td class="col1"> xmodem upload from flash block x to y </td>
	</tr>
	<tr class="row24">
		<td class="col0"> ATERx,y </td><td class="col1"> erase flash rom from block x to y </td>
	</tr>
	<tr class="row25">
		<td class="col0"> ATWFx,y,z </td><td class="col1"> copy data from addr x to flash addr y, length z </td>
	</tr>
	<tr class="row26">
		<td class="col0"> ATSI </td><td class="col1"> run sieve benchmark </td>
	</tr>
	<tr class="row27">
		<td class="col0"> ATDHx(,y) </td><td class="col1"> run dhrystone benchmark, 1:ver 1.1, 2:ver 2.1, runs y </td>
	</tr>
	<tr class="row28">
		<td class="col0"> ATSDx </td><td class="col1"> decompress &amp; load image (name=x) </td>
	</tr>
	<tr class="row29">
		<td class="col0"> ATBR </td><td class="col1"> Reset to default Romfile </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit24" id="bootext_flash_layout">BootExt Flash Layout</h3>
<div class="level3">

<p>
The ATMP command dumps the layout of the flash (the Flash-chip is mapped at 0xbfc00000):
</p>
<div class="table sectionedit25"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> start address </th><th class="col2"> length </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> BootBas(ROMIMG) </td><td class="col1"> 0xbfc00000 </td><td class="col2"> 0x010000 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> DbgArea(ROMIMG) </td><td class="col1"> 0xbfc10000 </td><td class="col2"> 0x010000 </td>
	</tr>
	<tr class="row3">
		<td class="col0"> RomDir2(ROMDIR) </td><td class="col1"> 0xbfc20000 </td><td class="col2"> 0x020000 </td>
	</tr>
	<tr class="row4">
		<td class="col0"> BootExt(ROMIMG) </td><td class="col1"> 0xbfc40030 </td><td class="col2"> 0x03FFD0 </td>
	</tr>
	<tr class="row5">
		<td class="col0"> MemMapT(ROMMAP) </td><td class="col1"> 0xbfc80000 </td><td class="col2"> 0x010000 </td>
	</tr>
	<tr class="row6">
		<td class="col0"> termcap(ROMIMG) </td><td class="col1"> 0xbfc90000 </td><td class="col2"> 0x010000 </td>
	</tr>
	<tr class="row7">
		<td class="col0"> RomDefa(ROMIMG) </td><td class="col1"> 0xbfca0000 </td><td class="col2"> 0x020000 </td>
	</tr>
	<tr class="row8">
		<td class="col0"> RasCode(ROMBIN) </td><td class="col1"> 0xbfcc0000 </td><td class="col2"> 0x330000 </td>
	</tr>
	<tr class="row9">
		<td class="col0"> CalibData(ROMIMG) </td><td class="col1"> 0xbfff0000 </td><td class="col2"> 0x010000 </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit26" id="flash_layout_in_openwrt">Flash Layout in OpenWrt</h3>
<div class="level3">
<div class="table sectionedit27"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> start address </th><th class="col2"> length </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> BootBase </td><td class="col1"> 0xbfc00000 </td><td class="col2"> 0x010000 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> U-Boot Env </td><td class="col1"> 0xbfc10000 </td><td class="col2"> 0x030000 </td>
	</tr>
	<tr class="row3">
		<td class="col0"> U-Boot </td><td class="col1"> 0xbfc40000 </td><td class="col2"> 0x030000 </td>
	</tr>
	<tr class="row4">
		<td class="col0"> Kernel </td><td class="col1"> 0xbfc70000 </td><td class="col2"> 0x0e0000 </td>
	</tr>
	<tr class="row5">
		<td class="col0"> rootfs </td><td class="col1"> 0xbfd50000 </td><td class="col2"> 0x2a0000 </td>
	</tr>
	<tr class="row6">
		<td class="col0"> CalibData </td><td class="col1"> 0xbfff0000 </td><td class="col2"> 0x010000 </td>
	</tr>
</table></div>

<p>
Only some kbytes of the U-Boot Env partition are used for the U-Boot environment (wasting 256kb).
The Problem is that BootBase loads and starts the image at 0xbfc40000 and this address is hard coded.
</p>

</div>

<h3 class="sectionedit28" id="recovery_via_serial_console">Recovery via serial console</h3>
<div class="level3">

<p>
If, for some reason, your router boot any more, there is a good chance that the original BootBase is still working.
To check, connect to the serial port. If you see something like:
</p>

<p>
<pre class="code">Bootbase Version: V1.05 | 10/06/2008 17:43:52
RAM: Size = 32768 Kbytes
DRAM POST: Testing: 32768K
OK
ST32M *1</pre>

</p>

<p>
Bootbase is still working. If you only get some garbage, first try different baudrates.
When you see the above output, power off the router plug it back in and press and hold &#039;c&#039; while it tests the RAM.
When it is done testing, it prints:
</p>

<p>
<pre class="code">Download firmware...
Starting XMODEM upload (CRC mode)....
CCC</pre>

</p>

<p>
At this point it waits for a image send to it with <a href="../../doc/howto/generic.flashing.xmodem" class="wikilink1" title="doc:howto:generic.flashing.xmodem">xmodem</a>. With this method it is also possible to go back to the original firmware.
</p>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/zyxel/nbg460n.txt</bdi> · Last modified: 2012/01/27 11:26 (external edit)</div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="nbg460n?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="nbg460n?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="nbg460n?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="nbg460n#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Azyxel%253Anbg460n&amp;1432266292" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
