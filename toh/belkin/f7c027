<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>Belkin F7C027 [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="ramips,rt5350,32ram,wlan,mips32,mips"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="http://wiki.openwrt.org/toh/belkin/f7c027?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:belkin"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="http://wiki.openwrt.org/_export/xhtml/toh/belkin/f7c027"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="http://wiki.openwrt.org/_export/raw/toh/belkin/f7c027"/>
<link rel="canonical" href="f7c027"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:belkin';var JSINFO = {"id":"toh:belkin:f7c027","namespace":"toh:belkin"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432283552 166.182.3.87';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="f7c027#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="http://wiki.openwrt.org/toh/belkin/f7c027?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="http://wiki.openwrt.org/toh/belkin/f7c027?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:belkin:f7c027" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="http://wiki.openwrt.org/toh/belkin/f7c027?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="http://wiki.openwrt.org/toh/belkin/f7c027?do=media&amp;ns=toh%3Abelkin"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="http://wiki.openwrt.org/toh/belkin/f7c027?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:belkin:start">Belkin</a></bdi> » <bdi><span class="curid"><a href="f7c027" class="wikilink1" title="toh:belkin:f7c027">Belkin F7C027</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/belkin/f7c027" class="media" title="cz:toh:belkin:f7c027"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/belkin/f7c027" class="media" title="de:toh:belkin:f7c027"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="f7c027" class="media" title="toh:belkin:f7c027"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/belkin/f7c027" class="media" title="es:toh:belkin:f7c027"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/belkin/f7c027" class="media" title="fr:toh:belkin:f7c027"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/belkin/f7c027" class="media" title="hu:toh:belkin:f7c027"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/belkin/f7c027" class="media" title="jp:toh:belkin:f7c027"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/belkin/f7c027" class="media" title="pl:toh:belkin:f7c027"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/belkin/f7c027" class="media" title="pt-br:toh:belkin:f7c027"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/belkin/f7c027" class="media" title="ru:toh:belkin:f7c027"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/belkin/f7c027" class="media" title="tr:toh:belkin:f7c027"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/belkin/f7c027" class="media" title="zh-cn:toh:belkin:f7c027"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/belkin/f7c027" class="media" title="zh-tw:toh:belkin:f7c027"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:belkin:f7c027</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="f7c027#supported_versions">Supported Versions</a></div></li>
<li class="level1"><div class="li"><a href="f7c027#hardware_highlights">Hardware Highlights</a></div></li>
<li class="level1"><div class="li"><a href="f7c027#hardware">Hardware</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="f7c027#info">Info</a></div></li>
<li class="level2"><div class="li"><a href="f7c027#serial_port">Serial port</a></div></li>
<li class="level2"><div class="li"><a href="f7c027#pin_header">5-pin header</a></div></li>
<li class="level2"><div class="li"><a href="f7c027#gpios">GPIOs</a></div></li>
<li class="level2"><div class="li"><a href="f7c027#system_information">System Information</a></div></li>
<li class="level2"><div class="li"><a href="f7c027#status">Status</a></div></li>
<li class="level2"><div class="li"><a href="f7c027#stock_firmware_images">Stock firmware images</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="f7c027#bootloader">Bootloader</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="f7c027#u-boot_environment">U-Boot environment</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="f7c027#oem_bootlog">OEM Bootlog</a></div></li>
<li class="level1"><div class="li"><a href="f7c027#gpl_source_code">GPL source code</a></div></li>
<li class="level1"><div class="li"><a href="f7c027#tags">Tags</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="belkin_f7c027">Belkin F7C027</h1>
<div class="level1">

<p>
<a href="http://wiki.openwrt.org/_detail/media/wemo_case.png?id=toh%3Abelkin%3Af7c027" class="media" title="media:wemo_case.png"><img src="http://wiki.openwrt.org/_media/media/wemo_case.png?w=300&amp;tok=441560" class="mediaright" title="The WeMo Case" alt="The WeMo Case" width="300" /></a>
Belkin&#039;s WeMo SmartSwitch is a wifi-controlled 120V relay. 
</p>

</div>

<h2 class="sectionedit2" id="supported_versions">Supported Versions</h2>
<div class="level2">
<div class="table sectionedit3"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Version/Model </th><th class="col1"> Launch Date </th><th class="col2"> S/N </th><th class="col3"> OpenWrt Version Supported </th><th class="col4"> Model Specific Notes </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> v1   </td><td class="col1 leftalign">   </td><td class="col2"> - </td><td class="col3"> WiP </td><td class="col4"> - </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit4" id="hardware_highlights">Hardware Highlights</h2>
<div class="level2">
<div class="table sectionedit5"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> CPU </th><th class="col1"> Ram </th><th class="col2"> Flash </th><th class="col3"> Network </th><th class="col4"> USB </th><th class="col5"> Serial </th><th class="col6"> JTag </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Ralink RT5350F </td><td class="col1"> 32MiB </td><td class="col2"> 16MiB </td><td class="col3"> RT2860 Wifi </td><td class="col4"> No </td><td class="col5"> Yes </td><td class="col6"> ? </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit6" id="hardware">Hardware</h2>
<div class="level2">

<p>
<a href="http://wiki.openwrt.org/_detail/media/wemo_inside.jpg?id=toh%3Abelkin%3Af7c027" class="media" title="media:wemo_inside.jpg"><img src="http://wiki.openwrt.org/_media/media/wemo_inside.jpg?w=300&amp;tok=e97fcf" class="media" title=" " alt=" " width="300" /></a>
<a href="http://wiki.openwrt.org/_detail/media/wemo_mainboard_bottom.jpg?id=toh%3Abelkin%3Af7c027" class="media" title="media:wemo_mainboard_bottom.jpg"><img src="http://wiki.openwrt.org/_media/media/wemo_mainboard_bottom.jpg?w=300&amp;tok=5ae7a4" class="media" title=" " alt=" " width="300" /></a>
<a href="http://wiki.openwrt.org/_detail/media/wemo_mainboard_top.jpg?id=toh%3Abelkin%3Af7c027" class="media" title="media:wemo_mainboard_top.jpg"><img src="http://wiki.openwrt.org/_media/media/wemo_mainboard_top.jpg?w=300&amp;tok=d756dc" class="media" title=" " alt=" " width="300" /></a>
</p>

</div>

<h3 class="sectionedit7" id="info">Info</h3>
<div class="level3">

<p>
<pre class="code">CPU: Ralink RT5350F
RAM: Winbond W9825G6JH - The W9825G6JH is a 256M (32MB) SDRAM 
Flash: mx25L12835emi - 128Mbit (16MB) SPI Flash
Wi-Fi: Ralink RT2820</pre>

</p>

</div>

<h3 class="sectionedit8" id="serial_port">Serial port</h3>
<div class="level3">

<p>
Serials console baudrate is : 57600,8n1
</p>

<p>
Serial console is available on two test points:
<pre class="code">TP2 - TX from board
TP3 - RX into board</pre>

</p>

</div>

<h3 class="sectionedit9" id="pin_header">5-pin header</h3>
<div class="level3">

<p>
<pre class="code">1 White (GPIO13) - AC Relay control
2 Black - Gnd
3 Red - 5V
4 3.3V
5 GPIO14 - 0V off (default) 3.3V on</pre>

</p>

</div>

<h3 class="sectionedit10" id="gpios">GPIOs</h3>
<div class="level3">
<div class="table sectionedit11"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> GPIO </th><th class="col1"> Inverted </th><th class="col2"> Purpose </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> 7 </td><td class="col1"> Yes </td><td class="col2"> Blue status LED </td>
	</tr>
	<tr class="row2">
		<td class="col0"> 9 </td><td class="col1"> Yes </td><td class="col2"> Blue power On/Off LED </td>
	</tr>
	<tr class="row3">
		<td class="col0"> 10 </td><td class="col1"> Yes </td><td class="col2"> Top button </td>
	</tr>
	<tr class="row4">
		<td class="col0"> 11 </td><td class="col1"> Yes </td><td class="col2"> Orange status LED </td>
	</tr>
	<tr class="row5">
		<td class="col0"> 12 </td><td class="col1"> Yes </td><td class="col2"> Power On/Off button </td>
	</tr>
	<tr class="row6">
		<td class="col0"> 13 </td><td class="col1"> No </td><td class="col2"> AC relay control </td>
	</tr>
	<tr class="row7">
		<td class="col0"> 14 </td><td class="col1"> No </td><td class="col2"> Pin 5 of header </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit12" id="system_information">System Information</h3>
<div class="level3">

</div>

<h3 class="sectionedit13" id="status">Status</h3>
<div class="level3">

<p>
Currently, a WeMo has been booted into OpenWrt, however, those changes have not yet been checked into the main tree.
</p>

<p>
Things look very promising: Wifi works, all of the buttons and LEDs work, and the AC relay control works.
</p>

</div>

<h3 class="sectionedit14" id="stock_firmware_images">Stock firmware images</h3>
<div class="level3">

<p>
At this time, the only way to work with a WeMo initially is to use the RS232 pads and load firmware using the stock <abbr title="Operating System">OS</abbr>. This is somewhat tricky, as after WeMo image WeMo_US_2.00.2176.PVT_SNS, the firmware requires a root password to log in over serial. On previous firmware versions, firmware can be loaded using wget and the stock &#039;fwupgrade&#039; utility. 
</p>

<p>
The stock firmware images are distributed in a standard &#039;sysupgrade&#039; format with a 19-byte header prepended to the file, and then the entire thing is PGP encrypted for a Belkin-owned PGP key. Oddly, PGP is used to encrypt the file, but not to sign it, making it possible to build firmware images without the Belkin PGP key, but harder to read the belkin-distributed firmware upgrades.
</p>

</div>

<h2 class="sectionedit15" id="bootloader">Bootloader</h2>
<div class="level2">

<p>
The bootloader appears to be a modified U-Boot. It&#039;s built to allow the device to attempt a firmware upgrade, and then be able to fail back to the original firmware. 
</p>

<p>
It does this by keeping two complete copies of the kernel and rootfs, and uses two environment variables to track the state during an upgrade. The first is &quot;check_boot&quot;, set to 1 when the bootloader is first testing a new firmware image, and set to 0 on successful boot. The second is bootstate, which appears to be set to 0 or 2 in normal operation, or 1 or 3 in &quot;let&#039;s try this new firmware once&quot; mode. Values of 0 or 1 will boot from the first kernel, 2 or 3 will boot from the second.
</p>

<p>
This means that Openwrt can be loaded into the first kernel and rootfs partitions, and be consistently booted with bootstate=0 and check_boot=0. To recover, you can set bootstate=2, and go back to the stored (stock) firmware in the the alternate kernel and rootfs partitions.
</p>

<p>
The command &#039;bootm&#039; has been modified, it is not working how it is intended. It is still trying to load stuff from flash.
Loading and booting an openWrt over serial line is possible if you compile a cmdline into your kernel.
</p>

<p>
<pre class="code">loadb 0x80000000
go 0x80000000</pre>

</p>

</div>

<h3 class="sectionedit16" id="u-boot_environment">U-Boot environment</h3>
<div class="level3">

<p>
<strong><code>Note:</code></strong> The bootdelay is 1 seconds or less. You need to send bytes repeatedly while the device is booting to get uboot stop the normal boot procedure.
</p>

<p>
<pre class="code">
U-Boot 1.1.3 (Oct 14 2011 - 16:53:20)

Board: Ralink APSoC DRAM:  32 MB
relocate_code Pointer at: 81fb4000
spi_wait_nsec: 21
spi device id: c2 20 18 c2 20 (2018c220)
find flash: MX25L12805D
raspi_read: from:30000 len:1000
.raspi_read: from:30000 len:1000
.============================================
Ralink UBoot Version: 3.5.0.0
--------------------------------------------
ASIC 5350_MP (Port5&lt;-&gt;None)
DRAM_CONF_FROM: Boot-Strapping
DRAM_TYPE: SDRAM
DRAM_SIZE: 256 Mbits
DRAM_WIDTH: 16 bits
DRAM_TOTAL_WIDTH: 16 bits
TOTAL_MEMORY_SIZE: 32 MBytes
Flash component: SPI Flash
Date:Oct 14 2011  Time:16:53:20
============================================
icache: sets:256, ways:4, linesz:32 ,total:32768
dcache: sets:128, ways:4, linesz:32 ,total:16384

 ##### The CPU freq = 360 MHZ ####
 estimate memory size =32 Mbytes
set GPIO 7, 9, 11, 13 to 1 Output
set GPIO 10, 12, 14 to 0 Iutput

Please choose the operation:
   1: Load system code to SDRAM via TFTP.
   2: Load system code then write to Flash via TFTP.
   3: Boot system code via Flash (default).
   4: Entr boot command line interface.
   7: Load Boot Loader code then write to Flash via Serial.
   9: Load Boot Loader code then write to Flash via TFTP.

You choosed 3
                                                                                                                              0

3: System Boot system code via Flash.
Trying to boot from B...bootstate=[2]
Boot B addr_str=[0xBC7C0000]
## Booting image at bc7c0000 ...
raspi_read: from:7c0000 len:40
.   Image Name:   Linux Kernel Image
   Created:      2012-11-23  13:14:06 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    817143 Bytes = 798 kB
   Load Address: 80000000
   Entry Point:  80255000
raspi_read: from:7c0040 len:c77f7
.............   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 80255000) ...
## Giving linux memsize in MB, 32

Starting kernel ...</pre>

</p>

<p>
<pre class="code">

RT5350 # help
?       - alias for &#039;help&#039;
bootm   - boot application image from memory
cp      - memory copy
erase   - erase SPI FLASH memory
flash_test - test flash status, argv =&gt; test_pattern_start test_pattern_end test_repeat
go      - start application at address &#039;addr&#039;
help    - print online help
loadb   - load binary file over serial line (kermit mode)
md      - memory display
mdio   - Ralink PHY register R/W command !!
mm      - memory modify (auto-incrementing)
mw      - memory write (fill)
nm      - memory modify (constant address)
printenv- print environment variables
reset   - Perform RESET of the CPU
rf      - read/write rf register
saveenv - save environment variables to persistent storage
setenv  - set environment variables
tftpboot- boot image via network using TFTP protocol
version - print monitor version

RT5350 # printenv
bootcmd=tftp
bootdelay=1
baudrate=57600
ethaddr=&quot;00:AA:BB:CC:DD:10&quot;
ramargs=setenv bootargs root=/dev/ram rw
addip=setenv bootargs $(bootargs) ip=$(ipaddr):$(serverip):$(gatewayip):$(netmask):$(hostname):$(netdev):off
addmisc=setenv bootargs $(bootargs) console=ttyS0,$(baudrate) ethaddr=$(ethaddr) panic=1
flash_self=run ramargs addip addmisc;bootm $(kernel_addr) $(ramdisk_addr)
kernel_addr=BFC40000
u-boot=u-boot.bin
load=tftp 8A100000 $(u-boot)
u_b=protect off 1:0-1;era 1:0-1;cp.b 8A100000 BC400000 $(filesize)
loadfs=tftp 8A100000 root.cramfs
u_fs=era bc540000 bc83ffff;cp.b 8A100000 BC540000 $(filesize)
test_tftp=tftp 8A100000 root.cramfs;run test_tftp
ethact=Eth0 (10/100-M)
ipaddr=192.168.2.1
serverip=192.168.2.10
bootfile=
autostart=no
bootargs=console=ttyS1,57600n8 root=/dev/mtdblock4
bootstate=2
check_boot=0
stdin=serial
stdout=serial
stderr=serial

Environment size: 865/4092 bytes
RT5350 # </pre>

</p>

</div>

<h2 class="sectionedit17" id="oem_bootlog">OEM Bootlog</h2>
<div class="level2">

<p>
<pre class="code">  Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 80255000) ...
## Giving linux memsize in MB, 32

Starting kernel ...


LINUX started...

 THIS IS ASIC
Linux version 2.6.21 (root@agnity-desktop) (gcc version 3.4.2) #53 Sun Nov 20 16:47:58 IST 2011

 The CPU feqenuce set to 360 MHz
CPU revision is: 0001964c
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Built 1 zonelists.  Total pages: 8128
Kernel command line: console=ttyS1,57600n8 root=/dev/mtdblock4
root_dev_setup: line=[/dev/mtdblock4]
Primary instruction cache 32kB, physically tagged, 4-way, linesize 32 bytes.
Primary data cache 16kB, 4-way, linesize 32 bytes.
Synthesized TLB refill handler (20 instructions).
Synthesized TLB load handler fastpath (32 instructions).
Synthesized TLB store handler fastpath (32 instructions).
Synthesized TLB modify handler fastpath (31 instructions).
Cache parity protection disabled
cause = c0808040, status = 11000000
PID hash table entries: 128 (order: 7, 512 bytes)
calculating r4koff... 0015f900(1440000)
CPU frequency 360.00 MHz
Using 180.000 MHz high precision timer.
Console: colour dummy device 80x25
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 29888k/32768k available (2073k kernel code, 2880k reserved, 310k data, 108k init, 0k highmem)
Mount-cache hash table entries: 512
NET: Registered protocol family 16
NET: Registered protocol family 2
Time: MIPS clocksource has been installed.
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
deice id : c2 20 18 c2 20 (2018c220)
MX25L12805D(c2 2018c220) (16384 Kbytes)
mtd .name = raspi, .size = 0x01000000 (16M) .erasesize = 0x00010000 (64K) .numeraseregions = 0
Creating 10 MTD partitions on &quot;raspi&quot;:
0x00000000-0x00050000 : &quot;uboot&quot;
0x00050000-0x007c0000 : &quot;A - Kernel and Rootfs&quot;
0x00150000-0x007c0000 : &quot;A - Rootfs&quot;
0x007c0000-0x00f30000 : &quot;B - Kernel and Rootfs&quot;
0x008c0000-0x00f30000 : &quot;B - Rootfs&quot;
0x00fe0000-0x00ff0000 : &quot;Nvram&quot;
0x00ff0000-0x01000000 : &quot;User_Factory&quot;
0x00040000-0x00050000 : &quot;Factory&quot;
0x00f30000-0x00fd0000 : &quot;Belkin_settings&quot;
0x00030000-0x00040000 : &quot;Uboot_env&quot;
squashfs: version 3.2-r2 (2007/01/15) Phillip Lougher
squashfs: LZMA suppport for slax.org by jro
JFFS2 version 2.2. (NAND) (C) 2001-2006 Red Hat, Inc.
io scheduler noop registered (default)
reg1_gpio_dir ori = [0x003FABFF]
 ################################################
 #                                              #
 #            SDK - PLUGIN_BOARD_DVT            #
 #                                              #
 ################################################
reg1_gpio_dir after 1 = [0x003FABFF]
reg1_gpio_dir after 2 = [0x003FABFF]
Ralink gpio driver initialized
Gemtek LED init...
################## Don&#039;t Restore to Factory Defaults ###################
Serial: 8250/16550 driver $Revision: 1.7 $ 2 ports, IRQ sharing disabled
serial8250: ttyS0 at I/O 0xb0000500 (irq = 37) is a 16550A
serial8250: ttyS1 at I/O 0xb0000c00 (irq = 12) is a 16550A
loop: loaded (max 8 devices)
rdm_major = 254
MAC_ADRH -- : 0x00000000
MAC_ADRL -- : 0x00000000
Ralink APSoC Ethernet Driver Initilization. v2.0  256 rx/tx descriptors allocated, mtu = 1500!
MAC_ADRH -- : 0x0000000c
MAC_ADRL -- : 0x43535077
PROC INIT OK!
block2mtd: version $Revision: 1.1.1.1 $
nf_conntrack version 0.5.0 (256 buckets, 2048 max)
IPv4 over IPv4 tunneling driver
ip_tables: (C) 2000-2006 Netfilter Core Team, Type=Restricted Cone
TCP cubic registered
NET: Registered protocol family 1
NET: Registered protocol family 10
lo: Disabled Privacy Extensions
tunl0: Disabled Privacy Extensions
Mobile IPv6
IPv6 over IPv4 tunneling driver
sit0: Disabled Privacy Extensions
NET: Registered protocol family 17
Bridge firewalling registered
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
saved_root_name is [/dev/mtdblock4]
root_device_name is [/dev/mtdblock4]
name is [/dev/root]
fs_names is [squashfs]
fs_names p is [squashfs], flags is 0x8001
VFS: [/dev/root] Mounted root (squashfs filesystem) readonly.
mount_fail 0 is 0
Freeing unused kernel memory: 108k freed

phy_tx_ring = 0x01372000, tx_ring = 0xa1372000

phy_rx_ring0 = 0x01373000, rx_ring0 = 0xa1373000
RT305x_ESW: Link Status Changed


BusyBox v1.1.0 (2012.11.23-13:09+0000) Built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

# #sysinit: [sysinGTK LED Status: GMTK_SYSTEM_BOOT
it]
insmod: reset_btn.ko: no module by that name found
Done
# update nvram with default list!
##############################################
#               Check EEPROM                 #
##############################################
Reading 4096 bytes......success
Reading 4096 bytes......success
08, 86, 3B, C7, 16, 78,
50-50, 53-53, 00-00, 01-01, 08-08, 86-86, 3B-3B, C7-C7, 16-16, 78-78,
# interfaces_init......
can&#039;t get info
can&#039;t get info
switch reg write offset=14, value=405555
switch reg write offset=50, value=2001
switch reg write offset=98, value=7f3f
switch reg write offset=40, value=1001
switch reg write offset=44, value=1001
switch reg write offset=48, value=1002
switch reg write offset=70, value=ffff506f
can&#039;t get info
can&#039;t get info
can&#039;t get info
########### WeMo ra0 configuration ##########
Setting ra0 configuration....
Bring up ra0 interface....
rt2860v2_ap: module license &#039;unspecified&#039; taints kernel.


=== pAd = c009b000, size = 635240 ===

&lt;-- RTMPAllocAdapterBlock, Status=0
RX DESC a1d92000  size = 2048
&lt;-- RTMPAllocTxRxRingMemory, Status=0
RTMP_TimerListAdd: add timer obj c0106b58!
RTMP_TimerListAdd: add timer obj c00a3004!
RTMP_TimerListAdd: add timer obj c00a2bd4!
RTMP_TimerListAdd: add timer obj c00a2fb0!
RTMP_TimerListAdd: add timer obj c00a2fd8!
RTMP_TimerListAdd: add timer obj c00a3230!
RTMP_TimerListAdd: add timer obj c00d394c!
RTMP_TimerListAdd: add timer obj c00d351c!
RTMP_TimerListAdd: add timer obj c00d38f8!
RTMP_TimerListAdd: add timer obj c00d3920!
RTMP_TimerListAdd: add timer obj c00d3978!
RTMP_TimerListAdd: add timer obj c00d39a4!
RTMP_TimerListAdd: add timer obj c00d39d0!
RTMP_TimerListAdd: add timer obj c0107078!
RTMP_TimerListAdd: add timer obj c0107050!
RTMP_TimerListAdd: add timer obj c0107028!
RTMP_TimerListAdd: add timer obj c00dc8d4!
RTMP_TimerListAdd: add timer obj c00dc9d8!
RTMP_TimerListAdd: add timer obj c00dc8fc!
RTMP_TimerListAdd: add timer obj c00d3eb4!
RTMP_TimerListAdd: add timer obj c00a0488!
RTMP_TimerListAdd: add timer obj c00d3bd0!
Key1Str is Invalid key length(0) or Type(0)
Key2Str is Invalid key length(0) or Type(0)
Key3Str is Invalid key length(0) or Type(0)
Key4Str is Invalid key length(0) or Type(0)
1. Phy Mode = 9
2. Phy Mode = 9
3. Phy Mode = 9
RTMPSetPhyMode: channel is out of range, use first channel=0
MCS Set = ff 00 00 00 01
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
SYNC - BBP R4 to 20MHz.l
RTMP_TimerListAdd: add timer obj c00d41f4!
Main bssid = 08:86:3b:c7:16:78
&lt;==== rt28xx_init, Status=0
0x1300 = 00064380
bridge br0 doesn&#039;t exist!
No need to change ra0 to Nintendo NDS capable
No need to change ra0 to Nintendo NDS capable...Complete
ra0       mac:
[0x00001300]:00063330
ra0       mac:
[0x00001304]:000a3700
killall: rt2860apd: no process killed
/bin/sh: rt2860apd: not found
can&#039;t get info
killall : No such file or directory
WPS BUTTON press!!
killall: wscd: no process killed
ra0       mac:
[0x0000102c]:0f031e46
can&#039;t get macaddr of ra1
vlan1: Setting MAC address to  08 86 3b c7 16 78.
device eth2 entered promiscuous mode
VLAN (vlan1):  Setting underlying device (eth2) to promiscious mode.
vlan1: dev_set_promiscuity(master, 1)
device vlan1 entered promiscuous mode
device ra0 entered promiscuous mode
never heard of command [sethello]
commands:
        addbr           &lt;bridge&gt;                add bridge
        addbr0: port 2(ra0) entering listening state
if              &lt;bridge&gt; &lt;debr0: port 1(vlan1) entering listening state
vice&gt;   add interface to bridge
        delbr           &lt;bridge&gt;                delete bridge
        delif           &lt;bridge&gt; &lt;device&gt;       delete interface from bridge
        show                                    show a list of bridges
        showbr          &lt;bridge&gt;                show bridge info
        showmacs        &lt;bridge&gt;                show a list of mac addrs

        setfd           &lt;bridge&gt; &lt;time&gt;         set bridge forward delay
        stp             &lt;bridge&gt; &lt;state&gt;        {dis,en}able stp
never heard of command [setageing]
commands:
        addbr           &lt;bridge&gt;                add bridge
        addif           &lt;bridge&gt; &lt;device&gt;       add interface to bridge
        delbr           &lt;bridge&gt;                delete bridge
        delif           &lt;bridge&gt; &lt;device&gt;       delete interface from bridge
        show                                    show a list of bridges
        showbr          &lt;bridge&gt;                show bridge info
        showmacs        &lt;bridge&gt;                show a list of mac addrs

        setfd           &lt;bridge&gt; &lt;time&gt;         set bridge forward delay
        stp             &lt;bridge&gt; &lt;state&gt;        {dis,en}able stp
# lan services init......
can&#039;t get info
can&#039;t get info
/bin/sh: httpd: not found
Start UPnP
can&#039;t get info
/usr/sbin/upnp: No such file or directory
route: resolving gw
route: resolving gw
route: resolving gw
route: resolving gw
route: resolving gw
can&#039;t get info
killall : No such file or directory
killall: wscd: no process killed
(2427)Service enable wireless
/bin/sh: self-healing: not found
/bin/sh: easyconf: not found
can&#039;t get info
(easytest.c-&gt;main(1109)) Start easytest 20060525
(easytest.c-&gt;main(1114)) lan_ip is 10.22.22.1
(easytest.c-&gt;main(1116)) mcast_ip is 234.2.2.9
(easytest.c-&gt;main(1118)) mcast_port is 14675
(easytest.c-&gt;main(1200)) Waiting product test packet...

# wan_init......
Set country code to us!!!
SIOCSIFHWADDR: Device or resource busy
/bin/sh: if_traffic: not found
/bin/shGTK LED Status: GMTK_SYSTEM_READY
: lld2d: not found
Get_bootstate_to_nvram...
Reading 4096 bytes......success
Uboot CRC is BAE4434C, Uboot env CRC is BAE4434C
Get_bootstate_to_nvram : bootstate is [2]
Executing script &quot;/etc/Belkin_startup.sh&quot;...
killall: psmon: no process killed
killall: wan_connect: no process killed
killall: ledctrl: no process killed
killall: udhcpc: no process killed
/bin/sh: dropbearkey: not found
/bin/sh: dropbearkey: not found
/bin/sh: dropbear: not found
GetBelkinParameter -  ParameterName = PVT_LOG_ENABLE
PVT_LOG_ENABLE:
SetBelkinParameter - ParameterName = Belkin_daemon_success , ParameterValue = 1
gemtek_api: *Status=[0], reboot_status_last=[0], *UTC_Seconds=[0]
EnableSoftWatchDog, second = 300
killall: watchdog: no process killed
remove softdog...
close_softdog: cannot open /dev/watchdog
rmmod: softdog: No such file or directory
SetBelkinParameter - ParameterName = settime_sec , ParameterValue =
GetBelkinParameter -  ParameterName = home_id
GetBelkinParameter -  ParameterName = SmartDeviceId
GetBelkinParameter -  ParameterName = SmartPrivatekey
...</pre>

</p>

</div>

<h2 class="sectionedit18" id="gpl_source_code">GPL source code</h2>
<div class="level2">

<p>
Buildable source code is available at <a href="http://www.belkin.com/support/opensource/" class="urlextern" title="http://www.belkin.com/support/opensource/"  rel="nofollow">http://www.belkin.com/support/opensource/</a>
</p>

</div>

<h2 class="sectionedit19" id="tags">Tags</h2>
<div class="level2">
<hr />
<div class="tags"><span>
	<a href="../../tag/ramips?do=showtag&amp;tag=ramips" class="wikilink1" title="tag:ramips" rel="tag">ramips</a>,
	<a href="../../tag/rt5350?do=showtag&amp;tag=rt5350" class="wikilink1" title="tag:rt5350" rel="tag">rt5350</a>,
	<a href="http://wiki.openwrt.org/tag/32ram?do=showtag&amp;tag=32ram" class="wikilink1" title="tag:32ram" rel="tag">32ram</a>,
	<a href="../../tag/wlan?do=showtag&amp;tag=wlan" class="wikilink1" title="tag:wlan" rel="tag">wlan</a>,
	<a href="../../tag/mips32?do=showtag&amp;tag=mips32" class="wikilink1" title="tag:mips32" rel="tag">mips32</a>,
	<a href="../../tag/mips?do=showtag&amp;tag=mips" class="wikilink1" title="tag:mips" rel="tag">mips</a>
</span></div>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/belkin/f7c027.txt</bdi> · Last modified: 2014/03/19 00:42 (external edit)</div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="http://wiki.openwrt.org/toh/belkin/f7c027?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="http://wiki.openwrt.org/toh/belkin/f7c027?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="http://wiki.openwrt.org/toh/belkin/f7c027?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="f7c027#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="http://wiki.openwrt.org/lib/exe/indexer.php?id=toh%3Abelkin%3Af7c027&amp;1432283552" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
