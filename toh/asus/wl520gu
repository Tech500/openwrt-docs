<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>ASUS WL-520gu [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="toh,asus,wl520gu"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="wl520gu?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:asus"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/toh/asus/wl520gu"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/toh/asus/wl520gu"/>
<link rel="canonical" href="wl520gu"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:asus';var JSINFO = {"id":"toh:asus:wl520gu","namespace":"toh:asus"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432266211 166.182.3.17';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="wl520gu#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="wl520gu?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="wl520gu?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:asus:wl520gu" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="wl520gu?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="wl520gu?do=media&amp;ns=toh%253Aasus"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="wl520gu?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:asus:start">Asus</a></bdi> » <bdi><span class="curid"><a href="wl520gu" class="wikilink1" title="toh:asus:wl520gu">ASUS WL-520gu</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/asus/wl520gu" class="media" title="cz:toh:asus:wl520gu"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/asus/wl520gu" class="media" title="de:toh:asus:wl520gu"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="wl520gu" class="media" title="toh:asus:wl520gu"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/asus/wl520gu" class="media" title="es:toh:asus:wl520gu"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/asus/wl520gu" class="media" title="fr:toh:asus:wl520gu"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/asus/wl520gu" class="media" title="hu:toh:asus:wl520gu"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/asus/wl520gu" class="media" title="jp:toh:asus:wl520gu"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/asus/wl520gu" class="media" title="pl:toh:asus:wl520gu"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/asus/wl520gu" class="media" title="pt-br:toh:asus:wl520gu"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/asus/wl520gu" class="media" title="ru:toh:asus:wl520gu"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/asus/wl520gu" class="media" title="tr:toh:asus:wl520gu"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/asus/wl520gu" class="media" title="zh-cn:toh:asus:wl520gu"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/asus/wl520gu" class="media" title="zh-tw:toh:asus:wl520gu"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:asus:wl520gu</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="wl520gu#hardware_highlights">Hardware Highlights</a></div></li>
<li class="level1"><div class="li"><a href="wl520gu#installing_openwrt">Installing OpenWrt</a></div></li>
<li class="level1"><div class="li"><a href="wl520gu#hardware">Hardware</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="wl520gu#info">Info</a></div></li>
<li class="level2"><div class="li"><a href="wl520gu#flashing">Flashing</a></div></li>
<li class="level2"><div class="li"><a href="wl520gu#photos">Photos</a></div></li>
<li class="level2"><div class="li"><a href="wl520gu#serial">Serial</a></div></li>
<li class="level2"><div class="li"><a href="wl520gu#jtag">JTAG</a></div></li>
<li class="level2"><div class="li"><a href="wl520gu#radio">Radio</a></div></li>
<li class="level2"><div class="li"><a href="wl520gu#usb">USB</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="wl520gu#specific_configuration">Specific Configuration</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="wl520gu#interfaces">Interfaces</a></div></li>
<li class="level2"><div class="li"><a href="wl520gu#switch_ports_for_vlans">Switch Ports (for VLANs)</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="wl520gu#failsafe_mode">Failsafe mode</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="wl520gu#boot_into_failsafe_mode">Boot into failsafe mode</a></div></li>
<li class="level2"><div class="li"><a href="wl520gu#what_to_do_in_failsafe_mode">What to do in failsafe mode?</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="asus_wl-520gu">ASUS WL-520gu</h1>
<div class="level1">

<p>
The hardware is similar to that of the WL500GPv2, and the information there is relevant to this unit too.
</p>

</div>

<h2 class="sectionedit2" id="hardware_highlights">Hardware Highlights</h2>
<div class="level2">
<div class="table sectionedit3"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> SoC </th><th class="col1"> Ram </th><th class="col2"> Flash </th><th class="col3"> Network </th><th class="col4"> USB </th><th class="col5"> Serial </th><th class="col6"> JTag </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Broadcom BCM5354 / 240MHz </td><td class="col1"> 16MiB</td><td class="col2"> 4MiB </td><td class="col3"> 4x1</td><td class="col4"> Yes </td><td class="col5"> Yes </td><td class="col6"> ? </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit4" id="installing_openwrt">Installing OpenWrt</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> follow → <a href="../../doc/howto/installing" class="wikilink1" title="doc:howto:generic.flashing">generic.flashing</a></div>
</li>
<li class="level1"><div class="li"> consider:</div>
</li>
</ul>

<p>
The <code>boot_wait</code> nvram variable is set by default, but a special procedure is required for uploading a new flash via tftp at boot:
</p>
<ol>
<li class="level1"><div class="li"> Beginning with the router powered off, press and hold the reset button while powering the router on</div>
</li>
<li class="level1"><div class="li"> Release the reset button when the power led begins to slowly blink on and off.</div>
</li>
<li class="level1"><div class="li"> The router will now be in <strong>Firmware Restoration Mode</strong>, and it can be flashed with a new firmware via tftp at your leisure.</div>
</li>
</ol>

</div>

<h2 class="sectionedit5" id="hardware">Hardware</h2>
<div class="level2">

</div>

<h3 class="sectionedit6" id="info">Info</h3>
<div class="level3">
<div class="table sectionedit7"><table class="inline">
	<tr class="row0">
		<td class="col0 leftalign"> <strong><a href="http://en.wikipedia.org/wiki/Instruction set" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Instruction set">Architecture</a>:</strong>    </td><td class="col1"> <a href="http://en.wikipedia.org/wiki/MIPS architecture" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/MIPS architecture">MIPS</a> </td>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign"> <strong>Vendor:</strong>          </td><td class="col1"> <a href="http://en.wikipedia.org/wiki/Broadcom" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/Broadcom">Broadcom</a> </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> <strong><a href="../../doc/techref/bootloader.1" class="wikilink1" title="doc:techref:bootloader">Bootloader</a>:</strong>     </td><td class="col1"> <a href="../../doc/techref/bootloader/cfe" class="wikilink1" title="doc:techref:bootloader:cfe">CFE</a> </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <strong>System-On-Chip:</strong> </td><td class="col1"> BCM5354KFBG </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <strong>CPU/Speed:</strong> </td><td class="col1"> Broadcom BCM3302 / 240MHz </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <strong>Flash-Chip:</strong> </td><td class="col1"> 4MB MX 29LV320CB </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <strong>Flash size:</strong> </td><td class="col1"> 4 MiB </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <strong>RAM:</strong> </td><td class="col1"> Samsung K4S281632I-UC60 / 166 <abbr title="Megahertz">MHz</abbr> / 16 MiB </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <strong>Wireless:</strong> </td><td class="col1"> Broadcom 5354 (core revision 13) 802.11b/g (integrated) </td>
	</tr>
	<tr class="row9">
		<td class="col0"> <strong>Ethernet:</strong> </td><td class="col1"> Switch in CPU </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <strong>USB:</strong> </td><td class="col1"> Yes </td>
	</tr>
	<tr class="row11">
		<td class="col0"> <strong>Serial:</strong> </td><td class="col1"> Core supports 2 serial ports, only 1 is available on the PCB (no ready made port) </td>
	</tr>
	<tr class="row12">
		<td class="col0"> <strong>JTAG:</strong> </td><td class="col1"> ? </td>
	</tr>
</table></div>

<p>
<strong>Note: Above info is mostly taken from <a href="http://mightyohm.com/blog/2008/10/detailed-specs-for-the-asus-wl-520gu-uber-hacking-platform/" class="urlextern" title="http://mightyohm.com/blog/2008/10/detailed-specs-for-the-asus-wl-520gu-uber-hacking-platform/"  rel="nofollow">the MightyOhm site</a>, with some from <code>dmesg</code>.</strong>
</p>

</div>

<h3 class="sectionedit8" id="flashing">Flashing</h3>
<div class="level3">

<p>
Use the Asus Firmware Recovery Tool, Version 4.0.7.9, available here (select your operating system and &quot;utilities&quot;):  <a href="http://support.asus.com/Download.aspx?SLanguage=en&amp;m=WL-520GU&amp;p=11&amp;os=" class="urlextern" title="http://support.asus.com/Download.aspx?SLanguage=en&amp;m=WL-520GU&amp;p=11&amp;os="  rel="nofollow">http://support.asus.com/Download.aspx?SLanguage=en&amp;m=WL-520GU&amp;p=11&amp;os=</a>
</p>

</div>

<h3 class="sectionedit9" id="photos">Photos</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li">At MightyOhm: <a href="http://mightyohm.com/blog/2008/10/building-a-wifi-radio-part-2-choosing-an-embedded-platform/" class="urlextern" title="http://mightyohm.com/blog/2008/10/building-a-wifi-radio-part-2-choosing-an-embedded-platform/"  rel="nofollow">here</a> and <a href="http://mightyohm.com/blog/2008/10/detailed-specs-for-the-asus-wl-520gu-uber-hacking-platform/" class="urlextern" title="http://mightyohm.com/blog/2008/10/detailed-specs-for-the-asus-wl-520gu-uber-hacking-platform/"  rel="nofollow">here</a></div>
</li>
</ul>

</div>

<h3 class="sectionedit10" id="serial">Serial</h3>
<div class="level3">

<p>
See <a href="http://mightyohm.com/blog/2008/10/building-a-wifi-radio-part-3-hacking-the-asus-wl-520gu/" class="urlextern" title="http://mightyohm.com/blog/2008/10/building-a-wifi-radio-part-3-hacking-the-asus-wl-520gu/"  rel="nofollow">MightyOhm&#039;s discussion</a>.
</p>

<p>
Pinout: Pin 1 (white bar on silkscreen): 3.3V; Pin 2: RX; Pin 3: TX; Pin 4: GND.
</p>

<p>
If you&#039;re using GNU screen and a <a href="../../OpenWrtDocs/Customizing/Hardware/Serial_Console#usbtors232ttlconvertermodule" class="wikilink1" title="doc:hardware:port.serial">USB-serial adapter</a>, the command will look something like this (OSX):
</p>
<pre class="code">screen /dev/tty.SLAB_USBtoUART 115200,-parenb,-cstopb,cs8</pre>

<p>
On other OSes, you&#039;ll need to change the path to the USB-serial device.
</p>

</div>

<h3 class="sectionedit11" id="jtag">JTAG</h3>
<div class="level3">

<p>
See <a href="../../doc/hardware/port.jtag" class="wikilink1" title="doc:hardware:port.jtag">port.jtag</a> for more JTAG details.
</p>

</div>

<h3 class="sectionedit12" id="radio">Radio</h3>
<div class="level3">

<p>
<img src="../../_media/meta/icons/tango/48px-outdated.svg.png" class="media" alt="" />
<img src="../../_media/meta/icons/tango/48px-cleanup.svg.png" class="media" alt="" />
<strong> Warning!  Kernel support for the radio is broken when using the 2.6 kernel (b43 driver) via the brcm47xx target in the original Backfire (10.03) release!  OpenWrt doesn&#039;t enable the radio out of the box.  If you enable it, processes get killed and the box becomes unusable.  The issue is discussed <a href="https://dev.openwrt.org/ticket/6907" class="urlextern" title="https://dev.openwrt.org/ticket/6907"  rel="nofollow">here</a>.</strong>
</p>

<p>
One option is to use the 2.4 kernel and the old proprietary broadcom driver (brcm-2.4 target). See the discussion in the <a href="wl500gp" class="wikilink1" title="toh:asus:wl500gp">WL500GP</a> entry; note that the WL520GU is basically a WL500GP v2 with less RAM and FLASH.
</p>

<p>
Updated: As of r21470 (May 16, 2010) the stable b43 firmware is being used as the default in trunk builds and the box will work with wireless. It may not be completely stable yet but is somewhat usable. You will have to enable it in /etc/config/wireless.
</p>

<p>
Updated: In 10.03.1-rc1 (Backfire update RC1, August 2010), the b43 driver seems to work fine on the WL520GU. Hopefully this means 10.03.1 will have robust support for this router via the brcm47xx target.
</p>

<p>
Updated: as of 10.03.1-rc4 (February 2011) wifi works with brcm47xx
</p>

<p>
Updated: as of 10.03.1 (March 2012) With brcm47xx system hangs as soon as wifi enabled. Downgarded to the 2.4 kernel (still 10.03.1) using openwrt-brcm-2.4-squashfs.trx. More stable, but eventually hangs. I&#039;m guessing that some process are dead/not responding, but I can still ping the box. Also tried a version built myself from the laest source. Same result. Much as I love openwrt (it runs well for me on 2 other boxes) I eventually gave up for this unit and switched to tomatousb (2.6), which works flawlessly for the wl-520gu.
</p>

</div>

<h3 class="sectionedit13" id="usb">USB</h3>
<div class="level3">

<p>
USB requires the ohci driver.  To use an external USB storage device, for example, enable the following configuration options:
</p>
<ul>
<li class="level1"><div class="li"> Kernel Modules / USB Support / kmod-usb-core</div>
<ul>
<li class="level2"><div class="li"> Under kmod-usb-core: kmod-usb-ohci, kmod-usb2, kmod-usb-storage</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Kernel Modules / Filesystems / kmod-fs-somefilesystem</div>
</li>
</ul>

<p>
See <a href="../../doc/howto/usb.storage" class="wikilink1" title="doc:howto:usb.storage">the USB storage page</a> for more information.
</p>

<p>
As of r21428 (May 12, 2010) some broken ehci code in brcm47xx targets was fixed  - essentially openwrt was brought back into sync with the linux 2.6.x mainline. USB devices can be recognized and ehci  (available in the kmod-usb2 module) is not needed for USB 1.x devices. These are serviced by the ohci usb core  
</p>

</div>

<h2 class="sectionedit14" id="specific_configuration">Specific Configuration</h2>
<div class="level2">

<p>
See <a href="http://mightyohm.com/blog/2008/11/building-a-wifi-radio-part-4-installing-openwrt/" class="urlextern" title="http://mightyohm.com/blog/2008/11/building-a-wifi-radio-part-4-installing-openwrt/"  rel="nofollow">MightyOhm&#039;s</a> discussion of installing OpenWrt, but it&#039;s old, and probably obsolete.
</p>

</div>

<h3 class="sectionedit15" id="interfaces">Interfaces</h3>
<div class="level3">

<p>
The default network configuration is:
</p>
<div class="table sectionedit16"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Interface Name </th><th class="col1"> Description </th><th class="col2"> Default configuration </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> br-lan </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> &amp; WiFi </td><td class="col2"> 192.168.1.1/24 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> vlan0 (eth0.0) </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> ports (1 to 4) </td><td class="col2"> None </td>
	</tr>
	<tr class="row3">
		<td class="col0"> vlan1 (eth0.1) </td><td class="col1"> WAN port </td><td class="col2"> DHCP </td>
	</tr>
	<tr class="row4">
		<td class="col0"> wl0 </td><td class="col1"> WiFi </td><td class="col2"> Disabled </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit17" id="switch_ports_for_vlans">Switch Ports (for VLANs)</h3>
<div class="level3">

<p>
Numbers 0-3 are Ports 1-4 as labeled on the unit, number 4 is the Internet (WAN) on the unit, 5 is the internal connection to the router itself. Don&#039;t be fooled: Port 1 on the unit is number 3 when configuring VLANs. vlan0 = eth0.0, vlan1 = eth0.1 and so on.
</p>
<div class="table sectionedit18"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Port </th><th class="col1"> Switch port </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Internet (WAN) </td><td class="col1"> 4 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <abbr title="Local Area Network">LAN</abbr> 1 </td><td class="col1"> 3 </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <abbr title="Local Area Network">LAN</abbr> 2 </td><td class="col1"> 2 </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <abbr title="Local Area Network">LAN</abbr> 3 </td><td class="col1"> 1 </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <abbr title="Local Area Network">LAN</abbr> 4 </td><td class="col1"> 0 </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit19" id="failsafe_mode">Failsafe mode</h2>
<div class="level2">

<p>
If you forgot your password, broken one of the startup scripts, firewalled yourself or corrupted the JFFS2 partition, you can get back in by using OpenWrt&#039;s failsafe mode.
</p>

</div>

<h3 class="sectionedit20" id="boot_into_failsafe_mode">Boot into failsafe mode</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Unplug the router&#039;s power cord.</div>
</li>
<li class="level1"><div class="li"> Connect the router&#039;s LAN1 port directly to your PC.</div>
</li>
<li class="level1"><div class="li"> Configure your PC with a static IP address between 192.168.1.2 and 192.168.1.254. E. g. 192.168.1.2 (gateway and <abbr title="Domain Name System">DNS</abbr> is not required).</div>
</li>
<li class="level1"><div class="li"> Plug the power on and wait for the DMZ LED to light up.</div>
</li>
<li class="level1"><div class="li"> While the DMZ LED is on immediately press any button (Reset and Secure Easy Setup will work) a few times .</div>
</li>
<li class="level1"><div class="li"> If done right the DMZ LED will quickly flash 3 times every second.</div>
</li>
<li class="level1"><div class="li"> You should be able to telnet to the router at 192.168.1.1 now (no username and password)</div>
</li>
</ul>

</div>

<h3 class="sectionedit21" id="what_to_do_in_failsafe_mode">What to do in failsafe mode?</h3>
<div class="level3">

<p>
<strong>NOTE:</strong> The root file system in failsafe mode is the SquashFS partition mounted in readonly mode. To switch to the normal writable root file system run mount_root and make any changes. Run mount_root now.
</p>
<ol>
<li class="level1"><div class="li"> Forgot/lost your password and you like to set a new one</div>
</li>
</ol>

<p>
 passwd
</p>
<ol>
<li class="level1"><div class="li"> Forgot the routers IP address</div>
</li>
</ol>

<p>
 uci get network.lan.ipaddr
</p>
<ol>
<li class="level1"><div class="li"> You accidentally run &#039;ipkg upgrade&#039; or filled up the flash by installing to big packages (clean the JFFS2 partition and start over)</div>
</li>
</ol>

<p>
 mtd -r erase rootfs_data
If you are done with failsafe mode power cycle the router and boot in normal mode.
</p>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/asus/wl520gu.txt</bdi> · Last modified: 2013/09/06 23:31 (external edit)</div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="wl520gu?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="wl520gu?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="wl520gu?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="wl520gu#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=toh%253Aasus%253Awl520gu&amp;1432266211" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
