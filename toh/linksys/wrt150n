<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>Linksys WRT150N [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="bcm47xx,bcm4704"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="http://wiki.openwrt.org/toh/linksys/wrt150n?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=toh:linksys"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="http://wiki.openwrt.org/_export/xhtml/toh/linksys/wrt150n"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="http://wiki.openwrt.org/_export/raw/toh/linksys/wrt150n"/>
<link rel="canonical" href="wrt150n"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='toh:linksys';var JSINFO = {"id":"toh:linksys:wrt150n","namespace":"toh:linksys"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432282529 166.182.3.66';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="wrt150n#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="http://wiki.openwrt.org/toh/linksys/wrt150n?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="http://wiki.openwrt.org/toh/linksys/wrt150n?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="toh:linksys:wrt150n" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="http://wiki.openwrt.org/toh/linksys/wrt150n?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="http://wiki.openwrt.org/toh/linksys/wrt150n?do=media&amp;ns=toh%3Alinksys"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="http://wiki.openwrt.org/toh/linksys/wrt150n?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="toh:start">Table of Hardware</a></bdi> » <bdi><a href="start" class="wikilink1" title="toh:linksys:start">Linksys</a></bdi> » <bdi><span class="curid"><a href="wrt150n" class="wikilink1" title="toh:linksys:wrt150n">Linksys WRT150N</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/toh/linksys/wrt150n" class="media" title="cz:toh:linksys:wrt150n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/toh/linksys/wrt150n" class="media" title="de:toh:linksys:wrt150n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="wrt150n" class="media" title="toh:linksys:wrt150n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/toh/linksys/wrt150n" class="media" title="es:toh:linksys:wrt150n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/toh/linksys/wrt150n" class="media" title="fr:toh:linksys:wrt150n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/toh/linksys/wrt150n" class="media" title="hu:toh:linksys:wrt150n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/toh/linksys/wrt150n" class="media" title="jp:toh:linksys:wrt150n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/toh/linksys/wrt150n" class="media" title="pl:toh:linksys:wrt150n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/toh/linksys/wrt150n" class="media" title="pt-br:toh:linksys:wrt150n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/toh/linksys/wrt150n" class="media" title="ru:toh:linksys:wrt150n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/toh/linksys/wrt150n" class="media" title="tr:toh:linksys:wrt150n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/toh/linksys/wrt150n" class="media" title="zh-cn:toh:linksys:wrt150n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/toh/linksys/wrt150n" class="media" title="zh-tw:toh:linksys:wrt150n"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>toh:linksys:wrt150n</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level2"><div class="li"><a href="wrt150n#an_account_of_flashing_openwrt_to_a_wrt150n">An account of flashing OpenWrt to a WRT150N</a></div></li>
<li class="level2"><div class="li"><a href="wrt150n#why_you_should_use_brcm-24">Why you should use brcm-2.4</a></div></li>
<li class="level2"><div class="li"><a href="wrt150n#hardware">Hardware</a></div></li>
<li class="level1"><div class="li"><a href="wrt150n#tags">Tags</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="linksys_wrt150n">Linksys WRT150N</h1>
<div class="level1">

<p>
- tried r39412 and it works without issues
- below is nvram without correction from &#039;/etc/init.d/nvram (mtd erase mtd6 + reboot)
- then boot/klog/dmesg from r39412
- and some some old stuff
</p>

<p>
<pre class="code">root@OpenWrt:/# nvram show | sort
blink_diag_led=1
boardflags2=0
boardflags=0x0010
boardnum=42
boardrev=0x10
boardtype=0x0472
boot_hw_model=WRT150N
boot_hw_ver=1
boot_ver=v4.3
boot_wait=off
bootnv_ver=2
cardbus=1
clkfreq=264
diag_gpio=1
dl_ram_addr=a0001000
et0macaddr=00:1c:10:19:a4:e6
et0mdcport=0
et0phyaddr=30
et1macaddr=00:88:88:88:00:2a
et1mdcport=0
et1phyaddr=4
lan_ipaddr=192.168.1.1
lan_netmask=255.255.255.0
mfg_wait=on
os_flash_addr=bfc40000
os_ram_addr=80001000
parkid=0
pci/1/1/aa2g=3
pci/1/1/ag0=2
pci/1/1/ag1=2
pci/1/1/ag2=2
pci/1/1/boardflags2=1
pci/1/1/boardflags=0x200
pci/1/1/boardrev=0x4b
pci/1/1/boardtype=0x46d
pci/1/1/boardvendor=0x14e4
pci/1/1/bw40po=0
pci/1/1/bwduppo=0
pci/1/1/ccdpo=0
pci/1/1/cck2gpo=0
pci/1/1/ccode=
pci/1/1/devid=0x4329
pci/1/1/itt2ga0=0
pci/1/1/itt2ga1=0
pci/1/1/ledbh0=8
pci/1/1/ledbh1=-1
pci/1/1/ledbh2=-1
pci/1/1/ledbh3=-1
pci/1/1/macaddr=00:88:88:88:00:2a
pci/1/1/maxp2ga0=0
pci/1/1/maxp2ga1=0
pci/1/1/mcs2gpo0=0
pci/1/1/mcs2gpo1=0
pci/1/1/mcs2gpo2=0
pci/1/1/mcs2gpo3=0
pci/1/1/mcs2gpo4=0
pci/1/1/mcs2gpo5=0
pci/1/1/mcs2gpo6=0
pci/1/1/mcs2gpo7=0
pci/1/1/ofdm2gpo=0
pci/1/1/pa2gw0a0=0
pci/1/1/pa2gw0a1=0
pci/1/1/pa2gw1a0=0
pci/1/1/pa2gw1a1=0
pci/1/1/pa2gw2a0=0
pci/1/1/pa2gw2a1=0
pci/1/1/pa2gw3a0=0
pci/1/1/pa2gw3a1=0
pci/1/1/regrev=0
pci/1/1/sromrev=4
pci/1/1/stbcpo=0
pci/1/1/txpid2ga0=91
pci/1/1/txpid2ga1=91
pci/1/1/txpt2g=0x36
pci/1/1/venid=0x14e4
pmon_ver=CFE 4.101.27.0
scratch=a0180000
sdram_config=0x0062
sdram_init=0x054B
sdram_ncdl=0x208
sdram_refresh=0x0
sromrev=4
tftpd_ipaddr=192.168.1.254
wait_time=3
watchdog=5000
wl0gpio0=8</pre>

</p>

<p>
klog/dmesg:
<pre class="code">[    0.000000] Linux version 3.10.28 (openwrt@snapon) (gcc version 4.6.4 (OpenWrt/Linaro GCC 4.6-2013.05 r39412) ) #1 Wed Jan 29 08:21:17 PST 2014
[    0.000000] CPU revision is: 00029006 (Broadcom BMIPS3300)
[    0.000000] bcm47xx: using ssb bus
[    0.000000] ssb: Found chip with id 0x4704, rev 0x09 and package 0x00
[    0.000000] ssb: Core 0 found: ChipCommon (cc 0x800, rev 0x03, vendor 0x4243)
[    0.000000] ssb: Core 1 found: Fast Ethernet (cc 0x806, rev 0x06, vendor 0x4243)
[    0.000000] ssb: Core 2 found: Fast Ethernet (cc 0x806, rev 0x06, vendor 0x4243)
[    0.000000] ssb: Core 3 found: USB 1.1 Hostdev (cc 0x808, rev 0x03, vendor 0x4243)
[    0.000000] ssb: Core 4 found: PCI (cc 0x804, rev 0x08, vendor 0x4243)
[    0.000000] ssb: Core 5 found: MIPS 3302 (cc 0x816, rev 0x03, vendor 0x4243)
[    0.000000] ssb: Core 6 found: V90 (cc 0x807, rev 0x02, vendor 0x4243)
[    0.000000] ssb: Core 7 found: IPSEC (cc 0x80B, rev 0x00, vendor 0x4243)
[    0.000000] ssb: Core 8 found: MEMC SDRAM (cc 0x80F, rev 0x02, vendor 0x4243)
[    0.000000] ssb: chipcommon status is 0x0
[    0.000000] ssb: Initializing MIPS core...
[    0.000000] ssb: set_irq: core 0x0806, irq 4 =&gt; 4
[    0.000000] ssb: set_irq: core 0x0806, irq 5 =&gt; 5
[    0.000000] ssb: set_irq: core 0x0808, irq 6 =&gt; 2
[    0.000000] ssb: set_irq: core 0x0804, irq 2 =&gt; 6
[    0.000000] ssb: after irq reconfiguration
[    0.000000] ssb: core 0x0800, irq : 2(S)  3* 4  5  6  D  I 
[    0.000000] ssb: core 0x0806, irq : 2(S)  3  4* 5  6  D  I 
[    0.000000] ssb: core 0x0806, irq : 2(S)  3  4  5* 6  D  I 
[    0.000000] ssb: core 0x0808, irq : 2(S)* 3  4  5  6  D  I 
[    0.000000] ssb: core 0x0804, irq : 2(S)  3  4  5  6* D  I 
[    0.000000] ssb: core 0x0816, irq : 2(S)* 3  4  5  6  D  I 
[    0.000000] ssb: core 0x0807, irq : 2(S)* 3  4  5  6  D  I 
[    0.000000] ssb: core 0x080b, irq : 2(S)* 3  4  5  6  D  I 
[    0.000000] ssb: core 0x080f, irq : 2(S)  3  4  5  6  D  I*
[    0.000000] ssb: Sonics Silicon Backplane found at address 0x18000000
[    0.000000] MIPS: machine is Linksys WRT150N V1
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 01000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x00ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x00ffffff]
[    0.000000] On node 0 totalpages: 4096
[    0.000000] free_area_init_node: node 0, pgdat 802dcbe0, node_mem_map 8035b000
[    0.000000]   Normal zone: 32 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 4096 pages, LIFO batch:0
[    0.000000] Primary instruction cache 16kB, VIPT, 2-way, linesize 16 bytes.
[    0.000000] Primary data cache 16kB, 2-way, VIPT, cache aliases, linesize 16 bytes
[    0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
[    0.000000] pcpu-alloc: [0] 0 
[    0.000000] Built 1 zonelists in Zone order, mobility grouping off.  Total pages: 4064
[    0.000000] Kernel command line:  noinitrd console=ttyS0,115200
[    0.000000] PID hash table entries: 64 (order: -4, 256 bytes)
[    0.000000] Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.000000] Memory: 12748k/16384k available (2416k kernel code, 3636k reserved, 592k data, 184k init, 0k highmem)
[    0.000000] NR_IRQS:128
[    0.070000] Calibrating delay loop... 262.96 BogoMIPS (lpj=1314816)
[    0.070000] pid_max: default: 32768 minimum: 301
[    0.070000] Mount-cache hash table entries: 512
[    0.070000] NET: Registered protocol family 16
[    0.110000] bio: create slab &lt;bio-0&gt; at 0
[    0.120000] Switching to clocksource MIPS
[    0.130000] ssb: PCIcore in host mode found
[    0.430000] PCI host bridge to bus 0000:00
[    0.430000] pci_bus 0000:00: root bus resource [mem 0x40000000-0x7fffffff]
[    0.430000] pci_bus 0000:00: root bus resource [io  0x0100-0x07ff]
[    0.430000] pci_bus 0000:00: No busn resource found for root bus, will use [bus 00-ff]
[    0.430000] pci 0000:00:00.0: [14e4:4704] type 00 class 0x060000
[    0.430000] ssb: PCI: Fixing up bridge 0000:00:00.0
[    0.430000] pci 0000:00:00.0: setting latency timer to 64
[    0.430000] ssb: PCI: Fixing up device 0000:00:00.0
[    0.430000] ssb: PCI: Fixing latency timer of device 0000:00:00.0 to 168
[    0.430000] pci 0000:00:00.0: reg 10: [mem 0x00000000-0x00001fff]
[    0.430000] pci 0000:00:00.0: reg 14: [mem 0x00000000-0x07ffffff pref]
[    0.430000] pci 0000:00:01.0: [14e4:4321] type 00 class 0x028000
[    0.430000] pci 0000:00:01.0: reg 10: [mem 0x00000000-0x00003fff]
[    0.430000] pci_bus 0000:00: busn_res: [bus 00-ff] end is updated to 00
[    0.430000] pci 0000:00:01.0: BAR 0: assigned [mem 0x40000000-0x40003fff]
[    0.440000] PCI: Enabling device 0000:00:01.0 (0000 -&gt; 0002)
[    0.440000] ssb: PCI: Fixing up device 0000:00:01.0
[    0.440000] b43-pci-bridge 0000:00:01.0: setting latency timer to 64
[    0.480000] ssb: Found chip with id 0x4321, rev 0x01 and package 0x01
[    0.480000] ssb: Core 0 found: ChipCommon (cc 0x800, rev 0x12, vendor 0x4243)
[    0.480000] ssb: Core 1 found: IEEE 802.11 (cc 0x812, rev 0x0B, vendor 0x4243)
[    0.480000] ssb: Core 2 found: PCI-E (cc 0x820, rev 0x02, vendor 0x4243)
[    0.480000] ssb: Core 3 found: PCI (cc 0x804, rev 0x0D, vendor 0x4243)
[    0.480000] ssb: Core 4 found: USB 1.1 Host (cc 0x817, rev 0x04, vendor 0x4243)
[    0.520000] ssb: chipcommon status is 0x0
[    0.520000] ssb: SPROM offset is 0x1000
[    0.540000] can not parse nvram name pci/1/1/ledbh1(null) with value -1 got -22
[    0.540000] can not parse nvram name pci/1/1/ledbh2(null) with value -1 got -22
[    0.540000] can not parse nvram name pci/1/1/ledbh3(null) with value -1 got -22
[    0.690000] ssb: Using SPROM revision 4 provided by platform
[    0.730000] ssb: Sonics Silicon Backplane found on PCI device 0000:00:01.0
[    0.730000] NET: Registered protocol family 2
[    0.730000] TCP established hash table entries: 512 (order: 0, 4096 bytes)
[    0.730000] TCP bind hash table entries: 512 (order: -1, 2048 bytes)
[    0.740000] TCP: Hash tables configured (established 512 bind 512)
[    0.740000] TCP: reno registered
[    0.740000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.740000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.740000] NET: Registered protocol family 1
[    0.740000] PCI: CLS 0 bytes, default 16
[    0.750000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.750000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.750000] msgmni has been set to 24
[    0.750000] io scheduler noop registered
[    0.750000] io scheduler deadline registered (default)
[    0.750000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled
[    0.790000] serial8250.0: ttyS0 at MMIO 0xb8000300 (irq = 3) is a 16550A
[    1.140000] console [ttyS0] enabled
[    1.160000] serial8250.0: ttyS1 at MMIO 0xb8000400 (irq = 3) is a 16550A
[    1.180000] physmap platform flash device: 02000001 at 1c000000
[    1.180000] physmap-flash.0: Found 1 x16 devices at 0x0 in 16-bit bank. Manufacturer ID 0x000001 Chip ID 0x0022f6
[    1.200000] physmap-flash.0: Found an alias at 0x400000 for the chip at 0x0
[    1.200000] physmap-flash.0: Found an alias at 0x800000 for the chip at 0x0
[    1.200000] physmap-flash.0: Found an alias at 0xc00000 for the chip at 0x0
[    1.200000] physmap-flash.0: Found an alias at 0x1000000 for the chip at 0x0
[    1.200000] physmap-flash.0: Found an alias at 0x1400000 for the chip at 0x0
[    1.200000] physmap-flash.0: Found an alias at 0x1800000 for the chip at 0x0
[    1.200000] physmap-flash.0: Found an alias at 0x1c00000 for the chip at 0x0
[    1.200000] Amd/Fujitsu Extended Query Table at 0x0040
[    1.200000]   Amd/Fujitsu Extended Query version 1.1.
[    1.210000] physmap-flash.0: Swapping erase regions for top-boot CFI table.
[    1.210000] number of CFI chips: 1
[    1.220000] 6 bcm47xxpart partitions found on MTD device physmap-flash.0
[    1.230000] Creating 6 MTD partitions on &quot;physmap-flash.0&quot;:
[    1.230000] 0x000000000000-0x000000040000 : &quot;boot&quot;
[    1.240000] 0x000000040000-0x0000003f0000 : &quot;firmware&quot;
[    1.250000] 0x00000004001c-0x000000040960 : &quot;loader&quot;
[    1.260000] 0x000000040960-0x000000149c00 : &quot;linux&quot;
[    1.270000] mtd: partition &quot;linux&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    1.290000] 0x000000149c00-0x0000003f0000 : &quot;rootfs&quot;
[    1.290000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    1.310000] mtd: device 4 (rootfs) set to be root filesystem
[    1.310000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=0x320000, len=0xd0000
[    1.320000] 0x000000320000-0x0000003f0000 : &quot;rootfs_data&quot;
[    1.330000] 0x0000003f0000-0x000000400000 : &quot;nvram&quot;
[    1.360000] libphy: Fixed MDIO Bus: probed
[    1.360000] bcm47xx-wdt bcm47xx-wdt.0: BCM47xx Watchdog Timer enabled (30 seconds, Software Timer)
[    1.370000] GPIO_WDT: failed to register misc device
[    1.380000] TCP: cubic registered
[    1.380000] NET: Registered protocol family 17
[    1.390000] Bridge firewalling registered
[    1.390000] can: controller area network core (rev 20120528 abi 9)
[    1.400000] NET: Registered protocol family 29
[    1.400000] 8021q: 802.1Q VLAN Support v1.8
[    1.420000] VFS: Mounted root (squashfs filesystem) readonly on device 31:4.
[    1.430000] Freeing unused kernel memory: 184K (802f2000 - 80320000)
[    6.390000] pps_core: LinuxPPS API ver. 1 registered
[    6.390000] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti &lt;giometti@linux.it&gt;
[    6.410000] PTP clock support registered
[    6.420000] b44: Broadcom 44xx/47xx 10/100 PCI ethernet driver version 2.0
[    6.440000] libphy: b44_eth_mii: probed
[    6.460000] b53_common: found switch: BCM5325, rev 0
[    6.460000] b44 ssb0:0: attached PHY driver [Broadcom B53 (1)] (mii_bus:phy_addr=1:1e)
[    6.470000] b44 ssb0:0 eth0: Broadcom 44xx/47xx 10/100 PCI ethernet driver 00:1c:10:19:a4:e6
[    6.490000] libphy: b44_eth_mii: probed
[    6.490000] b44 ssb0:1: could not find PHY at 4, use fixed one
[    6.500000] b44 ssb0:1: attached PHY driver [Generic PHY] (mii_bus:phy_addr=fixed-0:00)
[    6.500000] b44 ssb0:1 eth1: Broadcom 44xx/47xx 10/100 PCI ethernet driver 00:88:88:88:00:2a
[    6.520000] bgmac: Broadcom 47xx GBit MAC driver loaded
[    7.150000] b44 ssb0:0 eth0: Link is up at 100 Mbps, half duplex
[    7.160000] b44 ssb0:0 eth0: Flow control is off for TX and off for RX
[   11.940000] b44 ssb0:0 eth0: powering down PHY
[   20.210000] NET: Registered protocol family 10
[   20.240000] nf_conntrack version 0.5.0 (202 buckets, 808 max)
[   20.260000] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   20.310000] Loading modules backported from Linux version master-2013-11-05-0-gafa3093
[   20.320000] Backport generated by backports.git backports-20130802-0-gdb67a3f
[   20.340000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   20.440000] xt_time: kernel timezone is -0000
[   20.490000] cfg80211: Calling CRDA to update world regulatory domain
[   20.500000] cfg80211: World regulatory domain updated:
[   20.500000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
[   20.510000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   20.520000] cfg80211:   (2457000 KHz - 2482000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   20.520000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
[   20.530000] cfg80211:   (5170000 KHz - 5250000 KHz @ 80000 KHz), (300 mBi, 2000 mBm)
[   20.540000] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (300 mBi, 2000 mBm)
[   20.550000] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm)
[   22.910000] PPP generic driver version 2.4.2
[   23.410000] NET: Registered protocol family 24
[   24.080000] b43-phy0: Broadcom 4321 WLAN found (core revision 11)
[   25.060000] b43-phy0: Found PHY: Analog 5, Type 4 (N), Revision 1
[   25.990000] Broadcom 43xx driver loaded [ Features: PNL ]
[   26.560000] Broadcom 43xx-legacy driver loaded [ Features: PLD ]
[   26.590000] ieee80211 phy0: Selected rate control algorithm &#039;minstrel_ht&#039;
[   40.550000] jffs2_scan_eraseblock(): End of filesystem marker found at 0x0
[   40.590000] jffs2_build_filesystem(): unlocking the mtd device... done.
[   40.590000] jffs2_build_filesystem(): erasing all blocks after the end marker... done.
[   49.200000] jffs2: notice: (621) jffs2_build_xattr_subsystem: complete building xattr subsystem, 0 of xdatum (0 unchecked, 0 orphan) and 0 of xref (0 dead, 0 orphan) found.
[   54.270000] b44 ssb0:0 eth0: Link is up at 100 Mbps, half duplex
[   54.270000] b44 ssb0:0 eth0: Flow control is off for TX and off for RX
[   54.290000] device eth0 entered promiscuous mode
[   54.310000] IPv6: ADDRCONF(NETDEV_UP): br-lan: link is not ready
[   54.440000] b44 ssb0:1 eth1: Link is up at 100 Mbps, half duplex
[   54.450000] b44 ssb0:1 eth1: Flow control is off for TX and off for RX
[   55.320000] br-lan: port 1(eth0) entered forwarding state
[   55.320000] br-lan: port 1(eth0) entered forwarding state
[   55.330000] IPv6: ADDRCONF(NETDEV_CHANGE): eth0: link becomes ready
[   55.710000] IPv6: ADDRCONF(NETDEV_CHANGE): br-lan: link becomes ready
[   57.320000] br-lan: port 1(eth0) entered forwarding state</pre>

</p>

</div>

<h3 class="sectionedit2" id="an_account_of_flashing_openwrt_to_a_wrt150n">An account of flashing OpenWrt to a WRT150N</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> The router is a LinkSys WRT150N.  No version is shown on the device.  The serial number begins <code>CQ6..</code></div>
</li>
<li class="level1"><div class="li"> Did a 30/30/30 reset</div>
</li>
<li class="level1"><div class="li"> Joined a laptop to the router with a patch cable</div>
</li>
<li class="level1"><div class="li"> Configured the laptop as <code>192.168.1.2</code></div>
</li>
<li class="level1"><div class="li"> Browsed to <code>192.168.1.1</code></div>
</li>
<li class="level1"><div class="li"> Username: <code>admin</code>, Password: <code>admin</code></div>
</li>
<li class="level1"><div class="li"> Navigated to <em>Administration</em>, <em>Firmware Upgrade</em></div>
</li>
<li class="level1"><div class="li"> Uploaded <a href="http://downloads.openwrt.org/kamikaze/8.09.2/brcm-2.4/openwrt-wrt150n-squashfs.bin" class="urlextern" title="http://downloads.openwrt.org/kamikaze/8.09.2/brcm-2.4/openwrt-wrt150n-squashfs.bin"  rel="nofollow">http://downloads.openwrt.org/kamikaze/8.09.2/brcm-2.4/openwrt-wrt150n-squashfs.bin</a></div>
</li>
</ul>

<p>
After a short while, <code>nmap -F 192.168.1.1</code> showed:
</p>
<pre class="code">PORT   STATE SERVICE
22/tcp open  ssh
23/tcp open  telnet
53/tcp open  domain
80/tcp open  http</pre>

<p>
<a href="http://wiki.openwrt.org/doc/hardware/soc/soc.broadcom.bcm47xx/image_conversion" class="wikilink2" title="doc:hardware:soc:soc.broadcom.bcm47xx:image_conversion" rel="nofollow">image conversion</a>
</p>
<pre class="code">route add default gw 192.168.1.2  # assuming .2 is your laptop
vi /etc/resolv.conf  # to tell OpenWrt where the DNS recursor is
opkg update
opkg install kmod-brcm-wl-mimo
reboot</pre>

</div>

<h3 class="sectionedit3" id="why_you_should_use_brcm-24">Why you should use brcm-2.4</h3>
<div class="level3">

<p>
The <code>brcm47xx</code> flavour of <code>10.03.1</code> will yield:
</p>
<pre class="code">b43-phy0: Broadcom 4321 WLAN found (core revision 11)
b43-phy0 ERROR: FOUND UNSUPPORTED PHY (Analog 5, Type 4, Revision 1)
b43: probe of ssb1:0 failed with error -122</pre>

<p>
..in the kernel log and no wireless interface.
</p>

</div>

<h3 class="sectionedit4" id="hardware">Hardware</h3>
<div class="level3">

<p>
<code>/proc/cpuinfo</code>:
</p>
<pre class="code">system type		: Broadcom BCM4704 chip rev 9
processor		: 0
cpu model		: BCM3302 V0.6
BogoMIPS		: 263.78
wait instruction	: no
microsecond timers	: yes
tlb_entries		: 32
extra interrupt vector	: no
hardware watchpoint	: no
VCED exceptions		: not available
VCEI exceptions		: not available</pre>

<p>
<code>/proc/pci</code>:
</p>
<pre class="code">PCI devices found:
  Bus  0, device   0, function  0:
    Class 0501: PCI device 14e4:0800 (rev 9).
      IRQ 3.
      Non-prefetchable 32 bit memory at 0x18000000 [0x18000fff].
      Non-prefetchable 32 bit memory at 0x1fc00000 [0x1fffffff].
      Non-prefetchable 32 bit memory at 0x1c000000 [0x1dffffff].
      Non-prefetchable 32 bit memory at 0x1a000000 [0x1bffffff].
  Bus  0, device   1, function  0:
    Class 0200: PCI device 14e4:4713 (rev 9).
      IRQ 4.
      Master Capable.  Latency=64.  
      Non-prefetchable 32 bit memory at 0x18001000 [0x18001fff].
  Bus  0, device   2, function  0:
    Class 0200: PCI device 14e4:4713 (rev 9).
      IRQ 5.
      Master Capable.  Latency=64.  
      Non-prefetchable 32 bit memory at 0x18002000 [0x18002fff].
  Bus  0, device   3, function  0:
    Class 0c03: PCI device 14e4:4715 (rev 9).
      IRQ 6.
      Non-prefetchable 32 bit memory at 0x18003000 [0x18003fff].
  Bus  0, device   4, function  0:
    Class 0604: PCI device 14e4:0804 (rev 9).
      IRQ 2.
      Non-prefetchable 32 bit memory at 0x18004000 [0x18004fff].
      Non-prefetchable 32 bit memory at 0x8000000 [0xfffffff].
  Bus  0, device   5, function  0:
    Class 0b30: PCI device 14e4:0816 (rev 9).
      IRQ 2.
      Non-prefetchable 32 bit memory at 0x18005000 [0x18005fff].
  Bus  0, device   6, function  0:
    Class 0703: PCI device 14e4:4712 (rev 9).
      IRQ 2.
      Non-prefetchable 32 bit memory at 0x18006000 [0x18006fff].
  Bus  0, device   7, function  0:
    Class 1000: PCI device 14e4:4718 (rev 9).
      IRQ 2.
      Non-prefetchable 32 bit memory at 0x18007000 [0x18007fff].
  Bus  0, device   8, function  0:
    Class 0500: PCI device 14e4:080f (rev 9).
      IRQ 3.
      Non-prefetchable 32 bit memory at 0x18008000 [0x18008fff].
      Non-prefetchable 32 bit memory at 0x0 [0x7ffffff].
      Non-prefetchable 32 bit memory at 0x10000000 [0x17ffffff].
      Non-prefetchable 32 bit memory at 0x80000000 [0x9fffffff].
  Bus  1, device   0, function  0:
    Class 0600: PCI device 14e4:4704 (rev 9).
      IRQ 2.
      Master Capable.  Latency=64.  
      Non-prefetchable 32 bit memory at 0x40000000 [0x40001fff].
      Prefetchable 32 bit memory at 0x0 [0x7ffffff].
  Bus  1, device   1, function  0:
    Class 0280: PCI device 14e4:4321 (rev 1).
      IRQ 2.
      Master Capable.  Latency=64.  
      Non-prefetchable 32 bit memory at 0x40004000 [0x40007fff].</pre>

</div>

<h2 class="sectionedit5" id="tags">Tags</h2>
<div class="level2">
<div class="tags"><span>
	<a href="../../tag/bcm47xx?do=showtag&amp;tag=bcm47xx" class="wikilink1" title="tag:bcm47xx" rel="tag">bcm47xx</a>,
	<a href="../../tag/bcm4704?do=showtag&amp;tag=bcm4704" class="wikilink1" title="tag:bcm4704" rel="tag">bcm4704</a>
</span></div>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>toh/linksys/wrt150n.txt</bdi> · Last modified: 2014/01/30 10:50 by <bdi>bittorf.bastian</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="http://wiki.openwrt.org/toh/linksys/wrt150n?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="http://wiki.openwrt.org/toh/linksys/wrt150n?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="http://wiki.openwrt.org/toh/linksys/wrt150n?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="wrt150n#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="http://wiki.openwrt.org/lib/exe/indexer.php?id=toh%3Alinksys%3Awrt150n&amp;1432282529" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
