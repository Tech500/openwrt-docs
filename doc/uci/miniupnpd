<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>miniupnpd [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="doc,uci,miniupnpd"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="miniupnpd?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=doc:uci"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/doc/uci/miniupnpd"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/doc/uci/miniupnpd"/>
<link rel="canonical" href="miniupnpd"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='doc:uci';var JSINFO = {"id":"doc:uci:miniupnpd","namespace":"doc:uci"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432266646 166.182.3.153';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="miniupnpd#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="miniupnpd?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="miniupnpd?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="doc:uci:miniupnpd" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="miniupnpd?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="miniupnpd?do=media&amp;ns=doc%253Auci"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="miniupnpd?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="doc:start">Documentation</a></bdi> » <bdi><a href="../uci.1" class="wikilink1" title="doc:uci">The UCI System</a></bdi> » <bdi><span class="curid"><a href="miniupnpd" class="wikilink1" title="doc:uci:miniupnpd">miniupnpd</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/doc/uci/miniupnpd" class="media" title="cz:doc:uci:miniupnpd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/doc/uci/miniupnpd" class="media" title="de:doc:uci:miniupnpd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="miniupnpd" class="media" title="doc:uci:miniupnpd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/doc/uci/miniupnpd" class="media" title="es:doc:uci:miniupnpd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/doc/uci/miniupnpd" class="media" title="fr:doc:uci:miniupnpd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/doc/uci/miniupnpd" class="media" title="hu:doc:uci:miniupnpd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/doc/uci/miniupnpd" class="media" title="jp:doc:uci:miniupnpd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/doc/uci/miniupnpd" class="media" title="pl:doc:uci:miniupnpd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/doc/uci/miniupnpd" class="media" title="pt-br:doc:uci:miniupnpd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/doc/uci/miniupnpd" class="media" title="ru:doc:uci:miniupnpd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/doc/uci/miniupnpd" class="media" title="tr:doc:uci:miniupnpd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/doc/uci/miniupnpd" class="media" title="zh-cn:doc:uci:miniupnpd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/doc/uci/miniupnpd" class="media" title="zh-tw:doc:uci:miniupnpd"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>doc:uci:miniupnpd</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="miniupnpd#after_r25955_20110308">after r25955 2011/03/08</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="miniupnpd#default">Default</a></div></li>
<li class="level2"><div class="li"><a href="miniupnpd#config_upnpd_config">config upnpd &#039;config&#039;</a></div></li>
<li class="level2"><div class="li"><a href="miniupnpd#config_perm_rule">config &#039;perm_rule&#039;</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="miniupnpd#prior_to_r25887_20110306">prior to  r25887 2011/03/06</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="miniupnpd#default1">Default</a></div></li>
<li class="level2"><div class="li"><a href="miniupnpd#config_upnpd_config1">config upnpd &#039;config&#039;</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="miniupnpd#notes">Notes</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->
<div class="plugin_include_content plugin_include__meta:infobox:wip" id="plugin_include__meta__infobox__wip">

<p>

<table class="inline" style="width:70%; margin-left:15%">
  <tr>
    <td style="border-left:6px solid #b8b8b8; vertical-align:middle">
      <img src="../../_media/meta/icons/tango/48px-emblem-progress.svg.png" alt="" style="float:left; margin-right:0.5em" />
      <strong>Work in Progress!</strong><br />
      This page is a continuous work in progress. You can <a href="miniupnpd?do=edit">edit</a> this page to contribute information.
    </td>
  </tr>
</table>

</p>
</div>

<h1 class="sectionedit3" id="miniupnpd">miniupnpd</h1>
<div class="level1">

<p>
Mini UPnPd is a lightweight implementation of a UPnP IGD daemon. More info at <a href="http://miniupnp.free.fr" class="urlextern" title="http://miniupnp.free.fr"  rel="nofollow">http://miniupnp.free.fr</a>
</p>

<p>
See also <a href="minidlna" class="wikilink1" title="doc:uci:minidlna">minidlna</a> and <a href="../howto/upnp" class="wikilink1" title="doc:howto:upnp">upnp</a>
</p>

</div>

<h2 class="sectionedit4" id="after_r25955_20110308">after r25955 2011/03/08</h2>
<div class="level2">

</div>

<h3 class="sectionedit5" id="default">Default</h3>
<div class="level3">
<div class="table sectionedit6"><table class="inline">
	<tr class="row0">
		<td class="col0"> <code>
config upnpd config
        option enable_natpmp  1
        option secure_mode    1
        option log_output     0
        option download       1024
        option upload         512
        option external_iface wan
        option internal_iface lan
  
config perm_rule
        option action    deny
        option ext_ports 0-65535
        option int_addr  0.0.0.0/0
        option int_ports 0:65535
</code> </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit7" id="config_upnpd_config">config upnpd &#039;config&#039;</h3>
<div class="level3">
<div class="table sectionedit8"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Type </th><th class="col2"> Required </th><th class="col3"> Default </th><th class="col4"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <code>clean_ruleset_threshold</code> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>(none)</em> </td><td class="col4"> Minimum number of redirections before clearing rules table of old (active) redirections.  Code default is 20. </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <code>clean_ruleset_interval</code> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>(none)</em> </td><td class="col4"> Number of seconds before cleaning redirections.  Code default is 600 which is sane. </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <code>config_file</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>(none)</em> </td><td class="col4"> Use the specified configuration file if present.  If specified the uci options are not used, except that external_iface determines the iptables table used. </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <code>download</code> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>(none)</em> </td><td class="col4"> Bandwidth available for traffic coming in from the external interface in kilobytes per second.  Note that this only information given to clients, it doesn&#039;t control the speed. </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <code>enable_natpmp</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>1</code> </td><td class="col4"> Enable NAT-PMP. </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <code>enable_upnp</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>1</code> </td><td class="col4"> Enable UPnP. </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <code>external_iface</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <code>wan</code> </td><td class="col4"> External interface (wan) </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <code>external_ip</code> </td><td class="col1"> ipv4addr </td><td class="col2"> no </td><td class="col3"> <em>(none)</em> </td><td class="col4"> Manually specified external IP - if not specified the default ipv4 address of the external interface is used.</td>
	</tr>
	<tr class="row9">
		<td class="col0"><code>internal_iface</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <code>lan</code> </td><td class="col4"> Space separated list of internal interfaces (lans) </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <code>log_output</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>0</code> </td><td class="col4"> Log messages normally sent to stderr/out to syslog. </td>
	</tr>
	<tr class="row11">
		<td class="col0"> <code>model_number</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>(none)</em> </td><td class="col4"> Specify model number for XML Root Desc. </td>
	</tr>
	<tr class="row12">
		<td class="col0"> <code>notify_interval</code> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>(none)</em> </td><td class="col4"> </td>
	</tr>
	<tr class="row13">
		<td class="col0"> <code>port</code> </td><td class="col1"> integer (or string &#039;auto&#039;) </td><td class="col2"> no </td><td class="col3"> <code>5000</code> </td><td class="col4"> Port to listen for HTTP requests.  If set to &#039;auto&#039; a random port is used. </td>
	</tr>
	<tr class="row14">
		<td class="col0"> <code>presentation_url</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>(none)</em> </td><td class="col4"> Presentation url for the Root Desc.  If not specified the first IP in the first internal interface is used. </td>
	</tr>
	<tr class="row15">
		<td class="col0"> <code>secure_mode</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>1</code> </td><td class="col4"> Secure mode; client can only redirect an incoming port to the client itself (same IP as the request comes from). </td>
	</tr>
	<tr class="row16">
		<td class="col0"> <code>serial_number</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>(none)</em> </td><td class="col4"> Specify serial number for XML Root Desc. </td>
	</tr>
	<tr class="row17">
		<td class="col0"> <code>upload</code> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>(none)</em> </td><td class="col4"> Bandwidth available for traffic out the external interface in kilobytes per second. Note that this only information given to clients, it doesn&#039;t control the speed. </td>
	</tr>
	<tr class="row18">
		<td class="col0"> <code>upnp_lease_file</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>(none)</em> </td><td class="col4"> Store active UPnP redirects in a lease file (specified), like DHCP leases. </td>
	</tr>
	<tr class="row19">
		<td class="col0"> <code>system_uptime</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>1</code> </td><td class="col4"> Use system uptime as UPnP uptime instead of miniupnpd daemon uptime. </td>
	</tr>
	<tr class="row20">
		<td class="col0"> <code>uuid</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>UUID autogenerated on first launch of miniupnpd</em> </td><td class="col4"> UUID for UPnP IGD.  If none specified one will be autogenerated and added to the config file.  &#039;nocli&#039; means a non-unique UUID from the code will be used (previous default behaviour). </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit9" id="config_perm_rule">config &#039;perm_rule&#039;</h3>
<div class="level3">

<p>
These rules define what holes may be opened by UPnP or NAT-PMP clients on the internal interfaces.  Note that if secure_mode is set above, then a client may only open a hole to itself (the same IP as it makes the UPnP request from).  Rules are applied in the order they appear in the configuration file (so the above deny rule before anything else will block all UPnP actions).
</p>
<div class="table sectionedit10"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Type </th><th class="col2"> Required </th><th class="col3"> Default </th><th class="col4"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <code>action</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <code>deny</code> </td><td class="col4"> One of <code>allow</code> or <code>deny</code> .  Allow or deny the redirection(s) described by this rule. </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <code>ext_ports</code> </td><td class="col1"> portrange </td><td class="col2"> no </td><td class="col3"> <code>0-65535</code> </td><td class="col4"> Range of ports on the external side (incoming) for this rule.  Can be x, x-y, or x:y. </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <code>int_addr</code> </td><td class="col1"> cidr </td><td class="col2"> no </td><td class="col3"> <code>0.0.0.0/0</code> </td><td class="col4"> CIDR of address or addresses to which the redirection may be directed.   Must be of the form n.n.n.n/n even for single IPs.  Note that doesn&#039;t allow redirections that aren&#039;t allowed because of secure_mode. </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <code>int_ports</code> </td><td class="col1"> portrange </td><td class="col2"> no </td><td class="col3"> <code>0-65535</code> </td><td class="col4"> Range of ports on the internal side (destination) for this rule.  Can be x, x-y, or x:y. </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit11" id="prior_to_r25887_20110306">prior to  r25887 2011/03/06</h2>
<div class="level2">

</div>

<h3 class="sectionedit12" id="default1">Default</h3>
<div class="level3">
<div class="table sectionedit13"><table class="inline">
	<tr class="row0">
		<td class="col0"> <code>
config upnpd config
        option enable         0
        option enable_natpmp  1
        option secure_mode    1
        option log_output     0
        option download       1024
        option upload         512
        option external_iface wan
        option internal_iface lan
</code> </td>
	</tr>
</table></div>

</div>

<h3 class="sectionedit14" id="config_upnpd_config1">config upnpd &#039;config&#039;</h3>
<div class="level3">
<div class="table sectionedit15"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Type </th><th class="col2"> Required </th><th class="col3"> Default </th><th class="col4"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <code>download</code> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>(none)</em> </td><td class="col4"> Bandwidth available for traffic coming in from the external interface in kilobytes per second. </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <code>enabled</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>0</code> </td><td class="col4"> MiniUPnPd is will be started when launched by the init script. </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <code>external_iface</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <code>wan</code> </td><td class="col4"> External interface (wan) </td>
	</tr>
	<tr class="row4">
		<td class="col0"><code>internal_iface</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <code>lan</code> </td><td class="col4"> Space separated list of internal interfaces (lans) </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <code>log_output</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>0</code> </td><td class="col4"> Log messages normally sent to stderr/out to syslog. </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <code>secure_mode</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>0</code> </td><td class="col4"> Secure mode; client can only redirect an incoming port to the client itself (same IP as the request comes from). </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <code>upload</code> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>(none)</em> </td><td class="col4"> Bandwidth available for traffic out the external interface in kilobytes per second. </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit16" id="notes">Notes</h2>
<div class="level2">

<p>
after installing and enabling, dont forget to restart the firewall.
</p>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>doc/uci/miniupnpd.txt</bdi> · Last modified: 2012/08/02 09:01 by <bdi>mediamind</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="miniupnpd?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="miniupnpd?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="miniupnpd?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="miniupnpd#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=doc%253Auci%253Aminiupnpd&amp;1432266646" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
