<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>Development FAQ [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="doc,faq,development"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="development?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../../feed.php?mode=list&amp;ns=doc:faq"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/doc/faq/development"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/doc/faq/development"/>
<link rel="canonical" href="development"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='doc:faq';var JSINFO = {"id":"doc:faq:development","namespace":"doc:faq"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432265675 166.182.3.62';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="development#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../../start"  accesskey="h" title="[H]"><img src="../../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="development?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="development?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="doc:faq:development" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="development?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="development?do=media&amp;ns=doc%253Afaq"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="development?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="../start" class="wikilink1" title="doc:start">Documentation</a></bdi> » <bdi><a href="../faq.1" class="wikilink1" title="doc:faq">OpenWrt FAQ (Frequently Asked Questions)</a></bdi> » <bdi><span class="curid"><a href="development" class="wikilink1" title="doc:faq:development">Development FAQ</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/doc/faq/development" class="media" title="cz:doc:faq:development"><img src="../../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/doc/faq/development" class="media" title="de:doc:faq:development"><img src="../../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="development" class="media" title="doc:faq:development"><img src="../../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/doc/faq/development" class="media" title="es:doc:faq:development"><img src="../../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/doc/faq/development" class="media" title="fr:doc:faq:development"><img src="../../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/doc/faq/development" class="media" title="hu:doc:faq:development"><img src="../../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/doc/faq/development" class="media" title="jp:doc:faq:development"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/doc/faq/development" class="media" title="pl:doc:faq:development"><img src="../../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/doc/faq/development" class="media" title="pt-br:doc:faq:development"><img src="../../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/doc/faq/development" class="media" title="ru:doc:faq:development"><img src="../../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/doc/faq/development" class="media" title="tr:doc:faq:development"><img src="../../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <a href="../../zh-cn/doc/faq/development" class="media" title="zh-cn:doc:faq:development"><img src="../../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/doc/faq/development" class="media" title="zh-tw:doc:faq:development"><img src="../../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>doc:faq:development</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="development#where_is_the_source_code">Where is the source code?</a></div></li>
<li class="level1"><div class="li"><a href="development#how_much_disk_space_is_needed_for_compiling">How much disk space is needed for compiling ?</a></div></li>
<li class="level1"><div class="li"><a href="development#what_system_can_i_build_openwrt_on">What System can I build OpenWrt on ?</a></div></li>
<li class="level1"><div class="li"><a href="development#how_much_time_is_needed_for_compiling">How much time is needed for compiling ?</a></div></li>
<li class="level1"><div class="li"><a href="development#should_i_report_bugs_related_to_the_openwrt_buildroot">Should I report bugs related to the OpenWrt Buildroot</a></div></li>
<li class="level1"><div class="li"><a href="development#how_do_i_create_a_package">How do I create a package?</a></div></li>
<li class="level1"><div class="li"><a href="development#how_can_i_help_or_contribute">How can I help or contribute ?</a></div></li>
<li class="level1"><div class="li"><a href="development#how_can_i_speed_up_build_process">How can I speed up build process ?</a></div></li>
<li class="level1"><div class="li"><a href="development#help_me_-_i_build_an_image_and_it_s_too_large_my_rootfs_is_too_small_my_router_does_not_remember_settings">Help me - I build an image and it&#039;s too large ! My rootfs is too small! My router does not remember settings!</a></div></li>
<li class="level1"><div class="li"><a href="development#common_errors">Common errors</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="development_faq">Development FAQ</h1>
<div class="level1">

<p>
See also the OpenWrt <a href="http://dev.openwrt.org/" class="urlextern" title="http://dev.openwrt.org/"  rel="nofollow">development center</a> website. There you can browse the source code and send reproducible bugs with the ticket system (in trac).
</p>

<p>
other articles worth reading:
</p>
<ol>
<li class="level1"><div class="li"> about the <a href="../../about/toolchain" class="wikilink1" title="about:toolchain">Toolchain</a></div>
</li>
<li class="level1"><div class="li"> about it&#039;s installation <a href="../howto/buildroot.exigence" class="wikilink1" title="doc:howto:buildroot.exigence">OpenWrt Buildroot – Installation</a></div>
</li>
<li class="level1"><div class="li"> about it&#039;s usage <a href="../howto/obtain.firmware.compile" class="wikilink1" title="doc:howto:build">OpenWrt Buildroot – Usage</a></div>
</li>
</ol>

</div>

<h2 class="sectionedit2" id="where_is_the_source_code">Where is the source code?</h2>
<div class="level2">

<p>
Almost every software in OpenWrt is available as a package. OpenWrt *downloads* code (using archive, git …) compiles it and includes in the final image.
Every archive lands in &quot;dl&quot; directory&quot;.
Every code (from archive or git) is available in build_dir.
</p>

<p>
A mirror of package sources is maintained at <a href="http://mirror2.openwrt.org/sources/" class="urlextern" title="http://mirror2.openwrt.org/sources/"  rel="nofollow">http://mirror2.openwrt.org/sources/</a>.
</p>

</div>

<h2 class="sectionedit3" id="how_much_disk_space_is_needed_for_compiling">How much disk space is needed for compiling ?</h2>
<div class="level2">

<p>
Approximately required disc space for compiling OpenWrt:
</p>
<div class="table sectionedit4"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign"> Branch           </th><th class="col1 centeralign">    Min.   </th><th class="col2"> Max. </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> typical, Stable  </td><td class="col1 rightalign">  1.5 <abbr title="Gigabyte">GB</abbr> </td><td class="col2 rightalign">  3.5 <abbr title="Gigabyte">GB</abbr> </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> Development      </td><td class="col1 rightalign">       ? </td><td class="col2 rightalign">  3.8 <abbr title="Gigabyte">GB</abbr> </td>
	</tr>
	<tr class="row3">
		<td class="col0"> Development+feeds</td><td class="col1 rightalign">       ? </td><td class="col2 rightalign">   &gt;5 <abbr title="Gigabyte">GB</abbr> </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> all feeds/pkgs   </td><td class="col1 rightalign">       x </td><td class="col2 rightalign">  ~45 <abbr title="Gigabyte">GB</abbr> </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> all feeds+debug  </td><td class="col1 leftalign">         </td><td class="col2 leftalign"> <img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" />   </td>
	</tr>
</table></div>

<p>
Typical: Compile an Image that is working on typical consumer routers that have 4MB or 8MB flash.
</p>

<p>
Compiling also tested on some Windows <abbr title="Operating System">OS</abbr> under <a href="http://wiki.gp2x.org/wiki/AndLinux" class="urlextern" title="http://wiki.gp2x.org/wiki/AndLinux"  rel="nofollow">AndLinux</a> (<a href="http://www.colinux.org" class="urlextern" title="http://www.colinux.org"  rel="nofollow">coLinux</a> + Ubuntu)
</p>

</div>

<h2 class="sectionedit5" id="what_system_can_i_build_openwrt_on">What System can I build OpenWrt on ?</h2>
<div class="level2">

<p>
OpenWrt Buildroot needs a case sensitive file system.
</p>

<p>
It should work on almost any Linux Distribution.
Tested: Debian (6, 7, Unstable(2014)), Ubuntu, Fedora 19,20 , Arch Linux, OpenSuse 13.3
Exotic Linux variants might have some bugs regarding headers (Alpine Linux).
BSD (FreeBSD), MacOSX are somewhat untested.
Cygwin (Windows) has possible issues with file system being not case sensitive.
</p>

<p>
Recommended: Build older versions with older Linux versions in a VM.
</p>

</div>

<h2 class="sectionedit6" id="how_much_time_is_needed_for_compiling">How much time is needed for compiling ?</h2>
<div class="level2">

<p>
Build-time is highly dependable on the number of Cores/Jobs and can be shrunk to less than 30 minutes (from 90 minutes). 
<strong>Build time with single core can take several hours.</strong>
</p>

<p>
<img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> see Hints to reduce build time
</p>
<div class="table sectionedit7"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> make jobs </th><th class="col1"> time needed </th><th class="col2"> source </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> 1, typical</td><td class="col1 leftalign">          </td><td class="col2 leftalign">         </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> 1, all    </td><td class="col1"> 10h48min </td><td class="col2"> <a href="http://buildbot.openwrt.org:8010/grid" class="urlextern" title="http://buildbot.openwrt.org:8010/grid"  rel="nofollow">buildbot</a> </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> 2  all,local feed. mirrots       </td><td class="col1 leftalign"> 3h40min         </td><td class="col2 leftalign">         </td>
	</tr>
	<tr class="row4">
		<td class="col0"> 4,typical </td><td class="col1 centeralign">  45min   </td><td class="col2 leftalign">         </td>
	</tr>
	<tr class="row5">
		<td class="col0"> 4, all,local feed, mirrors </td><td class="col1" colspan="2"> 2h17min</td>
	</tr>
	<tr class="row6">
		<td class="col0" colspan="3"> 8 </td>
	</tr>
</table></div>

<p>
Typical: select packages fitting into 8MB flash, build on HDD, ar71xx or brcm47xx target
</p>

<p>
<img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> Test SSD vs. HDD
</p>

</div>

<h2 class="sectionedit8" id="should_i_report_bugs_related_to_the_openwrt_buildroot">Should I report bugs related to the OpenWrt Buildroot</h2>
<div class="level2">

<p>
Yes, of course. If you find any bugs, please use our <a href="http://dev.openwrt.org/report" class="urlextern" title="http://dev.openwrt.org/report"  rel="nofollow">ticket system</a> or send a report to openwrt-devel@openwrt.org . You can send patches for the bugs as well.
</p>

<p>
/!\ <strong>NOTE:</strong> Changes to the buildroot system or the associated <pre class="code">Makefiles</pre>

 could break the compile process. Please do not submit bug reports against <em>modified copies of buildroot</em>. Thanks!
</p>

</div>

<h2 class="sectionedit9" id="how_do_i_create_a_package">How do I create a package?</h2>
<div class="level2">

<p>
See <a href="../devel/packages" class="wikilink1" title="doc:devel:packages">Creating Packages</a>.
</p>

</div>

<h2 class="sectionedit10" id="how_can_i_help_or_contribute">How can I help or contribute ?</h2>
<div class="level2">

<p>
see: <a href="../../about/start?#how.can.i.contribute" class="urlextern" title="http://wiki.openwrt.org/about/start?#how.can.i.contribute"  rel="nofollow">http://wiki.openwrt.org/about/start?#how.can.i.contribute</a>
</p>

<p>
see: <a href="https://dev.openwrt.org/wiki/SupportDonate" class="urlextern" title="https://dev.openwrt.org/wiki/SupportDonate"  rel="nofollow">https://dev.openwrt.org/wiki/SupportDonate</a>
</p>

<p>
<strong>Development</strong>
</p>

<p>
The OpenWrt build bots provide a list of broken packages: <a href="http://buildbot.openwrt.org:8010/broken_packages/" class="urlextern" title="http://buildbot.openwrt.org:8010/broken_packages/"  rel="nofollow">http://buildbot.openwrt.org:8010/broken_packages/</a>
</p>

<p>
There is a comparison of OpenWrt and upstream package versions available: <a href="https://home.comcast.net/~sdwalker/uscan/index.html" class="urlextern" title="https://home.comcast.net/~sdwalker/uscan/index.html"  rel="nofollow">https://home.comcast.net/~sdwalker/uscan/index.html</a>
</p>

<p>
<strong>Testing/Review</strong>
</p>

<p>
The mailing list: <a href="https://lists.openwrt.org/pipermail/openwrt-devel/" class="urlextern" title="https://lists.openwrt.org/pipermail/openwrt-devel/"  rel="nofollow">https://lists.openwrt.org/pipermail/openwrt-devel/</a>
generates Patchwork entries: <a href="http://patchwork.ozlabs.org/project/openwrt/list/" class="urlextern" title="http://patchwork.ozlabs.org/project/openwrt/list/"  rel="nofollow">http://patchwork.ozlabs.org/project/openwrt/list/</a>
</p>

</div>

<h2 class="sectionedit11" id="how_can_i_speed_up_build_process">How can I speed up build process ?</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Use -j switch to enable parallel builds</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Use local mirror to avoid downloads (advanced build options)</div>
</li>
</ul>

<p>
<pre class="code">
CONFIG_LOCALMIRROR=&quot;file:///home/username/mirror&quot;
</pre>

</p>
<ul>
<li class="level1"><div class="li"> use local feeds ( src-link ) instead of downloading with git</div>
</li>
</ul>

</div>

<h2 class="sectionedit12" id="help_me_-_i_build_an_image_and_it_s_too_large_my_rootfs_is_too_small_my_router_does_not_remember_settings">Help me - I build an image and it&#039;s too large ! My rootfs is too small! My router does not remember settings!</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> you installed or selected too many packages</div>
</li>
<li class="level1"><div class="li"> select packages with &quot;y&quot; / shows as &quot;*&quot; so they get included in squashfs instead of installing them later to jffs2</div>
</li>
<li class="level1"><div class="li"> delete unused base packages: <img src="../../lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /> be very careful <img src="../../lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /></div>
</li>
</ul>

<p>
Example <strong>ppp</strong> :luci automatically selects ppp. This is not always needed.
</p>
<ol>
<li class="level1"><div class="li"> de-select &quot;luci&quot; </div>
</li>
<li class="level2"><div class="li"> pick the components manually: luci-base, luci-mod-admin-full, luci-theme-bootstrap</div>
</li>
</ol>
<ul>
<li class="level1"><div class="li"> use extroot</div>
</li>
<li class="level1"><div class="li"> disable busybox features</div>
</li>
<li class="level1"><div class="li"> hardware mod your router with larger flash ( <img src="../../lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /> possible bootloader modification )</div>
</li>
</ul>

</div>

<h2 class="sectionedit13" id="common_errors">Common errors</h2>
<div class="level2">

<p>
<strong>Unclean buildroot</strong>
</p>

<p>
- Files inside the buildroot are specific to host systems.
</p>

<p>
<pre class="code">Build dependency: Please install GNU find

# old files in staging_dir/host</pre>

</p>

<p>
- <strong>remove untracked files</strong> with the help of svn or git
</p>

<p>
- use make targets depending on what you don&#039;t want
<pre class="code">make clean
make dirclean
make distclean
make target/linux/clean *
rm -rf tmp/
rm .config .config.old
</pre>

* Kernel Config change is not triggering rebuild, see: <a href="https://lists.openwrt.org/pipermail/openwrt-devel/2013-September/021587.html" class="urlextern" title="https://lists.openwrt.org/pipermail/openwrt-devel/2013-September/021587.html"  rel="nofollow"> openwrt-devel </a>
</p>

<p>
If you are running a buildroot inside a VM with many threads you might experience random build failures.
</p>

<p>
Setup:
Host: i7 16GB RAM, VM on Harddisk, Win 7 64bit, VMWare Player
Guest: Lubuntu 13.04 64bit 4GB RAM ext4 partition make -j 8
</p>

<p>
Errors: Build fails like
<pre class="code">mv: cannot stat &#039;.deps/dlog.Tpo&#039;: No such file or directory

or 

../libtool: line 46: -c: command not found
libtool: Version mismatch error.  This is libtool 2.4, but the
libtool: definition of this LT_INIT comes from libtool 2.2.6.
libtool: You should recreate aclocal.m4 with macros from libtool 2.4
libtool: and run autoconf again.</pre>

cleaning up buildroot helps sometimes, reduce concurrency
</p>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>doc/faq/development.txt</bdi> · Last modified: 2015/05/04 21:38 by <bdi>theoradicus</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="development?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="development?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="development?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="development#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/indexer.php?id=doc%253Afaq%253Adevelopment&amp;1432265675" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
