<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>Airties WAV-281 [OpenWrt Wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="lantiq,danube,adsl2"/>
<link rel="search" type="application/opensearchdescription+xml" href="../lib/exe/opensearch.php" title="OpenWrt Wiki"/>
<link rel="start" href="../index.html"/>
<link rel="contents" href="airties-wav281?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../feed.php?mode=list&amp;ns=inbox"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../_export/xhtml/inbox/airties-wav281"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../_export/raw/inbox/airties-wav281"/>
<link rel="canonical" href="airties-wav281"/>
<link rel="stylesheet" type="text/css" href="../lib/exe/css.php?t=openwrt&amp;tseed=6f44f363dc87908d905dc56ff3acbfc4"/>
<script type="text/javascript">/*<![CDATA[*/var NS='inbox';var JSINFO = {"id":"inbox:airties-wav281","namespace":"inbox"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../lib/exe/js.php?tseed=6f44f363dc87908d905dc56ff3acbfc4"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/jQuery(function(){
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1432265562 166.182.3.5';
			document.forms[i].appendChild(myElement);
		}
	}
});
/*!]]>*/</script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../lib/tpl/openwrt/images/favicon.ico" />
<link rel="apple-touch-icon" href="../lib/tpl/openwrt/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_openwrt     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="airties-wav281#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="../start"  accesskey="h" title="[H]"><img src="../lib/tpl/openwrt/images/logo.png" width="386" height="98" alt="" /> <span>OpenWrt Wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="airties-wav281?do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="airties-wav281?do=login&amp;sectok=382740b13d95f946eed36caa57076b4a"  class="action login" rel="nofollow" title="Login">Login</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="../start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="../doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="inbox:airties-wav281" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Login</option><option value="register">Register</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="airties-wav281?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a></li><li><a href="airties-wav281?do=media&amp;ns=inbox"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="airties-wav281?do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="../start" class="wikilink1" title="start">OpenWrt Wiki</a></bdi></span> » <bdi><a href="start" class="wikilink1" title="inbox:start">Build and installation - Few Adjustments - NEW (shiva)</a></bdi> » <bdi><span class="curid"><a href="airties-wav281" class="wikilink1" title="inbox:airties-wav281">Airties WAV-281</a></span></bdi></div>
                                    <div class="plugin_multilingual">
        <ul>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/cz/inbox/airties-wav281" class="media" title="cz:inbox:airties-wav281"><img src="../lib/exe/fetch.php?cache=&amp;tok=aff589&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fcz.gif" class="media" title="Čeština (Czech)" alt="Čeština (Czech)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/de/inbox/airties-wav281" class="media" title="de:inbox:airties-wav281"><img src="../lib/exe/fetch.php?cache=&amp;tok=e24010&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fde.gif" class="media" title="Deutsch (German)" alt="Deutsch (German)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <span class="curid"><a href="airties-wav281" class="media" title="inbox:airties-wav281"><img src="../lib/exe/fetch.php?cache=&amp;tok=2a37ae&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fgb.gif" class="media" title="English" alt="English" /></a></span>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/es/inbox/airties-wav281" class="media" title="es:inbox:airties-wav281"><img src="../lib/exe/fetch.php?cache=&amp;tok=46c004&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fmx.gif" class="media" title="Español (Spanish, Mexico)" alt="Español (Spanish, Mexico)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/fr/inbox/airties-wav281" class="media" title="fr:inbox:airties-wav281"><img src="../lib/exe/fetch.php?cache=&amp;tok=a5beba&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ffr.gif" class="media" title="Français (French)" alt="Français (French)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/hu/inbox/airties-wav281" class="media" title="hu:inbox:airties-wav281"><img src="../lib/exe/fetch.php?cache=&amp;tok=6b5470&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fhu.gif" class="media" title="Magyar (Hungarian)" alt="Magyar (Hungarian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/jp/inbox/airties-wav281" class="media" title="jp:inbox:airties-wav281"><img src="../lib/exe/fetch.php?cache=&amp;tok=f999fc&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fjp.gif" class="media" title="日本語 (Japanese)" alt="日本語 (Japanese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pl/inbox/airties-wav281" class="media" title="pl:inbox:airties-wav281"><img src="../lib/exe/fetch.php?cache=&amp;tok=c805c0&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fpl.gif" class="media" title="Poliski (Polish)" alt="Poliski (Polish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/pt-br/inbox/airties-wav281" class="media" title="pt-br:inbox:airties-wav281"><img src="../lib/exe/fetch.php?cache=&amp;tok=13127d&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fbr.gif" class="media" title="Português brasileiro (Portuguese, Brasil)" alt="Português brasileiro (Portuguese, Brasil)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/ru/inbox/airties-wav281" class="media" title="ru:inbox:airties-wav281"><img src="../lib/exe/fetch.php?cache=&amp;tok=66ab5e&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fru.gif" class="media" title="Русский (Russsian)" alt="Русский (Russsian)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/tr/inbox/airties-wav281" class="media" title="tr:inbox:airties-wav281"><img src="../lib/exe/fetch.php?cache=&amp;tok=f4beed&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Ftr.gif" class="media" title="Tϋrkçe (Turkish)" alt="Tϋrkçe (Turkish)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-cn/inbox/airties-wav281" class="media" title="zh-cn:inbox:airties-wav281"><img src="../lib/exe/fetch.php?cache=&amp;tok=93625a&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-cn.gif" class="media" title="官話/官话 (Chinese)" alt="官話/官话 (Chinese)" /></a>
              </div>
            </div>
          </li>
          <li>
            <div class="li">
              <div class="flag_not_exists">
                <a href="http://wiki.openwrt.org/zh-tw/inbox/airties-wav281" class="media" title="zh-tw:inbox:airties-wav281"><img src="../lib/exe/fetch.php?cache=&amp;tok=b56198&amp;media=http%253A%252F%252Fwiki.openwrt.org%252Flib%252Fplugins%252Fmultilingual%252Fflags%252Fzh-tw.gif" class="media" title="臺灣華語 (Taiwanese)" alt="臺灣華語 (Taiwanese)" /></a>
              </div>
            </div>
          </li>
        </ul>
      </div>
        </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>inbox:airties-wav281</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="airties-wav281#oem_installation_using_the_tftp_method">OEM installation using the TFTP method</a></div></li>
<li class="level1"><div class="li"><a href="airties-wav281#upgrading_openwrt">Upgrading OpenWRT</a></div></li>
<li class="level1"><div class="li"><a href="airties-wav281#info">Info</a></div></li>
<li class="level1"><div class="li"><a href="airties-wav281#photos">Photos</a></div></li>
<li class="level1"><div class="li"><a href="airties-wav281#opening_the_case">Opening the case</a></div></li>
<li class="level1"><div class="li"><a href="airties-wav281#serial">Serial</a></div></li>
<li class="level1"><div class="li"><a href="airties-wav281#jtag">JTAG</a></div></li>
<li class="level1"><div class="li"><a href="airties-wav281#interfaces">Interfaces</a></div></li>
<li class="level1"><div class="li"><a href="airties-wav281#switch_ports_for_vlans">Switch Ports (for VLANs)</a></div></li>
<li class="level1"><div class="li"><a href="airties-wav281#fxs_and_isdn_-_voip_telephony">FXS and ISDN - VoIP Telephony</a></div></li>
<li class="level1"><div class="li"><a href="airties-wav281#failsafe_mode">Failsafe mode</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="airties-wav281#boot_into_failsafe_mode">Boot into failsafe mode</a></div></li>
<li class="level2"><div class="li"><a href="airties-wav281#what_to_do_in_failsafe_mode">What to do in failsafe mode?</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="airties-wav281#restore_uboot">Restore uboot</a></div></li>
<li class="level1"><div class="li"><a href="airties-wav281#buttons">Buttons</a></div></li>
<li class="level1"><div class="li"><a href="airties-wav281#pimping_your_router_with_new_leds">Pimping your router with new LEDs</a></div></li>
<li class="level1"><div class="li"><a href="airties-wav281#tags">Tags</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<p>
<img src="../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> Can it be moved to the ToH or is the information incorrect?  — <em><a href="mailto:&#x78;&#x6d;&#x40;&#x73;&#x75;&#x62;&#x73;&#x69;&#x67;&#x6e;&#x61;&#x6c;&#x2e;&#x6f;&#x72;&#x67;" class="mail" title="&#x78;&#x6d;&#x40;&#x73;&#x75;&#x62;&#x73;&#x69;&#x67;&#x6e;&#x61;&#x6c;&#x2e;&#x6f;&#x72;&#x67;">Jo-Philipp Wich</a> 2010/03/22 13:41</em>
</p>

<p>
<strong>NOTE:</strong> This is only a draft !!! don&#039;t trust date within here
</p>

<h1 class="sectionedit1" id="airties_wav-281">Airties WAV-281</h1>
<div class="level1">

</div>

<h1 class="sectionedit2" id="supported_versions">Supported Versions</h1>
<div class="level1">
<div class="table sectionedit3"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Version/Model </th><th class="col1"> S/N </th><th class="col2"> OpenWrt Version Supported </th><th class="col3"> Model Specific Notes </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> v1 </td><td class="col1"> A </td><td class="col2 rightalign">  All </td><td class="col3"> Works out of the box </td>
	</tr>
</table></div>

<p>
<strong>NOTE:</strong> Anything not included in model specific notes, or where a short comment couldn&#039;t be included on the notes.
</p>

</div>

<h1 class="sectionedit4" id="hardware_highlights">Hardware Highlights</h1>
<div class="level1">
<div class="table sectionedit5"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> CPU </th><th class="col1"> Ram </th><th class="col2"> Flash </th><th class="col3"> Network </th><th class="col4"> USB </th><th class="col5"> Serial </th><th class="col6"> JTag </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Infineon danube </td><td class="col1"> ?<abbr title="Megabyte">MB</abbr> </td><td class="col2"> 4 MiB </td><td class="col3"> 4x1 </td><td class="col4"> 1x2.0 </td><td class="col5"> Yes </td><td class="col6"> ? </td>
	</tr>
</table></div>

</div>

<h1 class="sectionedit6" id="how_to_get_openwrt_on_an_unmodified_box">How to get OpenWrt on an unmodified box</h1>
<div class="level1">

<p>
The default proprietary bootloader only accepts signed images with a special header.
</p>

<p>
Accepted signatures are:
</p>
<ul>
<li class="level1"><div class="li"> BRNARV452</div>
</li>
<li class="level1"><div class="li"> BRNDA4WWL</div>
</li>
<li class="level1"><div class="li"> BRNDA1W</div>
</li>
<li class="level1"><div class="li"> BRNDA1WWL</div>
</li>
<li class="level1"><div class="li"> BRNDA4WWL1</div>
</li>
<li class="level1"><div class="li"> BRNDA4WWL2</div>
</li>
<li class="level1"><div class="li"> BRNDA4WWL3</div>
</li>
<li class="level1"><div class="li"> BRNDANUBE</div>
</li>
</ul>

<p>
Those images can be created by OpenWrt.
</p>

<p>
However the bootloader consumes quite lot&#039;s of space and there is an uboot port for this platform available.
</p>

<p>
I prepared a signed image (<a href="http://nanl.de/files/openwrt/airties/openwrt-lantiq-danube-ARV4520PW-BRNDANUBE-brnImage_signed_flash_uboot_and_combined" class="urlextern" title="http://nanl.de/files/openwrt/airties/openwrt-lantiq-danube-ARV4520PW-BRNDANUBE-brnImage_signed_flash_uboot_and_combined"  rel="nofollow">http://nanl.de/files/openwrt/airties/openwrt-lantiq-danube-ARV4520PW-BRNDANUBE-brnImage_signed_flash_uboot_and_combined</a>) which - once flashed and started - replaces the original bootloader with uboot and flashes an OpenWrt image.
</p>

<p>
Images (kernel+rootfs) created by OpenWrt can be run by the proprietary bootloader as well as uboot as the kernel takes care about the used environment and choose a respective partition layout.
</p>

<p>
Uboot has an webserver integrated which gets activated by pressing the &quot;WLAN&quot;-button during power-on.
Over its web interface you can now easily flash your actual firmware image of choice.
</p>

<p>
In short - using mentioned image above:
</p>
<ol>
<li class="level1"><div class="li"> press RESET button on the back and power on device</div>
</li>
<li class="level1"><div class="li"> connect to <a href="http://192.168.1.1" class="urlextern" title="http://192.168.1.1"  rel="nofollow">http://192.168.1.1</a></div>
</li>
<li class="level1"><div class="li"> upload image &#039;openwrt-lantiq-danube-ARV4520PW-BRNDANUBE-brnImage_signed_flash_uboot_and_combined&#039; as &#039;Firmware&#039;</div>
</li>
<li class="level1"><div class="li"> &quot;Processing, please wait……..&quot; will be shown, wait till you get back to the flashing interface</div>
</li>
<li class="level1"><div class="li"> Press reboot / power cycle device</div>
</li>
<li class="level1"><div class="li"> it will boot into the freshly flashed firmware which is gonna a) replace the current bootloader with uboot and b) flashes an OpenWrt squashfs image on the device (LEDs will  indicate current status in a fancy way)</div>
</li>
<li class="level1"><div class="li"> When LEDs (VoIP,Phone1,Phone2,ISDN) are not blinking anymore (but just glowing) the update process is finished</div>
</li>
<li class="level1"><div class="li"> Voila - 192.168.1.1 should become alive again with a shiny luci webinterface!</div>
</li>
</ol>

<p>
The uboot port provides HTTP functionality for uploading Firmware images via your webbrowser.
To connect to the bootloader via HTTP you require a direct Ethernet connection (no switch in between involved)!
</p>

</div>

<h2 class="sectionedit7" id="oem_installation_using_the_tftp_method">OEM installation using the TFTP method</h2>
<div class="level2">

<p>
If you want to upgrade using TFTP you follow these steps (as an alternative to the above install process.
</p>

</div>

<h2 class="sectionedit8" id="upgrading_openwrt">Upgrading OpenWRT</h2>
<div class="level2">

<p>
If you have already installed OpenWrt and like to reflash for e.g. upgrading to a new OpenWrt version you can upgrade using the mtd command line tool. It is important that you put the firmware image into the ramdisk (/tmp) before you start flashing.
</p>

</div>

<h5 id="luci_web_upgrade_process">LuCI Web Upgrade Process</h5>
<div class="level5">
<ul>
<li class="level1"><div class="li">Browse to <a href="http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/" class="urlextern" title="http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/"  rel="nofollow">http://192.168.1.1/cgi-bin/luci/mini/system/upgrade/</a> LuCI Upgrade <abbr title="Uniform Resource Locator">URL</abbr></div>
</li>
<li class="level1"><div class="li">Upload TRX file to LuCI</div>
</li>
<li class="level1"><div class="li">Wait for reboot</div>
</li>
</ul>

</div>

<h5 id="terminal_upgrade_process">Terminal Upgrade Process</h5>
<div class="level5">
<ul>
<li class="level1"><div class="li">Login as root via SSH on 192.168.1.1</div>
</li>
<li class="level1"><div class="li">Use the following commands to upgrade.</div>
</li>
</ul>

<p>
<pre class="code">cd /tmp/
wget http://
mtd write /tmp/0 linux &amp;&amp; reboot</pre>

</p>

</div>

<h1 class="sectionedit9" id="hardware">Hardware</h1>
<div class="level1">

</div>

<h2 class="sectionedit10" id="info">Info</h2>
<div class="level2">
<div class="table sectionedit11"><table class="inline">
	<tr class="row0">
		<td class="col0"> <strong>Architecture:</strong> MIPS </td>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign"> <strong>Vendor:</strong> Infineon  </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <strong>Bootloader:</strong> ? </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <strong>System-On-Chip:</strong> Danube PSB 50702 E </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <strong>CPU Speed:</strong> 333 Mhz </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <strong>Flash-Chip:</strong> EON EN29LV302B </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <strong>Flash size:</strong> 4 MiB </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <strong>RAM:</strong> ? MiB </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <strong>Wireless:</strong> RaLink 2561T + RT2527L</td>
	</tr>
	<tr class="row9">
		<td class="col0"> <strong>Ethernet:</strong> Infineon ADM69961 </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <strong>USB:</strong> Yes </td>
	</tr>
	<tr class="row11">
		<td class="col0"> <strong>Serial:</strong> <a href="airties-wav281#serial" title="inbox:airties-wav281 ↵" class="wikilink1">Yes</a> </td>
	</tr>
	<tr class="row12">
		<td class="col0"> <strong>JTAG:</strong> <a href="airties-wav281#jtag" title="inbox:airties-wav281 ↵" class="wikilink1">?</a> </td>
	</tr>
	<tr class="row13">
		<td class="col0"> <strong>SLIC:</strong> Infineon PEF 4268T </td>
	</tr>
	<tr class="row14">
		<td class="col0"> <strong>ISDN:</strong> Infineon PSB 21150-F V1.4 </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit12" id="photos">Photos</h2>
<div class="level2">

<p>
Model Number
</p>

<p>
<em>Front:</em>
</p>

<p>
<strong>Photo of front</strong>
</p>

<p>
<em>Back:</em>
</p>

<p>
<strong>Photo of back</strong>
</p>

</div>

<h2 class="sectionedit13" id="opening_the_case">Opening the case</h2>
<div class="level2">

<p>
<strong>Note:</strong> This will void your warranty!
</p>
<ul>
<li class="level1"><div class="li">To remove the cover simply do a/b/c. </div>
</li>
<li class="level1"><div class="li">There are two screws holding the PCB to the bottom cover.</div>
</li>
</ul>

<p>
<em>Main PCB</em>
</p>

<p>
<strong>Photo of PCB</strong>
<a href="../_detail/inbox/airties_wav-281.large.jpg?id=inbox%253Aairties-wav281" class="media" title="inbox:airties_wav-281.large.jpg"><img src="../_media/inbox/airties_wav-281.large.jpg" class="media" alt="" /></a>
</p>

</div>

<h2 class="sectionedit14" id="serial">Serial</h2>
<div class="level2">

<p>
How to connect to Serial Port
baudrate 115200 8N1 3,3V
<pre class="code"> 
---------------------LED-LED-LED-LED-LED-LED-LED----
/
|     
|  6  7  8  9  10
|  1 (2)(3) 4 (5)
|    RX TX    GND 
|</pre>

</p>

</div>

<h2 class="sectionedit15" id="jtag">JTAG</h2>
<div class="level2">

<p>
Not needed, you can recover it via serial. See <span class="curid"><a href="airties-wav281#restore_uboot" class="wikilink1" title="inbox:airties-wav281">Restore Uboot</a></span>
</p>

</div>

<h1 class="sectionedit16" id="specific_configuration">specific configuration</h1>
<div class="level1">

</div>

<h2 class="sectionedit17" id="interfaces">Interfaces</h2>
<div class="level2">

<p>
The default network configuration is:
</p>
<div class="table sectionedit18"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Interface Name </th><th class="col1"> Description </th><th class="col2"> Default configuration </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> br-lan </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> &amp; WiFi </td><td class="col2"> 192.168.1.1/24 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> vlan0 (eth0.0) </td><td class="col1"> <abbr title="Local Area Network">LAN</abbr> ports (1 to 4) </td><td class="col2"> None </td>
	</tr>
	<tr class="row3">
		<td class="col0"> vlan1 (eth0.1) </td><td class="col1"> WAN port </td><td class="col2"> DHCP </td>
	</tr>
	<tr class="row4">
		<td class="col0"> wl0 </td><td class="col1"> WiFi </td><td class="col2"> Disabled </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit19" id="switch_ports_for_vlans">Switch Ports (for VLANs)</h2>
<div class="level2">

<p>
Numbers 0-3 are Ports 1-4 as labeled on the unit, number 4 is the Internet (WAN) on the unit, 5 is the internal connection to the router itself. Don&#039;t be fooled: Port 1 on the unit is number 3 when configuring VLANs. vlan0 = eth0.0, vlan1 = eth0.1 and so on.
</p>
<div class="table sectionedit20"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Port </th><th class="col1"> Switch port </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Internet (WAN) </td><td class="col1"> 4 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <abbr title="Local Area Network">LAN</abbr> 1 </td><td class="col1"> 3 </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <abbr title="Local Area Network">LAN</abbr> 2 </td><td class="col1"> 2 </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <abbr title="Local Area Network">LAN</abbr> 3 </td><td class="col1"> 1 </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <abbr title="Local Area Network">LAN</abbr> 4 </td><td class="col1"> 0 </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit21" id="fxs_and_isdn_-_voip_telephony">FXS and ISDN - VoIP Telephony</h2>
<div class="level2">

<p>
The analog phones (on the FXS and ISDN lines) are handled with the Infineon PEF 4268T SLIC DC/DC controller. Then it is possible to configure &quot;Telefon 1(F)&quot;, &quot;Telefon 2(U)&quot; and &quot;Telefon 3(ISDN)&quot;
</p>

<p>
Analog phones can be plugged on the TAE-Stecker and TAE-Buchsen phone socket on top of the device with the TAE-to-RJ11 adapters (details on the TAE-type sockets here : <a href="http://de.wikipedia.org/wiki/Telekommunikations-Anschluss-Einheit" class="urlextern" title="http://de.wikipedia.org/wiki/Telekommunikations-Anschluss-Einheit"  rel="nofollow">http://de.wikipedia.org/wiki/Telekommunikations-Anschluss-Einheit</a>). ISDN phone can be plugged on the ISDN phone socket.
</p>

</div>

<h2 class="sectionedit22" id="failsafe_mode">Failsafe mode</h2>
<div class="level2">

<p>
If you forgot your password, broken one of the startup scripts, firewalled yourself or corrupted the JFFS2 partition, you can get back in by using OpenWrt&#039;s failsafe mode.
</p>

</div>

<h3 class="sectionedit23" id="boot_into_failsafe_mode">Boot into failsafe mode</h3>
<div class="level3">

<p>
The failsafe mode is only available via the serial connection with OpenWrt 12.09 (Codename &quot;Attitude Adjustment&quot;). 
</p>

<p>
Later versions might work but I did not test that, yet. There are 3 different buttons: &quot;WPS&quot;, &quot;WLAN on/off&quot; and &quot;RESET&quot; which might trigger the failsafe mode in the later versions. If you press and hold the 
reset button when you switch the device on, then the uboot bootloader will go into failsafe mode and will make web server available under <a href="http://192.168.1.1/" class="urlextern" title="http://192.168.1.1/"  rel="nofollow">http://192.168.1.1/</a> (see below). If you want the OpenWrt failsafe mode (and not the uboot bootloader fail-safe mode) then you need to wait 4-5 seconds before you press and hold the reset button.
</p>

</div>

<h3 class="sectionedit24" id="what_to_do_in_failsafe_mode">What to do in failsafe mode?</h3>
<div class="level3">

<p>
<strong>NOTE:</strong> The root file system in failsafe mode is the SquashFS partition mounted in readonly mode. To switch to the normal writable root file system run mount_root and make any changes. Run mount_root now.
</p>
<ol>
<li class="level1"><div class="li"> Forgot/lost your password and you like to set a new one</div>
</li>
</ol>

<p>
 passwd
</p>
<ol>
<li class="level1"><div class="li"> Forgot the routers IP address</div>
</li>
</ol>

<p>
 uci get network.lan.ipaddr
</p>
<ol>
<li class="level1"><div class="li"> You accidentally run &#039;ipkg upgrade&#039; or filled up the flash by installing to big packages (clean the JFFS2 partition and start over)</div>
</li>
</ol>

<p>
 mtd -r erase rootfs_data
If you are done with failsafe mode power cycle the router and boot in normal mode.
</p>

</div>

<h2 class="sectionedit25" id="restore_uboot">Restore uboot</h2>
<div class="level2">

<p>
If you bricked your uboot you can load a functional one via uart. For that you need to bridge r64 (top) and r80 (bottom) with some solder. After that the soc boots up in UART mode. You can verfy that you are in UART-Mode if after powering up the device it writes the follwoing on the serial:
</p>
<pre class="code">ROM VER: 1.0.3
CFG 04
Read EEPROMX
 X
UART</pre>

<p>
Now you can transfer your <a href="http://downloads.openwrt.org/attitude_adjustment/12.09-rc1/lantiq/danube/uboot-lantiq-arv4520PW_ramboot/u-boot.asc" class="urlextern" title="http://downloads.openwrt.org/attitude_adjustment/12.09-rc1/lantiq/danube/uboot-lantiq-arv4520PW_ramboot/u-boot.asc"  rel="nofollow">u-boot.asc</a> through a serial connection:
</p>
<pre class="code">cat u-boot.asc &gt; /dev/ttyUSB0</pre>

<p>
There exist quite a few more Modes, that are accesible through briding empty pads as shown in this <a href="http://thread.gmane.org/gmane.comp.embedded.openwrt.devel/17762" class="urlextern" title="http://thread.gmane.org/gmane.comp.embedded.openwrt.devel/17762"  rel="nofollow">thread</a>. But none other than default and UART-Mode seems to be usefull.
</p>

</div>

<h2 class="sectionedit26" id="buttons">Buttons</h2>
<div class="level2">
<div class="table sectionedit27"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> BUTTON </th><th class="col1"> Event </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Reset </td><td class="col1 leftalign">  </td>
	</tr>
	<tr class="row2">
		<td class="col0"> WLAN </td><td class="col1 leftalign">  </td>
	</tr>
</table></div>

</div>

<h1 class="sectionedit28" id="basic_configuration">Basic configuration</h1>
<div class="level1">

<p>
Link to <a href="../doc/howto/configuration" class="wikilink1" title="doc:howto:basic.config">Generic basic config secion</a>
</p>

</div>

<h1 class="sectionedit29" id="hardware_mods">Hardware mods</h1>
<div class="level1">

</div>

<h2 class="sectionedit30" id="pimping_your_router_with_new_leds">Pimping your router with new LEDs</h2>
<div class="level2">

<p>
Purchase new blue LEDs from Radio Shack, and replace them with your existing ones.
</p>

</div>

<h1 class="sectionedit31" id="other_info">Other Info</h1>
<div class="level1">

<p>
flash map
<pre class="code">---------------------------------------
    Area            Address      Length 
---------------------------------------
[0] Boot            0xB0000000     128K
[1] Configuration   0xB0020000     256K
[2] Web Image       0xB0060000    3648K
[3] Code Image      0xB0060000    3648K
[4] Boot Params     0xB03F0000      64K
[5] Flash Image     0xB0000000    4096K
---------------------------------------</pre>

</p>

</div>

<h2 class="sectionedit32" id="tags">Tags</h2>
<div class="level2">
<div class="tags"><span>
	<a href="../tag/lantiq?do=showtag&amp;tag=lantiq" class="wikilink1" title="tag:lantiq" rel="tag">lantiq</a>,
	<a href="../tag/danube?do=showtag&amp;tag=danube" class="wikilink1" title="tag:danube" rel="tag">danube</a>,
	<a href="../tag/adsl2?do=showtag&amp;tag=adsl2%252B" class="wikilink1" title="tag:adsl2" rel="tag">adsl2+</a>
</span></div>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>inbox/airties-wav281.txt</bdi> · Last modified: 2014/06/01 19:57 by <bdi>uwekamper</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="airties-wav281?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="airties-wav281?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="airties-wav281?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="airties-wav281#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="../lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../lib/tpl/openwrt/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="../lib/tpl/openwrt/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../lib/tpl/openwrt/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../lib/tpl/openwrt/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../lib/tpl/openwrt/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="../lib/exe/indexer.php?id=inbox%253Aairties-wav281&amp;1432265562" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
